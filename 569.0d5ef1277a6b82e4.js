(self.webpackChunknow_ui_dashboard_angular=self.webpackChunknow_ui_dashboard_angular||[]).push([[569],{6089:(ze,Ye,ae)=>{"use strict";var te=ae(7494),A=ae(4703),Y="value",a="\n  ",d={};function J(qe){var Me=Array.isArray(qe);return function(Ke){var Ve=Q(d.plainArray,Ke);if(Ve)return Ve;if(Me&&Ke.length!==qe.length)return"an array with "+qe.length+" items";for(var ut=0;ut<Ke.length;ut++)if(Ve=Q(Me?qe[ut]:qe,Ke[ut]))return[ut].concat(Ve)}}function Q(qe,Me){if(null!=Me||qe.hasOwnProperty("__required")){var Je=qe(Me);if(Je)return Array.isArray(Je)?Je:[Je]}}function oe(qe,Me){var Je=qe.length,yt=qe[Je-1],Ke=qe.slice(0,Je-1);return 0===Ke.length&&(Ke=[Y]),Me=A(Me,{path:Ke}),"function"==typeof yt?yt(Me):Te(Me,function Oe(qe){return"must be "+function ht(qe){return/^an? /.test(qe)?qe:/^[aeiou]/i.test(qe)?"an "+qe:/^[a-z]/i.test(qe)?"a "+qe:qe}(qe)+"."}(yt))}function ye(qe){return qe.length<2?qe[0]:2===qe.length?qe.join(" or "):qe.slice(0,-1).join(", ")+", or "+qe.slice(-1)}function Te(qe,Me){return(gt(qe.path)?"Item at position ":"")+qe.path.join(".")+" "+Me}function gt(qe){return"number"==typeof qe[qe.length-1]||"number"==typeof qe[0]}d.assert=function(qe,Me){return Me=Me||{},function(Je){var yt=Q(qe,Je);if(yt){var Ke=oe(yt,Me);throw Me.apiName&&(Ke=Me.apiName+": "+Ke),new Error(Ke)}}},d.shape=function(Me){var Je=function Mt(qe){return Object.keys(qe||{}).map(function(Me){return{key:Me,value:qe[Me]}})}(Me);return function(Ke){var Ve=Q(d.plainObject,Ke);if(Ve)return Ve;for(var ut,vt=[],Rt=0;Rt<Je.length;Rt++)(Ve=Q(Je[Rt].value,Ke[ut=Je[Rt].key]))&&vt.push([ut].concat(Ve));return vt.length<2?vt[0]:function(Tt){vt=vt.map(function(ki){return"- "+ki[0]+": "+oe(ki,Tt).split("\n").join(a)});var Gt=Tt.path.join(".");return"The following properties"+(Gt===Y?"":" of "+Gt)+" have invalid values:"+a+vt.join(a)}}},d.strictShape=function(Me){var Je=d.shape(Me);return function(Ke){var Ve=Je(Ke);if(Ve)return Ve;var ut=Object.keys(Ke).reduce(function(He,vt){return void 0===Me[vt]&&He.push(vt),He},[]);return 0!==ut.length?function(){return"The following keys are invalid: "+ut.join(", ")}:void 0}},d.arrayOf=function(Me){return J(Me)},d.tuple=function(){var Me=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return J(Me)},d.required=function(Me){function Je(yt){return null==yt?function(Ke){return Te(Ke,gt(Ke.path)?"cannot be undefined/null.":"is required.")}:Me.apply(this,arguments)}return Je.__required=!0,Je},d.oneOfType=function(){var Me=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(yt){var Ke=Me.map(function(Ve){return Q(Ve,yt)}).filter(Boolean);if(Ke.length===Me.length)return Ke.every(function(Ve){return 1===Ve.length&&"string"==typeof Ve[0]})?ye(Ke.map(function(Ve){return Ve[0]})):Ke.reduce(function(Ve,ut){return ut.length>Ve.length?ut:Ve})}},d.equal=function(Me){return function(yt){if(yt!==Me)return JSON.stringify(Me)}},d.oneOf=function(){var Me=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),Je=Me.map(function(yt){return d.equal(yt)});return d.oneOfType.apply(this,Je)},d.range=function(Me){var Je=Me[0],yt=Me[1];return function(Ve){if(Q(d.number,Ve)||Ve<Je||Ve>yt)return"number between "+Je+" & "+yt+" (inclusive)"}},d.any=function(){},d.boolean=function(Me){if("boolean"!=typeof Me)return"boolean"},d.number=function(Me){if("number"!=typeof Me)return"number"},d.plainArray=function(Me){if(!Array.isArray(Me))return"array"},d.plainObject=function(Me){if(!te(Me))return"object"},d.string=function(Me){if("string"!=typeof Me)return"string"},d.func=function(Me){if("function"!=typeof Me)return"function"},d.validate=Q,d.processMessage=oe,ze.exports=d},2564:(ze,Ye,ae)=>{"use strict";var te=ae(9652).x0;function A(Y){this.origin=Y.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=Y.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=Y,this.send=this.send.bind(this),this.countries=Y.countries?Y.countries.split(","):null,this.types=Y.types?Y.types.split(","):null,this.bbox=Y.bbox?Y.bbox:null,this.language=Y.language?Y.language.split(","):null,this.limit=Y.limit?+Y.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(Y),this.eventQueue=new Array,this.flushInterval=Y.flushInterval||1e3,this.maxQueueSize=Y.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}A.prototype={select:function(Y,a){var d=this.getSelectedIndex(Y,a),J=this.getEventPayload("search.select",a);if(J.resultIndex=d,J.resultPlaceName=Y.place_name,J.resultId=Y.id,(d!==this.lastSentIndex||J.queryString!==this.lastSentInput)&&-1!=d&&(this.lastSentIndex=d,this.lastSentInput=J.queryString,J.queryString))return this.push(J)},start:function(Y){var a=this.getEventPayload("search.start",Y);if(a.queryString)return this.push(a)},keyevent:function(Y,a){if(Y.key&&!Y.metaKey&&-1===[9,27,37,39,13,38,40].indexOf(Y.keyCode)){var d=this.getEventPayload("search.keystroke",a);if(d.lastAction=Y.key,d.queryString)return this.push(d)}},send:function(Y,a){if(!this.enableEventLogging)return a?a():void 0;var d=this.getRequestOptions(Y);this.request(d,function(J){return J?this.handleError(J,a):a?a():void 0}.bind(this))},getRequestOptions:function(Y){return Array.isArray(Y)||(Y=[Y]),{method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)}},getEventPayload:function(Y,a){var d;d=a.options.proximity?"object"==typeof a.options.proximity?[a.options.proximity.longitude,a.options.proximity.latitude]:"ip"===a.options.proximity?[999,999]:a.options.proximity:null;var J=a._map?a._map.getZoom():void 0,Q={event:Y,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:a.options.autocomplete,fuzzyMatch:a.options.fuzzyMatch,proximity:d,limit:a.options.limit,routing:a.options.routing,worldview:a.options.worldview,mapZoom:J,keyboardLocale:this.locale};return Q.queryString="search.select"===Y?a.inputString:"search.select"!=Y&&a._inputEl?a._inputEl.value:a.inputString,Q},request:function(Y,a){var d=new XMLHttpRequest;for(var J in d.onreadystatechange=function(){if(4==this.readyState)return a(204==this.status?null:this.statusText)},d.open(Y.method,Y.host+"/"+Y.path,!0),Y.headers)d.setRequestHeader(J,Y.headers[J]);d.send(Y.body)},handleError:function(Y,a){if(a)return a(Y)},generateSessionID:function(){return te()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(Y,a){if(a._typeahead){var J=Y.id;return a._typeahead.data.map(function(ye){return ye.id}).indexOf(J)}},shouldEnableLogging:function(Y){return!(!1===Y.enableEventLogging||Y.origin&&"https://api.mapbox.com"!==Y.origin||Y.localGeocoder||Y.filter)},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(Y,a){this.eventQueue.push(Y),(this.eventQueue.length>=this.maxQueueSize||a)&&this.flush()},remove:function(){this.flush()}},ze.exports=A},3424:ze=>{ze.exports={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}}},3569:ze=>{function Ye(){}Ye.prototype={isSupport:function(){return Boolean(window.navigator.geolocation)},getCurrentPosition:function(){const ae={enableHighAccuracy:!0};return new Promise(function(te,A){window.navigator.geolocation.getCurrentPosition(te,A,ae)})}},ze.exports=Ye},8545:(ze,Ye,ae)=>{"use strict";var te=ae(5562),A=ae(3082),Y=ae(4703),a=ae(9069).EventEmitter,d=ae(3424),J=ae(9471),Q=ae(7075),oe=ae(2564),ye=ae(1753),Oe=ae(6775),ht=ae(3569),Te=ae(2777);function qe(Me){this._eventEmitter=new a,this.options=Y({},this.options,Me),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new ht}qe.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(Me){return Me.place_name},render:function(Me){var Je=Me.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+Je[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+Je.splice(1,Je.length).join(",")+"</div></div>"}},addTo:function(Me){function Je(yt,Ke){if(!document.body.contains(Ke))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const Ve=yt.onAdd();Ke.appendChild(Ve)}if(Me._controlContainer)Me.addControl(this);else if(Me instanceof HTMLElement)Je(this,Me);else{if("string"!=typeof Me)throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element");{const yt=document.querySelectorAll(Me);if(0===yt.length)throw new Error("Element ",Me,"not found.");if(yt.length>1)throw new Error("Geocoder can only be added to a single html element");Je(this,yt[0])}}},onAdd:function(Me){if(Me&&"string"!=typeof Me&&(this._map=Me),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=Q(J({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new oe(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var Je=this.container=document.createElement("div");Je.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var yt=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",A(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",function(Tt){this.eventManager.keyevent(Tt,this)}.bind(this));var Ke=document.createElement("div");Ke.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var Ve=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(Ve),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),Ke.appendChild(this._clearEl),Ke.appendChild(this._loadingEl),Je.appendChild(yt),Je.appendChild(this._inputEl),Je.appendChild(Ke),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var ut=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(ut),Ke.appendChild(this._geolocateEl),this._showGeolocateButton()}var He=this._typeahead=new te(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),He.getItemValue=this.options.getItemValue;var vt=He.list.draw,Rt=this._footerNode=function Mt(){var Me=document.createElement("div");return Me.className="mapboxgl-ctrl-geocoder--powered-by",Me.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',Me}();return He.list.draw=function(){vt.call(this),Rt.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),Rt.addEventListener("mouseup",function(){this.selectingListItem=!1}.bind(this)),this.element.appendChild(Rt)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),Je},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then(function(Me){this._hideLoadingIcon();const Je={geometry:{type:"Point",coordinates:[Me.coords.longitude,Me.coords.latitude]}};this._handleMarker(Je),this._fly(Je),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(Je),this._showClearButton(),this.fresh=!1;const yt={limit:1,language:[this.options.language],query:Je.geometry.coordinates,types:["address"]};this.options.localGeocoderOnly?(this._setInputValue(Je.geometry.coordinates[0]+","+Je.geometry.coordinates[1]),this._eventEmitter.emit("result",{result:Je})):this.geocoderService.reverseGeocode(yt).send().then(function(Ke){const Ve=Ke.body.features[0];if(Ve){const ut=Te.transformFeatureToGeolocationText(Ve,this.options.addressAccuracy);this._setInputValue(ut),Ve.user_coordinates=Je.geometry.coordinates,this._eventEmitter.emit("result",{result:Ve})}else this._eventEmitter.emit("result",{result:{user_coordinates:Je.geometry.coordinates}})}.bind(this))}.bind(this)).catch(function(Me){1===Me.code?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}.bind(this))},createIcon:function(Me,Je){var yt=document.createElementNS("http://www.w3.org/2000/svg","svg");return yt.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+Me),yt.setAttribute("viewBox","0 0 18 18"),yt.setAttribute("xml:space","preserve"),yt.setAttribute("width",18),yt.setAttribute("height",18),yt.innerHTML=Je,yt},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(Me){this._inputEl.value=Me,setTimeout(function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}.bind(this),1)},_onPaste:function(Me){var Je=(Me.clipboardData||window.clipboardData).getData("text");Je.length>=this.options.minLength&&this._geocode(Je)},_onKeyDown:function(Me){var Je=27,yt=9;if(Me.keyCode===Je&&this.options.clearAndBlurOnEsc)return this._clear(Me),this._inputEl.blur();var Ke=Me.target&&Me.target.shadowRoot?Me.target.shadowRoot.activeElement:Me.target;if(!Ke||!Ke.value)return this.fresh=!0,Me.keyCode!==yt&&this.clear(Me),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),!Me.metaKey&&-1===[yt,Je,37,39,13,38,40].indexOf(Me.keyCode)&&Ke.value.length>=this.options.minLength&&this._geocode(Ke.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(Me){this.options.clearOnBlur&&this._clearOnBlur(Me),this.options.collapsed&&this._collapse()},_onChange:function(){var Me=this._typeahead.selected;Me&&JSON.stringify(Me)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(Me),this.options.marker&&this._mapboxgl&&this._handleMarker(Me),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(Me),this._eventEmitter.emit("result",{result:Me}),this.eventManager.select(Me,this))},_fly:function(Me){var Je;if(Me.properties&&d[Me.properties.short_code])Je=Y({},this.options.flyTo),this._map&&this._map.fitBounds(d[Me.properties.short_code].bbox,Je);else if(Me.bbox){var yt=Me.bbox;Je=Y({},this.options.flyTo),this._map&&this._map.fitBounds([[yt[0],yt[1]],[yt[2],yt[3]]],Je)}else Je=Y({},{zoom:this.options.zoom},this.options.flyTo),Me.center?Je.center=Me.center:Me.geometry&&Me.geometry.type&&"Point"===Me.geometry.type&&Me.geometry.coordinates&&(Je.center=Me.geometry.coordinates),this._map&&this._map.flyTo(Je)},_requestType:function(Me,Je){return Me.localGeocoderOnly?1:Me.reverseGeocode&&Te.REVERSE_GEOCODE_COORD_RGX.test(Je)?2:0},_setupConfig:function(Me,Je){const Ke=/[\s,]+/;var Ve=this,ut=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"].reduce(function(vt,Rt){return null==Ve.options[Rt]||(vt[Rt]=["countries","types","language"].indexOf(Rt)>-1?Ve.options[Rt].split(Ke):Ve.options[Rt],"proximity"===Rt&&"number"==typeof Ve.options[Rt].longitude&&"number"==typeof Ve.options[Rt].latitude&&(vt[Rt]=[Ve.options[Rt].longitude,Ve.options[Rt].latitude])),vt},{});switch(Me){case 2:var He=Je.split(Ke).map(function(vt){return parseFloat(vt,10)});Ve.options.flipCoordinates||He.reverse(),ut=Y(ut,{query:He,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(vt){vt in ut&&delete ut[vt]});break;case 0:{const vt=Je.trim();/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(vt)&&(Je=Je.replace(/,/g," ")),ut=Y(ut,{query:Je})}}return ut},_geocode:function(Me){this.inputString=Me,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:Me});const Je=this._requestType(this.options,Me),yt=this._setupConfig(Je,Me);var Ke;switch(Je){case 1:Ke=Promise.resolve();break;case 0:Ke=this.geocoderService.forwardGeocode(yt).send();break;case 2:Ke=this.geocoderService.reverseGeocode(yt).send()}var Ve=this.options.localGeocoder&&this.options.localGeocoder(Me)||[],ut=[],He=null;return Ke.catch(function(vt){He=vt}.bind(this)).then(function(vt){this._hideLoadingIcon();var Rt={};return vt?"200"==vt.statusCode&&((Rt=vt.body).request=vt.request,Rt.headers=vt.headers):Rt={type:"FeatureCollection",features:[]},Rt.config=yt,this.fresh&&(this.eventManager.start(this),this.fresh=!1),Rt.features=Rt.features?Ve.concat(Rt.features):Ve,this.options.externalGeocoder?(ut=this.options.externalGeocoder(Me,Rt.features)||Promise.resolve([])).then(function(Tt){return Rt.features=Rt.features?Tt.concat(Rt.features):Tt,Rt},function(){return Rt}):Rt}.bind(this)).then(function(vt){if(He)throw He;this.options.filter&&vt.features.length&&(vt.features=vt.features.filter(this.options.filter)),vt.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",vt),this._typeahead.update(vt.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",vt))}.bind(this)).catch(function(vt){this._hideLoadingIcon(),this._hideAttribution(),Ve.length&&this.options.localGeocoder||ut.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(Ve)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:Ve}),this._eventEmitter.emit("error",{error:vt})}.bind(this)),Ke},_clear:function(Me){Me&&Me.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(Me){this._clear(Me),this._inputEl.focus()},_clearOnBlur:function(Me){Me.relatedTarget&&this._clear(Me)},_onQueryResult:function(Me){var Je=Me.body;if(Je.features.length){var yt=Je.features[0];this._typeahead.selected=yt,this._inputEl.value=yt.place_name,this._onChange()}},_updateProximity:function(){if(this._map&&this.options.trackProximity)if(this._map.getZoom()>9){var Me=this._map.getCenter().wrap();this.setProximity({longitude:Me.lng,latitude:Me.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(Me){return this._geocode(Me).then(this._onQueryResult),this},_renderError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>")},_renderLocationError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>")},_renderNoResults:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>")},_renderUserDeniedGeolocationError:function(){this._renderMessage("<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>")},_renderMessage:function(Me){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(Me)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var Me=this.options.language.split(",")[0],Je=Oe.language(Me),yt=ye.placeholder[Je];if(yt)return yt}return"Search"},setInput:function(Me){return this._inputEl.value=Me,this._typeahead.selected=null,this._typeahead.clear(),Me.length>=this.options.minLength&&this._geocode(Me),this},setProximity:function(Me,Je=!0){return this.options.proximity=Me,Je&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(Me){return Me&&"function"==typeof Me&&(this._typeahead.render=Me),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(Me){var Je=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=Me||this.options.language||Je,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(Me){return this.options.zoom=Me,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(Me){return this.options.flyTo=Me,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(Me){return this.placeholder=Me||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(Me){return this.options.bbox=Me,this},getCountries:function(){return this.options.countries},setCountries:function(Me){return this.options.countries=Me,this},getTypes:function(){return this.options.types},setTypes:function(Me){return this.options.types=Me,this},getMinLength:function(){return this.options.minLength},setMinLength:function(Me){return this.options.minLength=Me,this._typeahead&&(this._typeahead.options.minLength=Me),this},getLimit:function(){return this.options.limit},setLimit:function(Me){return this.options.limit=Me,this._typeahead&&(this._typeahead.options.limit=Me),this},getFilter:function(){return this.options.filter},setFilter:function(Me){return this.options.filter=Me,this},setOrigin:function(Me){return this.options.origin=Me,this.geocoderService=Q(J({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(Me){return this.options.accessToken=Me,this.geocoderService=Q(J({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(Me){return this.options.autocomplete=Me,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(Me){return this.options.fuzzyMatch=Me,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(Me){return this.options.routing=Me,this},getRouting:function(){return this.options.routing},setWorldview:function(Me){return this.options.worldview=Me,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(Me){if(this._map){this._removeMarker();var yt=Y({},{color:"#4668F2"},this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(yt),Me.center?this.mapMarker.setLngLat(Me.center).addTo(this._map):Me.geometry&&Me.geometry.type&&"Point"===Me.geometry.type&&Me.geometry.coordinates&&this.mapMarker.setLngLat(Me.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(Me,Je){return this._eventEmitter.on(Me,Je),this},off:function(Me,Je){return this._eventEmitter.removeListener(Me,Je),this.eventManager.remove(),this}},ze.exports=qe},1753:ze=>{"use strict";ze.exports={placeholder:{de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"\u05dc\u05d7\u05e4\u05e9",ja:"\u30b5\u30fc\u30c1",lv:"Mekl\u0113t",pt:"Procurar",sr:"\u041f\u0440\u0435\u0442\u0440\u0430\u0433\u0430",zh:"\u641c\u7d22",cs:"Vyhled\xe1v\xe1n\xed",hu:"Keres\xe9s",ka:"\u10eb\u10d8\u10d4\u10d1\u10d0",nb:"S\xf8ke",sk:"Vyh\u013ead\xe1vanie",th:"\u0e04\u0e49\u0e19\u0e2b\u0e32",fi:"Hae",is:"Leita",ko:"\uc218\uc0c9",pl:"Szukaj",sl:"Iskanje",fa:"\u062c\u0633\u062a\u062c\u0648",ru:"\u041f\u043e\u0438\u0441\u043a"}}},2777:ze=>{function ae(A){const Y=A.address||"",a=A.text||"",d=A.place_name||"",Q={address:d.split(",")[0],houseNumber:Y,street:a,placeName:d};return A.context.forEach(function(oe){const ye=oe.id.split(".")[0];Q[ye]=oe.text}),Q}ze.exports={transformFeatureToGeolocationText:function Ye(A,Y){const a=ae(A),d=["address","street","place","country"];if("function"==typeof Y)return Y(a);const Q=d.indexOf(Y);return(-1===Q?d:d.slice(Q)).reduce(function(oe,ye){return a[ye]?(""!==oe&&(oe+=", "),oe+a[ye]):oe},"")},getAddressInfo:ae,REVERSE_GEOCODE_COORD_RGX:/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/}},9471:(ze,Ye,ae)=>{"use strict";var te=ae(7454);ze.exports=te},7454:(ze,Ye,ae)=>{"use strict";var te=ae(753),A=ae(4176);function Y(d){A.call(this,d)}(Y.prototype=Object.create(A.prototype)).constructor=Y,Y.prototype.sendRequest=te.browserSend,Y.prototype.abortRequest=te.browserAbort,ze.exports=function a(d){return new Y(d)}},753:(ze,Ye,ae)=>{"use strict";var te=ae(4332),A=ae(6158),Y=ae(9719),a=ae(8829),d={};function oe(Te){var gt=Te.total,Mt=Te.loaded;return{total:gt,transferred:Mt,percent:100*Mt/gt}}function ye(Te,gt){return new Promise(function(Mt,qe){gt.onprogress=function(yt){Te.emitter.emit(Y.EVENT_PROGRESS_DOWNLOAD,oe(yt))};var Me=Te.file;Me&&(gt.upload.onprogress=function(yt){Te.emitter.emit(Y.EVENT_PROGRESS_UPLOAD,oe(yt))}),gt.onerror=function(yt){qe(yt)},gt.onabort=function(){var yt=new A({request:Te,type:Y.ERROR_REQUEST_ABORTED});qe(yt)},gt.onload=function(){if(delete d[Te.id],gt.status<200||gt.status>=400){var yt=new A({request:Te,body:gt.response,statusCode:gt.status});qe(yt)}else Mt(gt)};var Je=Te.body;"string"==typeof Je?gt.send(Je):Je?gt.send(JSON.stringify(Je)):Me?gt.send(Me):gt.send(),d[Te.id]=gt}).then(function(Mt){return function Q(Te,gt){return new te(Te,{body:gt.response,headers:a(gt.getAllResponseHeaders()),statusCode:gt.status})}(Te,Mt)})}function Oe(Te,gt){var Mt=Te.url(gt),qe=new window.XMLHttpRequest;return qe.open(Te.method,Mt),Object.keys(Te.headers).forEach(function(Me){qe.setRequestHeader(Me,Te.headers[Me])}),qe}ze.exports={browserAbort:function J(Te){var gt=d[Te.id];!gt||(gt.abort(),delete d[Te.id])},sendRequestXhr:ye,browserSend:function ht(Te){return Promise.resolve().then(function(){var gt=Oe(Te,Te.client.accessToken);return ye(Te,gt)})},createRequestXhr:Oe}},4176:(ze,Ye,ae)=>{"use strict";var te=ae(8129),A=ae(4538),Y=ae(9719);function a(d){if(!d||!d.accessToken)throw new Error("Cannot create a client without an access token");te(d.accessToken),this.accessToken=d.accessToken,this.origin=d.origin||Y.API_ORIGIN}a.prototype.createRequest=function(J){return new A(this,J)},ze.exports=a},6158:(ze,Ye,ae)=>{"use strict";var te=ae(9719);ze.exports=function A(Y){var d,a=Y.type||te.ERROR_HTTP;if(Y.body)try{d=JSON.parse(Y.body)}catch(Q){d=Y.body}else d=null;var J=Y.message||null;J||("string"==typeof d?J=d:d&&"string"==typeof d.message?J=d.message:a===te.ERROR_REQUEST_ABORTED&&(J="Request aborted")),this.message=J,this.type=a,this.statusCode=Y.statusCode||null,this.request=Y.request,this.body=d}},4538:(ze,Ye,ae)=>{"use strict";var te=ae(8129),A=ae(4703),Y=ae(2005),a=ae(3449),d=ae(9719),J=1;function Q(oe,ye){if(!oe)throw new Error("MapiRequest requires a client");if(!ye||!ye.path||!ye.method)throw new Error("MapiRequest requires an options object with path and method properties");var Oe={};ye.body&&(Oe["content-type"]="application/json");var ht=A(Oe,ye.headers),Te=Object.keys(ht).reduce(function(gt,Mt){return gt[Mt.toLowerCase()]=ht[Mt],gt},{});this.id=J++,this._options=ye,this.emitter=new Y,this.client=oe,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=ye.path,this.method=ye.method,this.origin=ye.origin||oe.origin,this.query=ye.query||{},this.params=ye.params||{},this.body=ye.body||null,this.file=ye.file||null,this.encoding=ye.encoding||"utf8",this.sendFileAs=ye.sendFileAs||null,this.headers=Te}Q.prototype.url=function(ye){var Oe=a.prependOrigin(this.path,this.origin);Oe=a.appendQueryObject(Oe,this.query);var ht=this.params,Te=null==ye?this.client.accessToken:ye;if(Te){Oe=a.appendQueryParam(Oe,"access_token",Te);var gt=te(Te).user;ht=A({ownerId:gt},ht)}return a.interpolateRouteParams(Oe,ht)},Q.prototype.send=function(){var ye=this;if(ye.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return ye.sent=!0,ye.client.sendRequest(ye).then(function(Oe){return ye.response=Oe,ye.emitter.emit(d.EVENT_RESPONSE,Oe),Oe},function(Oe){throw ye.error=Oe,ye.emitter.emit(d.EVENT_ERROR,Oe),Oe})},Q.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))},Q.prototype.eachPage=function(ye){var Oe=this;function ht(Mt){ye(null,Mt,function qe(){delete Oe._nextPageRequest;var Me=Mt.nextPage();Me&&(Oe._nextPageRequest=Me,gt(Me))})}function Te(Mt){ye(Mt,null,function(){})}function gt(Mt){Mt.send().then(ht,Te)}gt(this)},Q.prototype.clone=function(){return this._extend()},Q.prototype._extend=function(ye){var Oe=A(this._options,ye);return new Q(this.client,Oe)},ze.exports=Q},4332:(ze,Ye,ae)=>{"use strict";var te=ae(5699);function A(Y,a){this.request=Y,this.headers=a.headers,this.rawBody=a.body,this.statusCode=a.statusCode;try{this.body=JSON.parse(a.body||"{}")}catch(d){this.body=a.body}this.links=te(this.headers.link)}A.prototype.hasNextPage=function(){return!!this.links.next},A.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null},ze.exports=A},9719:ze=>{"use strict";ze.exports={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"}},8829:ze=>{"use strict";ze.exports=function ae(te){var A={};return te&&te.trim().split(/[\r|\n]+/).forEach(function(Y){var a=function Ye(te){var A=te.indexOf(":");return{name:te.substring(0,A).trim().toLowerCase(),value:te.substring(A+1).trim()}}(Y);A[a.name]=a.value}),A}},5699:ze=>{"use strict";ze.exports=function te(A){return A?A.split(/,\s*</).reduce(function(Y,a){var d=function ae(A){var Y=A.match(/<?([^>]*)>(.*)/);if(!Y)return null;var a=Y[1],d=Y[2].split(";"),J=null,Q=d.reduce(function(oe,ye){var Oe=function Ye(A){var Y=A.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return Y?{key:Y[1],value:Y[2]}:null}(ye);return Oe?"rel"===Oe.key?(J||(J=Oe.value),oe):(oe[Oe.key]=Oe.value,oe):oe},{});return J?{url:a,rel:J,params:Q}:null}(a);return d?(d.rel.split(/\s+/).forEach(function(Q){Y[Q]||(Y[Q]={url:d.url,params:d.params})}),Y):Y},{}):{}}},3449:ze=>{"use strict";function ae(d){return Array.isArray(d)?function Ye(d){return d.map(encodeURIComponent).join(",")}(d):encodeURIComponent(String(d))}function te(d,J,Q){if(!1===Q||null===Q)return d;var oe=/\?/.test(d)?"&":"?",ye=encodeURIComponent(J);return void 0!==Q&&""!==Q&&!0!==Q&&(ye+="="+ae(Q)),""+d+oe+ye}ze.exports={appendQueryObject:function A(d,J){if(!J)return d;var Q=d;return Object.keys(J).forEach(function(oe){var ye=J[oe];void 0!==ye&&(Array.isArray(ye)&&(ye=ye.filter(function(Oe){return null!=Oe}).join(",")),Q=te(Q,oe,ye))}),Q},appendQueryParam:te,prependOrigin:function Y(d,J){if(!J||"http"===d.slice(0,4))return d;var Q="/"===d[0]?"":"/";return""+J.replace(/\/$/,"")+Q+d},interpolateRouteParams:function a(d,J){return J?d.replace(/\/:([a-zA-Z0-9]+)/g,function(Q,oe){var ye=J[oe];if(void 0===ye)throw new Error("Unspecified route parameter "+oe);return"/"+ae(ye)}):d}}},7075:(ze,Ye,ae)=>{"use strict";var te=ae(4703),A=ae(5197),Y=ae(4313),a=ae(1836),d=ae(497),J={},Q=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];J.forwardGeocode=function(oe){A.assertShape({query:A.required(A.string),mode:A.oneOf("mapbox.places","mapbox.places-permanent"),countries:A.arrayOf(A.string),proximity:A.oneOf(A.coordinates,"ip"),types:A.arrayOf(A.oneOf(Q)),autocomplete:A.boolean,bbox:A.arrayOf(A.number),limit:A.number,language:A.arrayOf(A.string),routing:A.boolean,fuzzyMatch:A.boolean,worldview:A.string})(oe),oe.mode=oe.mode||"mapbox.places";var ye=a(te({country:oe.countries},Y(oe,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Y(oe,["mode","query"]),query:ye})},J.reverseGeocode=function(oe){A.assertShape({query:A.required(A.coordinates),mode:A.oneOf("mapbox.places","mapbox.places-permanent"),countries:A.arrayOf(A.string),types:A.arrayOf(A.oneOf(Q)),bbox:A.arrayOf(A.number),limit:A.number,language:A.arrayOf(A.string),reverseMode:A.oneOf("distance","score"),routing:A.boolean,worldview:A.string})(oe),oe.mode=oe.mode||"mapbox.places";var ye=a(te({country:oe.countries},Y(oe,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Y(oe,["mode","query"]),query:ye})},ze.exports=d(J)},497:(ze,Ye,ae)=>{"use strict";var te=ae(4176),A=ae(7454);ze.exports=function Y(a){return function(d){var J;J=te.prototype.isPrototypeOf(d)?d:A(d);var Q=Object.create(a);return Q.client=J,Q}}},5621:ze=>{"use strict";ze.exports=function Ye(ae,te){return Object.keys(ae).reduce(function(A,Y){return A[Y]=te(Y,ae[Y]),A},{})}},4313:ze=>{"use strict";ze.exports=function Ye(ae,te){var A=function(Y,a){return-1!==te.indexOf(Y)&&void 0!==a};return"function"==typeof te&&(A=te),Object.keys(ae).filter(function(Y){return A(Y,ae[Y])}).reduce(function(Y,a){return Y[a]=ae[a],Y},{})}},1836:(ze,Ye,ae)=>{"use strict";var te=ae(5621);ze.exports=function A(Y){return te(Y,function(a,d){return"boolean"==typeof d?JSON.stringify(d):d})}},5197:(ze,Ye,ae)=>{"use strict";var te=ae(4703),A=ae(6089);ze.exports=te(A,{file:function Y(Q){return"undefined"!=typeof window?Q instanceof global.Blob||Q instanceof global.ArrayBuffer?void 0:"Blob or ArrayBuffer":"string"!=typeof Q&&void 0===Q.pipe?"Filename or Readable stream":void 0},date:function d(Q){var oe="date";if("boolean"==typeof Q)return oe;try{var ye=new Date(Q);if(ye.getTime&&isNaN(ye.getTime()))return oe}catch(Oe){return oe}},coordinates:function J(Q){return A.tuple(A.number,A.number)(Q)},assertShape:function a(Q,oe){return A.assert(A.strictShape(Q),oe)}})},8129:(ze,Ye,ae)=>{"use strict";var te=ae(2049),A={};function d(J,Q){return Object.prototype.hasOwnProperty.call(J,Q)}ze.exports=function Y(J){if(A[J])return A[J];var Q=J.split("."),oe=Q[0],ye=Q[1];if(!ye)throw new Error("Invalid token");var Oe=function a(J){try{return JSON.parse(te.decode(J))}catch(Q){throw new Error("Invalid token")}}(ye),ht={usage:oe,user:Oe.u};return d(Oe,"a")&&(ht.authorization=Oe.a),d(Oe,"exp")&&(ht.expires=1e3*Oe.exp),d(Oe,"iat")&&(ht.created=1e3*Oe.iat),d(Oe,"scopes")&&(ht.scopes=Oe.scopes),d(Oe,"client")&&(ht.client=Oe.client),d(Oe,"ll")&&(ht.lastLogin=Oe.ll),d(Oe,"iu")&&(ht.impersonator=Oe.iu),A[J]=ht,ht}},9569:(ze,Ye,ae)=>{"use strict";ae.r(Ye),ae.d(Ye,{AdminLayoutModule:()=>c_});var te=ae(2131),A=ae(9808),Y=ae(3075),a=ae(8615),d=ae(5e3),J=ae(591);const Oe=function ye(S,L){return S===L||S!=S&&L!=L},Te=function ht(S,L){for(var u=S.length;u--;)if(Oe(S[u][0],L))return u;return-1};var Mt=Array.prototype.splice;function vt(S){var L=-1,u=null==S?0:S.length;for(this.clear();++L<u;){var w=S[L];this.set(w[0],w[1])}}vt.prototype.clear=function Q(){this.__data__=[],this.size=0},vt.prototype.delete=function qe(S){var L=this.__data__,u=Te(L,S);return!(u<0||(u==L.length-1?L.pop():Mt.call(L,u,1),--this.size,0))},vt.prototype.get=function Je(S){var L=this.__data__,u=Te(L,S);return u<0?void 0:L[u][1]},vt.prototype.has=function Ke(S){return Te(this.__data__,S)>-1},vt.prototype.set=function ut(S,L){var u=this.__data__,w=Te(u,S);return w<0?(++this.size,u.push([S,L])):u[w][1]=L,this};const Rt=vt,wn="object"==typeof global&&global&&global.Object===Object&&global;var En="object"==typeof self&&self&&self.Object===Object&&self;const Ni=wn||En||Function("return this")(),yn=Ni.Symbol;var Ut=Object.prototype,Sr=Ut.hasOwnProperty,en=Ut.toString,Mn=yn?yn.toStringTag:void 0;var Cs=Object.prototype.toString;var Ui=yn?yn.toStringTag:void 0;const Pn=function ls(S){return null==S?void 0===S?"[object Undefined]":"[object Null]":Ui&&Ui in Object(S)?function ri(S){var L=Sr.call(S,Mn),u=S[Mn];try{S[Mn]=void 0;var w=!0}catch(Z){}var z=en.call(S);return w&&(L?S[Mn]=u:delete S[Mn]),z}(S):function Ri(S){return Cs.call(S)}(S)},Di=function hi(S){var L=typeof S;return null!=S&&("object"==L||"function"==L)},Yi=function Cr(S){if(!Di(S))return!1;var L=Pn(S);return"[object Function]"==L||"[object GeneratorFunction]"==L||"[object AsyncFunction]"==L||"[object Proxy]"==L};var S,Ii=Ni["__core-js_shared__"],rr=(S=/[^.]+$/.exec(Ii&&Ii.keys&&Ii.keys.IE_PROTO||""))?"Symbol(src)_1."+S:"";var oa=Function.prototype.toString;const Rn=function Fa(S){if(null!=S){try{return oa.call(S)}catch(L){}try{return S+""}catch(L){}}return""};var de=/^\[object .+?Constructor\]$/,We=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const X=function Ue(S){return!(!Di(S)||function On(S){return!!rr&&rr in S}(S))&&(Yi(S)?We:de).test(Rn(S))},ft=function St(S,L){var u=function $e(S,L){return null==S?void 0:S[L]}(S,L);return X(u)?u:void 0},ii=ft(Ni,"Map"),pt=ft(Object,"create");var Zn=Object.prototype.hasOwnProperty;var jn=Object.prototype.hasOwnProperty;function dn(S){var L=-1,u=null==S?0:S.length;for(this.clear();++L<u;){var w=S[L];this.set(w[0],w[1])}}dn.prototype.clear=function _i(){this.__data__=pt?pt(null):{},this.size=0},dn.prototype.delete=function Vi(S){var L=this.has(S)&&delete this.__data__[S];return this.size-=L?1:0,L},dn.prototype.get=function $i(S){var L=this.__data__;if(pt){var u=L[S];return"__lodash_hash_undefined__"===u?void 0:u}return Zn.call(L,S)?L[S]:void 0},dn.prototype.has=function pi(S){var L=this.__data__;return pt?void 0!==L[S]:jn.call(L,S)},dn.prototype.set=function yo(S,L){var u=this.__data__;return this.size+=this.has(S)?0:1,u[S]=pt&&void 0===L?"__lodash_hash_undefined__":L,this};const on=dn,nt=function Ws(S,L){var u=S.__data__;return function Ba(S){var L=typeof S;return"string"==L||"number"==L||"symbol"==L||"boolean"==L?"__proto__"!==S:null===S}(L)?u["string"==typeof L?"string":"hash"]:u.map};function Pt(S){var L=-1,u=null==S?0:S.length;for(this.clear();++L<u;){var w=S[L];this.set(w[0],w[1])}}Pt.prototype.clear=function Es(){this.size=0,this.__data__={hash:new on,map:new(ii||Rt),string:new on}},Pt.prototype.delete=function la(S){var L=nt(this,S).delete(S);return this.size-=L?1:0,L},Pt.prototype.get=function $n(S){return nt(this,S).get(S)},Pt.prototype.has=function ca(S){return nt(this,S).has(S)},Pt.prototype.set=function kl(S,L){var u=nt(this,S),w=u.size;return u.set(S,L),this.size+=u.size==w?0:1,this};const mi=Pt;function ei(S){var L=this.__data__=new Rt(S);this.size=L.size}ei.prototype.clear=function Tt(){this.__data__=new Rt,this.size=0},ei.prototype.delete=function sn(S){var L=this.__data__,u=L.delete(S);return this.size=L.size,u},ei.prototype.get=function fi(S){return this.__data__.get(S)},ei.prototype.has=function ti(S){return this.__data__.has(S)},ei.prototype.set=function Er(S,L){var u=this.__data__;if(u instanceof Rt){var w=u.__data__;if(!ii||w.length<199)return w.push([S,L]),this.size=++u.size,this;u=this.__data__=new mi(w)}return u.set(S,L),this.size=u.size,this};const ar=ei;var sr=function(){try{var S=ft(Object,"defineProperty");return S({},"",{}),S}catch(L){}}();const Si=sr,xa=function ll(S,L,u){"__proto__"==L&&Si?Si(S,L,{configurable:!0,enumerable:!0,value:u,writable:!0}):S[L]=u};var ua=Object.prototype.hasOwnProperty;const Va=function da(S,L,u){var w=S[L];(!ua.call(S,L)||!Oe(w,u)||void 0===u&&!(L in S))&&xa(S,L,u)},Kr=function Gs(S,L,u,w){var z=!u;u||(u={});for(var Z=-1,fe=L.length;++Z<fe;){var je=L[Z],Ne=w?w(u[je],S[je],je,u,S):void 0;void 0===Ne&&(Ne=S[je]),z?xa(u,je,Ne):Va(u,je,Ne)}return u},mn=function tr(S){return null!=S&&"object"==typeof S},pr=function ul(S){return mn(S)&&"[object Arguments]"==Pn(S)};var jr=Object.prototype,Dl=jr.hasOwnProperty,vo=jr.propertyIsEnumerable,Gi=pr(function(){return arguments}())?pr:function(S){return mn(S)&&Dl.call(S,"callee")&&!vo.call(S,"callee")};const bo=Gi,ha=Array.isArray;var Zs="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vr=Zs&&"object"==typeof module&&module&&!module.nodeType&&module,Ha=Vr&&Vr.exports===Zs?Ni.Buffer:void 0;const Hr=(Ha?Ha.isBuffer:void 0)||function Sn(){return!1};var hl=/^(?:0|[1-9]\d*)$/;const Na=function Ps(S,L){var u=typeof S;return!!(L=null==L?9007199254740991:L)&&("number"==u||"symbol"!=u&&hl.test(S))&&S>-1&&S%1==0&&S<L},Ua=function Xi(S){return"number"==typeof S&&S>-1&&S%1==0&&S<=9007199254740991};var Zi={};Zi["[object Float32Array]"]=Zi["[object Float64Array]"]=Zi["[object Int8Array]"]=Zi["[object Int16Array]"]=Zi["[object Int32Array]"]=Zi["[object Uint8Array]"]=Zi["[object Uint8ClampedArray]"]=Zi["[object Uint16Array]"]=Zi["[object Uint32Array]"]=!0,Zi["[object Arguments]"]=Zi["[object Array]"]=Zi["[object ArrayBuffer]"]=Zi["[object Boolean]"]=Zi["[object DataView]"]=Zi["[object Date]"]=Zi["[object Error]"]=Zi["[object Function]"]=Zi["[object Map]"]=Zi["[object Number]"]=Zi["[object Object]"]=Zi["[object RegExp]"]=Zi["[object Set]"]=Zi["[object String]"]=Zi["[object WeakMap]"]=!1;const Qr=function Oi(S){return function(L){return S(L)}};var fl="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ta=fl&&"object"==typeof module&&module&&!module.nodeType&&module,ea=Ta&&Ta.exports===fl&&wn.process;const Ji=function(){try{return Ta&&Ta.require&&Ta.require("util").types||ea&&ea.binding&&ea.binding("util")}catch(L){}}();var Ks=Ji&&Ji.isTypedArray;const Rs=Ks?Qr(Ks):function wo(S){return mn(S)&&Ua(S.length)&&!!Zi[Pn(S)]};var Or=Object.prototype.hasOwnProperty;const Uo=function Fi(S,L){var u=ha(S),w=!u&&bo(S),z=!u&&!w&&Hr(S),Z=!u&&!w&&!z&&Rs(S),fe=u||w||z||Z,je=fe?function Ar(S,L){for(var u=-1,w=Array(S);++u<S;)w[u]=L(u);return w}(S.length,String):[],Ne=je.length;for(var st in S)(L||Or.call(S,st))&&(!fe||!("length"==st||z&&("offset"==st||"parent"==st)||Z&&("buffer"==st||"byteLength"==st||"byteOffset"==st)||Na(st,Ne)))&&je.push(st);return je};var Mo=Object.prototype;const Ys=function Ll(S){var L=S&&S.constructor;return S===("function"==typeof L&&L.prototype||Mo)},zs=function Qs(S,L){return function(u){return S(L(u))}},_l=zs(Object.keys,Object);var eo=Object.prototype.hasOwnProperty;const Wo=function to(S){return null!=S&&Ua(S.length)&&!Yi(S)},io=function Sl(S){return Wo(S)?Uo(S):function ys(S){if(!Ys(S))return _l(S);var L=[];for(var u in Object(S))eo.call(S,u)&&"constructor"!=u&&L.push(u);return L}(S)};var Da=Object.prototype.hasOwnProperty;const To=function Fs(S){if(!Di(S))return function fa(S){var L=[];if(null!=S)for(var u in Object(S))L.push(u);return L}(S);var L=Ys(S),u=[];for(var w in S)"constructor"==w&&(L||!Da.call(S,w))||u.push(w);return u},La=function Go(S){return Wo(S)?Uo(S,!0):To(S)};var xs="object"==typeof exports&&exports&&!exports.nodeType&&exports,ws=xs&&"object"==typeof module&&module&&!module.nodeType&&module,Cl=ws&&ws.exports===xs?Ni.Buffer:void 0,ta=Cl?Cl.allocUnsafe:void 0;const Mr=function qo(){return[]};var El=Object.prototype.propertyIsEnumerable,ga=Object.getOwnPropertySymbols,Ka=ga?function(S){return null==S?[]:(S=Object(S),function ma(S,L){for(var u=-1,w=null==S?0:S.length,z=0,Z=[];++u<w;){var fe=S[u];L(fe,u,S)&&(Z[z++]=fe)}return Z}(ga(S),function(L){return El.call(S,L)}))}:Mr;const Jn=Ka,ro=function Tr(S,L){for(var u=-1,w=L.length,z=S.length;++u<w;)S[z+u]=L[u];return S},Wr=zs(Object.getPrototypeOf,Object);var Bs=Object.getOwnPropertySymbols?function(S){for(var L=[];S;)ro(L,Jn(S)),S=Wr(S);return L}:Mr;const Sa=Bs,Ca=function ao(S,L,u){var w=L(S);return ha(S)?w:ro(w,u(S))},W=function j(S){return Ca(S,io,Jn)},De=function ue(S){return Ca(S,La,Sa)},at=ft(Ni,"DataView"),Ki=ft(Ni,"Promise"),or=ft(Ni,"Set"),ks=ft(Ni,"WeakMap");var Qa="[object Map]",so="[object Promise]",Xl="[object Set]",Xo="[object WeakMap]",Lo="[object DataView]",Jl=Rn(at),Vc=Rn(ii),vc=Rn(Ki),Jo=Rn(or),Kl=Rn(ks),Ea=Pn;(at&&Ea(new at(new ArrayBuffer(1)))!=Lo||ii&&Ea(new ii)!=Qa||Ki&&Ea(Ki.resolve())!=so||or&&Ea(new or)!=Xl||ks&&Ea(new ks)!=Xo)&&(Ea=function(S){var L=Pn(S),u="[object Object]"==L?S.constructor:void 0,w=u?Rn(u):"";if(w)switch(w){case Jl:return Lo;case Vc:return Qa;case vc:return so;case Jo:return Xl;case Kl:return Xo}return L});const Ko=Ea;var So=Object.prototype.hasOwnProperty;const el=Ni.Uint8Array,Vn=function ml(S){var L=new S.constructor(S.byteLength);return new el(L).set(new el(S)),L};var xc=/\w*$/;var nc=yn?yn.prototype:void 0,oo=nc?nc.valueOf:void 0;const kc=function Tc(S,L,u){var w=S.constructor;switch(L){case"[object ArrayBuffer]":return Vn(S);case"[object Boolean]":case"[object Date]":return new w(+S);case"[object DataView]":return function tc(S,L){var u=L?Vn(S.buffer):S.buffer;return new S.constructor(u,S.byteOffset,S.byteLength)}(S,u);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function tl(S,L){var u=L?Vn(S.buffer):S.buffer;return new S.constructor(u,S.byteOffset,S.length)}(S,u);case"[object Map]":case"[object Set]":return new w;case"[object Number]":case"[object String]":return new w(S);case"[object RegExp]":return function ic(S){var L=new S.constructor(S.source,xc.exec(S));return L.lastIndex=S.lastIndex,L}(S);case"[object Symbol]":return function _r(S){return oo?Object(oo.call(S)):{}}(S)}};var nn=Object.create,ya=function(){function S(){}return function(L){if(!Di(L))return{};if(nn)return nn(L);S.prototype=L;var u=new S;return S.prototype=void 0,u}}();const ts=ya;var m=Ji&&Ji.isMap;const M=m?Qr(m):function n(S){return mn(S)&&"[object Map]"==Ko(S)};var $=Ji&&Ji.isSet;const re=$?Qr($):function O(S){return mn(S)&&"[object Set]"==Ko(S)};var f="[object Arguments]",C="[object Function]",ie="[object Object]",Yt={};Yt[f]=Yt["[object Array]"]=Yt["[object ArrayBuffer]"]=Yt["[object DataView]"]=Yt["[object Boolean]"]=Yt["[object Date]"]=Yt["[object Float32Array]"]=Yt["[object Float64Array]"]=Yt["[object Int8Array]"]=Yt["[object Int16Array]"]=Yt["[object Int32Array]"]=Yt["[object Map]"]=Yt["[object Number]"]=Yt[ie]=Yt["[object RegExp]"]=Yt["[object Set]"]=Yt["[object String]"]=Yt["[object Symbol]"]=Yt["[object Uint8Array]"]=Yt["[object Uint8ClampedArray]"]=Yt["[object Uint16Array]"]=Yt["[object Uint32Array]"]=!0,Yt["[object Error]"]=Yt[C]=Yt["[object WeakMap]"]=!1;const Vt=function ai(S,L,u,w,z,Z){var fe,je=1&L,Ne=2&L,st=4&L;if(u&&(fe=z?u(S,w,z,Z):u(S)),void 0!==fe)return fe;if(!Di(S))return S;var bt=ha(S);if(bt){if(fe=function Qo(S){var L=S.length,u=new S.constructor(L);return L&&"string"==typeof S[0]&&So.call(S,"index")&&(u.index=S.index,u.input=S.input),u}(S),!je)return function Ts(S,L){var u=-1,w=S.length;for(L||(L=Array(w));++u<w;)L[u]=S[u];return L}(S,fe)}else{var Jt=Ko(S),di=Jt==C||"[object GeneratorFunction]"==Jt;if(Hr(S))return function Ms(S,L){if(L)return S.slice();var u=S.length,w=ta?ta(u):new S.constructor(u);return S.copy(w),w}(S,je);if(Jt==ie||Jt==f||di&&!z){if(fe=Ne||di?{}:function Co(S){return"function"!=typeof S.constructor||Ys(S)?{}:ts(Wr(S))}(S),!je)return Ne?function Do(S,L){return Kr(S,Sa(S),L)}(S,function bs(S,L){return S&&Kr(L,La(L),S)}(fe,S)):function no(S,L){return Kr(S,Jn(S),L)}(S,function vs(S,L){return S&&Kr(L,io(L),S)}(fe,S))}else{if(!Yt[Jt])return z?S:{};fe=kc(S,Jt,je)}}Z||(Z=new ar);var un=Z.get(S);if(un)return un;Z.set(S,fe),re(S)?S.forEach(function(an){fe.add(ai(an,L,u,an,S,Z))}):M(S)&&S.forEach(function(an,nr){fe.set(nr,ai(an,L,u,nr,S,Z))});var xn=bt?void 0:(st?Ne?De:W:Ne?La:io)(S);return function Br(S,L){for(var u=-1,w=null==S?0:S.length;++u<w&&!1!==L(S[u],u,S););}(xn||S,function(an,nr){xn&&(an=S[nr=an]),Va(fe,nr,ai(an,L,u,nr,S,Z))}),fe};var R=ae(8332);const K=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]];function _e(S,L){return"rgba("+S.concat(L).join(",")+")"}function Pe(S,L){return Math.floor(Math.random()*(L-S+1))+S}function Xt(S){return{backgroundColor:S.map(L=>_e(L,.6)),borderColor:S.map(()=>"#fff"),pointBackgroundColor:S.map(L=>_e(L,1)),pointBorderColor:S.map(()=>"#fff"),pointHoverBackgroundColor:S.map(L=>_e(L,1)),pointHoverBorderColor:S.map(L=>_e(L,1))}}function Pi(){return[Pe(0,255),Pe(0,255),Pe(0,255)]}function Kn(S){return K[S]||Pi()}function Ia(S){const L=new Array(S);for(let u=0;u<S;u++)L[u]=K[u]||Pi();return L}let lc=(()=>{class S{constructor(){this.pColorschemesOptions={},this.colorschemesOptions=new J.X({})}setColorschemesOptions(u){this.pColorschemesOptions=u,this.colorschemesOptions.next(u)}getColorschemesOptions(){return this.pColorschemesOptions}}return S.\u0275fac=function(u){return new(u||S)},S.\u0275prov=(0,d.Yz7)({factory:function(){return new S},token:S,providedIn:"root"}),S})();const qi={Default:0,Update:1,Refresh:2};qi[qi.Default]="Default",qi[qi.Update]="Update",qi[qi.Refresh]="Refresh";let Rl=(()=>{class S{constructor(u,w){this.element=u,this.themeService=w,this.options={},this.chartClick=new d.vpe,this.chartHover=new d.vpe,this.old={dataExists:!1,dataLength:0,datasetsExists:!1,datasetsLength:0,datasetsDataObjects:[],datasetsDataLengths:[],colorsExists:!1,colors:[],labelsExist:!1,labels:[],legendExists:!1,legend:{}},this.subs=[]}static registerPlugin(u){R.pluginService.register(u)}static unregisterPlugin(u){R.pluginService.unregister(u)}ngOnInit(){this.ctx=this.element.nativeElement.getContext("2d"),this.refresh(),this.subs.push(this.themeService.colorschemesOptions.subscribe(u=>this.themeChanged(u)))}themeChanged(u){this.refresh()}ngDoCheck(){if(!this.chart)return;let u=qi.Default;const w=z=>{u=z>u?z:u};switch(!!this.data!==this.old.dataExists&&(this.propagateDataToDatasets(this.data),this.old.dataExists=!!this.data,w(qi.Update)),this.data&&this.data.length!==this.old.dataLength&&(this.old.dataLength=this.data&&this.data.length||0,w(qi.Update)),!!this.datasets!==this.old.datasetsExists&&(this.old.datasetsExists=!!this.datasets,w(qi.Update)),this.datasets&&this.datasets.length!==this.old.datasetsLength&&(this.old.datasetsLength=this.datasets&&this.datasets.length||0,w(qi.Update)),this.datasets&&this.datasets.filter((z,Z)=>z.data!==this.old.datasetsDataObjects[Z]).length&&(this.old.datasetsDataObjects=this.datasets.map(z=>z.data),w(qi.Update)),this.datasets&&this.datasets.filter((z,Z)=>z.data.length!==this.old.datasetsDataLengths[Z]).length&&(this.old.datasetsDataLengths=this.datasets.map(z=>z.data.length),w(qi.Update)),!!this.colors!==this.old.colorsExists&&(this.old.colorsExists=!!this.colors,this.updateColors(),w(qi.Update)),this.colors&&this.colors.filter((z,Z)=>!this.colorsEqual(z,this.old.colors[Z])).length&&(this.old.colors=this.colors.map(z=>this.copyColor(z)),this.updateColors(),w(qi.Update)),!!this.labels!==this.old.labelsExist&&(this.old.labelsExist=!!this.labels,w(qi.Update)),this.labels&&this.labels.filter((z,Z)=>!this.labelsEqual(z,this.old.labels[Z])).length&&(this.old.labels=this.labels.map(z=>this.copyLabel(z)),w(qi.Update)),!!this.options.legend!==this.old.legendExists&&(this.old.legendExists=!!this.options.legend,w(qi.Refresh)),this.options.legend&&this.options.legend.position!==this.old.legend.position&&(this.old.legend.position=this.options.legend.position,w(qi.Refresh)),u){case qi.Default:break;case qi.Update:this.update();break;case qi.Refresh:this.refresh()}}copyLabel(u){return Array.isArray(u)?[...u]:u}labelsEqual(u,w){return Array.isArray(u)===Array.isArray(w)&&(Array.isArray(u)||u===w)&&(!Array.isArray(u)||u.length===w.length)&&(!Array.isArray(u)||0===u.filter((z,Z)=>z!==w[Z]).length)}copyColor(u){return{backgroundColor:u.backgroundColor,borderWidth:u.borderWidth,borderColor:u.borderColor,borderCapStyle:u.borderCapStyle,borderDash:u.borderDash,borderDashOffset:u.borderDashOffset,borderJoinStyle:u.borderJoinStyle,pointBorderColor:u.pointBorderColor,pointBackgroundColor:u.pointBackgroundColor,pointBorderWidth:u.pointBorderWidth,pointRadius:u.pointRadius,pointHoverRadius:u.pointHoverRadius,pointHitRadius:u.pointHitRadius,pointHoverBackgroundColor:u.pointHoverBackgroundColor,pointHoverBorderColor:u.pointHoverBorderColor,pointHoverBorderWidth:u.pointHoverBorderWidth,pointStyle:u.pointStyle,hoverBackgroundColor:u.hoverBackgroundColor,hoverBorderColor:u.hoverBorderColor,hoverBorderWidth:u.hoverBorderWidth}}colorsEqual(u,w){return!u==!w&&(!u||u.backgroundColor===w.backgroundColor&&u.borderWidth===w.borderWidth&&u.borderColor===w.borderColor&&u.borderCapStyle===w.borderCapStyle&&u.borderDash===w.borderDash&&u.borderDashOffset===w.borderDashOffset&&u.borderJoinStyle===w.borderJoinStyle&&u.pointBorderColor===w.pointBorderColor&&u.pointBackgroundColor===w.pointBackgroundColor&&u.pointBorderWidth===w.pointBorderWidth&&u.pointRadius===w.pointRadius&&u.pointHoverRadius===w.pointHoverRadius&&u.pointHitRadius===w.pointHitRadius&&u.pointHoverBackgroundColor===w.pointHoverBackgroundColor&&u.pointHoverBorderColor===w.pointHoverBorderColor&&u.pointHoverBorderWidth===w.pointHoverBorderWidth&&u.pointStyle===w.pointStyle&&u.hoverBackgroundColor===w.hoverBackgroundColor&&u.hoverBorderColor===w.hoverBorderColor&&u.hoverBorderWidth===w.hoverBorderWidth)}updateColors(){this.datasets.forEach((u,w)=>{this.colors&&this.colors[w]?Object.assign(u,this.colors[w]):Object.assign(u,function se(S,L,u){if("pie"===S||"doughnut"===S)return Xt(Ia(u));if("polarArea"===S)return function Ai(S){return{backgroundColor:S.map(L=>_e(L,.6)),borderColor:S.map(L=>_e(L,1)),hoverBackgroundColor:S.map(L=>_e(L,.8)),hoverBorderColor:S.map(L=>_e(L,1))}}(Ia(u));if("line"===S||"radar"===S)return function et(S){return{backgroundColor:_e(S,.4),borderColor:_e(S,1),pointBackgroundColor:_e(S,1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:_e(S,.8)}}(Kn(L));if("bar"===S||"horizontalBar"===S)return function Ot(S){return{backgroundColor:_e(S,.6),borderColor:_e(S,1),hoverBackgroundColor:_e(S,.8),hoverBorderColor:_e(S,1)}}(Kn(L));if("bubble"===S||"scatter"===S)return Xt(Ia(u));throw new Error(`getColors - Unsupported chart type ${S}`)}(this.chartType,w,u.data.length),Object.assign({},u))})}ngOnChanges(u){let w=qi.Default;const z=Z=>{w=Z>w?Z:w};switch(u.hasOwnProperty("data")&&u.data.currentValue&&(this.propagateDataToDatasets(u.data.currentValue),z(qi.Update)),u.hasOwnProperty("datasets")&&u.datasets.currentValue&&(this.propagateDatasetsToData(u.datasets.currentValue),z(qi.Update)),u.hasOwnProperty("labels")&&(this.chart&&(this.chart.data.labels=u.labels.currentValue),z(qi.Update)),u.hasOwnProperty("legend")&&(this.chart&&(this.chart.config.options.legend.display=u.legend.currentValue,this.chart.generateLegend()),z(qi.Update)),u.hasOwnProperty("options")&&z(qi.Refresh),w){case qi.Update:this.update();break;case qi.Refresh:case qi.Default:this.refresh()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(u=>u.unsubscribe())}update(u){if(this.chart)return this.chart.update(u)}hideDataset(u,w){this.chart.getDatasetMeta(u).hidden=w,this.chart.update()}isDatasetHidden(u){return this.chart.getDatasetMeta(u).hidden}toBase64Image(){return this.chart.toBase64Image()}getChartConfiguration(){const u=this.getDatasets(),w=Object.assign({},this.options);!1===this.legend&&(w.legend={display:!1}),w.hover=w.hover||{},w.hover.onHover||(w.hover.onHover=(Z,fe)=>{fe&&!fe.length||this.chartHover.emit({event:Z,active:fe})}),w.onClick||(w.onClick=(Z,fe)=>{this.chartClick.emit({event:Z,active:fe})});const z=this.smartMerge(w,this.themeService.getColorschemesOptions());return{type:this.chartType,data:{labels:this.labels||[],datasets:u},plugins:this.plugins,options:z}}getChartBuilder(u){const w=this.getChartConfiguration();return new R.Chart(u,w)}smartMerge(u,w,z=0){if(0===z&&(u=function qt(S){return Vt(S,5)}(u)),Object.keys(w).forEach(fe=>{if(Array.isArray(w[fe])){const je=u[fe];je&&je.forEach(Ne=>{this.smartMerge(Ne,w[fe][0],z+1)})}else"object"==typeof w[fe]?(fe in u||(u[fe]={}),this.smartMerge(u[fe],w[fe],z+1)):u[fe]=w[fe]}),0===z)return u}isMultiLineLabel(u){return Array.isArray(u)}joinLabel(u){return u?this.isMultiLineLabel(u)?u.join(" "):u:null}propagateDatasetsToData(u){this.data=this.datasets.map(w=>w.data),this.chart&&(this.chart.data.datasets=u),this.updateColors()}propagateDataToDatasets(u){this.isMultiDataSet(u)?this.datasets&&u.length===this.datasets.length?this.datasets.forEach((w,z)=>{w.data=u[z]}):(this.datasets=u.map((w,z)=>({data:w,label:this.joinLabel(this.labels[z])||`Label ${z}`})),this.chart&&(this.chart.data.datasets=this.datasets)):this.datasets?(this.datasets[0]||(this.datasets[0]={}),this.datasets[0].data=u,this.datasets.splice(1)):(this.datasets=[{data:u}],this.chart&&(this.chart.data.datasets=this.datasets)),this.updateColors()}isMultiDataSet(u){return Array.isArray(u[0])}getDatasets(){if(!this.datasets&&!this.data)throw new Error(`ng-charts configuration error, data or datasets field are required to render chart ${this.chartType}`);return this.datasets?(this.propagateDatasetsToData(this.datasets),this.datasets):this.data?(this.propagateDataToDatasets(this.data),this.datasets):void 0}refresh(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.ctx&&(this.chart=this.getChartBuilder(this.ctx))}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(d.SBq),d.Y36(lc))},S.\u0275dir=d.lG2({type:S,selectors:[["canvas","baseChart",""]],inputs:{options:"options",data:"data",datasets:"datasets",labels:"labels",chartType:"chartType",colors:"colors",legend:"legend",plugins:"plugins"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[d.TTD]}),S})(),cc=(()=>{class S{}return S.\u0275fac=function(u){return new(u||S)},S.\u0275mod=d.oAB({type:S}),S.\u0275inj=d.cJS({}),S})(),Fh=(()=>{class S{constructor(u){this.apiService=u,this.barChartOptions={responsive:!0,scales:{x:{stacked:!0},y:{stacked:!0}}},this.barChartLabels=["Activas","Finalizadas"],this.barChartType="bar",this.barChartLegend=!0,this.barChartData=[],this.barChartLabelsPl=[],this.barChartDataPl=[]}chartClicked(u){console.log(u)}chartHovered(u){console.log(u)}ngOnInit(){this.chartColor="#FFFFFF",this.getRolRuta(),this.getPlanneds()}getRolRuta(){var z=localStorage.getItem("x-token").split(".")[1].replace("-","+").replace("_","/");const Z=JSON.parse(window.atob(z));this.apiService.get(`visitas/${Z.uid}`).subscribe(fe=>{const je={A:"Activo",F:"FINALIZADO"},Ne=fe.visitas.reduce((bt,Jt)=>{const di=je[Jt.situacion];return bt[di]=(bt[di]||0)+1,bt},{}),st=Object.keys(Ne).map(bt=>({data:[Ne[bt]],label:bt}));console.log(st),this.barChartData=st},fe=>{console.error(fe)})}getPlanneds(){var z=localStorage.getItem("x-token").split(".")[1].replace("-","+").replace("_","/");const Z=JSON.parse(window.atob(z));this.apiService.get(`planneds/${Z.uid}`).subscribe(fe=>{const je={P:"PENDIENTE",A:"ACTIVA",F:"FINALIZADO"},Ne=fe.datos.reduce((bt,Jt)=>{const di=je[Jt.situacion];return bt[di]=(bt[di]||0)+1,bt},{}),st=Object.keys(Ne).map(bt=>({data:[Ne[bt]],label:bt}));this.barChartLabelsPl=st.map(bt=>bt.label),this.barChartDataPl=st,console.log(this.barChartLabelsPl),console.log(this.barChartDataPl)},fe=>{console.error(fe)})}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(a.s))},S.\u0275cmp=d.Xpm({type:S,selectors:[["app-dashboard"]],decls:31,vars:10,consts:[[1,"panel-header","panel-header-md"],[1,"main-content"],[1,"row"],[1,"col-lg-6"],[1,"card","card-chart"],[1,"card-header"],[1,"card-category"],[1,"card-title"],[1,"card-body"],[1,"chart-area"],["baseChart","",3,"datasets","labels","options","legend","chartType"],[1,"card-footer"],[1,"stats"],[1,"now-ui-icons","arrows-1_refresh-69"]],template:function(u,w){1&u&&(d._UZ(0,"div",0),d.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),d._uU(7,"Visitas"),d.qZA(),d.TgZ(8,"h4",7),d._uU(9,"Estadistica de visitas"),d.qZA()(),d.TgZ(10,"div",8)(11,"div",9),d._UZ(12,"canvas",10),d.qZA()(),d.TgZ(13,"div",11)(14,"div",12),d._UZ(15,"i",13),d._uU(16," Just Updated "),d.qZA()()()(),d.TgZ(17,"div",3)(18,"div",4)(19,"div",5)(20,"h5",6),d._uU(21,"Planificaciones"),d.qZA(),d.TgZ(22,"h4",7),d._uU(23,"Estadistica"),d.qZA()(),d.TgZ(24,"div",8)(25,"div",9),d._UZ(26,"canvas",10),d.qZA()(),d.TgZ(27,"div",11)(28,"div",12),d._UZ(29,"i",13),d._uU(30," Just Updated "),d.qZA()()()()()()),2&u&&(d.xp6(12),d.Q6J("datasets",w.barChartData)("labels",w.barChartLabels)("options",w.barChartOptions)("legend",w.barChartLegend)("chartType",w.barChartType),d.xp6(14),d.Q6J("datasets",w.barChartDataPl)("labels",w.barChartLabelsPl)("options",w.barChartOptions)("legend",w.barChartLegend)("chartType",w.barChartType))},dependencies:[Rl]}),S})();function uc(S,L){var u={};for(var w in S)Object.prototype.hasOwnProperty.call(S,w)&&L.indexOf(w)<0&&(u[w]=S[w]);if(null!=S&&"function"==typeof Object.getOwnPropertySymbols){var z=0;for(w=Object.getOwnPropertySymbols(S);z<w.length;z++)L.indexOf(w[z])<0&&Object.prototype.propertyIsEnumerable.call(S,w[z])&&(u[w[z]]=S[w[z]])}return u}var yl=ae(5226),qc=ae.n(yl),Iu=ae(4383),Wn=ae(5245),Wt=ae(7423),ra=ae(7322),Lc=ae(7531);function co(S,L){if(1&S){const u=d.EpF();d.TgZ(0,"tr")(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td")(4,"button",22),d.NdJ("click",function(){const Z=d.CHM(u).$implicit,fe=d.oxw();return d.KtG(fe.editRouteForm(Z))}),d.TgZ(5,"mat-icon"),d._uU(6,"edit"),d.qZA()()(),d.TgZ(7,"td")(8,"button",23),d.NdJ("click",function(){const Z=d.CHM(u).$implicit,fe=d.oxw();return d.KtG(fe.deleteCustomer(Z))}),d.TgZ(9,"mat-icon"),d._uU(10,"delete"),d.qZA()()()()}if(2&S){const u=L.$implicit;d.xp6(2),d.hij(" ",u.nombre," ")}}let Nh=(()=>{class S{constructor(u,w,z){this.apiService=u,this.fb=w,this.toastr=z,this.routeForm=this.createFomRoute()}ngOnInit(){this.getRoutes()}getRoutes(){this.apiService.get("rutas").subscribe(u=>{this.routesList=u.datos},u=>{console.error(u)})}createFomRoute(u){return this.fb.group({uid:(null==u?void 0:u.uid)||"",nombre:[(null==u?void 0:u.nombre)||"",[Y.kI.required]],descripcion:[(null==u?void 0:u.descripcion)||"",[Y.kI.required]],region:[(null==u?void 0:u.region)||"",[Y.kI.required]]})}formValidation(){this.routeForm.invalid?this.routeForm.markAllAsTouched():this.routeForm.controls.uid.value?this.updateRoute():this.saveRoute()}resetForm(){this.routeForm=this.createFomRoute()}editRouteForm(u){this.routeForm=this.createFomRoute(u)}deleteCustomer(u){qc().fire({title:"\xbfEst\xe1 seguro de que quiere eliminar este registro?",text:"Puede que esta acci\xf3n no se pueda deshacer!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Eliminar"}).then(w=>{w.isConfirmed&&this.changeStateRoute(u)})}saveRoute(){const z=uc(this.routeForm.getRawValue(),["uid"]);this.apiService.post("rutas",Object.assign({},z)).subscribe(Z=>{qc().fire("EXITO","Ruta creada satisfactoriamente","success"),this.getRoutes()},Z=>{console.error(Z)})}updateRoute(){const u=this.routeForm.getRawValue(),{uid:w}=u,z=uc(u,["uid"]);this.apiService.post(`rutas/${w}`,Object.assign({},z)).subscribe(Z=>{qc().fire("EXITO","Ruta actualizada satisfactoriamente","success"),this.getRoutes()},Z=>{console.error(Z)})}changeStateRoute(u){u.estado=!1,this.apiService.put(`rutas/${u.uid}`,{data:u}).subscribe(w=>{this.toastr.success("La ruta ha sido removida satisfactoriamente","",{timeOut:8e3,closeButton:!0,enableHtml:!0,toastClass:"alert alert-success alert-with-icon",positionClass:"toast-top-right"}),this.getRoutes()},w=>{console.error(w)})}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(a.s),d.Y36(Y.qu),d.Y36(Iu._W))},S.\u0275cmp=d.Xpm({type:S,selectors:[["app-routes"]],decls:53,vars:2,consts:[[1,"panel-header","panel-header-sm"],[1,"main-content"],[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-header"],[1,"title"],[1,"card-body",3,"formGroup"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Ingrese nombre de Ruta","autocomplete","off","formControlName","nombre"],["matInput","","placeholder","","autocomplete","off","formControlName","descripcion"],["matInput","","placeholder","Region de la ruta","autocomplete","off","formControlName","region"],[1,"col-6"],[1,"btn","btn-primary","mt-4",2,"width","100%",3,"click"],[1,"btn","btn-default","mt-4",2,"width","100%",3,"click"],[1,"card-title"],[1,"card-body"],[1,"table-responsive",2,"max-height","292px"],[1,"table"],[1,"fontTableBody"],[4,"ngFor","ngForOf"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","warn",3,"click"]],template:function(u,w){1&u&&(d._UZ(0,"div",0),d.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),d._uU(7,"RUTAS"),d.qZA()(),d.TgZ(8,"div",7)(9,"div",2)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),d._uU(13,"Nombre ruta"),d.qZA(),d._UZ(14,"input",10),d.qZA()()(),d.TgZ(15,"div",2)(16,"div",8)(17,"mat-form-field",9)(18,"mat-label"),d._uU(19,"Descripcion de la ruta"),d.qZA(),d._UZ(20,"input",11),d.qZA()()(),d.TgZ(21,"div",2)(22,"div",8)(23,"mat-form-field",9)(24,"mat-label"),d._uU(25,"region"),d.qZA(),d._UZ(26,"input",12),d.qZA()()(),d.TgZ(27,"div",2)(28,"div",13)(29,"button",14),d.NdJ("click",function(){return w.formValidation()}),d._uU(30,"Guardar"),d.qZA()(),d.TgZ(31,"div",13)(32,"button",15),d.NdJ("click",function(){return w.resetForm()}),d._uU(33,"Limpiar"),d.qZA()()()()()(),d.TgZ(34,"div",3)(35,"div",4)(36,"div",5)(37,"h4",16),d._uU(38," Listado de Rutas"),d.qZA()(),d.TgZ(39,"div",17)(40,"div",2)(41,"div",8)(42,"div",18)(43,"table",19)(44,"thead")(45,"th"),d._uU(46,"Nombre Ruta"),d.qZA(),d.TgZ(47,"th"),d._uU(48,"Editar"),d.qZA(),d.TgZ(49,"th"),d._uU(50,"Eliminar"),d.qZA()(),d.TgZ(51,"tbody",20),d.YNc(52,co,11,1,"tr",21),d.qZA()()()()()()()()()()),2&u&&(d.xp6(8),d.Q6J("formGroup",w.routeForm),d.xp6(44),d.Q6J("ngForOf",w.routesList))},dependencies:[A.sg,Y.Fj,Y.JJ,Y.JL,Y.sg,Y.u,Wn.Hw,Wt.lW,ra.KE,ra.hX,Lc.Nt],styles:[".content[_ngcontent-%COMP%]{display:flex;height:100%}.match-parent[_ngcontent-%COMP%]{width:50%;height:75%;margin:100px}.geocoder[_ngcontent-%COMP%]{position:absolute;z-index:1;width:75%;left:43%;margin-left:-25%;top:35px}.mapboxgl-ctrl-geocoder[_ngcontent-%COMP%]{min-width:100%}.full-width[_ngcontent-%COMP%]{width:100%}"]}),S})();var Uh=ae(9898),Vs=ae.n(Uh),Ud=ae(2340),$c=ae(8545),Ou=ae.n($c);function Xc(S,L){if(1&S&&(d.TgZ(0,"option",32),d._uU(1),d.qZA()),2&S){const u=L.$implicit;d.Q6J("value",u.uid),d.xp6(1),d.Oqu(u.nombre)}}function Wd(S,L){if(1&S){const u=d.EpF();d.TgZ(0,"tr")(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td")(6,"button",33),d.NdJ("click",function(){const Z=d.CHM(u).$implicit,fe=d.oxw();return d.KtG(fe.editCustomerForm(Z))}),d.TgZ(7,"mat-icon"),d._uU(8,"edit"),d.qZA()()(),d.TgZ(9,"td")(10,"button",34),d.NdJ("click",function(){const Z=d.CHM(u).$implicit,fe=d.oxw();return d.KtG(fe.deleteCustomer(Z))}),d.TgZ(11,"mat-icon"),d._uU(12,"delete"),d.qZA()()()()}if(2&S){const u=L.$implicit;d.xp6(2),d.hij(" ",u.idcliente," "),d.xp6(2),d.hij(" ",u.razonSocial," ")}}let ud=(()=>{class S{constructor(u,w,z){this.apiService=u,this.fb=w,this.toastr=z,this.style="mapbox://styles/mapbox/streets-v11",this.lat=14.642441,this.lng=-90.513072,this.customerForm=this.createFormCustomer(),this.customerForm.controls.idcliente.disable()}ngOnInit(){this.createMap(),this.getClients(),this.getRoutes()}createMap(){Vs().accessToken=Ud.N.mapboxAccessToken,this.map=new(Vs().Map)({container:"map",style:"mapbox://styles/mapbox/streets-v12",center:[this.lng,this.lat],zoom:9}),this.map.addControl(new(Vs().NavigationControl)),this.geocoding()}geocoding(){this.geocoder=new(Ou())({accessToken:Vs().accessToken,mapboxgl:Vs()}),document.getElementById("searchAddrress").appendChild(this.geocoder.onAdd(this.map)),this.getAddress()}getAddress(){this.geocoder.on("result",u=>{this.address=u.result.place_name,this.long=u.result.geometry.coordinates[0],this.latitude=u.result.geometry.coordinates[1],this.coordinates=u.result.geometry.coordinates})}getClients(){this.apiService.get("clientes").subscribe(u=>{this.customerList=u.datos},u=>{console.error(u)})}getRoutes(){this.apiService.get("rutas").subscribe(u=>{this.routesList=u.datos},u=>{console.error(u)})}createFormCustomer(u){return this.fb.group({_id:(null==u?void 0:u.uid)||"",idcliente:(null==u?void 0:u.idcliente)||"",nombreComercial:[(null==u?void 0:u.nombreComercial)||"",[Y.kI.required]],razonSocial:[(null==u?void 0:u.razonSocial)||"",[Y.kI.required]],nit:[(null==u?void 0:u.nit)||"",[Y.kI.required]],telefono1:[(null==u?void 0:u.telefono1)||"",[Y.kI.required]],telefono2:(null==u?void 0:u.telefono2)||"",correo1:[(null==u?void 0:u.correo1)||"",[Y.kI.required]],direccion:[(null==u?void 0:u.direccion)||"",[Y.kI.required]],ruta:[(null==u?void 0:u.ruta)||"",[Y.kI.required]]})}editCustomerForm(u){this.customerForm=this.createFormCustomer(u),this.lng=u.location.coordinates[0],this.lat=u.location.coordinates[1],this.coordinates=u.location.coordinates}resetForm(){this.customerForm=this.createFormCustomer()}changeStateCustomer(u){u.estado=!1,this.apiService.put(`clientes/${u.uid}`,{customer:u}).subscribe(w=>{this.toastr.success("El cliente ha sido removido satisfactoriamente","",{timeOut:8e3,closeButton:!0,enableHtml:!0,toastClass:"alert alert-success alert-with-icon",positionClass:"toast-top-right"}),this.getClients()},w=>{console.error(w)})}updateCustomer(){const u=this.customerForm.getRawValue(),{_id:w}=u,z=uc(u,["_id"]);this.apiService.put(`clientes/${w}`,Object.assign(Object.assign({},z),{location:{type:"Point",coordinates:this.coordinates}})).subscribe(Z=>{qc().fire("EXITO","Cliente actualizado satisfactoriamente","success"),this.getClients()},Z=>{console.error(Z)})}deleteCustomer(u){qc().fire({title:"\xbfEst\xe1 seguro de que quiere eliminar este registro?",text:"Puede que esta acci\xf3n no se pueda deshacer!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Eliminar"}).then(w=>{w.isConfirmed&&this.changeStateCustomer(u)})}saveCustomer(){const Z=uc(this.customerForm.getRawValue(),["_id","idcliente"]);this.apiService.post("clientes",Object.assign(Object.assign({},Z),{location:{type:"Point",coordinates:this.coordinates}})).subscribe(fe=>{qc().fire("EXITO","Cliente creado satisfactoriamente","success"),this.editCustomerForm(fe.cliente),this.getClients()},fe=>{console.error(fe)})}formValidation(){this.customerForm.invalid?this.customerForm.markAllAsTouched():this.address||this.customerForm.controls.idcliente.value?this.customerForm.controls.idcliente.value?this.updateCustomer():this.saveCustomer():qc().fire("ERROR","Debe ingresar la ubicaci\xf3n o direcci\xf3n m\xe1s cercana,","error")}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(a.s),d.Y36(Y.qu),d.Y36(Iu._W))},S.\u0275cmp=d.Xpm({type:S,selectors:[["app-customers"]],decls:95,vars:3,consts:[[1,"panel-header","panel-header-sm"],[1,"main-content"],[1,"row"],[1,"col-md-6"],[1,"card",3,"formGroup"],[1,"card-header"],[1,"title"],[1,"card-body"],[1,"col-6"],[1,"form-group"],["type","text","formControlName","idcliente",1,"form-control"],["type","text","formControlName","nit","placeholder","Ingrese NIT",1,"form-control"],["type","text","formControlName","nombreComercial","placeholder","Ingrese nombre comercial",1,"form-control"],["type","text","formControlName","razonSocial","placeholder","Ingrese razon social",1,"form-control"],["formControlName","ruta",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","direccion","placeholder","N\xfamero de celular",1,"form-control"],[1,"col-3"],["type","text","formControlName","telefono1","placeholder","Telefono",1,"form-control"],["type","text","formControlName","telefono2","placeholder","Celular",1,"form-control"],["type","text","formControlName","correo1","placeholder","Ingrese correo principal",1,"form-control"],["id","searchAddrress",1,"geocoder",2,"width","100%"],[1,"btn","btn-primary","mt-4",2,"width","100%",3,"click"],[1,"btn","btn-default","mt-4",2,"width","100%",3,"click"],[1,"col"],["id","map",2,"width","100%","height","200px"],[1,"card"],[1,"card-title"],[1,"table-responsive"],[1,"table"],[1,"fontTableBody"],[4,"ngFor","ngForOf"],[3,"value"],["mat-icon-button","",3,"click"],["mat-icon-button","","color","warn",3,"click"]],template:function(u,w){1&u&&(d._UZ(0,"div",0),d.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),d._uU(7,"CLIENTES"),d.qZA()(),d.TgZ(8,"div",7)(9,"div",2)(10,"div",8)(11,"div",9)(12,"label"),d._uU(13,"Id Cliente"),d.qZA(),d._UZ(14,"input",10),d.qZA()(),d.TgZ(15,"div",8)(16,"div",9)(17,"label"),d._uU(18,"NIT"),d.qZA(),d._UZ(19,"input",11),d.qZA()()(),d.TgZ(20,"div",2)(21,"div",8)(22,"div",9)(23,"label"),d._uU(24,"Nombre Comercial"),d.qZA(),d._UZ(25,"input",12),d.qZA()(),d.TgZ(26,"div",8)(27,"div",9)(28,"label"),d._uU(29,"Razon Social"),d.qZA(),d._UZ(30,"input",13),d.qZA()()(),d.TgZ(31,"div",2)(32,"div",8)(33,"div",9)(34,"label"),d._uU(35,"Ruta"),d.qZA(),d.TgZ(36,"select",14),d.YNc(37,Xc,2,2,"option",15),d.qZA()()(),d.TgZ(38,"div",8)(39,"div",9)(40,"label"),d._uU(41,"Direcci\xf3n"),d.qZA(),d._UZ(42,"input",16),d.qZA()()(),d.TgZ(43,"div",2)(44,"div",17)(45,"div",9)(46,"label"),d._uU(47,"Telefono"),d.qZA(),d._UZ(48,"input",18),d.qZA()(),d.TgZ(49,"div",17)(50,"div",9)(51,"label"),d._uU(52,"Celular"),d.qZA(),d._UZ(53,"input",19),d.qZA()(),d.TgZ(54,"div",8)(55,"div",9)(56,"label"),d._uU(57,"Correo"),d.qZA(),d._UZ(58,"input",20),d.qZA()()(),d.TgZ(59,"div",2)(60,"div",8)(61,"div",9)(62,"label"),d._uU(63,"Ubicaci\xf3n"),d.qZA(),d._UZ(64,"div",21),d.qZA()(),d.TgZ(65,"div",17)(66,"button",22),d.NdJ("click",function(){return w.formValidation()}),d._uU(67,"Guardar"),d.qZA()(),d.TgZ(68,"div",17)(69,"button",23),d.NdJ("click",function(){return w.resetForm()}),d._uU(70,"Limpiar"),d.qZA()()(),d.TgZ(71,"div",2)(72,"div",24),d._UZ(73,"div",25),d.qZA()()()()(),d.TgZ(74,"div",3)(75,"div",26)(76,"div",5)(77,"h4",27),d._uU(78," Listado de Clientes"),d.qZA()(),d.TgZ(79,"div",7)(80,"div",2)(81,"div",24)(82,"div",28)(83,"table",29)(84,"thead")(85,"th"),d._uU(86,"Id"),d.qZA(),d.TgZ(87,"th"),d._uU(88,"Razon Social"),d.qZA(),d.TgZ(89,"th"),d._uU(90,"Editar"),d.qZA(),d.TgZ(91,"th"),d._uU(92,"Eliminar"),d.qZA()(),d.TgZ(93,"tbody",30),d.YNc(94,Wd,13,2,"tr",31),d.qZA()()()()()()()()()()),2&u&&(d.xp6(4),d.Q6J("formGroup",w.customerForm),d.xp6(33),d.Q6J("ngForOf",w.routesList),d.xp6(57),d.Q6J("ngForOf",w.customerList))},dependencies:[A.sg,Y.YN,Y.Kr,Y.Fj,Y.EJ,Y.JJ,Y.JL,Y.sg,Y.u,Wn.Hw,Wt.lW],styles:[".fontTableBody[_ngcontent-%COMP%]{font-size:smaller}"]}),S})();var Qi=ae(3191),kr=ae(5529),Ru=ae(1086),Gd=ae(6498),Wh=ae(3753),cu=ae(6686),zl=ae(2268);new class Zd extends zl.v{flush(L){this.active=!0,this.scheduled=void 0;const{actions:u}=this;let w,z=-1,Z=u.length;L=L||u.shift();do{if(w=L.execute(L.state,L.delay))break}while(++z<Z&&(L=u.shift()));if(this.active=!1,w){for(;++z<Z&&(L=u.shift());)L.unsubscribe();throw w}}}(class uu extends cu.o{constructor(L,u){super(L,u),this.scheduler=L,this.work=u}requestAsyncId(L,u,w=0){return null!==w&&w>0?super.requestAsyncId(L,u,w):(L.actions.push(this),L.scheduled||(L.scheduled=requestAnimationFrame(()=>L.flush(null))))}recycleAsyncId(L,u,w=0){if(null!==w&&w>0||null===w&&this.delay>0)return super.recycleAsyncId(L,u,w);0===L.actions.length&&(cancelAnimationFrame(u),L.scheduled=void 0)}});let Yu=1;const Ao=Promise.resolve(),Sc={};function is(S){return S in Sc&&(delete Sc[S],!0)}const Po={setImmediate(S){const L=Yu++;return Sc[L]=!0,Ao.then(()=>is(L)&&S()),L},clearImmediate(S){is(S)}};new class qh extends zl.v{flush(L){this.active=!0,this.scheduled=void 0;const{actions:u}=this;let w,z=-1,Z=u.length;L=L||u.shift();do{if(w=L.execute(L.state,L.delay))break}while(++z<Z&&(L=u.shift()));if(this.active=!1,w){for(;++z<Z&&(L=u.shift());)L.unsubscribe();throw w}}}(class mr extends cu.o{constructor(L,u){super(L,u),this.scheduler=L,this.work=u}requestAsyncId(L,u,w=0){return null!==w&&w>0?super.requestAsyncId(L,u,w):(L.actions.push(this),L.scheduled||(L.scheduled=Po.setImmediate(L.flush.bind(L,null))))}recycleAsyncId(L,u,w=0){if(null!==w&&w>0||null===w&&this.delay>0)return super.recycleAsyncId(L,u,w);0===L.actions.length&&(Po.clearImmediate(u),L.scheduled=void 0)}});var rf=ae(353),qd=ae(1177);class Xh{constructor(L){this.durationSelector=L}call(L,u){return u.subscribe(new Jc(L,this.durationSelector))}}class Jc extends qd.Ds{constructor(L,u){super(L),this.durationSelector=u,this.hasValue=!1}_next(L){if(this.value=L,this.hasValue=!0,!this.throttled){let u;try{const{durationSelector:z}=this;u=z(L)}catch(z){return this.destination.error(z)}const w=(0,qd.ft)(u,new qd.IY(this));!w||w.closed?this.clearThrottle():this.add(this.throttled=w)}}clearThrottle(){const{value:L,hasValue:u,throttled:w}=this;w&&(this.remove(w),this.throttled=void 0,w.unsubscribe()),u&&(this.value=void 0,this.hasValue=!1,this.destination.next(L))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Jh=ae(7739);function $d(S,L=rf.P){return function $h(S){return function(u){return u.lift(new Xh(S))}}(()=>(0,Jh.H)(S,L))}var dc=ae(2198),Hs=ae(925),rl=ae(226);let Ds=(()=>{class S{constructor(u,w,z){this._ngZone=u,this._platform=w,this._scrolled=new kr.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=z}register(u){this.scrollContainers.has(u)||this.scrollContainers.set(u,u.elementScrolled().subscribe(()=>this._scrolled.next(u)))}deregister(u){const w=this.scrollContainers.get(u);w&&(w.unsubscribe(),this.scrollContainers.delete(u))}scrolled(u=20){return this._platform.isBrowser?new Gd.y(w=>{this._globalSubscription||this._addGlobalListener();const z=u>0?this._scrolled.pipe($d(u)).subscribe(w):this._scrolled.subscribe(w);return this._scrolledCount++,()=>{z.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Ru.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((u,w)=>this.deregister(w)),this._scrolled.complete()}ancestorScrolled(u,w){const z=this.getAncestorScrollContainers(u);return this.scrolled(w).pipe((0,dc.h)(Z=>!Z||z.indexOf(Z)>-1))}getAncestorScrollContainers(u){const w=[];return this.scrollContainers.forEach((z,Z)=>{this._scrollableContainsElement(Z,u)&&w.push(Z)}),w}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(u,w){let z=(0,Qi.fI)(w),Z=u.getElementRef().nativeElement;do{if(z==Z)return!0}while(z=z.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const u=this._getWindow();return(0,Wh.R)(u.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return S.\u0275fac=function(u){return new(u||S)(d.LFG(d.R0b),d.LFG(Hs.t4),d.LFG(A.K0,8))},S.\u0275prov=d.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),al=(()=>{class S{constructor(u,w,z){this._platform=u,this._change=new kr.xQ,this._changeListener=Z=>{this._change.next(Z)},this._document=z,w.runOutsideAngular(()=>{if(u.isBrowser){const Z=this._getWindow();Z.addEventListener("resize",this._changeListener),Z.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const u=this._getWindow();u.removeEventListener("resize",this._changeListener),u.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const u={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),u}getViewportRect(){const u=this.getViewportScrollPosition(),{width:w,height:z}=this.getViewportSize();return{top:u.top,left:u.left,bottom:u.top+z,right:u.left+w,height:z,width:w}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const u=this._document,w=this._getWindow(),z=u.documentElement,Z=z.getBoundingClientRect();return{top:-Z.top||u.body.scrollTop||w.scrollY||z.scrollTop||0,left:-Z.left||u.body.scrollLeft||w.scrollX||z.scrollLeft||0}}change(u=20){return u>0?this._change.pipe($d(u)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const u=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:u.innerWidth,height:u.innerHeight}:{width:0,height:0}}}return S.\u0275fac=function(u){return new(u||S)(d.LFG(Hs.t4),d.LFG(d.R0b),d.LFG(A.K0,8))},S.\u0275prov=d.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),fd=(()=>{class S{}return S.\u0275fac=function(u){return new(u||S)},S.\u0275mod=d.oAB({type:S}),S.\u0275inj=d.cJS({}),S})(),Fu=(()=>{class S{}return S.\u0275fac=function(u){return new(u||S)},S.\u0275mod=d.oAB({type:S}),S.\u0275inj=d.cJS({imports:[[rl.vT,fd],rl.vT,fd]}),S})();class _d{attach(L){return this._attachedHost=L,L.attach(this)}detach(){let L=this._attachedHost;null!=L&&(this._attachedHost=null,L.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(L){this._attachedHost=L}}class Bu extends _d{constructor(L,u,w,z){super(),this.component=L,this.viewContainerRef=u,this.injector=w,this.componentFactoryResolver=z}}class pu extends _d{constructor(L,u,w){super(),this.templateRef=L,this.viewContainerRef=u,this.context=w}get origin(){return this.templateRef.elementRef}attach(L,u=this.context){return this.context=u,super.attach(L)}detach(){return this.context=void 0,super.detach()}}class Jd extends _d{constructor(L){super(),this.element=L instanceof d.SBq?L.nativeElement:L}}class Cc{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(L){return L instanceof Bu?(this._attachedPortal=L,this.attachComponentPortal(L)):L instanceof pu?(this._attachedPortal=L,this.attachTemplatePortal(L)):this.attachDomPortal&&L instanceof Jd?(this._attachedPortal=L,this.attachDomPortal(L)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(L){this._disposeFn=L}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Vu extends Cc{constructor(L,u,w,z,Z){super(),this.outletElement=L,this._componentFactoryResolver=u,this._appRef=w,this._defaultInjector=z,this.attachDomPortal=fe=>{const je=fe.element,Ne=this._document.createComment("dom-portal");je.parentNode.insertBefore(Ne,je),this.outletElement.appendChild(je),this._attachedPortal=fe,super.setDisposeFn(()=>{Ne.parentNode&&Ne.parentNode.replaceChild(je,Ne)})},this._document=Z}attachComponentPortal(L){const w=(L.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(L.component);let z;return L.viewContainerRef?(z=L.viewContainerRef.createComponent(w,L.viewContainerRef.length,L.injector||L.viewContainerRef.injector),this.setDisposeFn(()=>z.destroy())):(z=w.create(L.injector||this._defaultInjector||d.zs3.NULL),this._appRef.attachView(z.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(z.hostView),z.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(z)),this._attachedPortal=L,z}attachTemplatePortal(L){let u=L.viewContainerRef,w=u.createEmbeddedView(L.templateRef,L.context);return w.rootNodes.forEach(z=>this.outletElement.appendChild(z)),w.detectChanges(),this.setDisposeFn(()=>{let z=u.indexOf(w);-1!==z&&u.remove(z)}),this._attachedPortal=L,w}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(L){return L.hostView.rootNodes[0]}}let fu=(()=>{class S extends Cc{constructor(u,w,z){super(),this._componentFactoryResolver=u,this._viewContainerRef=w,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=Z=>{const fe=Z.element,je=this._document.createComment("dom-portal");Z.setAttachedHost(this),fe.parentNode.insertBefore(je,fe),this._getRootNode().appendChild(fe),this._attachedPortal=Z,super.setDisposeFn(()=>{je.parentNode&&je.parentNode.replaceChild(fe,je)})},this._document=z}get portal(){return this._attachedPortal}set portal(u){this.hasAttached()&&!u&&!this._isInitialized||(this.hasAttached()&&super.detach(),u&&super.attach(u),this._attachedPortal=u||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(u){u.setAttachedHost(this);const w=null!=u.viewContainerRef?u.viewContainerRef:this._viewContainerRef,Z=(u.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(u.component),fe=w.createComponent(Z,w.length,u.injector||w.injector);return w!==this._viewContainerRef&&this._getRootNode().appendChild(fe.hostView.rootNodes[0]),super.setDisposeFn(()=>fe.destroy()),this._attachedPortal=u,this._attachedRef=fe,this.attached.emit(fe),fe}attachTemplatePortal(u){u.setAttachedHost(this);const w=this._viewContainerRef.createEmbeddedView(u.templateRef,u.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=u,this._attachedRef=w,this.attached.emit(w),w}_getRootNode(){const u=this._viewContainerRef.element.nativeElement;return u.nodeType===u.ELEMENT_NODE?u:u.parentNode}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(A.K0))},S.\u0275dir=d.lG2({type:S,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),S})(),Ec=(()=>{class S{}return S.\u0275fac=function(u){return new(u||S)},S.\u0275mod=d.oAB({type:S}),S.\u0275inj=d.cJS({}),S})();var ns=ae(2654),Ac=ae(6787),Bl=ae(2986),pc=ae(7625),Hu=ae(4290),$t=ae(1159);const fc=(0,Hs.Mq)();class kn{constructor(L,u){this._viewportRuler=L,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=u}attach(){}enable(){if(this._canBeEnabled()){const L=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=L.style.left||"",this._previousHTMLStyles.top=L.style.top||"",L.style.left=(0,Qi.HM)(-this._previousScrollPosition.left),L.style.top=(0,Qi.HM)(-this._previousScrollPosition.top),L.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const L=this._document.documentElement,w=L.style,z=this._document.body.style,Z=w.scrollBehavior||"",fe=z.scrollBehavior||"";this._isEnabled=!1,w.left=this._previousHTMLStyles.left,w.top=this._previousHTMLStyles.top,L.classList.remove("cdk-global-scrollblock"),fc&&(w.scrollBehavior=z.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),fc&&(w.scrollBehavior=Z,z.scrollBehavior=fe)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const u=this._document.body,w=this._viewportRuler.getViewportSize();return u.scrollHeight>w.height||u.scrollWidth>w.width}}class jl{constructor(L,u,w,z){this._scrollDispatcher=L,this._ngZone=u,this._viewportRuler=w,this._config=z,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(L){this._overlayRef=L}enable(){if(this._scrollSubscription)return;const L=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=L.subscribe(()=>{const u=this._viewportRuler.getViewportScrollPosition().top;Math.abs(u-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=L.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class xl{enable(){}disable(){}attach(){}}function Io(S,L){return L.some(u=>S.bottom<u.top||S.top>u.bottom||S.right<u.left||S.left>u.right)}function uo(S,L){return L.some(u=>S.top<u.top||S.bottom>u.bottom||S.left<u.left||S.right>u.right)}class Oa{constructor(L,u,w,z){this._scrollDispatcher=L,this._viewportRuler=u,this._ngZone=w,this._config=z,this._scrollSubscription=null}attach(L){this._overlayRef=L}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const u=this._overlayRef.overlayElement.getBoundingClientRect(),{width:w,height:z}=this._viewportRuler.getViewportSize();Io(u,[{width:w,height:z,bottom:z,right:w,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let rp=(()=>{class S{constructor(u,w,z,Z){this._scrollDispatcher=u,this._viewportRuler=w,this._ngZone=z,this.noop=()=>new xl,this.close=fe=>new jl(this._scrollDispatcher,this._ngZone,this._viewportRuler,fe),this.block=()=>new kn(this._viewportRuler,this._document),this.reposition=fe=>new Oa(this._scrollDispatcher,this._viewportRuler,this._ngZone,fe),this._document=Z}}return S.\u0275fac=function(u){return new(u||S)(d.LFG(Ds),d.LFG(al),d.LFG(d.R0b),d.LFG(A.K0))},S.\u0275prov=d.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();class Gr{constructor(L){if(this.scrollStrategy=new xl,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,L){const u=Object.keys(L);for(const w of u)void 0!==L[w]&&(this[w]=L[w])}}}class Qd{constructor(L,u){this.connectionPair=L,this.scrollableViewProperties=u}}class _f{constructor(L,u,w,z,Z,fe,je,Ne,st){this._portalOutlet=L,this._host=u,this._pane=w,this._config=z,this._ngZone=Z,this._keyboardDispatcher=fe,this._document=je,this._location=Ne,this._outsideClickDispatcher=st,this._backdropElement=null,this._backdropClick=new kr.xQ,this._attachments=new kr.xQ,this._detachments=new kr.xQ,this._locationChanges=ns.w.EMPTY,this._backdropClickHandler=bt=>this._backdropClick.next(bt),this._backdropTransitionendHandler=bt=>{this._disposeBackdrop(bt.target)},this._keydownEvents=new kr.xQ,this._outsidePointerEvents=new kr.xQ,z.scrollStrategy&&(this._scrollStrategy=z.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=z.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(L){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const u=this._portalOutlet.attach(L);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Bl.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),u}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const L=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),L}dispose(){var L;const u=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(L=this._host)||void 0===L||L.remove(),this._previousHostParent=this._pane=this._host=null,u&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(L){L!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=L,this.hasAttached()&&(L.attach(this),this.updatePosition()))}updateSize(L){this._config=Object.assign(Object.assign({},this._config),L),this._updateElementSize()}setDirection(L){this._config=Object.assign(Object.assign({},this._config),{direction:L}),this._updateElementDirection()}addPanelClass(L){this._pane&&this._toggleClasses(this._pane,L,!0)}removePanelClass(L){this._pane&&this._toggleClasses(this._pane,L,!1)}getDirection(){const L=this._config.direction;return L?"string"==typeof L?L:L.value:"ltr"}updateScrollStrategy(L){L!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=L,this.hasAttached()&&(L.attach(this),L.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const L=this._pane.style;L.width=(0,Qi.HM)(this._config.width),L.height=(0,Qi.HM)(this._config.height),L.minWidth=(0,Qi.HM)(this._config.minWidth),L.minHeight=(0,Qi.HM)(this._config.minHeight),L.maxWidth=(0,Qi.HM)(this._config.maxWidth),L.maxHeight=(0,Qi.HM)(this._config.maxHeight)}_togglePointerEvents(L){this._pane.style.pointerEvents=L?"":"none"}_attachBackdrop(){const L="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(L)})}):this._backdropElement.classList.add(L)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const L=this._backdropElement;!L||(L.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{L.addEventListener("transitionend",this._backdropTransitionendHandler)}),L.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(L)},500)))}_toggleClasses(L,u,w){const z=(0,Qi.Eq)(u||[]).filter(Z=>!!Z);z.length&&(w?L.classList.add(...z):L.classList.remove(...z))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const L=this._ngZone.onStable.pipe((0,pc.R)((0,Ac.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),L.unsubscribe())})})}_disposeScrollStrategy(){const L=this._scrollStrategy;L&&(L.disable(),L.detach&&L.detach())}_disposeBackdrop(L){L&&(L.removeEventListener("click",this._backdropClickHandler),L.removeEventListener("transitionend",this._backdropTransitionendHandler),L.remove(),this._backdropElement===L&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Uu=(()=>{class S{constructor(u,w){this._platform=w,this._document=u}ngOnDestroy(){var u;null===(u=this._containerElement)||void 0===u||u.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const u="cdk-overlay-container";if(this._platform.isBrowser||(0,Hs.Oy)()){const z=this._document.querySelectorAll(`.${u}[platform="server"], .${u}[platform="test"]`);for(let Z=0;Z<z.length;Z++)z[Z].remove()}const w=this._document.createElement("div");w.classList.add(u),(0,Hs.Oy)()?w.setAttribute("platform","test"):this._platform.isBrowser||w.setAttribute("platform","server"),this._document.body.appendChild(w),this._containerElement=w}}return S.\u0275fac=function(u){return new(u||S)(d.LFG(A.K0),d.LFG(Hs.t4))},S.\u0275prov=d.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();const eh="cdk-overlay-connected-position-bounding-box",mf=/([A-Za-z%]+)$/;class Vl{constructor(L,u,w,z,Z){this._viewportRuler=u,this._document=w,this._platform=z,this._overlayContainer=Z,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new kr.xQ,this._resizeSubscription=ns.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(L)}get positions(){return this._preferredPositions}attach(L){this._validatePositions(),L.hostElement.classList.add(eh),this._overlayRef=L,this._boundingBox=L.hostElement,this._pane=L.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const L=this._originRect,u=this._overlayRect,w=this._viewportRect,z=this._containerRect,Z=[];let fe;for(let je of this._preferredPositions){let Ne=this._getOriginPoint(L,z,je),st=this._getOverlayPoint(Ne,u,je),bt=this._getOverlayFit(st,u,w,je);if(bt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(je,Ne);this._canFitWithFlexibleDimensions(bt,st,w)?Z.push({position:je,origin:Ne,overlayRect:u,boundingBoxRect:this._calculateBoundingBoxRect(Ne,je)}):(!fe||fe.overlayFit.visibleArea<bt.visibleArea)&&(fe={overlayFit:bt,overlayPoint:st,originPoint:Ne,position:je,overlayRect:u})}if(Z.length){let je=null,Ne=-1;for(const st of Z){const bt=st.boundingBoxRect.width*st.boundingBoxRect.height*(st.position.weight||1);bt>Ne&&(Ne=bt,je=st)}return this._isPushed=!1,void this._applyPosition(je.position,je.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(fe.position,fe.originPoint);this._applyPosition(fe.position,fe.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Oo(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(eh),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const L=this._lastPosition;if(L){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const u=this._getOriginPoint(this._originRect,this._containerRect,L);this._applyPosition(L,u)}else this.apply()}withScrollableContainers(L){return this._scrollables=L,this}withPositions(L){return this._preferredPositions=L,-1===L.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(L){return this._viewportMargin=L,this}withFlexibleDimensions(L=!0){return this._hasFlexibleDimensions=L,this}withGrowAfterOpen(L=!0){return this._growAfterOpen=L,this}withPush(L=!0){return this._canPush=L,this}withLockedPosition(L=!0){return this._positionLocked=L,this}setOrigin(L){return this._origin=L,this}withDefaultOffsetX(L){return this._offsetX=L,this}withDefaultOffsetY(L){return this._offsetY=L,this}withTransformOriginOn(L){return this._transformOriginSelector=L,this}_getOriginPoint(L,u,w){let z,Z;if("center"==w.originX)z=L.left+L.width/2;else{const fe=this._isRtl()?L.right:L.left,je=this._isRtl()?L.left:L.right;z="start"==w.originX?fe:je}return u.left<0&&(z-=u.left),Z="center"==w.originY?L.top+L.height/2:"top"==w.originY?L.top:L.bottom,u.top<0&&(Z-=u.top),{x:z,y:Z}}_getOverlayPoint(L,u,w){let z,Z;return z="center"==w.overlayX?-u.width/2:"start"===w.overlayX?this._isRtl()?-u.width:0:this._isRtl()?0:-u.width,Z="center"==w.overlayY?-u.height/2:"top"==w.overlayY?0:-u.height,{x:L.x+z,y:L.y+Z}}_getOverlayFit(L,u,w,z){const Z=Gu(u);let{x:fe,y:je}=L,Ne=this._getOffset(z,"x"),st=this._getOffset(z,"y");Ne&&(fe+=Ne),st&&(je+=st);let di=0-je,un=je+Z.height-w.height,ln=this._subtractOverflows(Z.width,0-fe,fe+Z.width-w.width),xn=this._subtractOverflows(Z.height,di,un),an=ln*xn;return{visibleArea:an,isCompletelyWithinViewport:Z.width*Z.height===an,fitsInViewportVertically:xn===Z.height,fitsInViewportHorizontally:ln==Z.width}}_canFitWithFlexibleDimensions(L,u,w){if(this._hasFlexibleDimensions){const z=w.bottom-u.y,Z=w.right-u.x,fe=Wu(this._overlayRef.getConfig().minHeight),je=Wu(this._overlayRef.getConfig().minWidth),st=L.fitsInViewportHorizontally||null!=je&&je<=Z;return(L.fitsInViewportVertically||null!=fe&&fe<=z)&&st}return!1}_pushOverlayOnScreen(L,u,w){if(this._previousPushAmount&&this._positionLocked)return{x:L.x+this._previousPushAmount.x,y:L.y+this._previousPushAmount.y};const z=Gu(u),Z=this._viewportRect,fe=Math.max(L.x+z.width-Z.width,0),je=Math.max(L.y+z.height-Z.height,0),Ne=Math.max(Z.top-w.top-L.y,0),st=Math.max(Z.left-w.left-L.x,0);let bt=0,Jt=0;return bt=z.width<=Z.width?st||-fe:L.x<this._viewportMargin?Z.left-w.left-L.x:0,Jt=z.height<=Z.height?Ne||-je:L.y<this._viewportMargin?Z.top-w.top-L.y:0,this._previousPushAmount={x:bt,y:Jt},{x:L.x+bt,y:L.y+Jt}}_applyPosition(L,u){if(this._setTransformOrigin(L),this._setOverlayElementStyles(u,L),this._setBoundingBoxStyles(u,L),L.panelClass&&this._addPanelClasses(L.panelClass),this._lastPosition=L,this._positionChanges.observers.length){const w=this._getScrollVisibility(),z=new Qd(L,w);this._positionChanges.next(z)}this._isInitialRender=!1}_setTransformOrigin(L){if(!this._transformOriginSelector)return;const u=this._boundingBox.querySelectorAll(this._transformOriginSelector);let w,z=L.overlayY;w="center"===L.overlayX?"center":this._isRtl()?"start"===L.overlayX?"right":"left":"start"===L.overlayX?"left":"right";for(let Z=0;Z<u.length;Z++)u[Z].style.transformOrigin=`${w} ${z}`}_calculateBoundingBoxRect(L,u){const w=this._viewportRect,z=this._isRtl();let Z,fe,je,bt,Jt,di;if("top"===u.overlayY)fe=L.y,Z=w.height-fe+this._viewportMargin;else if("bottom"===u.overlayY)je=w.height-L.y+2*this._viewportMargin,Z=w.height-je+this._viewportMargin;else{const un=Math.min(w.bottom-L.y+w.top,L.y),ln=this._lastBoundingBoxSize.height;Z=2*un,fe=L.y-un,Z>ln&&!this._isInitialRender&&!this._growAfterOpen&&(fe=L.y-ln/2)}if("end"===u.overlayX&&!z||"start"===u.overlayX&&z)di=w.width-L.x+this._viewportMargin,bt=L.x-this._viewportMargin;else if("start"===u.overlayX&&!z||"end"===u.overlayX&&z)Jt=L.x,bt=w.right-L.x;else{const un=Math.min(w.right-L.x+w.left,L.x),ln=this._lastBoundingBoxSize.width;bt=2*un,Jt=L.x-un,bt>ln&&!this._isInitialRender&&!this._growAfterOpen&&(Jt=L.x-ln/2)}return{top:fe,left:Jt,bottom:je,right:di,width:bt,height:Z}}_setBoundingBoxStyles(L,u){const w=this._calculateBoundingBoxRect(L,u);!this._isInitialRender&&!this._growAfterOpen&&(w.height=Math.min(w.height,this._lastBoundingBoxSize.height),w.width=Math.min(w.width,this._lastBoundingBoxSize.width));const z={};if(this._hasExactPosition())z.top=z.left="0",z.bottom=z.right=z.maxHeight=z.maxWidth="",z.width=z.height="100%";else{const Z=this._overlayRef.getConfig().maxHeight,fe=this._overlayRef.getConfig().maxWidth;z.height=(0,Qi.HM)(w.height),z.top=(0,Qi.HM)(w.top),z.bottom=(0,Qi.HM)(w.bottom),z.width=(0,Qi.HM)(w.width),z.left=(0,Qi.HM)(w.left),z.right=(0,Qi.HM)(w.right),z.alignItems="center"===u.overlayX?"center":"end"===u.overlayX?"flex-end":"flex-start",z.justifyContent="center"===u.overlayY?"center":"bottom"===u.overlayY?"flex-end":"flex-start",Z&&(z.maxHeight=(0,Qi.HM)(Z)),fe&&(z.maxWidth=(0,Qi.HM)(fe))}this._lastBoundingBoxSize=w,Oo(this._boundingBox.style,z)}_resetBoundingBoxStyles(){Oo(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Oo(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(L,u){const w={},z=this._hasExactPosition(),Z=this._hasFlexibleDimensions,fe=this._overlayRef.getConfig();if(z){const bt=this._viewportRuler.getViewportScrollPosition();Oo(w,this._getExactOverlayY(u,L,bt)),Oo(w,this._getExactOverlayX(u,L,bt))}else w.position="static";let je="",Ne=this._getOffset(u,"x"),st=this._getOffset(u,"y");Ne&&(je+=`translateX(${Ne}px) `),st&&(je+=`translateY(${st}px)`),w.transform=je.trim(),fe.maxHeight&&(z?w.maxHeight=(0,Qi.HM)(fe.maxHeight):Z&&(w.maxHeight="")),fe.maxWidth&&(z?w.maxWidth=(0,Qi.HM)(fe.maxWidth):Z&&(w.maxWidth="")),Oo(this._pane.style,w)}_getExactOverlayY(L,u,w){let z={top:"",bottom:""},Z=this._getOverlayPoint(u,this._overlayRect,L);return this._isPushed&&(Z=this._pushOverlayOnScreen(Z,this._overlayRect,w)),"bottom"===L.overlayY?z.bottom=this._document.documentElement.clientHeight-(Z.y+this._overlayRect.height)+"px":z.top=(0,Qi.HM)(Z.y),z}_getExactOverlayX(L,u,w){let fe,z={left:"",right:""},Z=this._getOverlayPoint(u,this._overlayRect,L);return this._isPushed&&(Z=this._pushOverlayOnScreen(Z,this._overlayRect,w)),fe=this._isRtl()?"end"===L.overlayX?"left":"right":"end"===L.overlayX?"right":"left","right"===fe?z.right=this._document.documentElement.clientWidth-(Z.x+this._overlayRect.width)+"px":z.left=(0,Qi.HM)(Z.x),z}_getScrollVisibility(){const L=this._getOriginRect(),u=this._pane.getBoundingClientRect(),w=this._scrollables.map(z=>z.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:uo(L,w),isOriginOutsideView:Io(L,w),isOverlayClipped:uo(u,w),isOverlayOutsideView:Io(u,w)}}_subtractOverflows(L,...u){return u.reduce((w,z)=>w-Math.max(z,0),L)}_getNarrowedViewportRect(){const L=this._document.documentElement.clientWidth,u=this._document.documentElement.clientHeight,w=this._viewportRuler.getViewportScrollPosition();return{top:w.top+this._viewportMargin,left:w.left+this._viewportMargin,right:w.left+L-this._viewportMargin,bottom:w.top+u-this._viewportMargin,width:L-2*this._viewportMargin,height:u-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(L,u){return"x"===u?null==L.offsetX?this._offsetX:L.offsetX:null==L.offsetY?this._offsetY:L.offsetY}_validatePositions(){}_addPanelClasses(L){this._pane&&(0,Qi.Eq)(L).forEach(u=>{""!==u&&-1===this._appliedPanelClasses.indexOf(u)&&(this._appliedPanelClasses.push(u),this._pane.classList.add(u))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(L=>{this._pane.classList.remove(L)}),this._appliedPanelClasses=[])}_getOriginRect(){const L=this._origin;if(L instanceof d.SBq)return L.nativeElement.getBoundingClientRect();if(L instanceof Element)return L.getBoundingClientRect();const u=L.width||0,w=L.height||0;return{top:L.y,bottom:L.y+w,left:L.x,right:L.x+u,height:w,width:u}}}function Oo(S,L){for(let u in L)L.hasOwnProperty(u)&&(S[u]=L[u]);return S}function Wu(S){if("number"!=typeof S&&null!=S){const[L,u]=S.split(mf);return u&&"px"!==u?null:parseFloat(L)}return S||null}function Gu(S){return{top:Math.floor(S.top),right:Math.floor(S.right),bottom:Math.floor(S.bottom),left:Math.floor(S.left),width:Math.floor(S.width),height:Math.floor(S.height)}}const gd="cdk-global-overlay-wrapper";class sp{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(L){const u=L.getConfig();this._overlayRef=L,this._width&&!u.width&&L.updateSize({width:this._width}),this._height&&!u.height&&L.updateSize({height:this._height}),L.hostElement.classList.add(gd),this._isDisposed=!1}top(L=""){return this._bottomOffset="",this._topOffset=L,this._alignItems="flex-start",this}left(L=""){return this._rightOffset="",this._leftOffset=L,this._justifyContent="flex-start",this}bottom(L=""){return this._topOffset="",this._bottomOffset=L,this._alignItems="flex-end",this}right(L=""){return this._leftOffset="",this._rightOffset=L,this._justifyContent="flex-end",this}width(L=""){return this._overlayRef?this._overlayRef.updateSize({width:L}):this._width=L,this}height(L=""){return this._overlayRef?this._overlayRef.updateSize({height:L}):this._height=L,this}centerHorizontally(L=""){return this.left(L),this._justifyContent="center",this}centerVertically(L=""){return this.top(L),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const L=this._overlayRef.overlayElement.style,u=this._overlayRef.hostElement.style,w=this._overlayRef.getConfig(),{width:z,height:Z,maxWidth:fe,maxHeight:je}=w,Ne=!("100%"!==z&&"100vw"!==z||fe&&"100%"!==fe&&"100vw"!==fe),st=!("100%"!==Z&&"100vh"!==Z||je&&"100%"!==je&&"100vh"!==je);L.position=this._cssPosition,L.marginLeft=Ne?"0":this._leftOffset,L.marginTop=st?"0":this._topOffset,L.marginBottom=this._bottomOffset,L.marginRight=this._rightOffset,Ne?u.justifyContent="flex-start":"center"===this._justifyContent?u.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?u.justifyContent="flex-end":"flex-end"===this._justifyContent&&(u.justifyContent="flex-start"):u.justifyContent=this._justifyContent,u.alignItems=st?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const L=this._overlayRef.overlayElement.style,u=this._overlayRef.hostElement,w=u.style;u.classList.remove(gd),w.justifyContent=w.alignItems=L.marginTop=L.marginBottom=L.marginLeft=L.marginRight=L.position="",this._overlayRef=null,this._isDisposed=!0}}let gf=(()=>{class S{constructor(u,w,z,Z){this._viewportRuler=u,this._document=w,this._platform=z,this._overlayContainer=Z}global(){return new sp}flexibleConnectedTo(u){return new Vl(u,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return S.\u0275fac=function(u){return new(u||S)(d.LFG(al),d.LFG(A.K0),d.LFG(Hs.t4),d.LFG(Uu))},S.\u0275prov=d.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),th=(()=>{class S{constructor(u){this._attachedOverlays=[],this._document=u}ngOnDestroy(){this.detach()}add(u){this.remove(u),this._attachedOverlays.push(u)}remove(u){const w=this._attachedOverlays.indexOf(u);w>-1&&this._attachedOverlays.splice(w,1),0===this._attachedOverlays.length&&this.detach()}}return S.\u0275fac=function(u){return new(u||S)(d.LFG(A.K0))},S.\u0275prov=d.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),yf=(()=>{class S extends th{constructor(u,w){super(u),this._ngZone=w,this._keydownListener=z=>{const Z=this._attachedOverlays;for(let fe=Z.length-1;fe>-1;fe--)if(Z[fe]._keydownEvents.observers.length>0){const je=Z[fe]._keydownEvents;this._ngZone?this._ngZone.run(()=>je.next(z)):je.next(z);break}}}add(u){super.add(u),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return S.\u0275fac=function(u){return new(u||S)(d.LFG(A.K0),d.LFG(d.R0b,8))},S.\u0275prov=d.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),ih=(()=>{class S extends th{constructor(u,w,z){super(u),this._platform=w,this._ngZone=z,this._cursorStyleIsSet=!1,this._pointerDownListener=Z=>{this._pointerDownEventTarget=(0,Hs.sA)(Z)},this._clickListener=Z=>{const fe=(0,Hs.sA)(Z),je="click"===Z.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:fe;this._pointerDownEventTarget=null;const Ne=this._attachedOverlays.slice();for(let st=Ne.length-1;st>-1;st--){const bt=Ne[st];if(bt._outsidePointerEvents.observers.length<1||!bt.hasAttached())continue;if(bt.overlayElement.contains(fe)||bt.overlayElement.contains(je))break;const Jt=bt._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Jt.next(Z)):Jt.next(Z)}}}add(u){if(super.add(u),!this._isAttached){const w=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(w)):this._addEventListeners(w),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=w.style.cursor,w.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const u=this._document.body;u.removeEventListener("pointerdown",this._pointerDownListener,!0),u.removeEventListener("click",this._clickListener,!0),u.removeEventListener("auxclick",this._clickListener,!0),u.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(u.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(u){u.addEventListener("pointerdown",this._pointerDownListener,!0),u.addEventListener("click",this._clickListener,!0),u.addEventListener("auxclick",this._clickListener,!0),u.addEventListener("contextmenu",this._clickListener,!0)}}return S.\u0275fac=function(u){return new(u||S)(d.LFG(A.K0),d.LFG(Hs.t4),d.LFG(d.R0b,8))},S.\u0275prov=d.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),vf=0,Hl=(()=>{class S{constructor(u,w,z,Z,fe,je,Ne,st,bt,Jt,di){this.scrollStrategies=u,this._overlayContainer=w,this._componentFactoryResolver=z,this._positionBuilder=Z,this._keyboardDispatcher=fe,this._injector=je,this._ngZone=Ne,this._document=st,this._directionality=bt,this._location=Jt,this._outsideClickDispatcher=di}create(u){const w=this._createHostElement(),z=this._createPaneElement(w),Z=this._createPortalOutlet(z),fe=new Gr(u);return fe.direction=fe.direction||this._directionality.value,new _f(Z,w,z,fe,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(u){const w=this._document.createElement("div");return w.id="cdk-overlay-"+vf++,w.classList.add("cdk-overlay-pane"),u.appendChild(w),w}_createHostElement(){const u=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(u),u}_createPortalOutlet(u){return this._appRef||(this._appRef=this._injector.get(d.z2F)),new Vu(u,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return S.\u0275fac=function(u){return new(u||S)(d.LFG(rp),d.LFG(Uu),d.LFG(d._Vd),d.LFG(gf),d.LFG(yf),d.LFG(d.zs3),d.LFG(d.R0b),d.LFG(A.K0),d.LFG(rl.Is),d.LFG(A.Ye),d.LFG(ih))},S.\u0275prov=d.Yz7({token:S,factory:S.\u0275fac}),S})();const op=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],nh=new d.OlP("cdk-connected-overlay-scroll-strategy");let Pc=(()=>{class S{constructor(u){this.elementRef=u}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(d.SBq))},S.\u0275dir=d.lG2({type:S,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),S})(),rh=(()=>{class S{constructor(u,w,z,Z,fe){this._overlay=u,this._dir=fe,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ns.w.EMPTY,this._attachSubscription=ns.w.EMPTY,this._detachSubscription=ns.w.EMPTY,this._positionSubscription=ns.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new d.vpe,this.positionChange=new d.vpe,this.attach=new d.vpe,this.detach=new d.vpe,this.overlayKeydown=new d.vpe,this.overlayOutsideClick=new d.vpe,this._templatePortal=new pu(w,z),this._scrollStrategyFactory=Z,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(u){this._offsetX=u,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(u){this._offsetY=u,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(u){this._hasBackdrop=(0,Qi.Ig)(u)}get lockPosition(){return this._lockPosition}set lockPosition(u){this._lockPosition=(0,Qi.Ig)(u)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(u){this._flexibleDimensions=(0,Qi.Ig)(u)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(u){this._growAfterOpen=(0,Qi.Ig)(u)}get push(){return this._push}set push(u){this._push=(0,Qi.Ig)(u)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(u){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),u.origin&&this.open&&this._position.apply()),u.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=op);const u=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=u.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=u.detachments().subscribe(()=>this.detach.emit()),u.keydownEvents().subscribe(w=>{this.overlayKeydown.next(w),w.keyCode===$t.hY&&!this.disableClose&&!(0,$t.Vb)(w)&&(w.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(w=>{this.overlayOutsideClick.next(w)})}_buildConfig(){const u=this._position=this.positionStrategy||this._createPositionStrategy(),w=new Gr({direction:this._dir,positionStrategy:u,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(w.width=this.width),(this.height||0===this.height)&&(w.height=this.height),(this.minWidth||0===this.minWidth)&&(w.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(w.minHeight=this.minHeight),this.backdropClass&&(w.backdropClass=this.backdropClass),this.panelClass&&(w.panelClass=this.panelClass),w}_updatePositionStrategy(u){const w=this.positions.map(z=>({originX:z.originX,originY:z.originY,overlayX:z.overlayX,overlayY:z.overlayY,offsetX:z.offsetX||this.offsetX,offsetY:z.offsetY||this.offsetY,panelClass:z.panelClass||void 0}));return u.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(w).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const u=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(u),u}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Pc?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(u=>{this.backdropClick.emit(u)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe((0,Hu.o)(()=>this.positionChange.observers.length>0)).subscribe(u=>{this.positionChange.emit(u),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(Hl),d.Y36(d.Rgc),d.Y36(d.s_b),d.Y36(nh),d.Y36(rl.Is,8))},S.\u0275dir=d.lG2({type:S,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[d.TTD]}),S})();const _u={provide:nh,deps:[Hl],useFactory:function bf(S){return()=>S.scrollStrategies.reposition()}};let mu=(()=>{class S{}return S.\u0275fac=function(u){return new(u||S)},S.\u0275mod=d.oAB({type:S}),S.\u0275inj=d.cJS({providers:[Hl,_u],imports:[[rl.vT,Ec,Fu],Fu]}),S})();var ji=ae(508),Ic=ae(5664);class Tf{constructor(L=!1,u,w=!0){this._multiple=L,this._emitChanges=w,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new kr.xQ,u&&u.length&&(L?u.forEach(z=>this._markSelected(z)):this._markSelected(u[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...L){this._verifyValueAssignment(L),L.forEach(u=>this._markSelected(u)),this._emitChangeEvent()}deselect(...L){this._verifyValueAssignment(L),L.forEach(u=>this._unmarkSelected(u)),this._emitChangeEvent()}toggle(L){this.isSelected(L)?this.deselect(L):this.select(L)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(L){return this._selection.has(L)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(L){this._multiple&&this.selected&&this._selected.sort(L)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(L){this.isSelected(L)||(this._multiple||this._unmarkAll(),this._selection.add(L),this._emitChanges&&this._selectedToEmit.push(L))}_unmarkSelected(L){this.isSelected(L)&&(this._selection.delete(L),this._emitChanges&&this._deselectedToEmit.push(L))}_unmarkAll(){this.isEmpty()||this._selection.forEach(L=>this._unmarkSelected(L))}_verifyValueAssignment(L){}}var yd=ae(8514),ho=ae(1059),Ns=ae(7545),lp=ae(4850),ah=ae(5778),ui=ae(1777);const Sf=["trigger"],Cf=["panel"];function sh(S,L){if(1&S&&(d.TgZ(0,"span",8),d._uU(1),d.qZA()),2&S){const u=d.oxw();d.xp6(1),d.Oqu(u.placeholder)}}function vd(S,L){if(1&S&&(d.TgZ(0,"span",12),d._uU(1),d.qZA()),2&S){const u=d.oxw(2);d.xp6(1),d.Oqu(u.triggerValue)}}function cp(S,L){1&S&&d.Hsn(0,0,["*ngSwitchCase","true"])}function Kc(S,L){if(1&S&&(d.TgZ(0,"span",9),d.YNc(1,vd,2,1,"span",10),d.YNc(2,cp,1,0,"ng-content",11),d.qZA()),2&S){const u=d.oxw();d.Q6J("ngSwitch",!!u.customTrigger),d.xp6(2),d.Q6J("ngSwitchCase",!0)}}function Zu(S,L){if(1&S){const u=d.EpF();d.TgZ(0,"div",13)(1,"div",14,15),d.NdJ("@transformPanel.done",function(z){d.CHM(u);const Z=d.oxw();return d.KtG(Z._panelDoneAnimatingStream.next(z.toState))})("keydown",function(z){d.CHM(u);const Z=d.oxw();return d.KtG(Z._handleKeydown(z))}),d.Hsn(3,1),d.qZA()()}if(2&S){const u=d.oxw();d.Q6J("@transformPanelWrap",void 0),d.xp6(1),d.Gre("mat-select-panel ",u._getPanelTheme(),""),d.Udp("transform-origin",u._transformOrigin)("font-size",u._triggerFontSize,"px"),d.Q6J("ngClass",u.panelClass)("@transformPanel",u.multiple?"showing-multiple":"showing"),d.uIk("id",u.id+"-panel")("aria-multiselectable",u.multiple)("aria-label",u.ariaLabel||null)("aria-labelledby",u._getPanelAriaLabelledby())}}const Ef=[[["mat-select-trigger"]],"*"],Af=["mat-select-trigger","*"],up={transformPanelWrap:(0,ui.X$)("transformPanelWrap",[(0,ui.eR)("* => void",(0,ui.IO)("@transformPanel",[(0,ui.pV)()],{optional:!0}))]),transformPanel:(0,ui.X$)("transformPanel",[(0,ui.SB)("void",(0,ui.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,ui.SB)("showing",(0,ui.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,ui.SB)("showing-multiple",(0,ui.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,ui.eR)("void => *",(0,ui.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,ui.eR)("* => void",(0,ui.jt)("100ms 25ms linear",(0,ui.oB)({opacity:0})))])};let dp=0;const oh=new d.OlP("mat-select-scroll-strategy"),xd=new d.OlP("MAT_SELECT_CONFIG"),qu={provide:oh,deps:[Hl],useFactory:function bd(S){return()=>S.scrollStrategies.reposition()}};class hp{constructor(L,u){this.source=L,this.value=u}}const pp=(0,ji.Kr)((0,ji.sb)((0,ji.Id)((0,ji.FD)(class{constructor(S,L,u,w,z){this._elementRef=S,this._defaultErrorStateMatcher=L,this._parentForm=u,this._parentFormGroup=w,this.ngControl=z}})))),$u=new d.OlP("MatSelectTrigger");let lh=(()=>{class S extends pp{constructor(u,w,z,Z,fe,je,Ne,st,bt,Jt,di,un,ln,xn){var an,nr,Dr;super(fe,Z,Ne,st,Jt),this._viewportRuler=u,this._changeDetectorRef=w,this._ngZone=z,this._dir=je,this._parentFormField=bt,this._liveAnnouncer=ln,this._defaultOptions=xn,this._panelOpen=!1,this._compareWith=(Qn,vi)=>Qn===vi,this._uid="mat-select-"+dp++,this._triggerAriaLabelledBy=null,this._destroy=new kr.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+dp++,this._panelDoneAnimatingStream=new kr.xQ,this._overlayPanelClass=(null===(an=this._defaultOptions)||void 0===an?void 0:an.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(Dr=null===(nr=this._defaultOptions)||void 0===nr?void 0:nr.disableOptionCentering)&&void 0!==Dr&&Dr,this.ariaLabel="",this.optionSelectionChanges=(0,yd.P)(()=>{const Qn=this.options;return Qn?Qn.changes.pipe((0,ho.O)(Qn),(0,Ns.w)(()=>(0,Ac.T)(...Qn.map(vi=>vi.onSelectionChange)))):this._ngZone.onStable.pipe((0,Bl.q)(1),(0,Ns.w)(()=>this.optionSelectionChanges))}),this.openedChange=new d.vpe,this._openedStream=this.openedChange.pipe((0,dc.h)(Qn=>Qn),(0,lp.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,dc.h)(Qn=>!Qn),(0,lp.U)(()=>{})),this.selectionChange=new d.vpe,this.valueChange=new d.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==xn?void 0:xn.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=xn.typeaheadDebounceInterval),this._scrollStrategyFactory=un,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(di)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(u){this._placeholder=u,this.stateChanges.next()}get required(){var u,w,z,Z;return null!==(Z=null!==(u=this._required)&&void 0!==u?u:null===(z=null===(w=this.ngControl)||void 0===w?void 0:w.control)||void 0===z?void 0:z.hasValidator(Y.kI.required))&&void 0!==Z&&Z}set required(u){this._required=(0,Qi.Ig)(u),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(u){this._multiple=(0,Qi.Ig)(u)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(u){this._disableOptionCentering=(0,Qi.Ig)(u)}get compareWith(){return this._compareWith}set compareWith(u){this._compareWith=u,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(u){this._assignValue(u)&&this._onChange(u)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(u){this._typeaheadDebounceInterval=(0,Qi.su)(u)}get id(){return this._id}set id(u){this._id=u||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new Tf(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,ah.x)(),(0,pc.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,pc.R)(this._destroy)).subscribe(u=>{u.added.forEach(w=>w.select()),u.removed.forEach(w=>w.deselect())}),this.options.changes.pipe((0,ho.O)(null),(0,pc.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const u=this._getTriggerAriaLabelledby(),w=this.ngControl;if(u!==this._triggerAriaLabelledBy){const z=this._elementRef.nativeElement;this._triggerAriaLabelledBy=u,u?z.setAttribute("aria-labelledby",u):z.removeAttribute("aria-labelledby")}w&&(this._previousControl!==w.control&&(void 0!==this._previousControl&&null!==w.disabled&&w.disabled!==this.disabled&&(this.disabled=w.disabled),this._previousControl=w.control),this.updateErrorState())}ngOnChanges(u){u.disabled&&this.stateChanges.next(),u.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(u){this._assignValue(u)}registerOnChange(u){this._onChange=u}registerOnTouched(u){this._onTouched=u}setDisabledState(u){this.disabled=u,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var u,w;return this.multiple?(null===(u=this._selectionModel)||void 0===u?void 0:u.selected)||[]:null===(w=this._selectionModel)||void 0===w?void 0:w.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const u=this._selectionModel.selected.map(w=>w.viewValue);return this._isRtl()&&u.reverse(),u.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(u){this.disabled||(this.panelOpen?this._handleOpenKeydown(u):this._handleClosedKeydown(u))}_handleClosedKeydown(u){const w=u.keyCode,z=w===$t.JH||w===$t.LH||w===$t.oh||w===$t.SV,Z=w===$t.K5||w===$t.L_,fe=this._keyManager;if(!fe.isTyping()&&Z&&!(0,$t.Vb)(u)||(this.multiple||u.altKey)&&z)u.preventDefault(),this.open();else if(!this.multiple){const je=this.selected;fe.onKeydown(u);const Ne=this.selected;Ne&&je!==Ne&&this._liveAnnouncer.announce(Ne.viewValue,1e4)}}_handleOpenKeydown(u){const w=this._keyManager,z=u.keyCode,Z=z===$t.JH||z===$t.LH,fe=w.isTyping();if(Z&&u.altKey)u.preventDefault(),this.close();else if(fe||z!==$t.K5&&z!==$t.L_||!w.activeItem||(0,$t.Vb)(u))if(!fe&&this._multiple&&z===$t.A&&u.ctrlKey){u.preventDefault();const je=this.options.some(Ne=>!Ne.disabled&&!Ne.selected);this.options.forEach(Ne=>{Ne.disabled||(je?Ne.select():Ne.deselect())})}else{const je=w.activeItemIndex;w.onKeydown(u),this._multiple&&Z&&u.shiftKey&&w.activeItem&&w.activeItemIndex!==je&&w.activeItem._selectViaInteraction()}else u.preventDefault(),w.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Bl.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(u){if(this._selectionModel.selected.forEach(w=>w.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&u)Array.isArray(u),u.forEach(w=>this._selectOptionByValue(w)),this._sortValues();else{const w=this._selectOptionByValue(u);w?this._keyManager.updateActiveItem(w):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(u){const w=this.options.find(z=>{if(this._selectionModel.isSelected(z))return!1;try{return null!=z.value&&this._compareWith(z.value,u)}catch(Z){return!1}});return w&&this._selectionModel.select(w),w}_assignValue(u){return!!(u!==this._value||this._multiple&&Array.isArray(u))&&(this.options&&this._setSelectionByValue(u),this._value=u,!0)}_initKeyManager(){this._keyManager=new Ic.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,pc.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,pc.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const u=(0,Ac.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,pc.R)(u)).subscribe(w=>{this._onSelect(w.source,w.isUserInput),w.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Ac.T)(...this.options.map(w=>w._stateChanges)).pipe((0,pc.R)(u)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(u,w){const z=this._selectionModel.isSelected(u);null!=u.value||this._multiple?(z!==u.selected&&(u.selected?this._selectionModel.select(u):this._selectionModel.deselect(u)),w&&this._keyManager.setActiveItem(u),this.multiple&&(this._sortValues(),w&&this.focus())):(u.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(u.value)),z!==this._selectionModel.isSelected(u)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const u=this.options.toArray();this._selectionModel.sort((w,z)=>this.sortComparator?this.sortComparator(w,z,u):u.indexOf(w)-u.indexOf(z)),this.stateChanges.next()}}_propagateChanges(u){let w=null;w=this.multiple?this.selected.map(z=>z.value):this.selected?this.selected.value:u,this._value=w,this.valueChange.emit(w),this._onChange(w),this.selectionChange.emit(this._getChangeEvent(w)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var u;return!this._panelOpen&&!this.disabled&&(null===(u=this.options)||void 0===u?void 0:u.length)>0}focus(u){this._elementRef.nativeElement.focus(u)}_getPanelAriaLabelledby(){var u;if(this.ariaLabel)return null;const w=null===(u=this._parentFormField)||void 0===u?void 0:u.getLabelId();return this.ariaLabelledby?(w?w+" ":"")+this.ariaLabelledby:w}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var u;if(this.ariaLabel)return null;const w=null===(u=this._parentFormField)||void 0===u?void 0:u.getLabelId();let z=(w?w+" ":"")+this._valueId;return this.ariaLabelledby&&(z+=" "+this.ariaLabelledby),z}_panelDoneAnimating(u){this.openedChange.emit(u)}setDescribedByIds(u){this._ariaDescribedby=u.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(al),d.Y36(d.sBO),d.Y36(d.R0b),d.Y36(ji.rD),d.Y36(d.SBq),d.Y36(rl.Is,8),d.Y36(Y.F,8),d.Y36(Y.sg,8),d.Y36(ra.G_,8),d.Y36(Y.a5,10),d.$8M("tabindex"),d.Y36(oh),d.Y36(Ic.Kd),d.Y36(xd,8))},S.\u0275dir=d.lG2({type:S,viewQuery:function(u,w){if(1&u&&(d.Gf(Sf,5),d.Gf(Cf,5),d.Gf(rh,5)),2&u){let z;d.iGM(z=d.CRH())&&(w.trigger=z.first),d.iGM(z=d.CRH())&&(w.panel=z.first),d.iGM(z=d.CRH())&&(w._overlayDir=z.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[d.qOj,d.TTD]}),S})(),wd=(()=>{class S extends lh{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(u,w,z){const Z=this._getItemHeight();return Math.min(Math.max(0,Z*u-w+Z/2),z)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,pc.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Bl.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(u){const w=(0,ji.CB)(u,this.options,this.optionGroups),z=this._getItemHeight();this.panel.nativeElement.scrollTop=0===u&&1===w?0:(0,ji.jH)((u+w)*z,z,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(u){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(u)}_getChangeEvent(u){return new hp(this,u)}_calculateOverlayOffsetX(){const u=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),w=this._viewportRuler.getViewportSize(),z=this._isRtl(),Z=this.multiple?56:32;let fe;if(this.multiple)fe=40;else if(this.disableOptionCentering)fe=16;else{let st=this._selectionModel.selected[0]||this.options.first;fe=st&&st.group?32:16}z||(fe*=-1);const je=0-(u.left+fe-(z?Z:0)),Ne=u.right+fe-w.width+(z?0:Z);je>0?fe+=je+8:Ne>0&&(fe-=Ne+8),this._overlayDir.offsetX=Math.round(fe),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(u,w,z){const Z=this._getItemHeight(),fe=(Z-this._triggerRect.height)/2,je=Math.floor(256/Z);let Ne;return this.disableOptionCentering?0:(Ne=0===this._scrollTop?u*Z:this._scrollTop===z?(u-(this._getItemCount()-je))*Z+(Z-(this._getItemCount()*Z-256)%Z):w-Z/2,Math.round(-1*Ne-fe))}_checkOverlayWithinViewport(u){const w=this._getItemHeight(),z=this._viewportRuler.getViewportSize(),Z=this._triggerRect.top-8,fe=z.height-this._triggerRect.bottom-8,je=Math.abs(this._offsetY),st=Math.min(this._getItemCount()*w,256)-je-this._triggerRect.height;st>fe?this._adjustPanelUp(st,fe):je>Z?this._adjustPanelDown(je,Z,u):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(u,w){const z=Math.round(u-w);this._scrollTop-=z,this._offsetY-=z,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(u,w,z){const Z=Math.round(u-w);if(this._scrollTop+=Z,this._offsetY+=Z,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=z)return this._scrollTop=z,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const u=this._getItemHeight(),w=this._getItemCount(),z=Math.min(w*u,256),fe=w*u-z;let je;je=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),je+=(0,ji.CB)(je,this.options,this.optionGroups);const Ne=z/2;this._scrollTop=this._calculateOverlayScroll(je,Ne,fe),this._offsetY=this._calculateOverlayOffsetY(je,Ne,fe),this._checkOverlayWithinViewport(fe)}_getOriginBasedOnOption(){const u=this._getItemHeight(),w=(u-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-w+u/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return S.\u0275fac=function(){let L;return function(w){return(L||(L=d.n5z(S)))(w||S)}}(),S.\u0275cmp=d.Xpm({type:S,selectors:[["mat-select"]],contentQueries:function(u,w,z){if(1&u&&(d.Suo(z,$u,5),d.Suo(z,ji.ey,5),d.Suo(z,ji.K7,5)),2&u){let Z;d.iGM(Z=d.CRH())&&(w.customTrigger=Z.first),d.iGM(Z=d.CRH())&&(w.options=Z),d.iGM(Z=d.CRH())&&(w.optionGroups=Z)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(u,w){1&u&&d.NdJ("keydown",function(Z){return w._handleKeydown(Z)})("focus",function(){return w._onFocus()})("blur",function(){return w._onBlur()}),2&u&&(d.uIk("id",w.id)("tabindex",w.tabIndex)("aria-controls",w.panelOpen?w.id+"-panel":null)("aria-expanded",w.panelOpen)("aria-label",w.ariaLabel||null)("aria-required",w.required.toString())("aria-disabled",w.disabled.toString())("aria-invalid",w.errorState)("aria-describedby",w._ariaDescribedby||null)("aria-activedescendant",w._getAriaActiveDescendant()),d.ekj("mat-select-disabled",w.disabled)("mat-select-invalid",w.errorState)("mat-select-required",w.required)("mat-select-empty",w.empty)("mat-select-multiple",w.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[d._Bn([{provide:ra.Eo,useExisting:S},{provide:ji.HF,useExisting:S}]),d.qOj],ngContentSelectors:Af,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(u,w){if(1&u&&(d.F$t(Ef),d.TgZ(0,"div",0,1),d.NdJ("click",function(){return w.toggle()}),d.TgZ(3,"div",2),d.YNc(4,sh,2,1,"span",3),d.YNc(5,Kc,3,2,"span",4),d.qZA(),d.TgZ(6,"div",5),d._UZ(7,"div",6),d.qZA()(),d.YNc(8,Zu,4,14,"ng-template",7),d.NdJ("backdropClick",function(){return w.close()})("attach",function(){return w._onAttached()})("detach",function(){return w.close()})),2&u){const z=d.MAs(1);d.uIk("aria-owns",w.panelOpen?w.id+"-panel":null),d.xp6(3),d.Q6J("ngSwitch",w.empty),d.uIk("id",w._valueId),d.xp6(1),d.Q6J("ngSwitchCase",!0),d.xp6(1),d.Q6J("ngSwitchCase",!1),d.xp6(3),d.Q6J("cdkConnectedOverlayPanelClass",w._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",w._scrollStrategy)("cdkConnectedOverlayOrigin",z)("cdkConnectedOverlayOpen",w.panelOpen)("cdkConnectedOverlayPositions",w._positions)("cdkConnectedOverlayMinWidth",null==w._triggerRect?null:w._triggerRect.width)("cdkConnectedOverlayOffsetY",w._offsetY)}},dependencies:[Pc,A.RF,A.n9,A.ED,rh,A.mk],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[up.transformPanelWrap,up.transformPanel]},changeDetection:0}),S})(),If=(()=>{class S{}return S.\u0275fac=function(u){return new(u||S)},S.\u0275mod=d.oAB({type:S}),S.\u0275inj=d.cJS({providers:[qu],imports:[[A.ez,mu,ji.Ng,ji.BQ],fd,ra.lN,ji.Ng,ji.BQ]}),S})();const _p=["mat-calendar-body",""];function Xu(S,L){if(1&S&&(d.TgZ(0,"tr",2)(1,"td",3),d._uU(2),d.qZA()()),2&S){const u=d.oxw();d.xp6(1),d.Udp("padding-top",u._cellPadding)("padding-bottom",u._cellPadding),d.uIk("colspan",u.numCols),d.xp6(1),d.hij(" ",u.label," ")}}function Of(S,L){if(1&S&&(d.TgZ(0,"td",3),d._uU(1),d.qZA()),2&S){const u=d.oxw(2);d.Udp("padding-top",u._cellPadding)("padding-bottom",u._cellPadding),d.uIk("colspan",u._firstRowOffset),d.xp6(1),d.hij(" ",u._firstRowOffset>=u.labelMinRequiredCells?u.label:""," ")}}function ch(S,L){if(1&S){const u=d.EpF();d.TgZ(0,"td",7)(1,"button",8),d.NdJ("click",function(z){const fe=d.CHM(u).$implicit,je=d.oxw(2);return d.KtG(je._cellClicked(fe,z))}),d.TgZ(2,"div",9),d._uU(3),d.qZA(),d._UZ(4,"div",10),d.qZA()()}if(2&S){const u=L.$implicit,w=L.index,z=d.oxw().index,Z=d.oxw();d.Udp("width",Z._cellWidth)("padding-top",Z._cellPadding)("padding-bottom",Z._cellPadding),d.uIk("data-mat-row",z)("data-mat-col",w),d.xp6(1),d.ekj("mat-calendar-body-disabled",!u.enabled)("mat-calendar-body-active",Z._isActiveCell(z,w))("mat-calendar-body-range-start",Z._isRangeStart(u.compareValue))("mat-calendar-body-range-end",Z._isRangeEnd(u.compareValue))("mat-calendar-body-in-range",Z._isInRange(u.compareValue))("mat-calendar-body-comparison-bridge-start",Z._isComparisonBridgeStart(u.compareValue,z,w))("mat-calendar-body-comparison-bridge-end",Z._isComparisonBridgeEnd(u.compareValue,z,w))("mat-calendar-body-comparison-start",Z._isComparisonStart(u.compareValue))("mat-calendar-body-comparison-end",Z._isComparisonEnd(u.compareValue))("mat-calendar-body-in-comparison-range",Z._isInComparisonRange(u.compareValue))("mat-calendar-body-preview-start",Z._isPreviewStart(u.compareValue))("mat-calendar-body-preview-end",Z._isPreviewEnd(u.compareValue))("mat-calendar-body-in-preview",Z._isInPreview(u.compareValue)),d.Q6J("ngClass",u.cssClasses)("tabindex",Z._isActiveCell(z,w)?0:-1),d.uIk("aria-label",u.ariaLabel)("aria-disabled",!u.enabled||null)("aria-pressed",Z._isSelected(u.compareValue))("aria-current",Z.todayValue===u.compareValue?"date":null),d.xp6(1),d.ekj("mat-calendar-body-selected",Z._isSelected(u.compareValue))("mat-calendar-body-comparison-identical",Z._isComparisonIdentical(u.compareValue))("mat-calendar-body-today",Z.todayValue===u.compareValue),d.xp6(1),d.hij(" ",u.displayValue," ")}}function Rf(S,L){if(1&S&&(d.TgZ(0,"tr",4),d.YNc(1,Of,2,6,"td",5),d.YNc(2,ch,5,47,"td",6),d.qZA()),2&S){const u=L.$implicit,w=L.index,z=d.oxw();d.xp6(1),d.Q6J("ngIf",0===w&&z._firstRowOffset),d.xp6(1),d.Q6J("ngForOf",u)}}function uh(S,L){if(1&S&&(d.TgZ(0,"th",5)(1,"span",6),d._uU(2),d.qZA(),d.TgZ(3,"span",7),d._uU(4),d.qZA()()),2&S){const u=L.$implicit;d.xp6(2),d.Oqu(u.long),d.xp6(2),d.Oqu(u.narrow)}}const dh=["*"];function Md(S,L){}function Yf(S,L){if(1&S){const u=d.EpF();d.TgZ(0,"mat-month-view",5),d.NdJ("activeDateChange",function(z){d.CHM(u);const Z=d.oxw();return d.KtG(Z.activeDate=z)})("_userSelection",function(z){d.CHM(u);const Z=d.oxw();return d.KtG(Z._dateSelected(z))}),d.qZA()}if(2&S){const u=d.oxw();d.Q6J("activeDate",u.activeDate)("selected",u.selected)("dateFilter",u.dateFilter)("maxDate",u.maxDate)("minDate",u.minDate)("dateClass",u.dateClass)("comparisonStart",u.comparisonStart)("comparisonEnd",u.comparisonEnd)}}function zf(S,L){if(1&S){const u=d.EpF();d.TgZ(0,"mat-year-view",6),d.NdJ("activeDateChange",function(z){d.CHM(u);const Z=d.oxw();return d.KtG(Z.activeDate=z)})("monthSelected",function(z){d.CHM(u);const Z=d.oxw();return d.KtG(Z._monthSelectedInYearView(z))})("selectedChange",function(z){d.CHM(u);const Z=d.oxw();return d.KtG(Z._goToDateInView(z,"month"))}),d.qZA()}if(2&S){const u=d.oxw();d.Q6J("activeDate",u.activeDate)("selected",u.selected)("dateFilter",u.dateFilter)("maxDate",u.maxDate)("minDate",u.minDate)("dateClass",u.dateClass)}}function Ff(S,L){if(1&S){const u=d.EpF();d.TgZ(0,"mat-multi-year-view",7),d.NdJ("activeDateChange",function(z){d.CHM(u);const Z=d.oxw();return d.KtG(Z.activeDate=z)})("yearSelected",function(z){d.CHM(u);const Z=d.oxw();return d.KtG(Z._yearSelectedInMultiYearView(z))})("selectedChange",function(z){d.CHM(u);const Z=d.oxw();return d.KtG(Z._goToDateInView(z,"year"))}),d.qZA()}if(2&S){const u=d.oxw();d.Q6J("activeDate",u.activeDate)("selected",u.selected)("dateFilter",u.dateFilter)("maxDate",u.maxDate)("minDate",u.minDate)("dateClass",u.dateClass)}}function Bf(S,L){}const jf=["button"];function Vf(S,L){1&S&&(d.O4$(),d.TgZ(0,"svg",3),d._UZ(1,"path",4),d.qZA())}const Td=[[["","matDatepickerToggleIcon",""]]],Hf=["[matDatepickerToggleIcon]"];class hh{constructor(L,u,w,z,Z={},fe=L,je){this.value=L,this.displayValue=u,this.ariaLabel=w,this.enabled=z,this.cssClasses=Z,this.compareValue=fe,this.rawValue=je}}let tu=(()=>{class S{constructor(u,w){this._elementRef=u,this._ngZone=w,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new d.vpe,this.previewChange=new d.vpe,this._enterHandler=z=>{if(this._skipNextFocus&&"focus"===z.type)this._skipNextFocus=!1;else if(z.target&&this.isRange){const Z=this._getCellFromElement(z.target);Z&&this._ngZone.run(()=>this.previewChange.emit({value:Z.enabled?Z:null,event:z}))}},this._leaveHandler=z=>{null!==this.previewEnd&&this.isRange&&z.target&&this._getCellFromElement(z.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:z}))},w.runOutsideAngular(()=>{const z=u.nativeElement;z.addEventListener("mouseenter",this._enterHandler,!0),z.addEventListener("focus",this._enterHandler,!0),z.addEventListener("mouseleave",this._leaveHandler,!0),z.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(u,w){u.enabled&&this.selectedValueChange.emit({value:u.value,event:w})}_isSelected(u){return this.startValue===u||this.endValue===u}ngOnChanges(u){const w=u.numCols,{rows:z,numCols:Z}=this;(u.rows||w)&&(this._firstRowOffset=z&&z.length&&z[0].length?Z-z[0].length:0),(u.cellAspectRatio||w||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/Z+"%"),(w||!this._cellWidth)&&(this._cellWidth=100/Z+"%")}ngOnDestroy(){const u=this._elementRef.nativeElement;u.removeEventListener("mouseenter",this._enterHandler,!0),u.removeEventListener("focus",this._enterHandler,!0),u.removeEventListener("mouseleave",this._leaveHandler,!0),u.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(u,w){let z=u*this.numCols+w;return u&&(z-=this._firstRowOffset),z==this.activeCell}_focusActiveCell(u=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Bl.q)(1)).subscribe(()=>{setTimeout(()=>{const w=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");w&&(u||(this._skipNextFocus=!0),w.focus())})})})}_isRangeStart(u){return fh(u,this.startValue,this.endValue)}_isRangeEnd(u){return _h(u,this.startValue,this.endValue)}_isInRange(u){return mh(u,this.startValue,this.endValue,this.isRange)}_isComparisonStart(u){return fh(u,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(u,w,z){if(!this._isComparisonStart(u)||this._isRangeStart(u)||!this._isInRange(u))return!1;let Z=this.rows[w][z-1];if(!Z){const fe=this.rows[w-1];Z=fe&&fe[fe.length-1]}return Z&&!this._isRangeEnd(Z.compareValue)}_isComparisonBridgeEnd(u,w,z){if(!this._isComparisonEnd(u)||this._isRangeEnd(u)||!this._isInRange(u))return!1;let Z=this.rows[w][z+1];if(!Z){const fe=this.rows[w+1];Z=fe&&fe[0]}return Z&&!this._isRangeStart(Z.compareValue)}_isComparisonEnd(u){return _h(u,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(u){return mh(u,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(u){return this.comparisonStart===this.comparisonEnd&&u===this.comparisonStart}_isPreviewStart(u){return fh(u,this.previewStart,this.previewEnd)}_isPreviewEnd(u){return _h(u,this.previewStart,this.previewEnd)}_isInPreview(u){return mh(u,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(u){let w;if(ph(u)?w=u:ph(u.parentNode)&&(w=u.parentNode),w){const z=w.getAttribute("data-mat-row"),Z=w.getAttribute("data-mat-col");if(z&&Z)return this.rows[parseInt(z)][parseInt(Z)]}return null}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(d.SBq),d.Y36(d.R0b))},S.\u0275cmp=d.Xpm({type:S,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[d.TTD],attrs:_p,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(u,w){1&u&&(d.YNc(0,Xu,3,6,"tr",0),d.YNc(1,Rf,3,2,"tr",1)),2&u&&(d.Q6J("ngIf",w._firstRowOffset<w.labelMinRequiredCells),d.xp6(1),d.Q6J("ngForOf",w.rows))},dependencies:[A.O5,A.sg,A.mk],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content{outline:dotted 2px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected{outline:solid 3px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}\n'],encapsulation:2,changeDetection:0}),S})();function ph(S){return"TD"===S.nodeName}function fh(S,L,u){return null!==u&&L!==u&&S<u&&S===L}function _h(S,L,u){return null!==L&&L!==u&&S>=L&&S===u}function mh(S,L,u,w){return w&&null!==L&&null!==u&&L!==u&&S>=L&&S<=u}class Ls{constructor(L,u){this.start=L,this.end=u}}let wl=(()=>{class S{constructor(u,w){this.selection=u,this._adapter=w,this._selectionChanged=new kr.xQ,this.selectionChanged=this._selectionChanged,this.selection=u}updateSelection(u,w){const z=this.selection;this.selection=u,this._selectionChanged.next({selection:u,source:w,oldValue:z})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(u){return this._adapter.isDateInstance(u)&&this._adapter.isValid(u)}}return S.\u0275fac=function(u){d.$Z()},S.\u0275prov=d.Yz7({token:S,factory:S.\u0275fac}),S})(),kd=(()=>{class S extends wl{constructor(u){super(null,u)}add(u){super.updateSelection(u,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const u=new S(this._adapter);return u.updateSelection(this.selection,this),u}}return S.\u0275fac=function(u){return new(u||S)(d.LFG(ji._A))},S.\u0275prov=d.Yz7({token:S,factory:S.\u0275fac}),S})();const vu={provide:wl,deps:[[new d.FiY,new d.tp0,wl],ji._A],useFactory:function Wf(S,L){return S||new kd(L)}},Oc=new d.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let gh=(()=>{class S{constructor(u,w,z,Z,fe){this._changeDetectorRef=u,this._dateFormats=w,this._dateAdapter=z,this._dir=Z,this._rangeStrategy=fe,this._rerenderSubscription=ns.w.EMPTY,this.selectedChange=new d.vpe,this._userSelection=new d.vpe,this.activeDateChange=new d.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(u){const w=this._activeDate,z=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(u))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(z,this.minDate,this.maxDate),this._hasSameMonthAndYear(w,this._activeDate)||this._init()}get selected(){return this._selected}set selected(u){this._selected=u instanceof Ls?u:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(u)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(u){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(u))}get maxDate(){return this._maxDate}set maxDate(u){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(u))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,ho.O)(null)).subscribe(()=>this._init())}ngOnChanges(u){const w=u.comparisonStart||u.comparisonEnd;w&&!w.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(u){const w=u.value,z=this._dateAdapter.getYear(this.activeDate),Z=this._dateAdapter.getMonth(this.activeDate),fe=this._dateAdapter.createDate(z,Z,w);let je,Ne;this._selected instanceof Ls?(je=this._getDateInCurrentMonth(this._selected.start),Ne=this._getDateInCurrentMonth(this._selected.end)):je=Ne=this._getDateInCurrentMonth(this._selected),(je!==w||Ne!==w)&&this.selectedChange.emit(fe),this._userSelection.emit({value:fe,event:u.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(u){const w=this._activeDate,z=this._isRtl();switch(u.keyCode){case $t.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,z?1:-1);break;case $t.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,z?-1:1);break;case $t.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case $t.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case $t.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case $t.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case $t.Ku:this.activeDate=u.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case $t.VM:this.activeDate=u.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case $t.K5:case $t.L_:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&u.preventDefault());case $t.hY:return void(null!=this._previewEnd&&!(0,$t.Vb)(u)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:u}),u.preventDefault(),u.stopPropagation()));default:return}this._dateAdapter.compareDate(w,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),u.preventDefault()}_handleCalendarBodyKeyup(u){(u.keyCode===$t.L_||u.keyCode===$t.K5)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:u}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let u=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(u)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(u){this._matCalendarBody._focusActiveCell(u)}_previewChanged({event:u,value:w}){if(this._rangeStrategy){const Z=this._rangeStrategy.createPreview(w?w.rawValue:null,this.selected,u);this._previewStart=this._getCellCompareValue(Z.start),this._previewEnd=this._getCellCompareValue(Z.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const u=this._dateAdapter.getFirstDayOfWeek(),w=this._dateAdapter.getDayOfWeekNames("narrow");let Z=this._dateAdapter.getDayOfWeekNames("long").map((fe,je)=>({long:fe,narrow:w[je]}));this._weekdays=Z.slice(u).concat(Z.slice(0,u))}_createWeekCells(){const u=this._dateAdapter.getNumDaysInMonth(this.activeDate),w=this._dateAdapter.getDateNames();this._weeks=[[]];for(let z=0,Z=this._firstWeekOffset;z<u;z++,Z++){7==Z&&(this._weeks.push([]),Z=0);const fe=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),z+1),je=this._shouldEnableDate(fe),Ne=this._dateAdapter.format(fe,this._dateFormats.display.dateA11yLabel),st=this.dateClass?this.dateClass(fe,"month"):void 0;this._weeks[this._weeks.length-1].push(new hh(z+1,w[z],Ne,je,st,this._getCellCompareValue(fe),fe))}}_shouldEnableDate(u){return!!u&&(!this.minDate||this._dateAdapter.compareDate(u,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(u,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(u))}_getDateInCurrentMonth(u){return u&&this._hasSameMonthAndYear(u,this.activeDate)?this._dateAdapter.getDate(u):null}_hasSameMonthAndYear(u,w){return!(!u||!w||this._dateAdapter.getMonth(u)!=this._dateAdapter.getMonth(w)||this._dateAdapter.getYear(u)!=this._dateAdapter.getYear(w))}_getCellCompareValue(u){if(u){const w=this._dateAdapter.getYear(u),z=this._dateAdapter.getMonth(u),Z=this._dateAdapter.getDate(u);return new Date(w,z,Z).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(u){u instanceof Ls?(this._rangeStart=this._getCellCompareValue(u.start),this._rangeEnd=this._getCellCompareValue(u.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(u),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(u){return!this.dateFilter||this.dateFilter(u)}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(d.sBO),d.Y36(ji.sG,8),d.Y36(ji._A,8),d.Y36(rl.Is,8),d.Y36(Oc,8))},S.\u0275cmp=d.Xpm({type:S,selectors:[["mat-month-view"]],viewQuery:function(u,w){if(1&u&&d.Gf(tu,5),2&u){let z;d.iGM(z=d.CRH())&&(w._matCalendarBody=z.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[d.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(u,w){1&u&&(d.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),d.YNc(3,uh,5,2,"th",2),d.qZA(),d.TgZ(4,"tr"),d._UZ(5,"th",3),d.qZA()(),d.TgZ(6,"tbody",4),d.NdJ("selectedValueChange",function(Z){return w._dateSelected(Z)})("previewChange",function(Z){return w._previewChanged(Z)})("keyup",function(Z){return w._handleCalendarBodyKeyup(Z)})("keydown",function(Z){return w._handleCalendarBodyKeydown(Z)}),d.qZA()()),2&u&&(d.xp6(3),d.Q6J("ngForOf",w._weekdays),d.xp6(3),d.Q6J("label",w._monthLabel)("rows",w._weeks)("todayValue",w._todayDate)("startValue",w._rangeStart)("endValue",w._rangeEnd)("comparisonStart",w._comparisonRangeStart)("comparisonEnd",w._comparisonRangeEnd)("previewStart",w._previewStart)("previewEnd",w._previewEnd)("isRange",w._isRange)("labelMinRequiredCells",3)("activeCell",w._dateAdapter.getDate(w.activeDate)-1))},dependencies:[tu,A.sg],encapsulation:2,changeDetection:0}),S})(),yh=(()=>{class S{constructor(u,w,z){this._changeDetectorRef=u,this._dateAdapter=w,this._dir=z,this._rerenderSubscription=ns.w.EMPTY,this.selectedChange=new d.vpe,this.yearSelected=new d.vpe,this.activeDateChange=new d.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(u){let w=this._activeDate;const z=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(u))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(z,this.minDate,this.maxDate),gp(this._dateAdapter,w,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(u){this._selected=u instanceof Ls?u:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(u)),this._setSelectedYear(u)}get minDate(){return this._minDate}set minDate(u){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(u))}get maxDate(){return this._maxDate}set maxDate(u){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(u))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,ho.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const w=this._dateAdapter.getYear(this._activeDate)-Qu(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let z=0,Z=[];z<24;z++)Z.push(w+z),4==Z.length&&(this._years.push(Z.map(fe=>this._createCellForYear(fe))),Z=[]);this._changeDetectorRef.markForCheck()}_yearSelected(u){const w=u.value;this.yearSelected.emit(this._dateAdapter.createDate(w,0,1));let z=this._dateAdapter.getMonth(this.activeDate),Z=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(w,z,1));this.selectedChange.emit(this._dateAdapter.createDate(w,z,Math.min(this._dateAdapter.getDate(this.activeDate),Z)))}_handleCalendarBodyKeydown(u){const w=this._activeDate,z=this._isRtl();switch(u.keyCode){case $t.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,z?1:-1);break;case $t.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,z?-1:1);break;case $t.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case $t.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case $t.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Qu(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case $t.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Qu(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case $t.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,u.altKey?-240:-24);break;case $t.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,u.altKey?240:24);break;case $t.K5:case $t.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(w,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),u.preventDefault()}_handleCalendarBodyKeyup(u){(u.keyCode===$t.L_||u.keyCode===$t.K5)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:u}),this._selectionKeyPressed=!1)}_getActiveCell(){return Qu(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(u){const w=this._dateAdapter.createDate(u,0,1),z=this._dateAdapter.getYearName(w),Z=this.dateClass?this.dateClass(w,"multi-year"):void 0;return new hh(u,z,z,this._shouldEnableYear(u),Z)}_shouldEnableYear(u){if(null==u||this.maxDate&&u>this._dateAdapter.getYear(this.maxDate)||this.minDate&&u<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let z=this._dateAdapter.createDate(u,0,1);this._dateAdapter.getYear(z)==u;z=this._dateAdapter.addCalendarDays(z,1))if(this.dateFilter(z))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(u){if(this._selectedYear=null,u instanceof Ls){const w=u.start||u.end;w&&(this._selectedYear=this._dateAdapter.getYear(w))}else u&&(this._selectedYear=this._dateAdapter.getYear(u))}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(d.sBO),d.Y36(ji._A,8),d.Y36(rl.Is,8))},S.\u0275cmp=d.Xpm({type:S,selectors:[["mat-multi-year-view"]],viewQuery:function(u,w){if(1&u&&d.Gf(tu,5),2&u){let z;d.iGM(z=d.CRH())&&(w._matCalendarBody=z.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(u,w){1&u&&(d.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),d._UZ(3,"th",2),d.qZA()(),d.TgZ(4,"tbody",3),d.NdJ("selectedValueChange",function(Z){return w._yearSelected(Z)})("keyup",function(Z){return w._handleCalendarBodyKeyup(Z)})("keydown",function(Z){return w._handleCalendarBodyKeydown(Z)}),d.qZA()()),2&u&&(d.xp6(4),d.Q6J("rows",w._years)("todayValue",w._todayYear)("startValue",w._selectedYear)("endValue",w._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",w._getActiveCell()))},dependencies:[tu],encapsulation:2,changeDetection:0}),S})();function gp(S,L,u,w,z){const Z=S.getYear(L),fe=S.getYear(u),je=vh(S,w,z);return Math.floor((Z-je)/24)===Math.floor((fe-je)/24)}function Qu(S,L,u,w){return function Sd(S,L){return(S%L+L)%L}(S.getYear(L)-vh(S,u,w),24)}function vh(S,L,u){let w=0;return u?w=S.getYear(u)-24+1:L&&(w=S.getYear(L)),w}let bh=(()=>{class S{constructor(u,w,z,Z){this._changeDetectorRef=u,this._dateFormats=w,this._dateAdapter=z,this._dir=Z,this._rerenderSubscription=ns.w.EMPTY,this.selectedChange=new d.vpe,this.monthSelected=new d.vpe,this.activeDateChange=new d.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(u){let w=this._activeDate;const z=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(u))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(z,this.minDate,this.maxDate),this._dateAdapter.getYear(w)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(u){this._selected=u instanceof Ls?u:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(u)),this._setSelectedMonth(u)}get minDate(){return this._minDate}set minDate(u){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(u))}get maxDate(){return this._maxDate}set maxDate(u){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(u))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,ho.O)(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(u){const w=u.value,z=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),w,1);this.monthSelected.emit(z);const Z=this._dateAdapter.getNumDaysInMonth(z);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),w,Math.min(this._dateAdapter.getDate(this.activeDate),Z)))}_handleCalendarBodyKeydown(u){const w=this._activeDate,z=this._isRtl();switch(u.keyCode){case $t.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,z?1:-1);break;case $t.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,z?-1:1);break;case $t.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case $t.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case $t.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case $t.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case $t.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,u.altKey?-10:-1);break;case $t.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,u.altKey?10:1);break;case $t.K5:case $t.L_:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(w,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),u.preventDefault()}_handleCalendarBodyKeyup(u){(u.keyCode===$t.L_||u.keyCode===$t.K5)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:u}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let u=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(w=>w.map(z=>this._createCellForMonth(z,u[z]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(u){return u&&this._dateAdapter.getYear(u)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(u):null}_createCellForMonth(u,w){const z=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),u,1),Z=this._dateAdapter.format(z,this._dateFormats.display.monthYearA11yLabel),fe=this.dateClass?this.dateClass(z,"year"):void 0;return new hh(u,w.toLocaleUpperCase(),Z,this._shouldEnableMonth(u),fe)}_shouldEnableMonth(u){const w=this._dateAdapter.getYear(this.activeDate);if(null==u||this._isYearAndMonthAfterMaxDate(w,u)||this._isYearAndMonthBeforeMinDate(w,u))return!1;if(!this.dateFilter)return!0;for(let Z=this._dateAdapter.createDate(w,u,1);this._dateAdapter.getMonth(Z)==u;Z=this._dateAdapter.addCalendarDays(Z,1))if(this.dateFilter(Z))return!0;return!1}_isYearAndMonthAfterMaxDate(u,w){if(this.maxDate){const z=this._dateAdapter.getYear(this.maxDate),Z=this._dateAdapter.getMonth(this.maxDate);return u>z||u===z&&w>Z}return!1}_isYearAndMonthBeforeMinDate(u,w){if(this.minDate){const z=this._dateAdapter.getYear(this.minDate),Z=this._dateAdapter.getMonth(this.minDate);return u<z||u===z&&w<Z}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(u){this._selectedMonth=u instanceof Ls?this._getMonthInCurrentYear(u.start)||this._getMonthInCurrentYear(u.end):this._getMonthInCurrentYear(u)}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(d.sBO),d.Y36(ji.sG,8),d.Y36(ji._A,8),d.Y36(rl.Is,8))},S.\u0275cmp=d.Xpm({type:S,selectors:[["mat-year-view"]],viewQuery:function(u,w){if(1&u&&d.Gf(tu,5),2&u){let z;d.iGM(z=d.CRH())&&(w._matCalendarBody=z.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(u,w){1&u&&(d.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),d._UZ(3,"th",2),d.qZA()(),d.TgZ(4,"tbody",3),d.NdJ("selectedValueChange",function(Z){return w._monthSelected(Z)})("keyup",function(Z){return w._handleCalendarBodyKeyup(Z)})("keydown",function(Z){return w._handleCalendarBodyKeydown(Z)}),d.qZA()()),2&u&&(d.xp6(4),d.Q6J("label",w._yearLabel)("rows",w._months)("todayValue",w._todayMonth)("startValue",w._selectedMonth)("endValue",w._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",w._dateAdapter.getMonth(w.activeDate)))},dependencies:[tu],encapsulation:2,changeDetection:0}),S})(),aa=(()=>{class S{constructor(){this.changes=new kr.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(u,w){return`${u} \u2013 ${w}`}}return S.\u0275fac=function(u){return new(u||S)},S.\u0275prov=d.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),ed=0,bu=(()=>{class S{constructor(u,w,z,Z,fe){this._intl=u,this.calendar=w,this._dateAdapter=z,this._dateFormats=Z,this._buttonDescriptionId="mat-calendar-button-"+ed++,this.calendar.stateChanges.subscribe(()=>fe.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const w=this._dateAdapter.getYear(this.calendar.activeDate)-Qu(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),z=w+24-1,Z=this._dateAdapter.getYearName(this._dateAdapter.createDate(w,0,1)),fe=this._dateAdapter.getYearName(this._dateAdapter.createDate(z,0,1));return this._intl.formatYearRange(Z,fe)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(u,w){return"month"==this.calendar.currentView?this._dateAdapter.getYear(u)==this._dateAdapter.getYear(w)&&this._dateAdapter.getMonth(u)==this._dateAdapter.getMonth(w):"year"==this.calendar.currentView?this._dateAdapter.getYear(u)==this._dateAdapter.getYear(w):gp(this._dateAdapter,u,w,this.calendar.minDate,this.calendar.maxDate)}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(aa),d.Y36((0,d.Gpc)(()=>iu)),d.Y36(ji._A,8),d.Y36(ji.sG,8),d.Y36(d.sBO))},S.\u0275cmp=d.Xpm({type:S,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:dh,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(u,w){1&u&&(d.F$t(),d.TgZ(0,"div",0)(1,"div",1)(2,"button",2),d.NdJ("click",function(){return w.currentPeriodClicked()}),d.TgZ(3,"span"),d._uU(4),d.qZA(),d.O4$(),d.TgZ(5,"svg",3),d._UZ(6,"polygon",4),d.qZA()(),d.kcU(),d._UZ(7,"div",5),d.Hsn(8),d.TgZ(9,"button",6),d.NdJ("click",function(){return w.previousClicked()}),d.qZA(),d.TgZ(10,"button",7),d.NdJ("click",function(){return w.nextClicked()}),d.qZA()()()),2&u&&(d.xp6(2),d.uIk("aria-label",w.periodButtonLabel)("aria-describedby",w._buttonDescriptionId),d.xp6(1),d.uIk("id",w._buttonDescriptionId),d.xp6(1),d.Oqu(w.periodButtonText),d.xp6(1),d.ekj("mat-calendar-invert","month"!==w.calendar.currentView),d.xp6(4),d.Q6J("disabled",!w.previousEnabled()),d.uIk("aria-label",w.prevButtonLabel),d.xp6(1),d.Q6J("disabled",!w.nextEnabled()),d.uIk("aria-label",w.nextButtonLabel))},dependencies:[Wt.lW],encapsulation:2,changeDetection:0}),S})(),iu=(()=>{class S{constructor(u,w,z,Z){this._dateAdapter=w,this._dateFormats=z,this._changeDetectorRef=Z,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new d.vpe,this.yearSelected=new d.vpe,this.monthSelected=new d.vpe,this.viewChanged=new d.vpe(!0),this._userSelection=new d.vpe,this.stateChanges=new kr.xQ,this._intlChanges=u.changes.subscribe(()=>{Z.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(u){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(u))}get selected(){return this._selected}set selected(u){this._selected=u instanceof Ls?u:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(u))}get minDate(){return this._minDate}set minDate(u){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(u))}get maxDate(){return this._maxDate}set maxDate(u){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(u))}get activeDate(){return this._clampedActiveDate}set activeDate(u){this._clampedActiveDate=this._dateAdapter.clampDate(u,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(u){const w=this._currentView!==u?u:null;this._currentView=u,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),w&&this.viewChanged.emit(w)}ngAfterContentInit(){this._calendarHeaderPortal=new Bu(this.headerComponent||bu),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(u){const w=u.minDate&&!this._dateAdapter.sameDate(u.minDate.previousValue,u.minDate.currentValue)?u.minDate:void 0,z=u.maxDate&&!this._dateAdapter.sameDate(u.maxDate.previousValue,u.maxDate.currentValue)?u.maxDate:void 0,Z=w||z||u.dateFilter;if(Z&&!Z.firstChange){const fe=this._getCurrentViewComponent();fe&&(this._changeDetectorRef.detectChanges(),fe._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(u){const w=u.value;(this.selected instanceof Ls||w&&!this._dateAdapter.sameDate(w,this.selected))&&this.selectedChange.emit(w),this._userSelection.emit(u)}_yearSelectedInMultiYearView(u){this.yearSelected.emit(u)}_monthSelectedInYearView(u){this.monthSelected.emit(u)}_goToDateInView(u,w){this.activeDate=u,this.currentView=w}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(aa),d.Y36(ji._A,8),d.Y36(ji.sG,8),d.Y36(d.sBO))},S.\u0275cmp=d.Xpm({type:S,selectors:[["mat-calendar"]],viewQuery:function(u,w){if(1&u&&(d.Gf(gh,5),d.Gf(bh,5),d.Gf(yh,5)),2&u){let z;d.iGM(z=d.CRH())&&(w.monthView=z.first),d.iGM(z=d.CRH())&&(w.yearView=z.first),d.iGM(z=d.CRH())&&(w.multiYearView=z.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[d._Bn([vu]),d.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(u,w){1&u&&(d.YNc(0,Md,0,0,"ng-template",0),d.TgZ(1,"div",1),d.YNc(2,Yf,1,8,"mat-month-view",2),d.YNc(3,zf,1,6,"mat-year-view",3),d.YNc(4,Ff,1,6,"mat-multi-year-view",4),d.qZA()),2&u&&(d.Q6J("cdkPortalOutlet",w._calendarHeaderPortal),d.xp6(1),d.Q6J("ngSwitch",w.currentView),d.xp6(1),d.Q6J("ngSwitchCase","month"),d.xp6(1),d.Q6J("ngSwitchCase","year"),d.xp6(1),d.Q6J("ngSwitchCase","multi-year"))},dependencies:[gh,bh,yh,fu,Ic.kH,A.RF,A.n9],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),S})();const xh={transformPanel:(0,ui.X$)("transformPanel",[(0,ui.eR)("void => enter-dropdown",(0,ui.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,ui.F4)([(0,ui.oB)({opacity:0,transform:"scale(1, 0.8)"}),(0,ui.oB)({opacity:1,transform:"scale(1, 1)"})]))),(0,ui.eR)("void => enter-dialog",(0,ui.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,ui.F4)([(0,ui.oB)({opacity:0,transform:"scale(0.7)"}),(0,ui.oB)({transform:"none",opacity:1})]))),(0,ui.eR)("* => void",(0,ui.jt)("100ms linear",(0,ui.oB)({opacity:0})))]),fadeInCalendar:(0,ui.X$)("fadeInCalendar",[(0,ui.SB)("void",(0,ui.oB)({opacity:0})),(0,ui.SB)("enter",(0,ui.oB)({opacity:1})),(0,ui.eR)("void => *",(0,ui.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let yp=0;const vp=new d.OlP("mat-datepicker-scroll-strategy"),Xf={provide:vp,deps:[Hl],useFactory:function $f(S){return()=>S.scrollStrategies.reposition()}},Jf=(0,ji.pj)(class{constructor(S){this._elementRef=S}});let Kf=(()=>{class S extends Jf{constructor(u,w,z,Z,fe,je){super(u),this._changeDetectorRef=w,this._globalModel=z,this._dateAdapter=Z,this._rangeSelectionStrategy=fe,this._subscriptions=new ns.w,this._animationDone=new kr.xQ,this._actionsPortal=null,this._closeButtonText=je.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(u){const w=this._model.selection,z=u.value,Z=w instanceof Ls;if(Z&&this._rangeSelectionStrategy){const fe=this._rangeSelectionStrategy.selectionFinished(z,w,u.event);this._model.updateSelection(fe,this)}else z&&(Z||!this._dateAdapter.sameDate(z,w))&&this._model.add(z);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(wl),d.Y36(ji._A),d.Y36(Oc,8),d.Y36(aa))},S.\u0275cmp=d.Xpm({type:S,selectors:[["mat-datepicker-content"]],viewQuery:function(u,w){if(1&u&&d.Gf(iu,5),2&u){let z;d.iGM(z=d.CRH())&&(w._calendar=z.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(u,w){1&u&&d.WFA("@transformPanel.done",function(){return w._animationDone.next()}),2&u&&(d.d8E("@transformPanel",w._animationState),d.ekj("mat-datepicker-content-touch",w.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[d.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(u,w){if(1&u&&(d.TgZ(0,"div",0)(1,"mat-calendar",1),d.NdJ("yearSelected",function(Z){return w.datepicker._selectYear(Z)})("monthSelected",function(Z){return w.datepicker._selectMonth(Z)})("viewChanged",function(Z){return w.datepicker._viewChanged(Z)})("_userSelection",function(Z){return w._handleUserSelection(Z)}),d.qZA(),d.YNc(2,Bf,0,0,"ng-template",2),d.TgZ(3,"button",3),d.NdJ("focus",function(){return w._closeButtonFocused=!0})("blur",function(){return w._closeButtonFocused=!1})("click",function(){return w.datepicker.close()}),d._uU(4),d.qZA()()),2&u){let z;d.ekj("mat-datepicker-content-container-with-custom-header",w.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",w._actionsPortal),d.uIk("aria-modal",!0)("aria-labelledby",null!==(z=w._dialogLabelId)&&void 0!==z?z:void 0),d.xp6(1),d.Q6J("id",w.datepicker.id)("ngClass",w.datepicker.panelClass)("startAt",w.datepicker.startAt)("startView",w.datepicker.startView)("minDate",w.datepicker._getMinDate())("maxDate",w.datepicker._getMaxDate())("dateFilter",w.datepicker._getDateFilter())("headerComponent",w.datepicker.calendarHeaderComponent)("selected",w._getSelected())("dateClass",w.datepicker.dateClass)("comparisonStart",w.comparisonStart)("comparisonEnd",w.comparisonEnd)("@fadeInCalendar","enter"),d.xp6(1),d.Q6J("cdkPortalOutlet",w._actionsPortal),d.xp6(1),d.ekj("cdk-visually-hidden",!w._closeButtonFocused),d.Q6J("color",w.color||"primary"),d.xp6(1),d.Oqu(w._closeButtonText)}},dependencies:[iu,Wt.lW,Ic.mK,A.mk,fu],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[xh.transformPanel,xh.fadeInCalendar]},changeDetection:0}),S})(),bp=(()=>{class S{constructor(u,w,z,Z,fe,je,Ne){this._overlay=u,this._ngZone=w,this._viewContainerRef=z,this._dateAdapter=fe,this._dir=je,this._model=Ne,this._inputStateChanges=ns.w.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new d.vpe,this.monthSelected=new d.vpe,this.viewChanged=new d.vpe(!0),this.openedStream=new d.vpe,this.closedStream=new d.vpe,this._opened=!1,this.id="mat-datepicker-"+yp++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new kr.xQ,this._scrollStrategy=Z}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(u){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(u))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(u){this._color=u}get touchUi(){return this._touchUi}set touchUi(u){this._touchUi=(0,Qi.Ig)(u)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(u){const w=(0,Qi.Ig)(u);w!==this._disabled&&(this._disabled=w,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(u){this._restoreFocus=(0,Qi.Ig)(u)}get panelClass(){return this._panelClass}set panelClass(u){this._panelClass=(0,Qi.du)(u)}get opened(){return this._opened}set opened(u){(0,Qi.Ig)(u)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(u){const w=u.xPosition||u.yPosition;if(w&&!w.firstChange&&this._overlayRef){const z=this._overlayRef.getConfig().positionStrategy;z instanceof Vl&&(this._setConnectedPositions(z),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(u){this._model.add(u)}_selectYear(u){this.yearSelected.emit(u)}_selectMonth(u){this.monthSelected.emit(u)}_viewChanged(u){this.viewChanged.emit(u)}registerInput(u){return this._inputStateChanges.unsubscribe(),this.datepickerInput=u,this._inputStateChanges=u.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(u){this._actionsPortal=u}removeActions(u){u===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=(0,Hs.ht)(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const w=this._componentRef.instance;w._startExitAnimation(),w._animationDone.pipe((0,Bl.q)(1)).subscribe(()=>this._destroyOverlay())}const u=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(u)):u()}_applyPendingSelection(){var u,w;null===(w=null===(u=this._componentRef)||void 0===u?void 0:u.instance)||void 0===w||w._applyPendingSelection()}_forwardContentValues(u){u.datepicker=this,u.color=this.color,u._actionsPortal=this._actionsPortal,u._dialogLabelId=this.datepickerInput.getOverlayLabelId()}_openOverlay(){this._destroyOverlay();const u=this.touchUi,w=new Bu(Kf,this._viewContainerRef),z=this._overlayRef=this._overlay.create(new Gr({positionStrategy:u?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[u?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:u?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(u?"dialog":"popup")}));this._getCloseStream(z).subscribe(Z=>{Z&&Z.preventDefault(),this.close()}),z.keydownEvents().subscribe(Z=>{const fe=Z.keyCode;(fe===$t.LH||fe===$t.JH||fe===$t.oh||fe===$t.SV||fe===$t.Ku||fe===$t.VM)&&Z.preventDefault()}),this._componentRef=z.attach(w),this._forwardContentValues(this._componentRef.instance),u||this._ngZone.onStable.pipe((0,Bl.q)(1)).subscribe(()=>z.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const u=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(u)}_setConnectedPositions(u){const w="end"===this.xPosition?"end":"start",z="start"===w?"end":"start",Z="above"===this.yPosition?"bottom":"top",fe="top"===Z?"bottom":"top";return u.withPositions([{originX:w,originY:fe,overlayX:w,overlayY:Z},{originX:w,originY:Z,overlayX:w,overlayY:fe},{originX:z,originY:fe,overlayX:z,overlayY:Z},{originX:z,originY:Z,overlayX:z,overlayY:fe}])}_getCloseStream(u){return(0,Ac.T)(u.backdropClick(),u.detachments(),u.keydownEvents().pipe((0,dc.h)(w=>w.keyCode===$t.hY&&!(0,$t.Vb)(w)||this.datepickerInput&&(0,$t.Vb)(w,"altKey")&&w.keyCode===$t.LH)))}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(Hl),d.Y36(d.R0b),d.Y36(d.s_b),d.Y36(vp),d.Y36(ji._A,8),d.Y36(rl.Is,8),d.Y36(wl))},S.\u0275dir=d.lG2({type:S,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[d.TTD]}),S})(),td=(()=>{class S extends bp{}return S.\u0275fac=function(){let L;return function(w){return(L||(L=d.n5z(S)))(w||S)}}(),S.\u0275cmp=d.Xpm({type:S,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[d._Bn([vu,{provide:bp,useExisting:S}]),d.qOj],decls:0,vars:0,template:function(u,w){},encapsulation:2,changeDetection:0}),S})();class Cd{constructor(L,u){this.target=L,this.targetElement=u,this.value=this.target.value}}let xp=(()=>{class S{constructor(u,w,z){this._elementRef=u,this._dateAdapter=w,this._dateFormats=z,this.dateChange=new d.vpe,this.dateInput=new d.vpe,this.stateChanges=new kr.xQ,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=ns.w.EMPTY,this._localeSubscription=ns.w.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=Z=>{const fe=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z.value));return!fe||this._matchesFilter(fe)?null:{matDatepickerFilter:!0}},this._minValidator=Z=>{const fe=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z.value)),je=this._getMinDate();return!je||!fe||this._dateAdapter.compareDate(je,fe)<=0?null:{matDatepickerMin:{min:je,actual:fe}}},this._maxValidator=Z=>{const fe=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(Z.value)),je=this._getMaxDate();return!je||!fe||this._dateAdapter.compareDate(je,fe)>=0?null:{matDatepickerMax:{max:je,actual:fe}}},this._lastValueValid=!1,this._localeSubscription=w.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(u){this._assignValueProgrammatically(u)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(u){const w=(0,Qi.Ig)(u),z=this._elementRef.nativeElement;this._disabled!==w&&(this._disabled=w,this.stateChanges.next(void 0)),w&&this._isInitialized&&z.blur&&z.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(u){this._model=u,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(w=>{if(this._shouldHandleChangeEvent(w)){const z=this._getValueFromModel(w.selection);this._lastValueValid=this._isValidValue(z),this._cvaOnChange(z),this._onTouched(),this._formatValue(z),this.dateInput.emit(new Cd(this,this._elementRef.nativeElement)),this.dateChange.emit(new Cd(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(u){(function wp(S,L){const u=Object.keys(S);for(let w of u){const{previousValue:z,currentValue:Z}=S[w];if(!L.isDateInstance(z)||!L.isDateInstance(Z))return!0;if(!L.sameDate(z,Z))return!0}return!1})(u,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(u){this._validatorOnChange=u}validate(u){return this._validator?this._validator(u):null}writeValue(u){this._assignValueProgrammatically(u)}registerOnChange(u){this._cvaOnChange=u}registerOnTouched(u){this._onTouched=u}setDisabledState(u){this.disabled=u}_onKeydown(u){u.altKey&&u.keyCode===$t.JH&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),u.preventDefault())}_onInput(u){const w=this._lastValueValid;let z=this._dateAdapter.parse(u,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(z),z=this._dateAdapter.getValidDateOrNull(z);const Z=!this._dateAdapter.sameDate(z,this.value);!z||Z?this._cvaOnChange(z):(u&&!this.value&&this._cvaOnChange(z),w!==this._lastValueValid&&this._validatorOnChange()),Z&&(this._assignValue(z),this.dateInput.emit(new Cd(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Cd(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(u){this._elementRef.nativeElement.value=null!=u?this._dateAdapter.format(u,this._dateFormats.display.dateInput):""}_assignValue(u){this._model?(this._assignValueToModel(u),this._pendingValue=null):this._pendingValue=u}_isValidValue(u){return!u||this._dateAdapter.isValid(u)}_parentDisabled(){return!1}_assignValueProgrammatically(u){u=this._dateAdapter.deserialize(u),this._lastValueValid=this._isValidValue(u),u=this._dateAdapter.getValidDateOrNull(u),this._assignValue(u),this._formatValue(u)}_matchesFilter(u){const w=this._getDateFilter();return!w||w(u)}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(d.SBq),d.Y36(ji._A,8),d.Y36(ji.sG,8))},S.\u0275dir=d.lG2({type:S,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[d.TTD]}),S})();const Mp={provide:Y.JU,useExisting:(0,d.Gpc)(()=>Ed),multi:!0},Qf={provide:Y.Cf,useExisting:(0,d.Gpc)(()=>Ed),multi:!0};let Ed=(()=>{class S extends xp{constructor(u,w,z,Z){super(u,w,z),this._formField=Z,this._closedSubscription=ns.w.EMPTY,this._validator=Y.kI.compose(super._getValidators())}set matDatepicker(u){u&&(this._datepicker=u,this._closedSubscription=u.closedStream.subscribe(()=>this._onTouched()),this._registerModel(u.registerInput(this)))}get min(){return this._min}set min(u){const w=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(u));this._dateAdapter.sameDate(w,this._min)||(this._min=w,this._validatorOnChange())}get max(){return this._max}set max(u){const w=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(u));this._dateAdapter.sameDate(w,this._max)||(this._max=w,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(u){const w=this._matchesFilter(this.value);this._dateFilter=u,this._matchesFilter(this.value)!==w&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(u){return u}_assignValueToModel(u){this._model&&this._model.updateSelection(u,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(u){return u.source!==this}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(d.SBq),d.Y36(ji._A,8),d.Y36(ji.sG,8),d.Y36(ra.G_,8))},S.\u0275dir=d.lG2({type:S,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(u,w){1&u&&d.NdJ("input",function(Z){return w._onInput(Z.target.value)})("change",function(){return w._onChange()})("blur",function(){return w._onBlur()})("keydown",function(Z){return w._onKeydown(Z)}),2&u&&(d.Ikx("disabled",w.disabled),d.uIk("aria-haspopup",w._datepicker?"dialog":null)("aria-owns",(null==w._datepicker?null:w._datepicker.opened)&&w._datepicker.id||null)("min",w.min?w._dateAdapter.toIso8601(w.min):null)("max",w.max?w._dateAdapter.toIso8601(w.max):null)("data-mat-calendar",w._datepicker?w._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[d._Bn([Mp,Qf,{provide:Lc.Jk,useExisting:S}]),d.qOj]}),S})(),e_=(()=>{class S{}return S.\u0275fac=function(u){return new(u||S)},S.\u0275dir=d.lG2({type:S,selectors:[["","matDatepickerToggleIcon",""]]}),S})(),Tp=(()=>{class S{constructor(u,w,z){this._intl=u,this._changeDetectorRef=w,this._stateChanges=ns.w.EMPTY;const Z=Number(z);this.tabIndex=Z||0===Z?Z:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(u){this._disabled=(0,Qi.Ig)(u)}ngOnChanges(u){u.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(u){this.datepicker&&!this.disabled&&(this.datepicker.open(),u.stopPropagation())}_watchStateChanges(){const u=this.datepicker?this.datepicker.stateChanges:(0,Ru.of)(),w=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,Ru.of)(),z=this.datepicker?(0,Ac.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,Ru.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,Ac.T)(this._intl.changes,u,w,z).subscribe(()=>this._changeDetectorRef.markForCheck())}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(aa),d.Y36(d.sBO),d.$8M("tabindex"))},S.\u0275cmp=d.Xpm({type:S,selectors:[["mat-datepicker-toggle"]],contentQueries:function(u,w,z){if(1&u&&d.Suo(z,e_,5),2&u){let Z;d.iGM(Z=d.CRH())&&(w._customIcon=Z.first)}},viewQuery:function(u,w){if(1&u&&d.Gf(jf,5),2&u){let z;d.iGM(z=d.CRH())&&(w._button=z.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(u,w){1&u&&d.NdJ("click",function(Z){return w._open(Z)}),2&u&&(d.uIk("tabindex",null)("data-mat-calendar",w.datepicker?w.datepicker.id:null),d.ekj("mat-datepicker-toggle-active",w.datepicker&&w.datepicker.opened)("mat-accent",w.datepicker&&"accent"===w.datepicker.color)("mat-warn",w.datepicker&&"warn"===w.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[d.TTD],ngContentSelectors:Hf,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(u,w){1&u&&(d.F$t(Td),d.TgZ(0,"button",0,1),d.YNc(2,Vf,2,0,"svg",2),d.Hsn(3),d.qZA()),2&u&&(d.Q6J("disabled",w.disabled)("disableRipple",w.disableRipple),d.uIk("aria-haspopup",w.datepicker?"dialog":null)("aria-label",w.ariaLabel||w._intl.openCalendarLabel)("tabindex",w.disabled?-1:w.tabIndex),d.xp6(2),d.Q6J("ngIf",!w._customIcon))},dependencies:[Wt.lW,A.O5],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),S})(),i_=(()=>{class S{}return S.\u0275fac=function(u){return new(u||S)},S.\u0275mod=d.oAB({type:S}),S.\u0275inj=d.cJS({providers:[aa,Xf],imports:[[A.ez,Wt.ot,mu,Ic.rt,Ec,ji.BQ],fd]}),S})();function n_(S,L){if(1&S&&(d.TgZ(0,"mat-option",29),d._uU(1),d.qZA()),2&S){const u=L.$implicit;d.Q6J("value",u),d.xp6(1),d.hij(" ",u.nombreComercial," ")}}function Dp(S,L){if(1&S&&(d.TgZ(0,"mat-option",29),d._uU(1),d.qZA()),2&S){const u=L.$implicit;d.Q6J("value",u.uid),d.xp6(1),d.AsE(" ",u.nombres,"(",u.puesto,") ")}}function Lp(S,L){if(1&S&&(d.TgZ(0,"mat-option",29),d._uU(1),d.qZA()),2&S){const u=L.$implicit;d.Q6J("value",u.situacion),d.xp6(1),d.hij(" ",u.descripcion," ")}}function Sp(S,L){if(1&S){const u=d.EpF();d.TgZ(0,"tr")(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td")(8,"button",30),d.NdJ("click",function(){const Z=d.CHM(u).$implicit,fe=d.oxw();return d.KtG(fe.editPlannedForm(Z))}),d.TgZ(9,"mat-icon"),d._uU(10,"edit"),d.qZA()()()()}if(2&S){const u=L.$implicit;d.xp6(2),d.hij(" ",u.idPlanned," "),d.xp6(2),d.hij(" ",u.cliente.nombreComercial," "),d.xp6(2),d.hij(" ",u.usuario.nombres," ")}}let Cn=(()=>{class S{constructor(u,w,z){this.apiService=u,this.fb=w,this.toastr=z,this.plannedState=[{situacion:"P",descripcion:"PENDIENTE"},{situacion:"E",descripcion:"EN PROCESO"},{situacion:"F",descripcion:"FINALIZADA"},{situacion:"C",descripcion:"CANCELAR"}],this.plannedForm=this.createPlannedForm(),this.plannedForm.controls.idPlanned.disable()}ngOnInit(){this.getCustomers(),this.getUsers(),this.getPlanneds()}createPlannedForm(u){let w;return null!=u&&u.cliente&&(w=this.customerList.find(z=>z.idcliente==u.idCliente)),this.fb.group({uid:(null==u?void 0:u.uid)||"",idPlanned:(null==u?void 0:u.idPlanned)||"",idCliente:(null==u?void 0:u.idCliente)||"",cliente:[w||"",[Y.kI.required]],usuario:[(null==u?void 0:u.usuario._id)||"",[Y.kI.required]],descripcion:[(null==u?void 0:u.descripcion)||"",[Y.kI.required]],fecha_programada:[(null==u?void 0:u.fecha_programada)||"",[Y.kI.required]],situacion:[(null==u?void 0:u.situacion)||"",[Y.kI.required]]})}formValidation(){this.plannedForm.invalid?this.plannedForm.markAllAsTouched():this.plannedForm.controls.uid.value?this.updatePlanned():this.savePlanned()}resetForm(){this.plannedForm=this.createPlannedForm(),this.plannedForm.controls.idPlanned.disable()}editPlannedForm(u){this.plannedForm=this.createPlannedForm(u),this.plannedForm.controls.idPlanned.disable()}savePlanned(){const u=this.plannedForm.getRawValue(),{fecha_programada:z,situacion:Z,usuario:fe}=u,je=uc(u,["uid","fecha_programada","situacion","usuario"]);this.apiService.post("planneds",{idCliente:je.cliente.idcliente,cliente:je.cliente.uid,usuario:fe,descripcion:je.descripcion,fecha_programada:z,situacion:Z}).subscribe(Ne=>{this.toastr.success("SATISFACTORIO","REGISTRO GUARDADO EXISTOSAMENTE",{timeOut:8e3,closeButton:!0,enableHtml:!0,toastClass:"alert alert-success alert-with-icon",positionClass:"toast-top-right"}),this.getPlanneds()},Ne=>{console.error(Ne)})}updatePlanned(){const u=this.plannedForm.getRawValue(),{uid:w,fecha_programada:z,situacion:Z,usuario:fe}=u,je=uc(u,["uid","fecha_programada","situacion","usuario"]);this.apiService.put(`planneds/${w}`,{idCliente:je.cliente.idcliente,cliente:je.cliente.uid,descripcion:je.descripcion,usuario:fe,fecha_programada:z,situacion:Z}).subscribe(Ne=>{this.toastr.success("SATISFACTORIO","REGISTRO ACTUALIZADO EXISTOSAMENTE",{timeOut:8e3,closeButton:!0,enableHtml:!0,toastClass:"alert alert-success alert-with-icon",positionClass:"toast-top-right"}),this.getPlanneds()},Ne=>{console.error(Ne)})}getCustomers(){this.apiService.get("clientes").subscribe(u=>{this.customerList=u.datos},u=>{console.error(u)})}getUsers(){this.apiService.get("usuarios").subscribe(u=>{this.userList=u.usuarios},u=>{console.error(u)})}getPlanneds(){this.apiService.get("planneds").subscribe(u=>{this.plannedList=u.datos},u=>{console.error(u)})}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(a.s),d.Y36(Y.qu),d.Y36(Iu._W))},S.\u0275cmp=d.Xpm({type:S,selectors:[["app-planned"]],decls:79,vars:7,consts:[[1,"panel-header","panel-header-sm"],[1,"main-content"],[1,"row"],[1,"col-md-5"],[1,"card"],[1,"card-header"],[1,"title"],[1,"card-body",3,"formGroup"],[1,"col"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Castillo Robles","autocomplete","off","formControlName","idPlanned"],["name","clientes","formControlName","cliente"],[3,"value",4,"ngFor","ngForOf"],["name","tecnicos","formControlName","usuario"],["matInput","","formControlName","fecha_programada",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","placeholder","Descripcion de la planeaci\xf3n","autocomplete","off","formControlName","descripcion"],["name","plannedStatus","formControlName","situacion"],[1,"col-6"],[1,"btn","btn-primary","mt-4",2,"width","100%",3,"click"],[1,"btn","btn-default","mt-4",2,"width","100%",3,"click"],[1,"col-md-7"],[1,"card-title"],[1,"card-body"],[1,"table-responsive",2,"max-height","420px"],[1,"table"],[1,"fontTableBody"],[4,"ngFor","ngForOf"],[3,"value"],["mat-icon-button","",3,"click"]],template:function(u,w){if(1&u&&(d._UZ(0,"div",0),d.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),d._uU(7,"Planificaciones"),d.qZA()(),d.TgZ(8,"div",7)(9,"div",2)(10,"div",8)(11,"mat-form-field",9)(12,"mat-label"),d._uU(13,"N\xfamero de Planificaci\xf3n"),d.qZA(),d._UZ(14,"input",10),d.qZA()()(),d.TgZ(15,"div",2)(16,"div",8)(17,"mat-form-field",9)(18,"mat-label"),d._uU(19,"Cliente a Asignar "),d.qZA(),d.TgZ(20,"mat-select",11),d.YNc(21,n_,2,2,"mat-option",12),d.qZA()()()(),d.TgZ(22,"div",2)(23,"div",8)(24,"mat-form-field",9)(25,"mat-label"),d._uU(26,"T\xe9cnico a Asignar "),d.qZA(),d.TgZ(27,"mat-select",13),d.YNc(28,Dp,2,3,"mat-option",12),d.qZA()()()(),d.TgZ(29,"div",2)(30,"div",8)(31,"mat-form-field",9)(32,"mat-label"),d._uU(33,"Fecha Programacion"),d.qZA(),d._UZ(34,"input",14)(35,"mat-datepicker-toggle",15)(36,"mat-datepicker",null,16),d.qZA()()(),d.TgZ(38,"div",2)(39,"div",8)(40,"mat-form-field",9)(41,"mat-label"),d._uU(42,"Descripcion"),d.qZA(),d._UZ(43,"input",17),d.qZA()()(),d.TgZ(44,"div",2)(45,"div",8)(46,"mat-form-field",9)(47,"mat-label"),d._uU(48,"Estado Planificacion "),d.qZA(),d.TgZ(49,"mat-select",18),d.YNc(50,Lp,2,2,"mat-option",12),d.qZA()()()(),d.TgZ(51,"div",2)(52,"div",19)(53,"button",20),d.NdJ("click",function(){return w.formValidation()}),d._uU(54,"Guardar"),d.qZA()(),d.TgZ(55,"div",19)(56,"button",21),d.NdJ("click",function(){return w.resetForm()}),d._uU(57,"Limpiar"),d.qZA()()()()()(),d.TgZ(58,"div",22)(59,"div",4)(60,"div",5)(61,"h4",23),d._uU(62," Listado de Planificaciones"),d.qZA()(),d.TgZ(63,"div",24)(64,"div",2)(65,"div",8)(66,"div",25)(67,"table",26)(68,"thead")(69,"th"),d._uU(70,"Planificaci\xf3n"),d.qZA(),d.TgZ(71,"th"),d._uU(72,"Cliente"),d.qZA(),d.TgZ(73,"th"),d._uU(74,"T\xe9cnico"),d.qZA(),d.TgZ(75,"th"),d._uU(76,"Editar"),d.qZA()(),d.TgZ(77,"tbody",27),d.YNc(78,Sp,11,3,"tr",28),d.qZA()()()()()()()()()()),2&u){const z=d.MAs(37);d.xp6(8),d.Q6J("formGroup",w.plannedForm),d.xp6(13),d.Q6J("ngForOf",w.customerList),d.xp6(7),d.Q6J("ngForOf",w.userList),d.xp6(6),d.Q6J("matDatepicker",z),d.xp6(1),d.Q6J("for",z),d.xp6(15),d.Q6J("ngForOf",w.plannedState),d.xp6(28),d.Q6J("ngForOf",w.plannedList)}},dependencies:[A.sg,Y.Fj,Y.JJ,Y.JL,Y.sg,Y.u,Wn.Hw,Wt.lW,ra.KE,ra.hX,ra.R9,Lc.Nt,wd,ji.ey,td,Ed,Tp],styles:[".full-width[_ngcontent-%COMP%]{width:100%}"]}),S})();function Mh(S,L){}class Pd{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Cp={dialogContainer:(0,ui.X$)("dialogContainer",[(0,ui.SB)("void, exit",(0,ui.oB)({opacity:0,transform:"scale(0.7)"})),(0,ui.SB)("enter",(0,ui.oB)({transform:"none"})),(0,ui.eR)("* => enter",(0,ui.ru)([(0,ui.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,ui.oB)({transform:"none",opacity:1})),(0,ui.IO)("@*",(0,ui.pV)(),{optional:!0})])),(0,ui.eR)("* => void, * => exit",(0,ui.ru)([(0,ui.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,ui.oB)({opacity:0})),(0,ui.IO)("@*",(0,ui.pV)(),{optional:!0})]))])};let xu=(()=>{class S extends Cc{constructor(u,w,z,Z,fe,je,Ne,st){super(),this._elementRef=u,this._focusTrapFactory=w,this._changeDetectorRef=z,this._config=fe,this._interactivityChecker=je,this._ngZone=Ne,this._focusMonitor=st,this._animationStateChanged=new d.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=bt=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(bt)),this._ariaLabelledBy=fe.ariaLabelledBy||null,this._document=Z}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,Hs.ht)())}attachComponentPortal(u){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(u)}attachTemplatePortal(u){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(u)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(u,w){this._interactivityChecker.isFocusable(u)||(u.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const z=()=>{u.removeEventListener("blur",z),u.removeEventListener("mousedown",z),u.removeAttribute("tabindex")};u.addEventListener("blur",z),u.addEventListener("mousedown",z)})),u.focus(w)}_focusByCssSelector(u,w){let z=this._elementRef.nativeElement.querySelector(u);z&&this._forceFocus(z,w)}_trapFocus(){const u=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||u.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(w=>{w||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const u=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&u&&"function"==typeof u.focus){const w=(0,Hs.ht)(),z=this._elementRef.nativeElement;(!w||w===this._document.body||w===z||z.contains(w))&&(this._focusMonitor?(this._focusMonitor.focusVia(u,this._closeInteractionType),this._closeInteractionType=null):u.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const u=this._elementRef.nativeElement,w=(0,Hs.ht)();return u===w||u.contains(w)}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(d.SBq),d.Y36(Ic.qV),d.Y36(d.sBO),d.Y36(A.K0,8),d.Y36(Pd),d.Y36(Ic.ic),d.Y36(d.R0b),d.Y36(Ic.tE))},S.\u0275dir=d.lG2({type:S,viewQuery:function(u,w){if(1&u&&d.Gf(fu,7),2&u){let z;d.iGM(z=d.CRH())&&(w._portalOutlet=z.first)}},features:[d.qOj]}),S})(),Ep=(()=>{class S extends xu{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:u,totalTime:w}){"enter"===u?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:w})):"exit"===u&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:w}))}_onAnimationStart({toState:u,totalTime:w}){"enter"===u?this._animationStateChanged.next({state:"opening",totalTime:w}):("exit"===u||"void"===u)&&this._animationStateChanged.next({state:"closing",totalTime:w})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return S.\u0275fac=function(){let L;return function(w){return(L||(L=d.n5z(S)))(w||S)}}(),S.\u0275cmp=d.Xpm({type:S,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(u,w){1&u&&d.WFA("@dialogContainer.start",function(Z){return w._onAnimationStart(Z)})("@dialogContainer.done",function(Z){return w._onAnimationDone(Z)}),2&u&&(d.Ikx("id",w._id),d.uIk("role",w._config.role)("aria-labelledby",w._config.ariaLabel?null:w._ariaLabelledBy)("aria-label",w._config.ariaLabel)("aria-describedby",w._config.ariaDescribedBy||null),d.d8E("@dialogContainer",w._state))},features:[d.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(u,w){1&u&&d.YNc(0,Mh,0,0,"ng-template",0)},dependencies:[fu],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Cp.dialogContainer]}}),S})(),r_=0;class Ap{constructor(L,u,w="mat-dialog-"+r_++){this._overlayRef=L,this._containerInstance=u,this.id=w,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new kr.xQ,this._afterClosed=new kr.xQ,this._beforeClosed=new kr.xQ,this._state=0,u._id=w,u._animationStateChanged.pipe((0,dc.h)(z=>"opened"===z.state),(0,Bl.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),u._animationStateChanged.pipe((0,dc.h)(z=>"closed"===z.state),(0,Bl.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),L.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),L.keydownEvents().pipe((0,dc.h)(z=>z.keyCode===$t.hY&&!this.disableClose&&!(0,$t.Vb)(z))).subscribe(z=>{z.preventDefault(),Pp(this,"keyboard")}),L.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Pp(this,"mouse")})}close(L){this._result=L,this._containerInstance._animationStateChanged.pipe((0,dc.h)(u=>"closing"===u.state),(0,Bl.q)(1)).subscribe(u=>{this._beforeClosed.next(L),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),u.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(L){let u=this._getPositionStrategy();return L&&(L.left||L.right)?L.left?u.left(L.left):u.right(L.right):u.centerHorizontally(),L&&(L.top||L.bottom)?L.top?u.top(L.top):u.bottom(L.bottom):u.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(L="",u=""){return this._overlayRef.updateSize({width:L,height:u}),this._overlayRef.updatePosition(),this}addPanelClass(L){return this._overlayRef.addPanelClass(L),this}removePanelClass(L){return this._overlayRef.removePanelClass(L),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Pp(S,L,u){return void 0!==S._containerInstance&&(S._containerInstance._closeInteractionType=L),S.close(u)}const Ip=new d.OlP("MatDialogData"),a_=new d.OlP("mat-dialog-default-options"),Op=new d.OlP("mat-dialog-scroll-strategy"),o_={provide:Op,deps:[Hl],useFactory:function s_(S){return()=>S.scrollStrategies.block()}};let Id=(()=>{class S{constructor(u,w,z,Z,fe,je,Ne,st,bt,Jt){this._overlay=u,this._injector=w,this._defaultOptions=z,this._parentDialog=Z,this._overlayContainer=fe,this._dialogRefConstructor=Ne,this._dialogContainerType=st,this._dialogDataToken=bt,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new kr.xQ,this._afterOpenedAtThisLevel=new kr.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,yd.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,ho.O)(void 0))),this._scrollStrategy=je}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const u=this._parentDialog;return u?u._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(u,w){w=function Rp(S,L){return Object.assign(Object.assign({},L),S)}(w,this._defaultOptions||new Pd),w.id&&this.getDialogById(w.id);const z=this._createOverlay(w),Z=this._attachDialogContainer(z,w),fe=this._attachDialogContent(u,Z,z,w);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(fe),fe.afterClosed().subscribe(()=>this._removeOpenDialog(fe)),this.afterOpened.next(fe),Z._initializeWithAttachedContent(),fe}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(u){return this.openDialogs.find(w=>w.id===u)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(u){const w=this._getOverlayConfig(u);return this._overlay.create(w)}_getOverlayConfig(u){const w=new Gr({positionStrategy:this._overlay.position().global(),scrollStrategy:u.scrollStrategy||this._scrollStrategy(),panelClass:u.panelClass,hasBackdrop:u.hasBackdrop,direction:u.direction,minWidth:u.minWidth,minHeight:u.minHeight,maxWidth:u.maxWidth,maxHeight:u.maxHeight,disposeOnNavigation:u.closeOnNavigation});return u.backdropClass&&(w.backdropClass=u.backdropClass),w}_attachDialogContainer(u,w){const Z=d.zs3.create({parent:w&&w.viewContainerRef&&w.viewContainerRef.injector||this._injector,providers:[{provide:Pd,useValue:w}]}),fe=new Bu(this._dialogContainerType,w.viewContainerRef,Z,w.componentFactoryResolver);return u.attach(fe).instance}_attachDialogContent(u,w,z,Z){const fe=new this._dialogRefConstructor(z,w,Z.id);if(u instanceof d.Rgc)w.attachTemplatePortal(new pu(u,null,{$implicit:Z.data,dialogRef:fe}));else{const je=this._createInjector(Z,fe,w),Ne=w.attachComponentPortal(new Bu(u,Z.viewContainerRef,je,Z.componentFactoryResolver));fe.componentInstance=Ne.instance}return fe.updateSize(Z.width,Z.height).updatePosition(Z.position),fe}_createInjector(u,w,z){const Z=u&&u.viewContainerRef&&u.viewContainerRef.injector,fe=[{provide:this._dialogContainerType,useValue:z},{provide:this._dialogDataToken,useValue:u.data},{provide:this._dialogRefConstructor,useValue:w}];return u.direction&&(!Z||!Z.get(rl.Is,null,d.XFs.Optional))&&fe.push({provide:rl.Is,useValue:{value:u.direction,change:(0,Ru.of)()}}),d.zs3.create({parent:Z||this._injector,providers:fe})}_removeOpenDialog(u){const w=this.openDialogs.indexOf(u);w>-1&&(this.openDialogs.splice(w,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((z,Z)=>{z?Z.setAttribute("aria-hidden",z):Z.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const u=this._overlayContainer.getContainerElement();if(u.parentElement){const w=u.parentElement.children;for(let z=w.length-1;z>-1;z--){let Z=w[z];Z!==u&&"SCRIPT"!==Z.nodeName&&"STYLE"!==Z.nodeName&&!Z.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(Z,Z.getAttribute("aria-hidden")),Z.setAttribute("aria-hidden","true"))}}}_closeDialogs(u){let w=u.length;for(;w--;)u[w].close()}}return S.\u0275fac=function(u){d.$Z()},S.\u0275dir=d.lG2({type:S}),S})(),nu=(()=>{class S extends Id{constructor(u,w,z,Z,fe,je,Ne,st){super(u,w,Z,je,Ne,fe,Ap,Ep,Ip,st)}}return S.\u0275fac=function(u){return new(u||S)(d.LFG(Hl),d.LFG(d.zs3),d.LFG(A.Ye,8),d.LFG(a_,8),d.LFG(Op),d.LFG(S,12),d.LFG(Uu),d.LFG(d.QbO,8))},S.\u0275prov=d.Yz7({token:S,factory:S.\u0275fac}),S})(),kh=(()=>{class S{}return S.\u0275fac=function(u){return new(u||S)},S.\u0275mod=d.oAB({type:S}),S.\u0275inj=d.cJS({providers:[nu,o_],imports:[[mu,Ec,ji.BQ],ji.BQ]}),S})();var Us=ae(2313);let Od=(()=>{class S{constructor(u,w,z){this.data=u,this.dialogRef=w,this.sanitizer=z}ngOnInit(){console.log(this.data.urlMap)}get safeUrl(){return this.sanitizer.bypassSecurityTrustResourceUrl(this.data.urlMap)}closeDialog(){this.dialogRef.close()}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(Ip),d.Y36(Ap),d.Y36(Us.H7))},S.\u0275cmp=d.Xpm({type:S,selectors:[["app-visits-attention"]],decls:14,vars:1,consts:[[1,"main-content"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","d-flex","justify-content-between"],[1,"card-title"],["mat-icon-button","",3,"click"],[1,"card-body"],[1,"col"],["width","100%","height","400",3,"src"]],template:function(u,w){1&u&&(d.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),d._uU(6," Mapa de Ruta"),d.qZA(),d.TgZ(7,"button",6),d.NdJ("click",function(){return w.closeDialog()}),d.TgZ(8,"mat-icon"),d._uU(9,"close"),d.qZA()()(),d.TgZ(10,"div",7)(11,"div",1)(12,"div",8),d._UZ(13,"iframe",9),d.qZA()()()()()()()),2&u&&(d.xp6(13),d.Q6J("src",w.safeUrl,d.uOi))},dependencies:[Wn.Hw,Wt.lW]}),S})();function zp(S,L){if(1&S){const u=d.EpF();d.TgZ(0,"tr")(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.ALo(7,"date"),d.qZA(),d.TgZ(8,"td")(9,"button",32),d.NdJ("click",function(){const Z=d.CHM(u).$implicit,fe=d.oxw();return d.KtG(fe.editHomeVisitPlanned(Z))}),d.TgZ(10,"mat-icon"),d._uU(11,"help_outline"),d.qZA()()(),d.TgZ(12,"td")(13,"button",32),d.NdJ("click",function(){const Z=d.CHM(u).$implicit,fe=d.oxw();return d.KtG(fe.openDialog(Z))}),d.TgZ(14,"mat-icon"),d._uU(15,"map"),d.qZA()()()()}if(2&S){const u=L.$implicit;d.xp6(2),d.hij(" ",u.idPlanned," "),d.xp6(2),d.hij(" ",u.descripcion," "),d.xp6(2),d.hij(" ",d.xi3(7,3,u.fecha_programada,"dd/MM/yyyy")," ")}}function Ro(S,L){if(1&S){const u=d.EpF();d.TgZ(0,"tr")(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.ALo(7,"date"),d.qZA(),d.TgZ(8,"td")(9,"button",32),d.NdJ("click",function(){const Z=d.CHM(u).$implicit,fe=d.oxw();return d.KtG(fe.editHomeVisitForm(Z))}),d.TgZ(10,"mat-icon"),d._uU(11,"help_outline"),d.qZA()()()()}if(2&S){const u=L.$implicit;d.xp6(2),d.hij(" ",u.idPlanned," "),d.xp6(2),d.hij(" ",u.descripcion," "),d.xp6(2),d.hij(" ",d.xi3(7,3,u.fecha_inicio,"dd/MM/yyyy")," ")}}function Fp(S,L){if(1&S&&(d.TgZ(0,"mat-option",33),d._uU(1),d.qZA()),2&S){const u=L.$implicit;d.Q6J("value",u.situacion),d.xp6(1),d.hij(" ",u.descripcion," ")}}function nd(S,L){if(1&S&&(d.TgZ(0,"div",16)(1,"mat-form-field",17)(2,"mat-label"),d._uU(3,"Fecha Fin Visita"),d.qZA(),d._UZ(4,"input",34)(5,"mat-datepicker-toggle",26)(6,"mat-datepicker",null,35),d.qZA()()),2&S){const u=d.MAs(7);d.xp6(4),d.Q6J("matDatepicker",u),d.xp6(1),d.Q6J("for",u)}}function wu(S,L){1&S&&(d.TgZ(0,"div",2)(1,"div",4)(2,"mat-form-field",17)(3,"mat-label"),d._uU(4,"Descripcion Inconveniente"),d.qZA(),d._UZ(5,"input",36),d.qZA()()())}function Dh(S,L){1&S&&(d.TgZ(0,"div",2)(1,"div",4)(2,"mat-form-field",17)(3,"mat-label"),d._uU(4,"Descripcion Soluci\xf3n"),d.qZA(),d._UZ(5,"input",37),d.qZA()()())}const Rd=function(S,L){return{"col-6":S,col:L}},Bp=[{path:"dashboard",component:Fh},{path:"routes",component:Nh},{path:"customers",component:ud},{path:"planned",component:Cn},{path:"homeVisits",component:(()=>{class S{constructor(u,w,z,Z){this.apiService=u,this.fb=w,this.toastr=z,this.dialog=Z,this.vistSituation=[{situacion:"P",descripcion:"PENDIENTE"},{situacion:"E",descripcion:"EN PROCESO"},{situacion:"F",descripcion:"FINALIZADA"},{situacion:"C",descripcion:"CANCELAR"}],this.homeVisitForm=this.createHomeVisit(),this.disableCustomForm(),this.homeVisitForm.patchValue({situacion:"P"})}ngOnInit(){this.getPlanneds(),this.getHomeVisits()}createHomeVisit(u){var w,z,Z,fe,je,Ne,st,bt,Jt,di,un,ln,xn,an,nr,Dr;let Qn;return!(null===(w=null==u?void 0:u.visit)||void 0===w)&&w.planned&&(Qn=this.plannedList.find(vi=>{var rs;return vi.idPlanned==(null===(rs=null==u?void 0:u.visit)||void 0===rs?void 0:rs.idPlanned)})),this.fb.group({uid:(null===(z=null==u?void 0:u.visit)||void 0===z?void 0:z.uid)||"",idVisita:(null===(Z=null==u?void 0:u.visit)||void 0===Z?void 0:Z.idVisita)||"",idPlanned:(null===(fe=null==u?void 0:u.visit)||void 0===fe?void 0:fe.idPlanned)||(null==u?void 0:u.planned)||"",cliente:(null===(Ne=null===(je=null==u?void 0:u.planned)||void 0===je?void 0:je.cliente)||void 0===Ne?void 0:Ne.nombreComercial)||"",tecnico:(null===(bt=null===(st=null==u?void 0:u.planned)||void 0===st?void 0:st.usuario)||void 0===bt?void 0:bt.nombres)||"",planned:[(null==Qn?void 0:Qn.idPlanned)||(null===(Jt=null==u?void 0:u.planned)||void 0===Jt?void 0:Jt.idPlanned)||"",[Y.kI.required]],fecha_inicio:[(null===(di=null==u?void 0:u.visit)||void 0===di?void 0:di.fecha_inicio)||""],fecha_fin:[(null===(un=null==u?void 0:u.visit)||void 0===un?void 0:un.fecha_fin)||""],descripcion:[(null===(ln=null==u?void 0:u.visit)||void 0===ln?void 0:ln.descripcion)||(null===(xn=null==u?void 0:u.planned)||void 0===xn?void 0:xn.descripcion)||""],observacion1:[(null===(an=null==u?void 0:u.visit)||void 0===an?void 0:an.observacion1)||""],observacion2:[(null===(nr=null==u?void 0:u.visit)||void 0===nr?void 0:nr.observacion2)||""],situacion:[(null===(Dr=null==u?void 0:u.visit)||void 0===Dr?void 0:Dr.situacion)||"",[Y.kI.required]]})}resetForm(){this.homeVisitForm=this.createHomeVisit(),this.disableCustomForm()}disableCustomForm(){this.homeVisitForm.controls.idVisita.disable(),this.homeVisitForm.controls.planned.disable(),this.homeVisitForm.controls.descripcion.disable(),this.homeVisitForm.controls.cliente.disable(),this.homeVisitForm.controls.situacion.disable()}formValidation(){const{situacion:u,fecha_inicio:w}=this.homeVisitForm.getRawValue();if(!this.homeVisitForm.invalid)return"P"!=u||w&&""!=w?void(this.homeVisitForm.controls.uid.value?this.updateHomeVisit():this.saveHomeVisit()):(this.homeVisitForm.get("fecha_inicio").setValidators([Y.kI.required]),this.homeVisitForm.get("fecha_inicio").markAsTouched(),void this.homeVisitForm.get("fecha_inicio").updateValueAndValidity());this.homeVisitForm.markAllAsTouched()}editHomeVisitForm(u){let w;w={visit:u,planned:null},this.homeVisitForm=this.createHomeVisit(w),this.homeVisitForm.get("fecha_fin").setValidators([Y.kI.required]),this.homeVisitForm.get("fecha_fin").updateValueAndValidity(),this.homeVisitForm.get("observacion1").setValidators([Y.kI.required]),this.homeVisitForm.get("observacion1").updateValueAndValidity(),this.homeVisitForm.get("observacion2").setValidators([Y.kI.required]),this.homeVisitForm.get("observacion2").updateValueAndValidity(),this.homeVisitForm.controls.fecha_inicio.disable(),this.disableCustomForm()}editHomeVisitPlanned(u){let w;w={visit:null,planned:u},this.homeVisitForm=this.createHomeVisit(w),this.homeVisitForm.patchValue({situacion:"P"}),this.disableCustomForm()}getPlanneds(){var z=localStorage.getItem("x-token").split(".")[1].replace("-","+").replace("_","/");const Z=JSON.parse(window.atob(z));this.apiService.get(`planneds/${Z.uid}`).subscribe(fe=>{this.plannedList=fe.datos.filter(je=>"F"!=je.situacion)},fe=>{console.error(fe)})}getHomeVisits(){var z=localStorage.getItem("x-token").split(".")[1].replace("-","+").replace("_","/");const Z=JSON.parse(window.atob(z));this.apiService.get(`visitas/${Z.uid}`).subscribe(fe=>{this.homeVisitList=fe.visitas.filter(je=>"F"!=je.situacion)},fe=>{console.error(fe)})}saveHomeVisit(){const je=uc(this.homeVisitForm.getRawValue(),["uid","idVisita","planned","idPlanned"]),Ne=this.homeVisitForm.get("idPlanned").value,bt=(this.homeVisitForm.get("situacion"),this.homeVisitForm.get("descripcion").value);this.apiService.post("visitas",Object.assign(Object.assign({},je),{planned:Ne.uid,situacion:"A",descripcion:bt})).subscribe(Jt=>{this.toastr.success("SATISFACTORIO","REGISTRO GUARDADO EXISTOSAMENTE",{timeOut:8e3,closeButton:!0,enableHtml:!0,toastClass:"alert alert-success alert-with-icon",positionClass:"toast-top-right"}),this.getPlanneds(),this.getHomeVisits()},Jt=>{console.error(Jt)})}updateHomeVisit(){this.homeVisitForm.enable();const u=this.homeVisitForm.getRawValue(),{uid:w,planned:z}=u,je=uc(u,["uid","planned","situacion","idPlanned"]);this.homeVisitForm.disable(),this.apiService.put(`visitas/${w}`,Object.assign(Object.assign({},je),{idPlanned:z.idPlanned,planned:z.uid,situacion:"F"})).subscribe(Ne=>{this.toastr.success("SATISFACTORIO","REGISTRO ACTUALIZADO EXISTOSAMENTE",{timeOut:8e3,closeButton:!0,enableHtml:!0,toastClass:"alert alert-success alert-with-icon",positionClass:"toast-top-right"}),this.getPlanneds(),this.getHomeVisits(),this.homeVisitForm=this.createHomeVisit()},Ne=>{console.error(Ne)})}openDialog(u){this.dialog.open(Od,{width:"80vh",data:{urlMap:u.cliente.mapa}}).afterClosed().subscribe(z=>{})}}return S.\u0275fac=function(u){return new(u||S)(d.Y36(a.s),d.Y36(Y.qu),d.Y36(Iu._W),d.Y36(nu))},S.\u0275cmp=d.Xpm({type:S,selectors:[["app-home-visits"]],decls:105,vars:13,consts:[[1,"panel-header","panel-header-sm"],[1,"main-content"],[1,"row"],[1,"col-md-7"],[1,"col"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-body"],[1,"table-responsive",2,"max-height","208px"],[1,"table"],[1,"fontTableBody"],[4,"ngFor","ngForOf"],[1,"col-md-5"],[1,"title"],[1,"card-body",3,"formGroup"],[1,"col-6"],["appearance","outline",1,"full-width"],["matInput","","placeholder","","autocomplete","off","formControlName","idVisita"],["matInput","","placeholder","","autocomplete","off","formControlName","planned"],["matInput","","placeholder","","autocomplete","off","formControlName","descripcion"],["matInput","","placeholder","","autocomplete","off","formControlName","cliente"],["name","plannedStatus","formControlName","situacion"],[3,"value",4,"ngFor","ngForOf"],[1,"col-6",3,"ngClass"],["matInput","","formControlName","fecha_inicio",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["class","col-6",4,"ngIf"],["class","row",4,"ngIf"],[1,"btn","btn-primary","mt-4",2,"width","100%",3,"click"],[1,"btn","btn-default","mt-4",2,"width","100%",3,"click"],["mat-icon-button","",3,"click"],[3,"value"],["matInput","","formControlName","fecha_fin",3,"matDatepicker"],["picker2",""],["matInput","","placeholder","","autocomplete","off","formControlName","observacion1"],["matInput","","placeholder","","autocomplete","off","formControlName","observacion2"]],template:function(u,w){if(1&u&&(d._UZ(0,"div",0),d.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",2)(5,"div",4)(6,"div",5)(7,"div",6)(8,"h4",7),d._uU(9," Listado de planifiaciones asignadas"),d.qZA()(),d.TgZ(10,"div",8)(11,"div",2)(12,"div",4)(13,"div",9)(14,"table",10)(15,"thead")(16,"th"),d._uU(17,"Planificaci\xf3n"),d.qZA(),d.TgZ(18,"th"),d._uU(19,"Descripcion"),d.qZA(),d.TgZ(20,"th"),d._uU(21,"Fecha "),d.qZA(),d.TgZ(22,"th"),d._uU(23,"Atender"),d.qZA(),d.TgZ(24,"th"),d._uU(25,"Mapa"),d.qZA()(),d.TgZ(26,"tbody",11),d.YNc(27,zp,16,6,"tr",12),d.qZA()()()()()()()()(),d.TgZ(28,"div",2)(29,"div",4)(30,"div",5)(31,"div",6)(32,"h4",7),d._uU(33," Visitas en Proceso"),d.qZA()(),d.TgZ(34,"div",8)(35,"div",2)(36,"div",4)(37,"div",9)(38,"table",10)(39,"thead")(40,"th"),d._uU(41,"Visita"),d.qZA(),d.TgZ(42,"th"),d._uU(43,"Descripcion"),d.qZA(),d.TgZ(44,"th"),d._uU(45,"Fecha "),d.qZA(),d.TgZ(46,"th"),d._uU(47,"Finalizar"),d.qZA()(),d.TgZ(48,"tbody",11),d.YNc(49,Ro,12,6,"tr",12),d.qZA()()()()()()()()()(),d.TgZ(50,"div",13)(51,"div",5)(52,"div",6)(53,"h5",14),d._uU(54,"Visitas"),d.qZA()(),d.TgZ(55,"div",15)(56,"div",2)(57,"div",16)(58,"mat-form-field",17)(59,"mat-label"),d._uU(60,"N\xfamero de visita"),d.qZA(),d._UZ(61,"input",18),d.qZA()(),d.TgZ(62,"div",16)(63,"mat-form-field",17)(64,"mat-label"),d._uU(65,"Planaci\xf3n"),d.qZA(),d._UZ(66,"input",19),d.qZA()()(),d.TgZ(67,"div",2)(68,"div",4)(69,"mat-form-field",17)(70,"mat-label"),d._uU(71,"Asunto"),d.qZA(),d._UZ(72,"input",20),d.qZA()()(),d.TgZ(73,"div",2)(74,"div",4)(75,"mat-form-field",17)(76,"mat-label"),d._uU(77,"Cliente"),d.qZA(),d._UZ(78,"input",21),d.qZA()()(),d.TgZ(79,"div",2)(80,"div",4)(81,"mat-form-field",17)(82,"mat-label"),d._uU(83,"Estado Visita "),d.qZA(),d.TgZ(84,"mat-select",22),d.YNc(85,Fp,2,2,"mat-option",23),d.qZA()()()(),d.TgZ(86,"div",2)(87,"div",24)(88,"mat-form-field",17)(89,"mat-label"),d._uU(90,"Fecha Inicio Visita"),d.qZA(),d._UZ(91,"input",25)(92,"mat-datepicker-toggle",26)(93,"mat-datepicker",null,27),d.qZA()(),d.YNc(95,nd,8,2,"div",28),d.qZA(),d.YNc(96,wu,6,0,"div",29),d.YNc(97,Dh,6,0,"div",29),d.TgZ(98,"div",2)(99,"div",16)(100,"button",30),d.NdJ("click",function(){return w.formValidation()}),d._uU(101,"Guardar"),d.qZA()(),d.TgZ(102,"div",16)(103,"button",31),d.NdJ("click",function(){return w.resetForm()}),d._uU(104,"Limpiar"),d.qZA()()()()()()()()),2&u){const z=d.MAs(94);d.xp6(27),d.Q6J("ngForOf",w.plannedList),d.xp6(22),d.Q6J("ngForOf",w.homeVisitList),d.xp6(6),d.Q6J("formGroup",w.homeVisitForm),d.xp6(30),d.Q6J("ngForOf",w.vistSituation),d.xp6(2),d.Q6J("ngClass",d.WLB(10,Rd,w.homeVisitForm.controls.idVisita.value,!w.homeVisitForm.controls.idVisita.value)),d.xp6(4),d.Q6J("matDatepicker",z),d.xp6(1),d.Q6J("for",z),d.xp6(3),d.Q6J("ngIf",w.homeVisitForm.controls.idVisita.value),d.xp6(1),d.Q6J("ngIf",w.homeVisitForm.controls.idVisita.value),d.xp6(1),d.Q6J("ngIf",w.homeVisitForm.controls.idVisita.value)}},dependencies:[A.mk,A.sg,A.O5,Y.Fj,Y.JJ,Y.JL,Y.sg,Y.u,Wn.Hw,Wt.lW,ra.KE,ra.hX,ra.R9,Lc.Nt,wd,ji.ey,td,Ed,Tp,A.uU],styles:[".full-width[_ngcontent-%COMP%]{width:100%}"]}),S})()},{path:"visits-attention",component:Od}];var jp=ae(9293);let c_=(()=>{class S{}return S.\u0275fac=function(u){return new(u||S)},S.\u0275mod=d.oAB({type:S}),S.\u0275inj=d.cJS({imports:[A.ez,te.Bz.forChild(Bp),Y.u5,Y.UX,cc,jp.IJ,Iu.Rh.forRoot(),Wn.Ps,Wt.ot,ra.lN,Lc.c,If,i_,ji.XK,kh]}),S})()},2049:function(ze,Ye,ae){var te;ze=ae.nmd(ze),function(A){"object"==typeof global&&global;var J=function(Mt){this.message=Mt};(J.prototype=new Error).name="InvalidCharacterError";var Q=function(Mt){throw new J(Mt)},oe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ye=/[\t\n\f\r ]/g,Te={encode:function(Mt){Mt=String(Mt),/[^\0-\xFF]/.test(Mt)&&Q("The string to be encoded contains characters outside of the Latin1 range.");for(var yt,Ke,Ve,He,qe=Mt.length%3,Me="",Je=-1,vt=Mt.length-qe;++Je<vt;)yt=Mt.charCodeAt(Je)<<16,Ke=Mt.charCodeAt(++Je)<<8,Ve=Mt.charCodeAt(++Je),Me+=oe.charAt((He=yt+Ke+Ve)>>18&63)+oe.charAt(He>>12&63)+oe.charAt(He>>6&63)+oe.charAt(63&He);return 2==qe?(yt=Mt.charCodeAt(Je)<<8,Ke=Mt.charCodeAt(++Je),Me+=oe.charAt((He=yt+Ke)>>10)+oe.charAt(He>>4&63)+oe.charAt(He<<2&63)+"="):1==qe&&(He=Mt.charCodeAt(Je),Me+=oe.charAt(He>>2)+oe.charAt(He<<4&63)+"=="),Me},decode:function(Mt){var qe=(Mt=String(Mt).replace(ye,"")).length;qe%4==0&&(qe=(Mt=Mt.replace(/==?$/,"")).length),(qe%4==1||/[^+a-zA-Z0-9/]/.test(Mt))&&Q("Invalid character: the string to be decoded is not correctly encoded.");for(var Je,yt,Me=0,Ke="",Ve=-1;++Ve<qe;)yt=oe.indexOf(Mt.charAt(Ve)),Je=Me%4?64*Je+yt:yt,Me++%4&&(Ke+=String.fromCharCode(255&Je>>(-2*Me&6)));return Ke},version:"0.1.0"};void 0!==(te=function(){return Te}.call(Ye,ae,Ye,ze))&&(ze.exports=te)}()},8332:function(ze,Ye,ae){ze.exports=function(te){"use strict";te=te&&te.hasOwnProperty("default")?te.default:te;var a={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},d=function A(r,o){return r(o={exports:{}},o.exports),o.exports}(function(r){var o={};for(var h in a)a.hasOwnProperty(h)&&(o[a[h]]=h);var f=r.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var y in f)if(f.hasOwnProperty(y)){if(!("channels"in f[y]))throw new Error("missing channels property: "+y);if(!("labels"in f[y]))throw new Error("missing channel labels property: "+y);if(f[y].labels.length!==f[y].channels)throw new Error("channel and label counts mismatch: "+y);var b=f[y].channels,k=f[y].labels;delete f[y].channels,delete f[y].labels,Object.defineProperty(f[y],"channels",{value:b}),Object.defineProperty(f[y],"labels",{value:k})}function I(C,F){return Math.pow(C[0]-F[0],2)+Math.pow(C[1]-F[1],2)+Math.pow(C[2]-F[2],2)}f.rgb.hsl=function(C){var ve,Ce,F=C[0]/255,N=C[1]/255,U=C[2]/255,ie=Math.min(F,N,U),ce=Math.max(F,N,U),he=ce-ie;return ce===ie?ve=0:F===ce?ve=(N-U)/he:N===ce?ve=2+(U-F)/he:U===ce&&(ve=4+(F-N)/he),(ve=Math.min(60*ve,360))<0&&(ve+=360),Ce=(ie+ce)/2,[ve,100*(ce===ie?0:Ce<=.5?he/(ce+ie):he/(2-ce-ie)),100*Ce]},f.rgb.hsv=function(C){var F,N,U,ie,ce,he=C[0]/255,ve=C[1]/255,ge=C[2]/255,Ce=Math.max(he,ve,ge),Re=Ce-Math.min(he,ve,ge),Ze=function(Be){return(Ce-Be)/6/Re+.5};return 0===Re?ie=ce=0:(ce=Re/Ce,F=Ze(he),N=Ze(ve),U=Ze(ge),he===Ce?ie=U-N:ve===Ce?ie=1/3+F-U:ge===Ce&&(ie=2/3+N-F),ie<0?ie+=1:ie>1&&(ie-=1)),[360*ie,100*ce,100*Ce]},f.rgb.hwb=function(C){var F=C[0],N=C[1],U=C[2];return[f.rgb.hsl(C)[0],1/255*Math.min(F,Math.min(N,U))*100,100*(U=1-1/255*Math.max(F,Math.max(N,U)))]},f.rgb.cmyk=function(C){var ve,F=C[0]/255,N=C[1]/255,U=C[2]/255;return[100*((1-F-(ve=Math.min(1-F,1-N,1-U)))/(1-ve)||0),100*((1-N-ve)/(1-ve)||0),100*((1-U-ve)/(1-ve)||0),100*ve]},f.rgb.keyword=function(C){var F=o[C];if(F)return F;var U,N=1/0;for(var ie in a)if(a.hasOwnProperty(ie)){var he=I(C,a[ie]);he<N&&(N=he,U=ie)}return U},f.keyword.rgb=function(C){return a[C]},f.rgb.xyz=function(C){var F=C[0]/255,N=C[1]/255,U=C[2]/255;return[100*(.4124*(F=F>.04045?Math.pow((F+.055)/1.055,2.4):F/12.92)+.3576*(N=N>.04045?Math.pow((N+.055)/1.055,2.4):N/12.92)+.1805*(U=U>.04045?Math.pow((U+.055)/1.055,2.4):U/12.92)),100*(.2126*F+.7152*N+.0722*U),100*(.0193*F+.1192*N+.9505*U)]},f.rgb.lab=function(C){var F=f.rgb.xyz(C),N=F[0],U=F[1],ie=F[2];return U/=100,ie/=108.883,N=(N/=95.047)>.008856?Math.pow(N,1/3):7.787*N+16/116,[116*(U=U>.008856?Math.pow(U,1/3):7.787*U+16/116)-16,500*(N-U),200*(U-(ie=ie>.008856?Math.pow(ie,1/3):7.787*ie+16/116))]},f.hsl.rgb=function(C){var ie,ce,he,ve,ge,F=C[0]/360,N=C[1]/100,U=C[2]/100;if(0===N)return[ge=255*U,ge,ge];ie=2*U-(ce=U<.5?U*(1+N):U+N-U*N),ve=[0,0,0];for(var Ce=0;Ce<3;Ce++)(he=F+1/3*-(Ce-1))<0&&he++,he>1&&he--,ve[Ce]=255*(ge=6*he<1?ie+6*(ce-ie)*he:2*he<1?ce:3*he<2?ie+(ce-ie)*(2/3-he)*6:ie);return ve},f.hsl.hsv=function(C){var F=C[0],N=C[1]/100,U=C[2]/100,ie=N,ce=Math.max(U,.01);return N*=(U*=2)<=1?U:2-U,ie*=ce<=1?ce:2-ce,[F,100*(0===U?2*ie/(ce+ie):2*N/(U+N)),(U+N)/2*100]},f.hsv.rgb=function(C){var F=C[0]/60,N=C[1]/100,U=C[2]/100,ie=Math.floor(F)%6,ce=F-Math.floor(F),he=255*U*(1-N),ve=255*U*(1-N*ce),ge=255*U*(1-N*(1-ce));switch(U*=255,ie){case 0:return[U,ge,he];case 1:return[ve,U,he];case 2:return[he,U,ge];case 3:return[he,ve,U];case 4:return[ge,he,U];case 5:return[U,he,ve]}},f.hsv.hsl=function(C){var ce,he,ve,F=C[0],N=C[1]/100,U=C[2]/100,ie=Math.max(U,.01);return ve=(2-N)*U,he=N*ie,[F,100*(he=(he/=(ce=(2-N)*ie)<=1?ce:2-ce)||0),100*(ve/=2)]},f.hwb.rgb=function(C){var ce,he,ve,ge,Ce,Re,Ze,F=C[0]/360,N=C[1]/100,U=C[2]/100,ie=N+U;switch(ie>1&&(N/=ie,U/=ie),ve=6*F-(ce=Math.floor(6*F)),0!=(1&ce)&&(ve=1-ve),ge=N+ve*((he=1-U)-N),ce){default:case 6:case 0:Ce=he,Re=ge,Ze=N;break;case 1:Ce=ge,Re=he,Ze=N;break;case 2:Ce=N,Re=he,Ze=ge;break;case 3:Ce=N,Re=ge,Ze=he;break;case 4:Ce=ge,Re=N,Ze=he;break;case 5:Ce=he,Re=N,Ze=ge}return[255*Ce,255*Re,255*Ze]},f.cmyk.rgb=function(C){var N=C[1]/100,U=C[2]/100,ie=C[3]/100;return[255*(1-Math.min(1,C[0]/100*(1-ie)+ie)),255*(1-Math.min(1,N*(1-ie)+ie)),255*(1-Math.min(1,U*(1-ie)+ie))]},f.xyz.rgb=function(C){var ie,ce,he,F=C[0]/100,N=C[1]/100,U=C[2]/100;return ce=-.9689*F+1.8758*N+.0415*U,he=.0557*F+-.204*N+1.057*U,ie=(ie=3.2406*F+-1.5372*N+-.4986*U)>.0031308?1.055*Math.pow(ie,1/2.4)-.055:12.92*ie,ce=ce>.0031308?1.055*Math.pow(ce,1/2.4)-.055:12.92*ce,he=he>.0031308?1.055*Math.pow(he,1/2.4)-.055:12.92*he,[255*(ie=Math.min(Math.max(0,ie),1)),255*(ce=Math.min(Math.max(0,ce),1)),255*(he=Math.min(Math.max(0,he),1))]},f.xyz.lab=function(C){var F=C[0],N=C[1],U=C[2];return N/=100,U/=108.883,F=(F/=95.047)>.008856?Math.pow(F,1/3):7.787*F+16/116,[116*(N=N>.008856?Math.pow(N,1/3):7.787*N+16/116)-16,500*(F-N),200*(N-(U=U>.008856?Math.pow(U,1/3):7.787*U+16/116))]},f.lab.xyz=function(C){var ie,ce,he;ie=C[1]/500+(ce=(C[0]+16)/116),he=ce-C[2]/200;var ve=Math.pow(ce,3),ge=Math.pow(ie,3),Ce=Math.pow(he,3);return ce=ve>.008856?ve:(ce-16/116)/7.787,ie=ge>.008856?ge:(ie-16/116)/7.787,he=Ce>.008856?Ce:(he-16/116)/7.787,[ie*=95.047,ce*=100,he*=108.883]},f.lab.lch=function(C){var ce,F=C[0],N=C[1],U=C[2];return(ce=360*Math.atan2(U,N)/2/Math.PI)<0&&(ce+=360),[F,Math.sqrt(N*N+U*U),ce]},f.lch.lab=function(C){var he,N=C[1];return he=C[2]/360*2*Math.PI,[C[0],N*Math.cos(he),N*Math.sin(he)]},f.rgb.ansi16=function(C){var F=C[0],N=C[1],U=C[2],ie=1 in arguments?arguments[1]:f.rgb.hsv(C)[2];if(0===(ie=Math.round(ie/50)))return 30;var ce=30+(Math.round(U/255)<<2|Math.round(N/255)<<1|Math.round(F/255));return 2===ie&&(ce+=60),ce},f.hsv.ansi16=function(C){return f.rgb.ansi16(f.hsv.rgb(C),C[2])},f.rgb.ansi256=function(C){var F=C[0],N=C[1],U=C[2];return F===N&&N===U?F<8?16:F>248?231:Math.round((F-8)/247*24)+232:16+36*Math.round(F/255*5)+6*Math.round(N/255*5)+Math.round(U/255*5)},f.ansi16.rgb=function(C){var F=C%10;if(0===F||7===F)return C>50&&(F+=3.5),[F=F/10.5*255,F,F];var N=.5*(1+~~(C>50));return[(1&F)*N*255,(F>>1&1)*N*255,(F>>2&1)*N*255]},f.ansi256.rgb=function(C){if(C>=232){var F=10*(C-232)+8;return[F,F,F]}var N;return C-=16,[Math.floor(C/36)/5*255,Math.floor((N=C%36)/6)/5*255,N%6/5*255]},f.rgb.hex=function(C){var N=(((255&Math.round(C[0]))<<16)+((255&Math.round(C[1]))<<8)+(255&Math.round(C[2]))).toString(16).toUpperCase();return"000000".substring(N.length)+N},f.hex.rgb=function(C){var F=C.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!F)return[0,0,0];var N=F[0];3===F[0].length&&(N=N.split("").map(function(ve){return ve+ve}).join(""));var U=parseInt(N,16);return[U>>16&255,U>>8&255,255&U]},f.rgb.hcg=function(C){var ge,F=C[0]/255,N=C[1]/255,U=C[2]/255,ie=Math.max(Math.max(F,N),U),ce=Math.min(Math.min(F,N),U),he=ie-ce;return ge=he<=0?0:ie===F?(N-U)/he%6:ie===N?2+(U-F)/he:4+(F-N)/he+4,ge/=6,[360*(ge%=1),100*he,100*(he<1?ce/(1-he):0)]},f.hsl.hcg=function(C){var U,F=C[1]/100,N=C[2]/100,ie=0;return(U=N<.5?2*F*N:2*F*(1-N))<1&&(ie=(N-.5*U)/(1-U)),[C[0],100*U,100*ie]},f.hsv.hcg=function(C){var N=C[2]/100,U=C[1]/100*N,ie=0;return U<1&&(ie=(N-U)/(1-U)),[C[0],100*U,100*ie]},f.hcg.rgb=function(C){var N=C[1]/100,U=C[2]/100;if(0===N)return[255*U,255*U,255*U];var ge,ie=[0,0,0],ce=C[0]/360%1*6,he=ce%1,ve=1-he;switch(Math.floor(ce)){case 0:ie[0]=1,ie[1]=he,ie[2]=0;break;case 1:ie[0]=ve,ie[1]=1,ie[2]=0;break;case 2:ie[0]=0,ie[1]=1,ie[2]=he;break;case 3:ie[0]=0,ie[1]=ve,ie[2]=1;break;case 4:ie[0]=he,ie[1]=0,ie[2]=1;break;default:ie[0]=1,ie[1]=0,ie[2]=ve}return[255*(N*ie[0]+(ge=(1-N)*U)),255*(N*ie[1]+ge),255*(N*ie[2]+ge)]},f.hcg.hsv=function(C){var F=C[1]/100,U=F+C[2]/100*(1-F),ie=0;return U>0&&(ie=F/U),[C[0],100*ie,100*U]},f.hcg.hsl=function(C){var F=C[1]/100,U=C[2]/100*(1-F)+.5*F,ie=0;return U>0&&U<.5?ie=F/(2*U):U>=.5&&U<1&&(ie=F/(2*(1-U))),[C[0],100*ie,100*U]},f.hcg.hwb=function(C){var F=C[1]/100,U=F+C[2]/100*(1-F);return[C[0],100*(U-F),100*(1-U)]},f.hwb.hcg=function(C){var U=1-C[2]/100,ie=U-C[1]/100,ce=0;return ie<1&&(ce=(U-ie)/(1-ie)),[C[0],100*ie,100*ce]},f.apple.rgb=function(C){return[C[0]/65535*255,C[1]/65535*255,C[2]/65535*255]},f.rgb.apple=function(C){return[C[0]/255*65535,C[1]/255*65535,C[2]/255*65535]},f.gray.rgb=function(C){return[C[0]/100*255,C[0]/100*255,C[0]/100*255]},f.gray.hsl=f.gray.hsv=function(C){return[0,0,C[0]]},f.gray.hwb=function(C){return[0,100,C[0]]},f.gray.cmyk=function(C){return[0,0,0,C[0]]},f.gray.lab=function(C){return[C[0],0,0]},f.gray.hex=function(C){var F=255&Math.round(C[0]/100*255),U=((F<<16)+(F<<8)+F).toString(16).toUpperCase();return"000000".substring(U.length)+U},f.rgb.gray=function(C){return[(C[0]+C[1]+C[2])/3/255*100]}});function He(r){var o=function ut(){for(var r={},o=Object.keys(d),h=o.length,f=0;f<h;f++)r[o[f]]={distance:-1,parent:null};return r}(),h=[r];for(o[r].distance=0;h.length;)for(var f=h.pop(),y=Object.keys(d[f]),b=y.length,k=0;k<b;k++){var I=y[k],C=o[I];-1===C.distance&&(C.distance=o[f].distance+1,C.parent=f,h.unshift(I))}return o}function vt(r,o){return function(h){return o(r(h))}}function Rt(r,o){for(var h=[o[r].parent,r],f=d[o[r].parent][r],y=o[r].parent;o[y].parent;)h.unshift(o[y].parent),f=vt(d[o[y].parent][y],f),y=o[y].parent;return f.conversion=h,f}var Gt={};Object.keys(d).forEach(function(r){Gt[r]={},Object.defineProperty(Gt[r],"channels",{value:d[r].channels}),Object.defineProperty(Gt[r],"labels",{value:d[r].labels});var o=function(r){for(var o=He(r),h={},f=Object.keys(o),y=f.length,b=0;b<y;b++){var k=f[b];null!==o[k].parent&&(h[k]=Rt(k,o))}return h}(r);Object.keys(o).forEach(function(f){var y=o[f];Gt[r][f]=function fi(r){var o=function(h){if(null==h)return h;arguments.length>1&&(h=Array.prototype.slice.call(arguments));var f=r(h);if("object"==typeof f)for(var y=f.length,b=0;b<y;b++)f[b]=Math.round(f[b]);return f};return"conversion"in r&&(o.conversion=r.conversion),o}(y),Gt[r][f].raw=function ki(r){var o=function(h){return null==h?h:(arguments.length>1&&(h=Array.prototype.slice.call(arguments)),r(h))};return"conversion"in r&&(o.conversion=r.conversion),o}(y)})});var vr=Gt,ti={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Dn={getRgba:pn,getHsla:wn,getRgb:function cn(r){var o=pn(r);return o&&o.slice(0,3)},getHsl:function Ni(r){var o=wn(r);return o&&o.slice(0,3)},getHwb:En,getAlpha:function dr(r){var o=pn(r);return o||(o=wn(r))||(o=En(r))?o[3]:void 0},hexString:function yn(r,h){return h=void 0!==h&&3===r.length?h:r[3],"#"+er(r[0])+er(r[1])+er(r[2])+(h>=0&&h<1?er(Math.round(255*h)):"")},rgbString:function Ut(r,o){return o<1||r[3]&&r[3]<1?Sr(r,o):"rgb("+r[0]+", "+r[1]+", "+r[2]+")"},rgbaString:Sr,percentString:function en(r,o){return o<1||r[3]&&r[3]<1?Mn(r,o):"rgb("+Math.round(r[0]/255*100)+"%, "+Math.round(r[1]/255*100)+"%, "+Math.round(r[2]/255*100)+"%)"},percentaString:Mn,hslString:function ri(r,o){return o<1||r[3]&&r[3]<1?Jr(r,o):"hsl("+r[0]+", "+r[1]+"%, "+r[2]+"%)"},hslaString:Jr,hwbString:function zr(r,o){return void 0===o&&(o=void 0!==r[3]?r[3]:1),"hwb("+r[0]+", "+r[1]+"%, "+r[2]+"%"+(void 0!==o&&1!==o?", "+o:"")+")"},keyword:function Cs(r){return go[r.slice(0,3)]}};function pn(r){if(r){var k=[0,0,0],I=1,C=r.match(/^#([a-fA-F0-9]{3,4})$/i),F="";if(C){F=(C=C[1])[3];for(var N=0;N<k.length;N++)k[N]=parseInt(C[N]+C[N],16);F&&(I=Math.round(parseInt(F+F,16)/255*100)/100)}else if(C=r.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(F=C[2],C=C[1],N=0;N<k.length;N++)k[N]=parseInt(C.slice(2*N,2*N+2),16);F&&(I=Math.round(parseInt(F,16)/255*100)/100)}else if(C=r.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(N=0;N<k.length;N++)k[N]=parseInt(C[N+1]);I=parseFloat(C[4])}else if(C=r.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(N=0;N<k.length;N++)k[N]=Math.round(2.55*parseFloat(C[N+1]));I=parseFloat(C[4])}else if(C=r.match(/(\w+)/)){if("transparent"==C[1])return[0,0,0,0];if(!(k=ti[C[1]]))return}for(N=0;N<k.length;N++)k[N]=Ri(k[N],0,255);return I=I||0==I?Ri(I,0,1):1,k[3]=I,k}}function wn(r){if(r){var h=r.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(h){var f=parseFloat(h[4]);return[Ri(parseInt(h[1]),0,360),Ri(parseFloat(h[2]),0,100),Ri(parseFloat(h[3]),0,100),Ri(isNaN(f)?1:f,0,1)]}}}function En(r){if(r){var h=r.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(h){var f=parseFloat(h[4]);return[Ri(parseInt(h[1]),0,360),Ri(parseFloat(h[2]),0,100),Ri(parseFloat(h[3]),0,100),Ri(isNaN(f)?1:f,0,1)]}}}function Sr(r,o){return void 0===o&&(o=void 0!==r[3]?r[3]:1),"rgba("+r[0]+", "+r[1]+", "+r[2]+", "+o+")"}function Mn(r,o){return"rgba("+Math.round(r[0]/255*100)+"%, "+Math.round(r[1]/255*100)+"%, "+Math.round(r[2]/255*100)+"%, "+(o||r[3]||1)+")"}function Jr(r,o){return void 0===o&&(o=void 0!==r[3]?r[3]:1),"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+o+")"}function Ri(r,o,h){return Math.min(Math.max(o,r),h)}function er(r){var o=r.toString(16).toUpperCase();return o.length<2?"0"+o:o}var go={};for(var An in ti)go[ti[An]]=An;var Ui=function(r){return r instanceof Ui?r:this instanceof Ui?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof r?(o=Dn.getRgba(r))?this.setValues("rgb",o):(o=Dn.getHsla(r))?this.setValues("hsl",o):(o=Dn.getHwb(r))&&this.setValues("hwb",o):"object"==typeof r&&(void 0!==(o=r).r||void 0!==o.red?this.setValues("rgb",o):void 0!==o.l||void 0!==o.lightness?this.setValues("hsl",o):void 0!==o.v||void 0!==o.value?this.setValues("hsv",o):void 0!==o.w||void 0!==o.whiteness?this.setValues("hwb",o):(void 0!==o.c||void 0!==o.cyan)&&this.setValues("cmyk",o)))):new Ui(r);var o};Ui.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var r=this.values;return 1!==r.alpha?r.hwb.concat([r.alpha]):r.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var r=this.values;return r.rgb.concat([r.alpha])},hslaArray:function(){var r=this.values;return r.hsl.concat([r.alpha])},alpha:function(r){return void 0===r?this.values.alpha:(this.setValues("alpha",r),this)},red:function(r){return this.setChannel("rgb",0,r)},green:function(r){return this.setChannel("rgb",1,r)},blue:function(r){return this.setChannel("rgb",2,r)},hue:function(r){return r&&(r=(r%=360)<0?360+r:r),this.setChannel("hsl",0,r)},saturation:function(r){return this.setChannel("hsl",1,r)},lightness:function(r){return this.setChannel("hsl",2,r)},saturationv:function(r){return this.setChannel("hsv",1,r)},whiteness:function(r){return this.setChannel("hwb",1,r)},blackness:function(r){return this.setChannel("hwb",2,r)},value:function(r){return this.setChannel("hsv",2,r)},cyan:function(r){return this.setChannel("cmyk",0,r)},magenta:function(r){return this.setChannel("cmyk",1,r)},yellow:function(r){return this.setChannel("cmyk",2,r)},black:function(r){return this.setChannel("cmyk",3,r)},hexString:function(){return Dn.hexString(this.values.rgb)},rgbString:function(){return Dn.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return Dn.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return Dn.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return Dn.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return Dn.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return Dn.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return Dn.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var r=this.values.rgb;return r[0]<<16|r[1]<<8|r[2]},luminosity:function(){for(var r=this.values.rgb,o=[],h=0;h<r.length;h++){var f=r[h]/255;o[h]=f<=.03928?f/12.92:Math.pow((f+.055)/1.055,2.4)}return.2126*o[0]+.7152*o[1]+.0722*o[2]},contrast:function(r){var o=this.luminosity(),h=r.luminosity();return o>h?(o+.05)/(h+.05):(h+.05)/(o+.05)},level:function(r){var o=this.contrast(r);return o>=7.1?"AAA":o>=4.5?"AA":""},dark:function(){var r=this.values.rgb;return(299*r[0]+587*r[1]+114*r[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var r=[],o=0;o<3;o++)r[o]=255-this.values.rgb[o];return this.setValues("rgb",r),this},lighten:function(r){var o=this.values.hsl;return o[2]+=o[2]*r,this.setValues("hsl",o),this},darken:function(r){var o=this.values.hsl;return o[2]-=o[2]*r,this.setValues("hsl",o),this},saturate:function(r){var o=this.values.hsl;return o[1]+=o[1]*r,this.setValues("hsl",o),this},desaturate:function(r){var o=this.values.hsl;return o[1]-=o[1]*r,this.setValues("hsl",o),this},whiten:function(r){var o=this.values.hwb;return o[1]+=o[1]*r,this.setValues("hwb",o),this},blacken:function(r){var o=this.values.hwb;return o[2]+=o[2]*r,this.setValues("hwb",o),this},greyscale:function(){var r=this.values.rgb,o=.3*r[0]+.59*r[1]+.11*r[2];return this.setValues("rgb",[o,o,o]),this},clearer:function(r){var o=this.values.alpha;return this.setValues("alpha",o-o*r),this},opaquer:function(r){var o=this.values.alpha;return this.setValues("alpha",o+o*r),this},rotate:function(r){var o=this.values.hsl,h=(o[0]+r)%360;return o[0]=h<0?360+h:h,this.setValues("hsl",o),this},mix:function(r,o){var h=this,f=r,y=void 0===o?.5:o,b=2*y-1,k=h.alpha()-f.alpha(),I=((b*k==-1?b:(b+k)/(1+b*k))+1)/2,C=1-I;return this.rgb(I*h.red()+C*f.red(),I*h.green()+C*f.green(),I*h.blue()+C*f.blue()).alpha(h.alpha()*y+f.alpha()*(1-y))},toJSON:function(){return this.rgb()},clone:function(){var f,y,r=new Ui,o=this.values,h=r.values;for(var b in o)o.hasOwnProperty(b)&&("[object Array]"===(y={}.toString.call(f=o[b]))?h[b]=f.slice(0):"[object Number]"===y?h[b]=f:console.error("unexpected color value:",f));return r}},Ui.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},Ui.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},Ui.prototype.getValues=function(r){for(var o=this.values,h={},f=0;f<r.length;f++)h[r.charAt(f)]=o[r][f];return 1!==o.alpha&&(h.a=o.alpha),h},Ui.prototype.setValues=function(r,o){var k,C,h=this.values,f=this.spaces,y=this.maxes,b=1;if(this.valid=!0,"alpha"===r)b=o;else if(o.length)h[r]=o.slice(0,r.length),b=o[r.length];else if(void 0!==o[r.charAt(0)]){for(k=0;k<r.length;k++)h[r][k]=o[r.charAt(k)];b=o.a}else if(void 0!==o[f[r][0]]){var I=f[r];for(k=0;k<r.length;k++)h[r][k]=o[I[k]];b=o.alpha}if(h.alpha=Math.max(0,Math.min(1,void 0===b?h.alpha:b)),"alpha"===r)return!1;for(k=0;k<r.length;k++)C=Math.max(0,Math.min(y[r][k],h[r][k])),h[r][k]=Math.round(C);for(var F in f)F!==r&&(h[F]=vr[r][F](h[r]));return!0},Ui.prototype.setSpace=function(r,o){var h=o[0];return void 0===h?this.getValues(r):("number"==typeof h&&(h=Array.prototype.slice.call(o)),this.setValues(r,h),this)},Ui.prototype.setChannel=function(r,o,h){var f=this.values[r];return void 0===h?f[o]:(h===f[o]||(f[o]=h,this.setValues(r,f)),this)},"undefined"!=typeof window&&(window.Color=Ui);var ls=Ui;function Pn(r){return-1===["__proto__","prototype","constructor"].indexOf(r)}var r,hi={noop:function(){},uid:(r=0,function(){return r++}),isNullOrUndef:function(r){return null==r},isArray:function(r){if(Array.isArray&&Array.isArray(r))return!0;var o=Object.prototype.toString.call(r);return"[object"===o.substr(0,7)&&"Array]"===o.substr(-6)},isObject:function(r){return null!==r&&"[object Object]"===Object.prototype.toString.call(r)},isFinite:function(r){return("number"==typeof r||r instanceof Number)&&isFinite(r)},valueOrDefault:function(r,o){return void 0===r?o:r},valueAtIndexOrDefault:function(r,o,h){return hi.valueOrDefault(hi.isArray(r)?r[o]:r,h)},callback:function(r,o,h){if(r&&"function"==typeof r.call)return r.apply(h,o)},each:function(r,o,h,f){var y,b,k;if(hi.isArray(r))if(b=r.length,f)for(y=b-1;y>=0;y--)o.call(h,r[y],y);else for(y=0;y<b;y++)o.call(h,r[y],y);else if(hi.isObject(r))for(b=(k=Object.keys(r)).length,y=0;y<b;y++)o.call(h,r[k[y]],k[y])},arrayEquals:function(r,o){var h,f,y,b;if(!r||!o||r.length!==o.length)return!1;for(h=0,f=r.length;h<f;++h)if(b=o[h],(y=r[h])instanceof Array&&b instanceof Array){if(!hi.arrayEquals(y,b))return!1}else if(y!==b)return!1;return!0},clone:function(r){if(hi.isArray(r))return r.map(hi.clone);if(hi.isObject(r)){for(var o=Object.create(r),h=Object.keys(r),f=h.length,y=0;y<f;++y)o[h[y]]=hi.clone(r[h[y]]);return o}return r},_merger:function(r,o,h,f){if(Pn(r)){var y=o[r],b=h[r];hi.isObject(y)&&hi.isObject(b)?hi.merge(y,b,f):o[r]=hi.clone(b)}},_mergerIf:function(r,o,h){if(Pn(r)){var f=o[r],y=h[r];hi.isObject(f)&&hi.isObject(y)?hi.mergeIf(f,y):o.hasOwnProperty(r)||(o[r]=hi.clone(y))}},merge:function(r,o,h){var b,k,I,C,F,f=hi.isArray(o)?o:[o],y=f.length;if(!hi.isObject(r))return r;for(b=(h=h||{}).merger||hi._merger,k=0;k<y;++k)if(hi.isObject(o=f[k]))for(F=0,C=(I=Object.keys(o)).length;F<C;++F)b(I[F],r,o,h);return r},mergeIf:function(r,o){return hi.merge(r,o,{merger:hi._mergerIf})},extend:Object.assign||function(r){return hi.merge(r,[].slice.call(arguments,1),{merger:function(o,h,f){h[o]=f[o]}})},inherits:function(r){var o=this,h=r&&r.hasOwnProperty("constructor")?r.constructor:function(){return o.apply(this,arguments)},f=function(){this.constructor=h};return f.prototype=o.prototype,h.prototype=new f,h.extend=hi.inherits,r&&hi.extend(h.prototype,r),h.__super__=o.prototype,h},_deprecated:function(r,o,h,f){void 0!==o&&console.warn(r+': "'+h+'" is deprecated. Please use "'+f+'" instead')}},Di=hi;hi.callCallback=hi.callback,hi.indexOf=function(r,o,h){return Array.prototype.indexOf.call(r,o,h)},hi.getValueOrDefault=hi.valueOrDefault,hi.getValueAtIndexOrDefault=hi.valueAtIndexOrDefault;var In={linear:function(r){return r},easeInQuad:function(r){return r*r},easeOutQuad:function(r){return-r*(r-2)},easeInOutQuad:function(r){return(r/=.5)<1?.5*r*r:-.5*(--r*(r-2)-1)},easeInCubic:function(r){return r*r*r},easeOutCubic:function(r){return(r-=1)*r*r+1},easeInOutCubic:function(r){return(r/=.5)<1?.5*r*r*r:.5*((r-=2)*r*r+2)},easeInQuart:function(r){return r*r*r*r},easeOutQuart:function(r){return-((r-=1)*r*r*r-1)},easeInOutQuart:function(r){return(r/=.5)<1?.5*r*r*r*r:-.5*((r-=2)*r*r*r-2)},easeInQuint:function(r){return r*r*r*r*r},easeOutQuint:function(r){return(r-=1)*r*r*r*r+1},easeInOutQuint:function(r){return(r/=.5)<1?.5*r*r*r*r*r:.5*((r-=2)*r*r*r*r+2)},easeInSine:function(r){return 1-Math.cos(r*(Math.PI/2))},easeOutSine:function(r){return Math.sin(r*(Math.PI/2))},easeInOutSine:function(r){return-.5*(Math.cos(Math.PI*r)-1)},easeInExpo:function(r){return 0===r?0:Math.pow(2,10*(r-1))},easeOutExpo:function(r){return 1===r?1:1-Math.pow(2,-10*r)},easeInOutExpo:function(r){return 0===r?0:1===r?1:(r/=.5)<1?.5*Math.pow(2,10*(r-1)):.5*(2-Math.pow(2,-10*--r))},easeInCirc:function(r){return r>=1?r:-(Math.sqrt(1-r*r)-1)},easeOutCirc:function(r){return Math.sqrt(1-(r-=1)*r)},easeInOutCirc:function(r){return(r/=.5)<1?-.5*(Math.sqrt(1-r*r)-1):.5*(Math.sqrt(1-(r-=2)*r)+1)},easeInElastic:function(r){var o=1.70158,h=0,f=1;return 0===r?0:1===r?1:(h||(h=.3),f<1?(f=1,o=h/4):o=h/(2*Math.PI)*Math.asin(1/f),-f*Math.pow(2,10*(r-=1))*Math.sin((r-o)*(2*Math.PI)/h))},easeOutElastic:function(r){var o=1.70158,h=0,f=1;return 0===r?0:1===r?1:(h||(h=.3),f<1?(f=1,o=h/4):o=h/(2*Math.PI)*Math.asin(1/f),f*Math.pow(2,-10*r)*Math.sin((r-o)*(2*Math.PI)/h)+1)},easeInOutElastic:function(r){var o=1.70158,h=0,f=1;return 0===r?0:2==(r/=.5)?1:(h||(h=.45),f<1?(f=1,o=h/4):o=h/(2*Math.PI)*Math.asin(1/f),r<1?f*Math.pow(2,10*(r-=1))*Math.sin((r-o)*(2*Math.PI)/h)*-.5:f*Math.pow(2,-10*(r-=1))*Math.sin((r-o)*(2*Math.PI)/h)*.5+1)},easeInBack:function(r){var o=1.70158;return r*r*((o+1)*r-o)},easeOutBack:function(r){var o=1.70158;return(r-=1)*r*((o+1)*r+o)+1},easeInOutBack:function(r){var o=1.70158;return(r/=.5)<1?r*r*((1+(o*=1.525))*r-o)*.5:.5*((r-=2)*r*((1+(o*=1.525))*r+o)+2)},easeInBounce:function(r){return 1-In.easeOutBounce(1-r)},easeOutBounce:function(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375},easeInOutBounce:function(r){return r<.5?.5*In.easeInBounce(2*r):.5*In.easeOutBounce(2*r-1)+.5}},Ci={effects:In};Di.easingEffects=In;var fn=Math.PI,Wi=fn/180,Cr=2*fn,Yi=fn/2,Ii=fn/4,ci=2*fn/3,rr={clear:function(r){r.ctx.clearRect(0,0,r.width,r.height)},roundedRect:function(r,o,h,f,y,b){if(b){var k=Math.min(b,y/2,f/2),I=o+k,C=h+k,F=o+f-k,N=h+y-k;r.moveTo(o,C),I<F&&C<N?(r.arc(I,C,k,-fn,-Yi),r.arc(F,C,k,-Yi,0),r.arc(F,N,k,0,Yi),r.arc(I,N,k,Yi,fn)):I<F?(r.moveTo(I,h),r.arc(F,C,k,-Yi,Yi),r.arc(I,C,k,Yi,fn+Yi)):C<N?(r.arc(I,C,k,-fn,0),r.arc(I,N,k,0,fn)):r.arc(I,C,k,-fn,fn),r.closePath(),r.moveTo(o,h)}else r.rect(o,h,f,y)},drawPoint:function(r,o,h,f,y,b){var k,I,C,F,N,U=(b||0)*Wi;if(o&&"object"==typeof o&&("[object HTMLImageElement]"===(k=o.toString())||"[object HTMLCanvasElement]"===k))return r.save(),r.translate(f,y),r.rotate(U),r.drawImage(o,-o.width/2,-o.height/2,o.width,o.height),void r.restore();if(!(isNaN(h)||h<=0)){switch(r.beginPath(),o){default:r.arc(f,y,h,0,Cr),r.closePath();break;case"triangle":r.moveTo(f+Math.sin(U)*h,y-Math.cos(U)*h),U+=ci,r.lineTo(f+Math.sin(U)*h,y-Math.cos(U)*h),U+=ci,r.lineTo(f+Math.sin(U)*h,y-Math.cos(U)*h),r.closePath();break;case"rectRounded":F=h-(N=.516*h),I=Math.cos(U+Ii)*F,C=Math.sin(U+Ii)*F,r.arc(f-I,y-C,N,U-fn,U-Yi),r.arc(f+C,y-I,N,U-Yi,U),r.arc(f+I,y+C,N,U,U+Yi),r.arc(f-C,y+I,N,U+Yi,U+fn),r.closePath();break;case"rect":if(!b){F=Math.SQRT1_2*h,r.rect(f-F,y-F,2*F,2*F);break}U+=Ii;case"rectRot":I=Math.cos(U)*h,C=Math.sin(U)*h,r.moveTo(f-I,y-C),r.lineTo(f+C,y-I),r.lineTo(f+I,y+C),r.lineTo(f-C,y+I),r.closePath();break;case"crossRot":U+=Ii;case"cross":I=Math.cos(U)*h,C=Math.sin(U)*h,r.moveTo(f-I,y-C),r.lineTo(f+I,y+C),r.moveTo(f+C,y-I),r.lineTo(f-C,y+I);break;case"star":I=Math.cos(U)*h,C=Math.sin(U)*h,r.moveTo(f-I,y-C),r.lineTo(f+I,y+C),r.moveTo(f+C,y-I),r.lineTo(f-C,y+I),U+=Ii,I=Math.cos(U)*h,C=Math.sin(U)*h,r.moveTo(f-I,y-C),r.lineTo(f+I,y+C),r.moveTo(f+C,y-I),r.lineTo(f-C,y+I);break;case"line":I=Math.cos(U)*h,C=Math.sin(U)*h,r.moveTo(f-I,y-C),r.lineTo(f+I,y+C);break;case"dash":r.moveTo(f,y),r.lineTo(f+Math.cos(U)*h,y+Math.sin(U)*h)}r.fill(),r.stroke()}},_isPointInArea:function(r,o){var h=1e-6;return r.x>o.left-h&&r.x<o.right+h&&r.y>o.top-h&&r.y<o.bottom+h},clipArea:function(r,o){r.save(),r.beginPath(),r.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),r.clip()},unclipArea:function(r){r.restore()},lineTo:function(r,o,h,f){var y=h.steppedLine;if(y){if("middle"===y){var b=(o.x+h.x)/2;r.lineTo(b,f?h.y:o.y),r.lineTo(b,f?o.y:h.y)}else"after"===y&&!f||"after"!==y&&f?r.lineTo(o.x,h.y):r.lineTo(h.x,o.y);r.lineTo(h.x,h.y)}else h.tension?r.bezierCurveTo(f?o.controlPointPreviousX:o.controlPointNextX,f?o.controlPointPreviousY:o.controlPointNextY,f?h.controlPointNextX:h.controlPointPreviousX,f?h.controlPointNextY:h.controlPointPreviousY,h.x,h.y):r.lineTo(h.x,h.y)}},On=rr;Di.clear=rr.clear,Di.drawRoundedRectangle=function(r){r.beginPath(),rr.roundedRect.apply(rr,arguments)};var va={_set:function(r,o){return Di.merge(this[r]||(this[r]={}),o)}};va._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var Zt=va,oa=Di.valueOrDefault;var Rn={toLineHeight:function(r,o){var h=(""+r).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!h||"normal"===h[1])return 1.2*o;switch(r=+h[2],h[3]){case"px":return r;case"%":r/=100}return o*r},toPadding:function(r){var o,h,f,y;return Di.isObject(r)?(o=+r.top||0,h=+r.right||0,f=+r.bottom||0,y=+r.left||0):o=h=f=y=+r||0,{top:o,right:h,bottom:f,left:y,height:o+f,width:y+h}},_parseFont:function(r){var o=Zt.global,h=oa(r.fontSize,o.defaultFontSize),f={family:oa(r.fontFamily,o.defaultFontFamily),lineHeight:Di.options.toLineHeight(oa(r.lineHeight,o.defaultLineHeight),h),size:h,style:oa(r.fontStyle,o.defaultFontStyle),weight:null,string:""};return f.string=function Fa(r){return!r||Di.isNullOrUndef(r.size)||Di.isNullOrUndef(r.family)?null:(r.style?r.style+" ":"")+(r.weight?r.weight+" ":"")+r.size+"px "+r.family}(f),f},resolve:function(r,o,h,f){var b,k,I,y=!0;for(b=0,k=r.length;b<k;++b)if(void 0!==(I=r[b])&&(void 0!==o&&"function"==typeof I&&(I=I(o),y=!1),void 0!==h&&Di.isArray(I)&&(I=I[h],y=!1),void 0!==I))return f&&!y&&(f.cacheable=!1),I}},ke={_factorize:function(r){var f,o=[],h=Math.sqrt(r);for(f=1;f<h;f++)r%f==0&&(o.push(f),o.push(r/f));return h===(0|h)&&o.push(h),o.sort(function(y,b){return y-b}).pop(),o},log10:Math.log10||function(r){var o=Math.log(r)*Math.LOG10E,h=Math.round(o);return r===Math.pow(10,h)?h:o}},de=ke;Di.log10=ke.log10;var X=Di,wt=On,St=Rn,ft=de,si={getRtlAdapter:function(r,o,h){return r?function(r,o){return{x:function(h){return r+r+o-h},setWidth:function(h){o=h},textAlign:function(h){return"center"===h?h:"right"===h?"left":"right"},xPlus:function(h,f){return h-f},leftForLtr:function(h,f){return h-f}}}(o,h):{x:function(r){return r},setWidth:function(r){},textAlign:function(r){return r},xPlus:function(r,o){return r+o},leftForLtr:function(r,o){return r}}},overrideTextDirection:function(r,o){var h,f;("ltr"===o||"rtl"===o)&&(f=[(h=r.canvas.style).getPropertyValue("direction"),h.getPropertyPriority("direction")],h.setProperty("direction",o,"important"),r.prevTextDirection=f)},restoreTextDirection:function(r){var o=r.prevTextDirection;void 0!==o&&(delete r.prevTextDirection,r.canvas.style.setProperty("direction",o[0],o[1]))}};X.easing=Ci,X.canvas=wt,X.options=St,X.math=ft,X.rtl=si;var Qt=function(r){X.extend(this,r),this.initialize.apply(this,arguments)};X.extend(Qt.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var r=this;return r._view||(r._view=X.extend({},r._model)),r._start={},r},transition:function(r){var o=this,h=o._model,f=o._start,y=o._view;return h&&1!==r?(y||(y=o._view={}),f||(f=o._start={}),function ii(r,o,h,f){var b,k,I,C,F,N,U,ie,ce,y=Object.keys(h);for(b=0,k=y.length;b<k;++b)if(N=h[I=y[b]],o.hasOwnProperty(I)||(o[I]=N),(C=o[I])!==N&&"_"!==I[0]){if(r.hasOwnProperty(I)||(r[I]=C),(U=typeof N)==typeof(F=r[I]))if("string"===U){if((ie=ls(F)).valid&&(ce=ls(N)).valid){o[I]=ce.mix(ie,f).rgbString();continue}}else if(X.isFinite(F)&&X.isFinite(N)){o[I]=F+(N-F)*f;continue}o[I]=N}}(f,y,h,r),o):(o._view=X.extend({},h),o._start=null,o)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return X.isNumber(this._model.x)&&X.isNumber(this._model.y)}}),Qt.extend=X.inherits;var pt=Qt,_i=pt.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),_n=_i;Object.defineProperty(_i.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(_i.prototype,"chartInstance",{get:function(){return this.chart},set:function(r){this.chart=r}}),Zt._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:X.noop,onComplete:X.noop}});var Vi={animations:[],request:null,addAnimation:function(r,o,h,f){var b,k,y=this.animations;for(o.chart=r,o.startTime=Date.now(),o.duration=h,f||(r.animating=!0),b=0,k=y.length;b<k;++b)if(y[b].chart===r)return void(y[b]=o);y.push(o),1===y.length&&this.requestAnimationFrame()},cancelAnimation:function(r){var o=X.findIndex(this.animations,function(h){return h.chart===r});-1!==o&&(this.animations.splice(o,1),r.animating=!1)},requestAnimationFrame:function(){var r=this;null===r.request&&(r.request=X.requestAnimFrame.call(window,function(){r.request=null,r.startDigest()}))},startDigest:function(){var r=this;r.advance(),r.animations.length>0&&r.requestAnimationFrame()},advance:function(){for(var o,h,f,y,r=this.animations,b=0;b<r.length;)h=(o=r[b]).chart,f=o.numSteps,y=Math.floor((Date.now()-o.startTime)/o.duration*f)+1,o.currentStep=Math.min(y,f),X.callback(o.render,[h,o],h),X.callback(o.onAnimationProgress,[o],h),o.currentStep>=f?(X.callback(o.onAnimationComplete,[o],h),h.animating=!1,r.splice(b,1)):++b}},Ln=X.options.resolve,oi=["push","pop","shift","splice","unshift"];function Zn(r,o){var h=r._chartjs;if(h){var f=h.listeners,y=f.indexOf(o);-1!==y&&f.splice(y,1),!(f.length>0)&&(oi.forEach(function(b){delete r[b]}),delete r._chartjs)}}var $i=function(r,o){this.initialize(r,o)};X.extend($i.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(r,o){var h=this;h.chart=r,h.index=o,h.linkScales(),h.addElements(),h._type=h.getMeta().type},updateIndex:function(r){this.index=r},linkScales:function(){var r=this,o=r.getMeta(),h=r.chart,f=h.scales,y=r.getDataset(),b=h.options.scales;(null===o.xAxisID||!(o.xAxisID in f)||y.xAxisID)&&(o.xAxisID=y.xAxisID||b.xAxes[0].id),(null===o.yAxisID||!(o.yAxisID in f)||y.yAxisID)&&(o.yAxisID=y.yAxisID||b.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(r){return this.chart.scales[r]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&Zn(this._data,this)},createMetaDataset:function(){var r=this,o=r.datasetElementType;return o&&new o({_chart:r.chart,_datasetIndex:r.index})},createMetaData:function(r){var o=this,h=o.dataElementType;return h&&new h({_chart:o.chart,_datasetIndex:o.index,_index:r})},addElements:function(){var y,b,r=this,o=r.getMeta(),h=r.getDataset().data||[],f=o.data;for(y=0,b=h.length;y<b;++y)f[y]=f[y]||r.createMetaData(y);o.dataset=o.dataset||r.createMetaDataset()},addElementAndReset:function(r){var o=this.createMetaData(r);this.getMeta().data.splice(r,0,o),this.updateElement(o,r,!0)},buildOrUpdateElements:function(){var r=this,o=r.getDataset(),h=o.data||(o.data=[]);r._data!==h&&(r._data&&Zn(r._data,r),h&&Object.isExtensible(h)&&function Li(r,o){r._chartjs?r._chartjs.listeners.push(o):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[o]}}),oi.forEach(function(h){var f="onData"+h.charAt(0).toUpperCase()+h.slice(1),y=r[h];Object.defineProperty(r,h,{configurable:!0,enumerable:!1,value:function(){var b=Array.prototype.slice.call(arguments),k=y.apply(this,b);return X.each(r._chartjs.listeners,function(I){"function"==typeof I[f]&&I[f].apply(I,b)}),k}})}))}(h,r),r._data=h),r.resyncElements()},_configure:function(){var r=this;r._config=X.merge(Object.create(null),[r.chart.options.datasets[r._type],r.getDataset()],{merger:function(o,h,f){"_meta"!==o&&"data"!==o&&X._merger(o,h,f)}})},_update:function(r){var o=this;o._configure(),o._cachedDataOpts=null,o.update(r)},update:X.noop,transition:function(r){for(var o=this.getMeta(),h=o.data||[],f=h.length,y=0;y<f;++y)h[y].transition(r);o.dataset&&o.dataset.transition(r)},draw:function(){var r=this.getMeta(),o=r.data||[],h=o.length,f=0;for(r.dataset&&r.dataset.draw();f<h;++f)o[f].draw()},getStyle:function(r){var y,o=this,h=o.getMeta(),f=h.dataset;return o._configure(),(!1===(y=f&&void 0===r?o._resolveDatasetElementOptions(f||{}):o._resolveDataElementOptions(h.data[r=r||0]||{},r)).fill||null===y.fill)&&(y.backgroundColor=y.borderColor),y},_resolveDatasetElementOptions:function(r,o){var F,N,U,ie,h=this,f=h.chart,y=h._config,b=r.custom||{},k=f.options.elements[h.datasetElementType.prototype._type]||{},I=h._datasetElementOptions,C={},ce={chart:f,dataset:h.getDataset(),datasetIndex:h.index,hover:o};for(F=0,N=I.length;F<N;++F)U=I[F],ie=o?"hover"+U.charAt(0).toUpperCase()+U.slice(1):U,C[U]=Ln([b[ie],y[ie],k[ie]],ce);return C},_resolveDataElementOptions:function(r,o){var h=this,f=r&&r.custom,y=h._cachedDataOpts;if(y&&!f)return y;var ie,ce,he,ve,b=h.chart,k=h._config,I=b.options.elements[h.dataElementType.prototype._type]||{},C=h._dataElementOptions,F={},N={chart:b,dataIndex:o,dataset:h.getDataset(),datasetIndex:h.index},U={cacheable:!f};if(f=f||{},X.isArray(C))for(ce=0,he=C.length;ce<he;++ce)F[ve=C[ce]]=Ln([f[ve],k[ve],I[ve]],N,o,U);else for(ce=0,he=(ie=Object.keys(C)).length;ce<he;++ce)F[ve=ie[ce]]=Ln([f[ve],k[C[ve]],k[ve],I[ve]],N,o,U);return U.cacheable&&(h._cachedDataOpts=Object.freeze(F)),F},removeHoverStyle:function(r){X.merge(r._model,r.$previousStyle||{}),delete r.$previousStyle},setHoverStyle:function(r){var o=this.chart.data.datasets[r._datasetIndex],h=r._index,f=r.custom||{},y=r._model,b=X.getHoverColor;r.$previousStyle={backgroundColor:y.backgroundColor,borderColor:y.borderColor,borderWidth:y.borderWidth},y.backgroundColor=Ln([f.hoverBackgroundColor,o.hoverBackgroundColor,b(y.backgroundColor)],void 0,h),y.borderColor=Ln([f.hoverBorderColor,o.hoverBorderColor,b(y.borderColor)],void 0,h),y.borderWidth=Ln([f.hoverBorderWidth,o.hoverBorderWidth,y.borderWidth],void 0,h)},_removeDatasetHoverStyle:function(){var r=this.getMeta().dataset;r&&this.removeHoverStyle(r)},_setDatasetHoverStyle:function(){var h,f,y,b,k,I,r=this.getMeta().dataset,o={};if(r){for(I=r._model,k=this._resolveDatasetElementOptions(r,!0),h=0,f=(b=Object.keys(k)).length;h<f;++h)o[y=b[h]]=I[y],I[y]=k[y];r.$previousStyle=o}},resyncElements:function(){var r=this,o=r.getMeta(),h=r.getDataset().data,f=o.data.length,y=h.length;y<f?o.data.splice(y,f-y):y>f&&r.insertElements(f,y-f)},insertElements:function(r,o){for(var h=0;h<o;++h)this.addElementAndReset(r+h)},onDataPush:function(){var r=arguments.length;this.insertElements(this.getDataset().data.length-r,r)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(r,o){this.getMeta().data.splice(r,o),this.insertElements(r,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),$i.extend=X.inherits;var bn=$i,qn=2*Math.PI;function jn(r,o){var h=o.startAngle,f=o.endAngle,y=o.pixelMargin,b=y/o.outerRadius,k=o.x,I=o.y;r.beginPath(),r.arc(k,I,o.outerRadius,h-b,f+b),o.innerRadius>y?r.arc(k,I,o.innerRadius-y,f+(b=y/o.innerRadius),h-b,!0):r.arc(k,I,y,f+Math.PI/2,h-Math.PI/2),r.closePath(),r.clip()}function Fr(r,o,h){var f="inner"===o.borderAlign;f?(r.lineWidth=2*o.borderWidth,r.lineJoin="round"):(r.lineWidth=o.borderWidth,r.lineJoin="bevel"),h.fullCircles&&function pi(r,o,h,f){var b,y=h.endAngle;for(f&&(h.endAngle=h.startAngle+qn,jn(r,h),h.endAngle=y,h.endAngle===h.startAngle&&h.fullCircles&&(h.endAngle+=qn,h.fullCircles--)),r.beginPath(),r.arc(h.x,h.y,h.innerRadius,h.startAngle+qn,h.startAngle,!0),b=0;b<h.fullCircles;++b)r.stroke();for(r.beginPath(),r.arc(h.x,h.y,o.outerRadius,h.startAngle,h.startAngle+qn),b=0;b<h.fullCircles;++b)r.stroke()}(r,o,h,f),f&&jn(r,h),r.beginPath(),r.arc(h.x,h.y,o.outerRadius,h.startAngle,h.endAngle),r.arc(h.x,h.y,h.innerRadius,h.endAngle,h.startAngle,!0),r.closePath(),r.stroke()}Zt._set("global",{elements:{arc:{backgroundColor:Zt.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var br=pt.extend({_type:"arc",inLabelRange:function(r){var o=this._view;return!!o&&Math.pow(r-o.x,2)<Math.pow(o.radius+o.hoverRadius,2)},inRange:function(r,o){var h=this._view;if(h){for(var f=X.getAngleFromPoint(h,{x:r,y:o}),y=f.angle,b=f.distance,k=h.startAngle,I=h.endAngle;I<k;)I+=qn;for(;y>I;)y-=qn;for(;y<k;)y+=qn;return y>=k&&y<=I&&b>=h.innerRadius&&b<=h.outerRadius}return!1},getCenterPoint:function(){var r=this._view,o=(r.startAngle+r.endAngle)/2,h=(r.innerRadius+r.outerRadius)/2;return{x:r.x+Math.cos(o)*h,y:r.y+Math.sin(o)*h}},getArea:function(){var r=this._view;return Math.PI*((r.endAngle-r.startAngle)/(2*Math.PI))*(Math.pow(r.outerRadius,2)-Math.pow(r.innerRadius,2))},tooltipPosition:function(){var r=this._view,o=r.startAngle+(r.endAngle-r.startAngle)/2,h=(r.outerRadius-r.innerRadius)/2+r.innerRadius;return{x:r.x+Math.cos(o)*h,y:r.y+Math.sin(o)*h}},draw:function(){var y,r=this._chart.ctx,o=this._view,h="inner"===o.borderAlign?.33:0,f={x:o.x,y:o.y,innerRadius:o.innerRadius,outerRadius:Math.max(o.outerRadius-h,0),pixelMargin:h,startAngle:o.startAngle,endAngle:o.endAngle,fullCircles:Math.floor(o.circumference/qn)};if(r.save(),r.fillStyle=o.backgroundColor,r.strokeStyle=o.borderColor,f.fullCircles){for(f.endAngle=f.startAngle+qn,r.beginPath(),r.arc(f.x,f.y,f.outerRadius,f.startAngle,f.endAngle),r.arc(f.x,f.y,f.innerRadius,f.endAngle,f.startAngle,!0),r.closePath(),y=0;y<f.fullCircles;++y)r.fill();f.endAngle=f.startAngle+o.circumference%qn}r.beginPath(),r.arc(f.x,f.y,f.outerRadius,f.startAngle,f.endAngle),r.arc(f.x,f.y,f.innerRadius,f.endAngle,f.startAngle,!0),r.closePath(),r.fill(),o.borderWidth&&Fr(r,o,f),r.restore()}}),yo=X.valueOrDefault,cs=Zt.global.defaultColor;Zt._set("global",{elements:{line:{tension:.4,backgroundColor:cs,borderWidth:3,borderColor:cs,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var dn=pt.extend({_type:"line",draw:function(){var F,N,U,r=this,o=r._view,h=r._chart.ctx,f=o.spanGaps,y=r._children.slice(),b=Zt.global,k=b.elements.line,I=-1,C=r._loop;if(y.length){if(r._loop){for(F=0;F<y.length;++F)if(N=X.previousItem(y,F),!y[F]._view.skip&&N._view.skip){y=y.slice(F).concat(y.slice(0,F)),C=f;break}C&&y.push(y[0])}for(h.save(),h.lineCap=o.borderCapStyle||k.borderCapStyle,h.setLineDash&&h.setLineDash(o.borderDash||k.borderDash),h.lineDashOffset=yo(o.borderDashOffset,k.borderDashOffset),h.lineJoin=o.borderJoinStyle||k.borderJoinStyle,h.lineWidth=yo(o.borderWidth,k.borderWidth),h.strokeStyle=o.borderColor||b.defaultColor,h.beginPath(),(U=y[0]._view).skip||(h.moveTo(U.x,U.y),I=0),F=1;F<y.length;++F)U=y[F]._view,N=-1===I?X.previousItem(y,F):y[I],U.skip||(I!==F-1&&!f||-1===I?h.moveTo(U.x,U.y):X.canvas.lineTo(h,N._view,U),I=F);C&&h.closePath(),h.stroke(),h.restore()}}}),on=X.valueOrDefault,Es=Zt.global.defaultColor;function zo(r){var o=this._view;return!!o&&Math.abs(r-o.x)<o.radius+o.hitRadius}Zt._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Es,borderColor:Es,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var ba=pt.extend({_type:"point",inRange:function(r,o){var h=this._view;return!!h&&Math.pow(r-h.x,2)+Math.pow(o-h.y,2)<Math.pow(h.hitRadius+h.radius,2)},inLabelRange:zo,inXRange:zo,inYRange:function Ba(r){var o=this._view;return!!o&&Math.abs(r-o.y)<o.radius+o.hitRadius},getCenterPoint:function(){var r=this._view;return{x:r.x,y:r.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var r=this._view;return{x:r.x,y:r.y,padding:r.radius+r.borderWidth}},draw:function(r){var o=this._view,h=this._chart.ctx,f=o.pointStyle,y=o.rotation,b=o.radius,k=o.x,I=o.y,C=Zt.global,F=C.defaultColor;o.skip||(void 0===r||X.canvas._isPointInArea(o,r))&&(h.strokeStyle=o.borderColor||F,h.lineWidth=on(o.borderWidth,C.elements.point.borderWidth),h.fillStyle=o.backgroundColor||F,X.canvas.drawPoint(h,f,b,k,I,y))}}),Ws=Zt.global.defaultColor;function nt(r){return r&&void 0!==r.width}function la(r){var o,h,f,y,b;return nt(r)?(o=r.x-(b=r.width/2),h=r.x+b,f=Math.min(r.y,r.base),y=Math.max(r.y,r.base)):(b=r.height/2,o=Math.min(r.x,r.base),h=Math.max(r.x,r.base),f=r.y-b,y=r.y+b),{left:o,top:f,right:h,bottom:y}}function Yn(r,o,h){return r===o?h:r===h?o:r}function Tl(r,o,h){var b,k,I,C,f=r.borderWidth,y=function $n(r){var o=r.borderSkipped,h={};return o&&(r.horizontal?r.base>r.x&&(o=Yn(o,"left","right")):r.base<r.y&&(o=Yn(o,"bottom","top")),h[o]=!0),h}(r);return X.isObject(f)?(b=+f.top||0,k=+f.right||0,I=+f.bottom||0,C=+f.left||0):b=k=I=C=+f||0,{t:y.top||b<0?0:b>h?h:b,r:y.right||k<0?0:k>o?o:k,b:y.bottom||I<0?0:I>h?h:I,l:y.left||C<0?0:C>o?o:C}}function us(r,o,h){var f=null===o,y=null===h,b=!(!r||f&&y)&&la(r);return b&&(f||o>=b.left&&o<=b.right)&&(y||h>=b.top&&h<=b.bottom)}Zt._set("global",{elements:{rectangle:{backgroundColor:Ws,borderColor:Ws,borderSkipped:"bottom",borderWidth:0}}});var kl=pt.extend({_type:"rectangle",draw:function(){var r=this._chart.ctx,o=this._view,h=function ca(r){var o=la(r),h=o.right-o.left,f=o.bottom-o.top,y=Tl(r,h/2,f/2);return{outer:{x:o.left,y:o.top,w:h,h:f},inner:{x:o.left+y.l,y:o.top+y.t,w:h-y.l-y.r,h:f-y.t-y.b}}}(o),f=h.outer,y=h.inner;r.fillStyle=o.backgroundColor,r.fillRect(f.x,f.y,f.w,f.h),(f.w!==y.w||f.h!==y.h)&&(r.save(),r.beginPath(),r.rect(f.x,f.y,f.w,f.h),r.clip(),r.fillStyle=o.borderColor,r.rect(y.x,y.y,y.w,y.h),r.fill("evenodd"),r.restore())},height:function(){var r=this._view;return r.base-r.y},inRange:function(r,o){return us(this._view,r,o)},inLabelRange:function(r,o){var h=this._view;return nt(h)?us(h,r,null):us(h,null,o)},inXRange:function(r){return us(this._view,r,null)},inYRange:function(r){return us(this._view,null,r)},getCenterPoint:function(){var o,h,r=this._view;return nt(r)?(o=r.x,h=(r.y+r.base)/2):(o=(r.x+r.base)/2,h=r.y),{x:o,y:h}},getArea:function(){var r=this._view;return nt(r)?r.width*Math.abs(r.y-r.base):r.height*Math.abs(r.x-r.base)},tooltipPosition:function(){var r=this._view;return{x:r.x,y:r.y}}}),Xn={},mi=dn,li=ba,Er=kl;Xn.Arc=br,Xn.Line=mi,Xn.Point=li,Xn.Rectangle=Er;var hr=X._deprecated,ei=X.valueOrDefault;function Br(r,o,h){var I,C,f=h.barThickness,y=o.stackCount,b=o.pixels[r],k=X.isNullOrUndef(f)?function ar(r,o){var f,y,b,k,h=r._length;for(b=1,k=o.length;b<k;++b)h=Math.min(h,Math.abs(o[b]-o[b-1]));for(b=0,k=r.getTicks().length;b<k;++b)y=r.getPixelForTick(b),h=b>0?Math.min(h,Math.abs(y-f)):h,f=y;return h}(o.scale,o.pixels):-1;return X.isNullOrUndef(f)?(I=k*h.categoryPercentage,C=h.barPercentage):(I=f*y,C=1),{chunk:I/y,ratio:C,start:b-I/2}}Zt._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),Zt._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var sr=bn.extend({dataElementType:Xn.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var o,h,r=this;bn.prototype.initialize.apply(r,arguments),(o=r.getMeta()).stack=r.getDataset().stack,o.bar=!0,h=r._getIndexScale().options,hr("bar chart",h.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),hr("bar chart",h.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),hr("bar chart",h.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),hr("bar chart",r._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),hr("bar chart",h.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(r){var f,y,o=this,h=o.getMeta().data;for(o._ruler=o.getRuler(),f=0,y=h.length;f<y;++f)o.updateElement(h[f],f,r)},updateElement:function(r,o,h){var f=this,y=f.getMeta(),b=f.getDataset(),k=f._resolveDataElementOptions(r,o);r._xScale=f.getScaleForId(y.xAxisID),r._yScale=f.getScaleForId(y.yAxisID),r._datasetIndex=f.index,r._index=o,r._model={backgroundColor:k.backgroundColor,borderColor:k.borderColor,borderSkipped:k.borderSkipped,borderWidth:k.borderWidth,datasetLabel:b.label,label:f.chart.data.labels[o]},X.isArray(b.data[o])&&(r._model.borderSkipped=null),f._updateElementGeometry(r,o,h,k),r.pivot()},_updateElementGeometry:function(r,o,h,f){var y=this,b=r._model,k=y._getValueScale(),I=k.getBasePixel(),C=k.isHorizontal(),F=y._ruler||y.getRuler(),N=y.calculateBarValuePixels(y.index,o,f),U=y.calculateBarIndexPixels(y.index,o,F,f);b.horizontal=C,b.base=h?I:N.base,b.x=C?h?I:N.head:U.center,b.y=C?U.center:h?I:N.head,b.height=C?U.size:void 0,b.width=C?void 0:U.size},_getStacks:function(r){var I,C,h=this._getIndexScale(),f=h._getMatchingVisibleMetas(this._type),y=h.options.stacked,b=f.length,k=[];for(I=0;I<b&&(C=f[I],(!1===y||-1===k.indexOf(C.stack)||void 0===y&&void 0===C.stack)&&k.push(C.stack),C.index!==r);++I);return k},getStackCount:function(){return this._getStacks().length},getStackIndex:function(r,o){var h=this._getStacks(r),f=void 0!==o?h.indexOf(o):-1;return-1===f?h.length-1:f},getRuler:function(){var f,y,r=this,o=r._getIndexScale(),h=[];for(f=0,y=r.getMeta().data.length;f<y;++f)h.push(o.getPixelForValue(null,f,r.index));return{pixels:h,start:o._startPixel,end:o._endPixel,stackCount:r.getStackCount(),scale:o}},calculateBarValuePixels:function(r,o,h){var ge,Ce,Re,Ze,Be,Ge,lt,f=this,y=f.chart,b=f._getValueScale(),k=b.isHorizontal(),I=y.data.datasets,C=b._getMatchingVisibleMetas(f._type),F=b._parseValue(I[r].data[o]),N=h.minBarLength,U=b.options.stacked,ie=f.getMeta().stack,ce=void 0===F.start?0:F.max>=0&&F.min>=0?F.min:F.max,he=void 0===F.start?F.end:F.max>=0&&F.min>=0?F.max-F.min:F.min-F.max,ve=C.length;if(U||void 0===U&&void 0!==ie)for(ge=0;ge<ve&&(Ce=C[ge]).index!==r;++ge)Ce.stack===ie&&(Re=void 0===(lt=b._parseValue(I[Ce.index].data[o])).start?lt.end:lt.min>=0&&lt.max>=0?lt.max:lt.min,(F.min<0&&Re<0||F.max>=0&&Re>0)&&(ce+=Re));return Ze=b.getPixelForValue(ce),Ge=(Be=b.getPixelForValue(ce+he))-Ze,void 0!==N&&Math.abs(Ge)<N&&(Ge=N,Be=he>=0&&!k||he<0&&k?Ze-N:Ze+N),{size:Ge,base:Ze,head:Be,center:Be+Ge/2}},calculateBarIndexPixels:function(r,o,h,f){var b="flex"===f.barThickness?function ja(r,o,h){var C,f=o.pixels,y=f[r],b=r>0?f[r-1]:null,k=r<f.length-1?f[r+1]:null,I=h.categoryPercentage;return null===b&&(b=y-(null===k?o.end-o.start:k-y)),null===k&&(k=y+y-b),C=y-(y-Math.min(b,k))/2*I,{chunk:Math.abs(k-b)/2*I/o.stackCount,ratio:h.barPercentage,start:C}}(o,h,f):Br(o,h,f),k=this.getStackIndex(r,this.getMeta().stack),I=b.start+b.chunk*k+b.chunk/2,C=Math.min(ei(f.maxBarThickness,1/0),b.chunk*b.ratio);return{base:I-C/2,head:I+C/2,center:I,size:C}},draw:function(){var r=this,o=r.chart,h=r._getValueScale(),f=r.getMeta().data,y=r.getDataset(),b=f.length,k=0;for(X.canvas.clipArea(o.ctx,o.chartArea);k<b;++k){var I=h._parseValue(y.data[k]);!isNaN(I.min)&&!isNaN(I.max)&&f[k].draw()}X.canvas.unclipArea(o.ctx)},_resolveDataElementOptions:function(){var r=this,o=X.extend({},bn.prototype._resolveDataElementOptions.apply(r,arguments)),h=r._getIndexScale().options,f=r._getValueScale().options;return o.barPercentage=ei(h.barPercentage,o.barPercentage),o.barThickness=ei(h.barThickness,o.barThickness),o.categoryPercentage=ei(h.categoryPercentage,o.categoryPercentage),o.maxBarThickness=ei(h.maxBarThickness,o.maxBarThickness),o.minBarLength=ei(f.minBarLength,o.minBarLength),o}}),Si=X.valueOrDefault,ll=X.options.resolve;Zt._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(r,o){return(o.datasets[r.datasetIndex].label||"")+": ("+r.xLabel+", "+r.yLabel+", "+o.datasets[r.datasetIndex].data[r.index].r+")"}}}});var xa=bn.extend({dataElementType:Xn.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(r){var o=this,h=o.getMeta();X.each(h.data,function(y,b){o.updateElement(y,b,r)})},updateElement:function(r,o,h){var f=this,y=f.getMeta(),b=r.custom||{},k=f.getScaleForId(y.xAxisID),I=f.getScaleForId(y.yAxisID),C=f._resolveDataElementOptions(r,o),F=f.getDataset().data[o],N=f.index,U=h?k.getPixelForDecimal(.5):k.getPixelForValue("object"==typeof F?F:NaN,o,N),ie=h?I.getBasePixel():I.getPixelForValue(F,o,N);r._xScale=k,r._yScale=I,r._options=C,r._datasetIndex=N,r._index=o,r._model={backgroundColor:C.backgroundColor,borderColor:C.borderColor,borderWidth:C.borderWidth,hitRadius:C.hitRadius,pointStyle:C.pointStyle,rotation:C.rotation,radius:h?0:C.radius,skip:b.skip||isNaN(U)||isNaN(ie),x:U,y:ie},r.pivot()},setHoverStyle:function(r){var o=r._model,h=r._options,f=X.getHoverColor;r.$previousStyle={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:o.borderWidth,radius:o.radius},o.backgroundColor=Si(h.hoverBackgroundColor,f(h.backgroundColor)),o.borderColor=Si(h.hoverBorderColor,f(h.borderColor)),o.borderWidth=Si(h.hoverBorderWidth,h.borderWidth),o.radius=h.radius+h.hoverRadius},_resolveDataElementOptions:function(r,o){var h=this,f=h.chart,y=h.getDataset(),b=r.custom||{},k=y.data[o]||{},I=bn.prototype._resolveDataElementOptions.apply(h,arguments),C={chart:f,dataIndex:o,dataset:y,datasetIndex:h.index};return h._cachedDataOpts===I&&(I=X.extend({},I)),I.radius=ll([b.radius,k.r,h._config.radius,f.options.elements.point.radius],C,o),I}}),ds=X.valueOrDefault,ua=Math.PI,da=2*ua,Va=ua/2;Zt._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(r){var b,k,I,o=document.createElement("ul"),h=r.data,f=h.datasets,y=h.labels;if(o.setAttribute("class",r.id+"-legend"),f.length)for(b=0,k=f[0].data.length;b<k;++b)(I=o.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=f[0].backgroundColor[b],y[b]&&I.appendChild(document.createTextNode(y[b]));return o.outerHTML},legend:{labels:{generateLabels:function(r){var o=r.data;return o.labels.length&&o.datasets.length?o.labels.map(function(h,f){var y=r.getDatasetMeta(0),b=y.controller.getStyle(f);return{text:h,fillStyle:b.backgroundColor,strokeStyle:b.borderColor,lineWidth:b.borderWidth,hidden:isNaN(o.datasets[0].data[f])||y.data[f].hidden,index:f}}):[]}},onClick:function(r,o){var y,b,k,h=o.index,f=this.chart;for(y=0,b=(f.data.datasets||[]).length;y<b;++y)(k=f.getDatasetMeta(y)).data[h]&&(k.data[h].hidden=!k.data[h].hidden);f.update()}},cutoutPercentage:50,rotation:-Va,circumference:da,tooltips:{callbacks:{title:function(){return""},label:function(r,o){var h=o.labels[r.index],f=": "+o.datasets[r.datasetIndex].data[r.index];return X.isArray(h)?(h=h.slice())[0]+=f:h+=f,h}}}});var Gs=bn.extend({dataElementType:Xn.Arc,linkScales:X.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(r){for(var o=0,h=0;h<r;++h)this.chart.isDatasetVisible(h)&&++o;return o},update:function(r){var ge,Ce,o=this,h=o.chart,f=h.chartArea,y=h.options,b=1,k=1,I=0,C=0,F=o.getMeta(),N=F.data,U=y.cutoutPercentage/100||0,ie=y.circumference,ce=o._getRingWeight(o.index);if(ie<da){var Re=y.rotation%da,Ze=(Re+=Re>=ua?-da:Re<-ua?da:0)+ie,Be=Math.cos(Re),Ge=Math.sin(Re),lt=Math.cos(Ze),tt=Math.sin(Ze),ot=Re<=0&&Ze>=0||Ze>=da,Ct=Re<=Va&&Ze>=Va||Ze>=da+Va,At=Re<=-Va&&Ze>=-Va||Ze>=ua+Va,jt=Re===-ua||Ze>=ua?-1:Math.min(Be,Be*U,lt,lt*U),Yt=At?-1:Math.min(Ge,Ge*U,tt,tt*U),ai=ot?1:Math.max(Be,Be*U,lt,lt*U),Vt=Ct?1:Math.max(Ge,Ge*U,tt,tt*U);b=(ai-jt)/2,k=(Vt-Yt)/2,I=-(ai+jt)/2,C=-(Vt+Yt)/2}for(ge=0,Ce=N.length;ge<Ce;++ge)N[ge]._options=o._resolveDataElementOptions(N[ge],ge);for(h.borderWidth=o.getMaxBorderWidth(),h.outerRadius=Math.max(Math.min((f.right-f.left-h.borderWidth)/b,(f.bottom-f.top-h.borderWidth)/k)/2,0),h.innerRadius=Math.max(h.outerRadius*U,0),h.radiusLength=(h.outerRadius-h.innerRadius)/(o._getVisibleDatasetWeightTotal()||1),h.offsetX=I*h.outerRadius,h.offsetY=C*h.outerRadius,F.total=o.calculateTotal(),o.outerRadius=h.outerRadius-h.radiusLength*o._getRingWeightOffset(o.index),o.innerRadius=Math.max(o.outerRadius-h.radiusLength*ce,0),ge=0,Ce=N.length;ge<Ce;++ge)o.updateElement(N[ge],ge,r)},updateElement:function(r,o,h){var f=this,y=f.chart,b=y.chartArea,k=y.options,I=k.animation,C=(b.left+b.right)/2,F=(b.top+b.bottom)/2,N=k.rotation,U=k.rotation,ie=f.getDataset(),ce=h&&I.animateRotate||r.hidden?0:f.calculateCircumference(ie.data[o])*(k.circumference/da),ge=r._options||{};X.extend(r,{_datasetIndex:f.index,_index:o,_model:{backgroundColor:ge.backgroundColor,borderColor:ge.borderColor,borderWidth:ge.borderWidth,borderAlign:ge.borderAlign,x:C+y.offsetX,y:F+y.offsetY,startAngle:N,endAngle:U,circumference:ce,outerRadius:h&&I.animateScale?0:f.outerRadius,innerRadius:h&&I.animateScale?0:f.innerRadius,label:X.valueAtIndexOrDefault(ie.label,o,y.data.labels[o])}});var Ce=r._model;(!h||!I.animateRotate)&&(Ce.startAngle=0===o?k.rotation:f.getMeta().data[o-1]._model.endAngle,Ce.endAngle=Ce.startAngle+Ce.circumference),r.pivot()},calculateTotal:function(){var f,r=this.getDataset(),o=this.getMeta(),h=0;return X.each(o.data,function(y,b){f=r.data[b],!isNaN(f)&&!y.hidden&&(h+=Math.abs(f))}),h},calculateCircumference:function(r){var o=this.getMeta().total;return o>0&&!isNaN(r)?da*(Math.abs(r)/o):0},getMaxBorderWidth:function(r){var y,b,k,I,C,F,N,U,h=0,f=this.chart;if(!r)for(y=0,b=f.data.datasets.length;y<b;++y)if(f.isDatasetVisible(y)){r=(k=f.getDatasetMeta(y)).data,y!==this.index&&(C=k.controller);break}if(!r)return 0;for(y=0,b=r.length;y<b;++y)I=r[y],C?(C._configure(),F=C._resolveDataElementOptions(I,y)):F=I._options,"inner"!==F.borderAlign&&(h=(U=F.hoverBorderWidth)>(h=(N=F.borderWidth)>h?N:h)?U:h);return h},setHoverStyle:function(r){var o=r._model,h=r._options,f=X.getHoverColor;r.$previousStyle={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:o.borderWidth},o.backgroundColor=ds(h.hoverBackgroundColor,f(h.backgroundColor)),o.borderColor=ds(h.hoverBorderColor,f(h.borderColor)),o.borderWidth=ds(h.hoverBorderWidth,h.borderWidth)},_getRingWeightOffset:function(r){for(var o=0,h=0;h<r;++h)this.chart.isDatasetVisible(h)&&(o+=this._getRingWeight(h));return o},_getRingWeight:function(r){return Math.max(ds(this.chart.data.datasets[r].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});Zt._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),Zt._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Kr=sr.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Ar=X.valueOrDefault,As=X.options.resolve,tr=X.canvas._isPointInArea;function mn(r,o){var h=r&&r.options.ticks||{},f=h.reverse,y=void 0===h.min?o:0,b=void 0===h.max?o:0;return{start:f?b:y,end:f?y:b}}function cl(r,o,h){var f=h/2,y=mn(r,f),b=mn(o,f);return{top:b.end,right:y.end,bottom:b.start,left:y.start}}function ul(r){var o,h,f,y;return X.isObject(r)?(o=r.top,h=r.right,f=r.bottom,y=r.left):o=h=f=y=r,{top:o,right:h,bottom:f,left:y}}Zt._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var pr=bn.extend({datasetElementType:Xn.Line,dataElementType:Xn.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(r){var C,F,o=this,h=o.getMeta(),f=h.dataset,y=h.data||[],k=o._config,I=o._showLine=Ar(k.showLine,o.chart.options.showLines);for(o._xScale=o.getScaleForId(h.xAxisID),o._yScale=o.getScaleForId(h.yAxisID),I&&(void 0!==k.tension&&void 0===k.lineTension&&(k.lineTension=k.tension),f._scale=o._yScale,f._datasetIndex=o.index,f._children=y,f._model=o._resolveDatasetElementOptions(f),f.pivot()),C=0,F=y.length;C<F;++C)o.updateElement(y[C],C,r);for(I&&0!==f._model.tension&&o.updateBezierControlPoints(),C=0,F=y.length;C<F;++C)y[C].pivot()},updateElement:function(r,o,h){var ie,ce,f=this,y=f.getMeta(),b=r.custom||{},k=f.getDataset(),I=f.index,C=k.data[o],F=f._xScale,N=f._yScale,U=y.dataset._model,he=f._resolveDataElementOptions(r,o);ie=F.getPixelForValue("object"==typeof C?C:NaN,o,I),ce=h?N.getBasePixel():f.calculatePointY(C,o,I),r._xScale=F,r._yScale=N,r._options=he,r._datasetIndex=I,r._index=o,r._model={x:ie,y:ce,skip:b.skip||isNaN(ie)||isNaN(ce),radius:he.radius,pointStyle:he.pointStyle,rotation:he.rotation,backgroundColor:he.backgroundColor,borderColor:he.borderColor,borderWidth:he.borderWidth,tension:Ar(b.tension,U?U.tension:0),steppedLine:!!U&&U.steppedLine,hitRadius:he.hitRadius}},_resolveDatasetElementOptions:function(r){var o=this,h=o._config,f=r.custom||{},y=o.chart.options,b=y.elements.line,k=bn.prototype._resolveDatasetElementOptions.apply(o,arguments);return k.spanGaps=Ar(h.spanGaps,y.spanGaps),k.tension=Ar(h.lineTension,b.tension),k.steppedLine=As([f.steppedLine,h.steppedLine,b.stepped]),k.clip=ul(Ar(h.clip,cl(o._xScale,o._yScale,k.borderWidth))),k},calculatePointY:function(r,o,h){var C,N,U,ie,ce,he,y=this.chart,b=this._yScale,k=0,I=0;if(b.options.stacked){for(ie=+b.getRightValue(r),he=(ce=y._getSortedVisibleDatasetMetas()).length,C=0;C<he&&(N=ce[C]).index!==h;++C)"line"===N.type&&N.yAxisID===b.id&&((U=+b.getRightValue(y.data.datasets[N.index].data[o]))<0?I+=U||0:k+=U||0);return b.getPixelForValue(ie<0?I+ie:k+ie)}return b.getPixelForValue(r)},updateBezierControlPoints:function(){var k,I,C,F,o=this.chart,h=this.getMeta(),f=h.dataset._model,y=o.chartArea,b=h.data||[];function N(U,ie,ce){return Math.max(Math.min(U,ce),ie)}if(f.spanGaps&&(b=b.filter(function(U){return!U._model.skip})),"monotone"===f.cubicInterpolationMode)X.splineCurveMonotone(b);else for(k=0,I=b.length;k<I;++k)C=b[k]._model,F=X.splineCurve(X.previousItem(b,k)._model,C,X.nextItem(b,k)._model,f.tension),C.controlPointPreviousX=F.previous.x,C.controlPointPreviousY=F.previous.y,C.controlPointNextX=F.next.x,C.controlPointNextY=F.next.y;if(o.options.elements.line.capBezierPoints)for(k=0,I=b.length;k<I;++k)tr(C=b[k]._model,y)&&(k>0&&tr(b[k-1]._model,y)&&(C.controlPointPreviousX=N(C.controlPointPreviousX,y.left,y.right),C.controlPointPreviousY=N(C.controlPointPreviousY,y.top,y.bottom)),k<b.length-1&&tr(b[k+1]._model,y)&&(C.controlPointNextX=N(C.controlPointNextX,y.left,y.right),C.controlPointNextY=N(C.controlPointNextY,y.top,y.bottom)))},draw:function(){var C,r=this,o=r.chart,h=r.getMeta(),f=h.data||[],y=o.chartArea,b=o.canvas,k=0,I=f.length;for(r._showLine&&(X.canvas.clipArea(o.ctx,{left:!1===(C=h.dataset._model.clip).left?0:y.left-C.left,right:!1===C.right?b.width:y.right+C.right,top:!1===C.top?0:y.top-C.top,bottom:!1===C.bottom?b.height:y.bottom+C.bottom}),h.dataset.draw(),X.canvas.unclipArea(o.ctx));k<I;++k)f[k].draw(y)},setHoverStyle:function(r){var o=r._model,h=r._options,f=X.getHoverColor;r.$previousStyle={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:o.borderWidth,radius:o.radius},o.backgroundColor=Ar(h.hoverBackgroundColor,f(h.backgroundColor)),o.borderColor=Ar(h.hoverBorderColor,f(h.borderColor)),o.borderWidth=Ar(h.hoverBorderWidth,h.borderWidth),o.radius=Ar(h.hoverRadius,h.radius)}}),jr=X.options.resolve;Zt._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(r){var b,k,I,o=document.createElement("ul"),h=r.data,f=h.datasets,y=h.labels;if(o.setAttribute("class",r.id+"-legend"),f.length)for(b=0,k=f[0].data.length;b<k;++b)(I=o.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=f[0].backgroundColor[b],y[b]&&I.appendChild(document.createTextNode(y[b]));return o.outerHTML},legend:{labels:{generateLabels:function(r){var o=r.data;return o.labels.length&&o.datasets.length?o.labels.map(function(h,f){var y=r.getDatasetMeta(0),b=y.controller.getStyle(f);return{text:h,fillStyle:b.backgroundColor,strokeStyle:b.borderColor,lineWidth:b.borderWidth,hidden:isNaN(o.datasets[0].data[f])||y.data[f].hidden,index:f}}):[]}},onClick:function(r,o){var y,b,k,h=o.index,f=this.chart;for(y=0,b=(f.data.datasets||[]).length;y<b;++y)(k=f.getDatasetMeta(y)).data[h].hidden=!k.data[h].hidden;f.update()}},tooltips:{callbacks:{title:function(){return""},label:function(r,o){return o.labels[r.index]+": "+r.yLabel}}}});var Dl=bn.extend({dataElementType:Xn.Arc,linkScales:X.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(r){var C,F,N,o=this,h=o.getDataset(),f=o.getMeta(),y=o.chart.options.startAngle||0,b=o._starts=[],k=o._angles=[],I=f.data;for(o._updateRadius(),f.count=o.countVisibleElements(),C=0,F=h.data.length;C<F;C++)b[C]=y,N=o._computeAngle(C),k[C]=N,y+=N;for(C=0,F=I.length;C<F;++C)I[C]._options=o._resolveDataElementOptions(I[C],C),o.updateElement(I[C],C,r)},_updateRadius:function(){var r=this,o=r.chart,h=o.chartArea,f=o.options,y=Math.min(h.right-h.left,h.bottom-h.top);o.outerRadius=Math.max(y/2,0),o.innerRadius=Math.max(f.cutoutPercentage?o.outerRadius/100*f.cutoutPercentage:1,0),o.radiusLength=(o.outerRadius-o.innerRadius)/o.getVisibleDatasetCount(),r.outerRadius=o.outerRadius-o.radiusLength*r.index,r.innerRadius=r.outerRadius-o.radiusLength},updateElement:function(r,o,h){var f=this,y=f.chart,b=f.getDataset(),k=y.options,I=k.animation,C=y.scale,F=y.data.labels,N=C.xCenter,U=C.yCenter,ie=k.startAngle,ce=r.hidden?0:C.getDistanceFromCenterForValue(b.data[o]),he=f._starts[o],ve=he+(r.hidden?0:f._angles[o]),ge=I.animateScale?0:C.getDistanceFromCenterForValue(b.data[o]),Ce=r._options||{};X.extend(r,{_datasetIndex:f.index,_index:o,_scale:C,_model:{backgroundColor:Ce.backgroundColor,borderColor:Ce.borderColor,borderWidth:Ce.borderWidth,borderAlign:Ce.borderAlign,x:N,y:U,innerRadius:0,outerRadius:h?ge:ce,startAngle:h&&I.animateRotate?ie:he,endAngle:h&&I.animateRotate?ie:ve,label:X.valueAtIndexOrDefault(F,o,F[o])}}),r.pivot()},countVisibleElements:function(){var r=this.getDataset(),o=this.getMeta(),h=0;return X.each(o.data,function(f,y){!isNaN(r.data[y])&&!f.hidden&&h++}),h},setHoverStyle:function(r){var o=r._model,h=r._options,f=X.getHoverColor,y=X.valueOrDefault;r.$previousStyle={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:o.borderWidth},o.backgroundColor=y(h.hoverBackgroundColor,f(h.backgroundColor)),o.borderColor=y(h.hoverBorderColor,f(h.borderColor)),o.borderWidth=y(h.hoverBorderWidth,h.borderWidth)},_computeAngle:function(r){var o=this,h=this.getMeta().count,f=o.getDataset(),y=o.getMeta();return isNaN(f.data[r])||y.data[r].hidden?0:jr([o.chart.options.elements.arc.angle,2*Math.PI/h],{chart:o.chart,dataIndex:r,dataset:f,datasetIndex:o.index},r)}});Zt._set("pie",X.clone(Zt.doughnut)),Zt._set("pie",{cutoutPercentage:0});var vo=Gs,Gi=X.valueOrDefault;Zt._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var bo=bn.extend({datasetElementType:Xn.Line,dataElementType:Xn.Point,linkScales:X.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(r){var I,C,o=this,h=o.getMeta(),f=h.dataset,y=h.data||[],b=o.chart.scale,k=o._config;for(void 0!==k.tension&&void 0===k.lineTension&&(k.lineTension=k.tension),f._scale=b,f._datasetIndex=o.index,f._children=y,f._loop=!0,f._model=o._resolveDatasetElementOptions(f),f.pivot(),I=0,C=y.length;I<C;++I)o.updateElement(y[I],I,r);for(o.updateBezierControlPoints(),I=0,C=y.length;I<C;++I)y[I].pivot()},updateElement:function(r,o,h){var f=this,y=r.custom||{},b=f.getDataset(),k=f.chart.scale,I=k.getPointPositionForValue(o,b.data[o]),C=f._resolveDataElementOptions(r,o),F=f.getMeta().dataset._model,N=h?k.xCenter:I.x,U=h?k.yCenter:I.y;r._scale=k,r._options=C,r._datasetIndex=f.index,r._index=o,r._model={x:N,y:U,skip:y.skip||isNaN(N)||isNaN(U),radius:C.radius,pointStyle:C.pointStyle,rotation:C.rotation,backgroundColor:C.backgroundColor,borderColor:C.borderColor,borderWidth:C.borderWidth,tension:Gi(y.tension,F?F.tension:0),hitRadius:C.hitRadius}},_resolveDatasetElementOptions:function(){var r=this,o=r._config,h=r.chart.options,f=bn.prototype._resolveDatasetElementOptions.apply(r,arguments);return f.spanGaps=Gi(o.spanGaps,h.spanGaps),f.tension=Gi(o.lineTension,h.elements.line.tension),f},updateBezierControlPoints:function(){var y,b,k,I,o=this.getMeta(),h=this.chart.chartArea,f=o.data||[];function C(F,N,U){return Math.max(Math.min(F,U),N)}for(o.dataset._model.spanGaps&&(f=f.filter(function(F){return!F._model.skip})),y=0,b=f.length;y<b;++y)k=f[y]._model,I=X.splineCurve(X.previousItem(f,y,!0)._model,k,X.nextItem(f,y,!0)._model,k.tension),k.controlPointPreviousX=C(I.previous.x,h.left,h.right),k.controlPointPreviousY=C(I.previous.y,h.top,h.bottom),k.controlPointNextX=C(I.next.x,h.left,h.right),k.controlPointNextY=C(I.next.y,h.top,h.bottom)},setHoverStyle:function(r){var o=r._model,h=r._options,f=X.getHoverColor;r.$previousStyle={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:o.borderWidth,radius:o.radius},o.backgroundColor=Gi(h.hoverBackgroundColor,f(h.backgroundColor)),o.borderColor=Gi(h.hoverBorderColor,f(h.borderColor)),o.borderWidth=Gi(h.hoverBorderWidth,h.borderWidth),o.radius=Gi(h.hoverRadius,h.radius)}});Zt._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(r){return"("+r.xLabel+", "+r.yLabel+")"}}}}),Zt._set("global",{datasets:{scatter:{showLine:!1}}});var ha={bar:sr,bubble:xa,doughnut:Gs,horizontalBar:Kr,line:pr,polarArea:Dl,pie:vo,radar:bo,scatter:pr};function Sn(r,o){return r.native?{x:r.x,y:r.y}:X.getRelativePosition(r,o)}function Pr(r,o){var f,y,b,k,I,C,h=r._getSortedVisibleDatasetMetas();for(y=0,k=h.length;y<k;++y)for(b=0,I=(f=h[y].data).length;b<I;++b)(C=f[b])._view.skip||o(C)}function Zs(r,o){var h=[];return Pr(r,function(f){f.inRange(o.x,o.y)&&h.push(f)}),h}function Vr(r,o,h,f){var y=Number.POSITIVE_INFINITY,b=[];return Pr(r,function(k){if(!h||k.inRange(o.x,o.y)){var I=k.getCenterPoint(),C=f(o,I);C<y?(b=[k],y=C):C===y&&b.push(k)}}),b}function fr(r){var o=-1!==r.indexOf("x"),h=-1!==r.indexOf("y");return function(f,y){var b=o?Math.abs(f.x-y.x):0,k=h?Math.abs(f.y-y.y):0;return Math.sqrt(Math.pow(b,2)+Math.pow(k,2))}}function Ha(r,o,h){var f=Sn(o,r);h.axis=h.axis||"x";var y=fr(h.axis),b=h.intersect?Zs(r,f):Vr(r,f,!1,y),k=[];return b.length?(r._getSortedVisibleDatasetMetas().forEach(function(I){var C=I.data[b[0]._index];C&&!C._view.skip&&k.push(C)}),k):[]}var qs={modes:{single:function(r,o){var h=Sn(o,r),f=[];return Pr(r,function(y){if(y.inRange(h.x,h.y))return f.push(y),f}),f.slice(0,1)},label:Ha,index:Ha,dataset:function(r,o,h){var f=Sn(o,r);h.axis=h.axis||"xy";var y=fr(h.axis),b=h.intersect?Zs(r,f):Vr(r,f,!1,y);return b.length>0&&(b=r.getDatasetMeta(b[0]._datasetIndex).data),b},"x-axis":function(r,o){return Ha(r,o,{intersect:!1})},point:function(r,o){return Zs(r,Sn(o,r))},nearest:function(r,o,h){var f=Sn(o,r);h.axis=h.axis||"xy";var y=fr(h.axis);return Vr(r,f,h.intersect,y)},x:function(r,o,h){var f=Sn(o,r),y=[],b=!1;return Pr(r,function(k){k.inXRange(f.x)&&y.push(k),k.inRange(f.x,f.y)&&(b=!0)}),h.intersect&&!b&&(y=[]),y},y:function(r,o,h){var f=Sn(o,r),y=[],b=!1;return Pr(r,function(k){k.inYRange(f.y)&&y.push(k),k.inRange(f.x,f.y)&&(b=!0)}),h.intersect&&!b&&(y=[]),y}}},$s=X.extend;function Hr(r,o){return X.where(r,function(h){return h.pos===o})}function ir(r,o){return r.sort(function(h,f){var y=o?f:h,b=o?h:f;return y.weight===b.weight?y.index-b.index:y.weight-b.weight})}function Is(r,o,h,f){return Math.max(r[h],o[h])+Math.max(r[f],o[f])}function Xi(r,o,h){var b,k,f=h.box,y=r.maxPadding;if(h.size&&(r[h.pos]-=h.size),h.size=h.horizontal?f.height:f.width,r[h.pos]+=h.size,f.getPadding){var I=f.getPadding();y.top=Math.max(y.top,I.top),y.left=Math.max(y.left,I.left),y.bottom=Math.max(y.bottom,I.bottom),y.right=Math.max(y.right,I.right)}if(b=o.outerWidth-Is(y,r,"left","right"),k=o.outerHeight-Is(y,r,"top","bottom"),b!==r.w||k!==r.h){r.w=b,r.h=k;var C=h.horizontal?[b,r.w]:[k,r.h];return!(C[0]===C[1]||isNaN(C[0])&&isNaN(C[1]))}}function wa(r,o){var h=o.maxPadding;return function f(y){var b={left:0,top:0,right:0,bottom:0};return y.forEach(function(k){b[k]=Math.max(o[k],h[k])}),b}(r?["left","right"]:["top","bottom"])}function hs(r,o,h){var y,b,k,I,C,F,f=[];for(y=0,b=r.length;y<b;++y)(I=(k=r[y]).box).update(k.width||o.w,k.height||o.h,wa(k.horizontal,o)),Xi(o,h,k)&&(F=!0,f.length&&(C=!0)),I.fullWidth||f.push(k);return C&&hs(f,o,h)||F}function Fo(r,o,h){var k,I,C,F,f=h.padding,y=o.x,b=o.y;for(k=0,I=r.length;k<I;++k)F=(C=r[k]).box,C.horizontal?(F.left=F.fullWidth?f.left:o.left,F.right=F.fullWidth?h.outerWidth-f.right:o.left+o.w,F.top=b,F.bottom=b+F.height,F.width=F.right-F.left,b=F.bottom):(F.left=y,F.right=y+F.width,F.top=o.top,F.bottom=o.top+o.h,F.height=F.bottom-F.top,y=F.right);o.x=y,o.y=b}Zt._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var xr={defaults:{},addBox:function(r,o){r.boxes||(r.boxes=[]),o.fullWidth=o.fullWidth||!1,o.position=o.position||"top",o.weight=o.weight||0,o._layers=o._layers||function(){return[{z:0,draw:function(){o.draw.apply(o,arguments)}}]},r.boxes.push(o)},removeBox:function(r,o){var h=r.boxes?r.boxes.indexOf(o):-1;-1!==h&&r.boxes.splice(h,1)},configure:function(r,o,h){for(var k,f=["fullWidth","position","weight"],y=f.length,b=0;b<y;++b)h.hasOwnProperty(k=f[b])&&(o[k]=h[k])},update:function(r,o,h){if(r){var y=X.options.toPadding((r.options.layout||{}).padding),b=o-y.width,k=h-y.height,I=function Na(r){var o=function hl(r){var h,f,y,o=[];for(h=0,f=(r||[]).length;h<f;++h)o.push({index:h,box:y=r[h],pos:y.position,horizontal:y.isHorizontal(),weight:y.weight});return o}(r),h=ir(Hr(o,"left"),!0),f=ir(Hr(o,"right")),y=ir(Hr(o,"top"),!0),b=ir(Hr(o,"bottom"));return{leftAndTop:h.concat(y),rightAndBottom:f.concat(b),chartArea:Hr(o,"chartArea"),vertical:h.concat(f),horizontal:y.concat(b)}}(r.boxes),C=I.vertical,F=I.horizontal,N=Object.freeze({outerWidth:o,outerHeight:h,padding:y,availableWidth:b,vBoxMaxWidth:b/2/C.length,hBoxMaxHeight:k/2}),U=$s({maxPadding:$s({},y),w:b,h:k,x:y.left,y:y.top},y);(function Ps(r,o){var h,f,y;for(h=0,f=r.length;h<f;++h)(y=r[h]).width=y.horizontal?y.box.fullWidth&&o.availableWidth:o.vBoxMaxWidth,y.height=y.horizontal&&o.hBoxMaxHeight})(C.concat(F),N),hs(C,U,N),hs(F,U,N)&&hs(C,U,N),function Ua(r){var o=r.maxPadding;function h(f){var y=Math.max(o[f]-r[f],0);return r[f]+=y,y}r.y+=h("top"),r.x+=h("left"),h("right"),h("bottom")}(U),Fo(I.leftAndTop,U,N),U.x+=U.w,U.y+=U.h,Fo(I.rightAndBottom,U,N),r.chartArea={left:U.left,top:U.top,right:U.left+U.w,bottom:U.top+U.h},X.each(I.chartArea,function(ie){var ce=ie.box;$s(ce,r.chartArea),ce.update(U.w,U.h)})}}},zi=function Y(r){return r&&r.default||r}(Object.freeze({__proto__:null,default:"/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n"})),wr="$chartjs",Ir="chartjs-",Bo=Ir+"size-monitor",ps=Ir+"render-monitor",xo=["animationstart","webkitAnimationStart"],fs={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function pa(r,o){var h=X.getStyle(r,o),f=h&&h.match(/^(\d+)(\.\d+)?px$/);return f?Number(f[1]):void 0}var Wa=!!function(){var r=!1;try{var o=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("e",null,o)}catch(h){}return r}()&&{passive:!0};function Ga(r,o,h){r.addEventListener(o,h,Wa)}function Js(r,o,h){r.removeEventListener(o,h,Wa)}function ms(r,o,h,f,y){return{type:r,chart:o,native:y||null,x:void 0!==h?h:null,y:void 0!==f?f:null}}function Zi(r){var o=document.createElement("div");return o.className=r||"",o}function Qr(r,o,h){var f=r[wr]||(r[wr]={}),y=f.resizer=function wo(r){var o=1e6,h=Zi(Bo),f=Zi(Bo+"-expand"),y=Zi(Bo+"-shrink");f.appendChild(Zi()),y.appendChild(Zi()),h.appendChild(f),h.appendChild(y),h._reset=function(){f.scrollLeft=o,f.scrollTop=o,y.scrollLeft=o,y.scrollTop=o};var b=function(){h._reset(),r()};return Ga(f,"scroll",b.bind(f,"expand")),Ga(y,"scroll",b.bind(y,"shrink")),h}(function Vo(r,o){var h=!1,f=[];return function(){f=Array.prototype.slice.call(arguments),o=o||this,h||(h=!0,X.requestAnimFrame.call(window,function(){h=!1,r.apply(o,f)}))}}(function(){if(f.resizer){var b=h.options.maintainAspectRatio&&r.parentNode,k=b?b.clientWidth:0;o(ms("resize",h)),b&&b.clientWidth<k&&h.canvas&&o(ms("resize",h))}}));!function Za(r,o){var h=r[wr]||(r[wr]={}),f=h.renderProxy=function(y){"chartjs-render-animation"===y.animationName&&o()};X.each(xo,function(y){Ga(r,y,f)}),h.reflow=!!r.offsetParent,r.classList.add(ps)}(r,function(){if(f.resizer){var b=r.parentNode;b&&b!==y.parentNode&&b.insertBefore(y,b.firstChild),y._reset()}})}function fl(r){var o=r[wr]||{},h=o.resizer;delete o.resizer,function Oi(r){var o=r[wr]||{},h=o.renderProxy;h&&(X.each(xo,function(f){Js(r,f,h)}),delete o.renderProxy),r.classList.remove(ps)}(r),h&&h.parentNode&&h.parentNode.removeChild(h)}var Ho={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(r){if(!this.disableCSSInjection){var o=r.getRootNode?r.getRootNode():document;!function Ta(r,o){var h=r[wr]||(r[wr]={});if(!h.containsStyles){h.containsStyles=!0,o="/* Chart.js */\n"+o;var f=document.createElement("style");f.setAttribute("type","text/css"),f.appendChild(document.createTextNode(o)),r.appendChild(f)}}(o.host?o:document.head,zi)}},acquireContext:function(r,o){"string"==typeof r?r=document.getElementById(r):r.length&&(r=r[0]),r&&r.canvas&&(r=r.canvas);var h=r&&r.getContext&&r.getContext("2d");return h&&h.canvas===r?(this._ensureLoaded(r),function _s(r,o){var h=r.style,f=r.getAttribute("height"),y=r.getAttribute("width");if(r[wr]={initial:{height:f,width:y,style:{display:h.display,height:h.height,width:h.width}}},h.display=h.display||"block",null===y||""===y){var b=pa(r,"width");void 0!==b&&(r.width=b)}if(null===f||""===f)if(""===r.style.height)r.height=r.width/(o.options.aspectRatio||2);else{var k=pa(r,"height");void 0!==b&&(r.height=k)}return r}(r,o),h):null},releaseContext:function(r){var o=r.canvas;if(o[wr]){var h=o[wr].initial;["height","width"].forEach(function(f){var y=h[f];X.isNullOrUndef(y)?o.removeAttribute(f):o.setAttribute(f,y)}),X.each(h.style||{},function(f,y){o.style[y]=f}),o.width=o.width,delete o[wr]}},addEventListener:function(r,o,h){var f=r.canvas;if("resize"!==o){var y=h[wr]||(h[wr]={});Ga(f,o,(y.proxies||(y.proxies={}))[r.id+"_"+o]=function(I){h(function jo(r,o){var h=fs[r.type]||r.type,f=X.getRelativePosition(r,o);return ms(h,o,f.x,f.y,r)}(I,r))})}else Qr(f,h,r)},removeEventListener:function(r,o,h){var f=r.canvas;if("resize"!==o){var k=((h[wr]||{}).proxies||{})[r.id+"_"+o];!k||Js(f,o,k)}else fl(f)}};X.addEvent=Ga,X.removeEvent=Js;var gs=X.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Ho._enabled?Ho:{acquireContext:function(r){return r&&r.canvas&&(r=r.canvas),r&&r.getContext("2d")||null}});Zt._set("global",{plugins:{}});var Ji={_plugins:[],_cacheId:0,register:function(r){var o=this._plugins;[].concat(r).forEach(function(h){-1===o.indexOf(h)&&o.push(h)}),this._cacheId++},unregister:function(r){var o=this._plugins;[].concat(r).forEach(function(h){var f=o.indexOf(h);-1!==f&&o.splice(f,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(r,o,h){var b,k,I,C,F,f=this.descriptors(r),y=f.length;for(b=0;b<y;++b)if("function"==typeof(F=(I=(k=f[b]).plugin)[o])&&((C=[r].concat(h||[])).push(k.options),!1===F.apply(I,C)))return!1;return!0},descriptors:function(r){var o=r.$plugins||(r.$plugins={});if(o.id===this._cacheId)return o.descriptors;var h=[],f=[],y=r&&r.config||{},b=y.options&&y.options.plugins||{};return this._plugins.concat(y.plugins||[]).forEach(function(k){if(-1===h.indexOf(k)){var C=k.id,F=b[C];!1!==F&&(!0===F&&(F=X.clone(Zt.global.plugins[C])),h.push(k),f.push({plugin:k,options:F||{}}))}}),o.descriptors=f,o.id=this._cacheId,f},_invalidate:function(r){delete r.$plugins}},Ks={constructors:{},defaults:{},registerScaleType:function(r,o,h){this.constructors[r]=o,this.defaults[r]=X.clone(h)},getScaleConstructor:function(r){return this.constructors.hasOwnProperty(r)?this.constructors[r]:void 0},getScaleDefaults:function(r){return this.defaults.hasOwnProperty(r)?X.merge(Object.create(null),[Zt.scale,this.defaults[r]]):{}},updateScaleDefaults:function(r,o){var h=this;h.defaults.hasOwnProperty(r)&&(h.defaults[r]=X.extend(h.defaults[r],o))},addScalesToLayout:function(r){X.each(r.scales,function(o){o.fullWidth=o.options.fullWidth,o.position=o.options.position,o.weight=o.options.weight,xr.addBox(r,o)})}},qa=X.valueOrDefault,Rs=X.rtl.getRtlAdapter;Zt._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:X.noop,title:function(r,o){var h="",f=o.labels,y=f?f.length:0;if(r.length>0){var b=r[0];b.label?h=b.label:b.xLabel?h=b.xLabel:y>0&&b.index<y&&(h=f[b.index])}return h},afterTitle:X.noop,beforeBody:X.noop,beforeLabel:X.noop,label:function(r,o){var h=o.datasets[r.datasetIndex].label||"";return h&&(h+=": "),X.isNullOrUndef(r.value)?h+=r.yLabel:h+=r.value,h},labelColor:function(r,o){var y=o.getDatasetMeta(r.datasetIndex).data[r.index]._view;return{borderColor:y.borderColor,backgroundColor:y.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:X.noop,afterBody:X.noop,beforeFooter:X.noop,footer:X.noop,afterFooter:X.noop}}});var No={average:function(r){if(!r.length)return!1;var o,h,f=0,y=0,b=0;for(o=0,h=r.length;o<h;++o){var k=r[o];if(k&&k.hasValue()){var I=k.tooltipPosition();f+=I.x,y+=I.y,++b}}return{x:f/b,y:y/b}},nearest:function(r,o){var b,k,I,h=o.x,f=o.y,y=Number.POSITIVE_INFINITY;for(b=0,k=r.length;b<k;++b){var C=r[b];if(C&&C.hasValue()){var F=C.getCenterPoint(),N=X.distanceBetweenPoints(o,F);N<y&&(y=N,I=C)}}if(I){var U=I.tooltipPosition();h=U.x,f=U.y}return{x:h,y:f}}};function Or(r,o){return o&&(X.isArray(o)?Array.prototype.push.apply(r,o):r.push(o)),r}function Fi(r){return("string"==typeof r||r instanceof String)&&r.indexOf("\n")>-1?r.split("\n"):r}function Uo(r){var o=r._xScale,h=r._yScale||r._scale,f=r._index,y=r._datasetIndex,b=r._chart.getDatasetMeta(y).controller,k=b._getIndexScale(),I=b._getValueScale();return{xLabel:o?o.getLabelForIndex(f,y):"",yLabel:h?h.getLabelForIndex(f,y):"",label:k?""+k.getLabelForIndex(f,y):"",value:I?""+I.getLabelForIndex(f,y):"",index:f,datasetIndex:y,x:r._model.x,y:r._model.y}}function Mo(r){var o=Zt.global;return{xPadding:r.xPadding,yPadding:r.yPadding,xAlign:r.xAlign,yAlign:r.yAlign,rtl:r.rtl,textDirection:r.textDirection,bodyFontColor:r.bodyFontColor,_bodyFontFamily:qa(r.bodyFontFamily,o.defaultFontFamily),_bodyFontStyle:qa(r.bodyFontStyle,o.defaultFontStyle),_bodyAlign:r.bodyAlign,bodyFontSize:qa(r.bodyFontSize,o.defaultFontSize),bodySpacing:r.bodySpacing,titleFontColor:r.titleFontColor,_titleFontFamily:qa(r.titleFontFamily,o.defaultFontFamily),_titleFontStyle:qa(r.titleFontStyle,o.defaultFontStyle),titleFontSize:qa(r.titleFontSize,o.defaultFontSize),_titleAlign:r.titleAlign,titleSpacing:r.titleSpacing,titleMarginBottom:r.titleMarginBottom,footerFontColor:r.footerFontColor,_footerFontFamily:qa(r.footerFontFamily,o.defaultFontFamily),_footerFontStyle:qa(r.footerFontStyle,o.defaultFontStyle),footerFontSize:qa(r.footerFontSize,o.defaultFontSize),_footerAlign:r.footerAlign,footerSpacing:r.footerSpacing,footerMarginTop:r.footerMarginTop,caretSize:r.caretSize,cornerRadius:r.cornerRadius,backgroundColor:r.backgroundColor,opacity:0,legendColorBackground:r.multiKeyBackground,displayColors:r.displayColors,borderColor:r.borderColor,borderWidth:r.borderWidth}}function zs(r,o){return"center"===o?r.x+r.width/2:"right"===o?r.x+r.width-r.xPadding:r.x+r.xPadding}function Ur(r){return Or([],Fi(r))}var _l=pt.extend({initialize:function(){this._model=Mo(this._options),this._lastActive=[]},getTitle:function(){var r=this,h=r._options.callbacks,f=h.beforeTitle.apply(r,arguments),y=h.title.apply(r,arguments),b=h.afterTitle.apply(r,arguments),k=[];return k=Or(k,Fi(f)),k=Or(k,Fi(y)),Or(k,Fi(b))},getBeforeBody:function(){return Ur(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(r,o){var h=this,f=h._options.callbacks,y=[];return X.each(r,function(b){var k={before:[],lines:[],after:[]};Or(k.before,Fi(f.beforeLabel.call(h,b,o))),Or(k.lines,f.label.call(h,b,o)),Or(k.after,Fi(f.afterLabel.call(h,b,o))),y.push(k)}),y},getAfterBody:function(){return Ur(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var r=this,o=r._options.callbacks,h=o.beforeFooter.apply(r,arguments),f=o.footer.apply(r,arguments),y=o.afterFooter.apply(r,arguments),b=[];return b=Or(b,Fi(h)),b=Or(b,Fi(f)),Or(b,Fi(y))},update:function(r){var U,ie,o=this,h=o._options,f=o._model,y=o._model=Mo(h),b=o._active,k=o._data,I={xAlign:f.xAlign,yAlign:f.yAlign},C={x:f.x,y:f.y},F={width:f.width,height:f.height},N={x:f.caretX,y:f.caretY};if(b.length){y.opacity=1;var ce=[],he=[];N=No[h.position].call(o,b,o._eventPosition);var ve=[];for(U=0,ie=b.length;U<ie;++U)ve.push(Uo(b[U]));h.filter&&(ve=ve.filter(function(ge){return h.filter(ge,k)})),h.itemSort&&(ve=ve.sort(function(ge,Ce){return h.itemSort(ge,Ce,k)})),X.each(ve,function(ge){ce.push(h.callbacks.labelColor.call(o,ge,o._chart)),he.push(h.callbacks.labelTextColor.call(o,ge,o._chart))}),y.title=o.getTitle(ve,k),y.beforeBody=o.getBeforeBody(ve,k),y.body=o.getBody(ve,k),y.afterBody=o.getAfterBody(ve,k),y.footer=o.getFooter(ve,k),y.x=N.x,y.y=N.y,y.caretPadding=h.caretPadding,y.labelColors=ce,y.labelTextColors=he,y.dataPoints=ve,C=function Qs(r,o,h,f){var y=r.x,b=r.y,I=r.caretPadding,F=h.xAlign,N=h.yAlign,U=r.caretSize+I,ie=r.cornerRadius+I;return"right"===F?y-=o.width:"center"===F&&((y-=o.width/2)+o.width>f.width&&(y=f.width-o.width),y<0&&(y=0)),"top"===N?b+=U:b-="bottom"===N?o.height+U:o.height/2,"center"===N?"left"===F?y+=U:"right"===F&&(y-=U):"left"===F?y-=ie:"right"===F&&(y+=ie),{x:y,y:b}}(y,F=function Ll(r,o){var h=r._chart.ctx,f=2*o.yPadding,y=0,b=o.body,k=b.reduce(function(he,ve){return he+ve.before.length+ve.lines.length+ve.after.length},0),I=o.title.length,C=o.footer.length,F=o.titleFontSize,N=o.bodyFontSize,U=o.footerFontSize;f+=I*F,f+=I?(I-1)*o.titleSpacing:0,f+=I?o.titleMarginBottom:0,f+=(k+=o.beforeBody.length+o.afterBody.length)*N,f+=k?(k-1)*o.bodySpacing:0,f+=C?o.footerMarginTop:0,f+=C*U,f+=C?(C-1)*o.footerSpacing:0;var ie=0,ce=function(he){y=Math.max(y,h.measureText(he).width+ie)};return h.font=X.fontString(F,o._titleFontStyle,o._titleFontFamily),X.each(o.title,ce),h.font=X.fontString(N,o._bodyFontStyle,o._bodyFontFamily),X.each(o.beforeBody.concat(o.afterBody),ce),ie=o.displayColors?N+2:0,X.each(b,function(he){X.each(he.before,ce),X.each(he.lines,ce),X.each(he.after,ce)}),ie=0,h.font=X.fontString(U,o._footerFontStyle,o._footerFontFamily),X.each(o.footer,ce),{width:y+=2*o.xPadding,height:f}}(this,y),I=function Ys(r,o){var h=r._model,f=r._chart,y=r._chart.chartArea,b="center",k="center";h.y<o.height?k="top":h.y>f.height-o.height&&(k="bottom");var I,C,F,N,U,ie=(y.left+y.right)/2,ce=(y.top+y.bottom)/2;"center"===k?(I=function(ve){return ve<=ie},C=function(ve){return ve>ie}):(I=function(ve){return ve<=o.width/2},C=function(ve){return ve>=f.width-o.width/2}),F=function(ve){return ve+o.width+h.caretSize+h.caretPadding>f.width},N=function(ve){return ve-o.width-h.caretSize-h.caretPadding<0},U=function(ve){return ve<=ce?"top":"bottom"},I(h.x)?(b="left",F(h.x)&&(b="center",k=U(h.y))):C(h.x)&&(b="right",N(h.x)&&(b="center",k=U(h.y)));var he=r._options;return{xAlign:he.xAlign?he.xAlign:b,yAlign:he.yAlign?he.yAlign:k}}(this,F),o._chart)}else y.opacity=0;return y.xAlign=I.xAlign,y.yAlign=I.yAlign,y.x=C.x,y.y=C.y,y.width=F.width,y.height=F.height,y.caretX=N.x,y.caretY=N.y,o._model=y,r&&h.custom&&h.custom.call(o,y),o},drawCaret:function(r,o){var h=this._chart.ctx,y=this.getCaretPosition(r,o,this._view);h.lineTo(y.x1,y.y1),h.lineTo(y.x2,y.y2),h.lineTo(y.x3,y.y3)},getCaretPosition:function(r,o,h){var f,y,b,k,I,C,F=h.caretSize,N=h.cornerRadius,U=h.xAlign,ie=h.yAlign,ce=r.x,he=r.y,ve=o.width,ge=o.height;if("center"===ie)I=he+ge/2,"left"===U?(y=(f=ce)-F,b=f,k=I+F,C=I-F):(y=(f=ce+ve)+F,b=f,k=I-F,C=I+F);else if("left"===U?(f=(y=ce+N+F)-F,b=y+F):"right"===U?(f=(y=ce+ve-N-F)-F,b=y+F):(f=(y=h.caretX)-F,b=y+F),"top"===ie)I=(k=he)-F,C=k;else{I=(k=he+ge)+F,C=k;var Ce=b;b=f,f=Ce}return{x1:f,x2:y,x3:b,y1:k,y2:I,y3:C}},drawTitle:function(r,o,h){var b,k,I,f=o.title,y=f.length;if(y){var C=Rs(o.rtl,o.x,o.width);for(r.x=zs(o,o._titleAlign),h.textAlign=C.textAlign(o._titleAlign),h.textBaseline="middle",b=o.titleFontSize,k=o.titleSpacing,h.fillStyle=o.titleFontColor,h.font=X.fontString(b,o._titleFontStyle,o._titleFontFamily),I=0;I<y;++I)h.fillText(f[I],C.x(r.x),r.y+b/2),r.y+=b+k,I+1===y&&(r.y+=o.titleMarginBottom-k)}},drawBody:function(r,o,h){var ie,ce,he,ve,ge,Ce,Re,Ze,f=o.bodyFontSize,y=o.bodySpacing,b=o._bodyAlign,k=o.body,I=o.displayColors,C=0,F=I?zs(o,"left"):0,N=Rs(o.rtl,o.x,o.width),U=function(lt){h.fillText(lt,N.x(r.x+C),r.y+f/2),r.y+=f+y},Be=N.textAlign(b);for(h.textAlign=b,h.textBaseline="middle",h.font=X.fontString(f,o._bodyFontStyle,o._bodyFontFamily),r.x=zs(o,Be),h.fillStyle=o.bodyFontColor,X.each(o.beforeBody,U),C=I&&"right"!==Be?"center"===b?f/2+1:f+2:0,ge=0,Re=k.length;ge<Re;++ge){for(ie=k[ge],he=o.labelColors[ge],h.fillStyle=ce=o.labelTextColors[ge],X.each(ie.before,U),Ce=0,Ze=(ve=ie.lines).length;Ce<Ze;++Ce){if(I){var Ge=N.x(F);h.fillStyle=o.legendColorBackground,h.fillRect(N.leftForLtr(Ge,f),r.y,f,f),h.lineWidth=1,h.strokeStyle=he.borderColor,h.strokeRect(N.leftForLtr(Ge,f),r.y,f,f),h.fillStyle=he.backgroundColor,h.fillRect(N.leftForLtr(N.xPlus(Ge,1),f-2),r.y+1,f-2,f-2),h.fillStyle=ce}U(ve[Ce])}X.each(ie.after,U)}C=0,X.each(o.afterBody,U),r.y-=y},drawFooter:function(r,o,h){var b,k,f=o.footer,y=f.length;if(y){var I=Rs(o.rtl,o.x,o.width);for(r.x=zs(o,o._footerAlign),r.y+=o.footerMarginTop,h.textAlign=I.textAlign(o._footerAlign),h.textBaseline="middle",b=o.footerFontSize,h.fillStyle=o.footerFontColor,h.font=X.fontString(b,o._footerFontStyle,o._footerFontFamily),k=0;k<y;++k)h.fillText(f[k],I.x(r.x),r.y+b/2),r.y+=b+o.footerSpacing}},drawBackground:function(r,o,h,f){h.fillStyle=o.backgroundColor,h.strokeStyle=o.borderColor,h.lineWidth=o.borderWidth;var y=o.xAlign,b=o.yAlign,k=r.x,I=r.y,C=f.width,F=f.height,N=o.cornerRadius;h.beginPath(),h.moveTo(k+N,I),"top"===b&&this.drawCaret(r,f),h.lineTo(k+C-N,I),h.quadraticCurveTo(k+C,I,k+C,I+N),"center"===b&&"right"===y&&this.drawCaret(r,f),h.lineTo(k+C,I+F-N),h.quadraticCurveTo(k+C,I+F,k+C-N,I+F),"bottom"===b&&this.drawCaret(r,f),h.lineTo(k+N,I+F),h.quadraticCurveTo(k,I+F,k,I+F-N),"center"===b&&"left"===y&&this.drawCaret(r,f),h.lineTo(k,I+N),h.quadraticCurveTo(k,I,k+N,I),h.closePath(),h.fill(),o.borderWidth>0&&h.stroke()},draw:function(){var r=this._chart.ctx,o=this._view;if(0!==o.opacity){var h={width:o.width,height:o.height},f={x:o.x,y:o.y},y=Math.abs(o.opacity<.001)?0:o.opacity;this._options.enabled&&(o.title.length||o.beforeBody.length||o.body.length||o.afterBody.length||o.footer.length)&&(r.save(),r.globalAlpha=y,this.drawBackground(f,o,r,h),f.y+=o.yPadding,X.rtl.overrideTextDirection(r,o.textDirection),this.drawTitle(f,o,r),this.drawBody(f,o,r),this.drawFooter(f,o,r),X.rtl.restoreTextDirection(r,o.textDirection),r.restore())}},handleEvent:function(r){var f,o=this,h=o._options;return o._lastActive=o._lastActive||[],"mouseout"===r.type?o._active=[]:(o._active=o._chart.getElementsAtEventForMode(r,h.mode,h),h.reverse&&o._active.reverse()),(f=!X.arrayEquals(o._active,o._lastActive))&&(o._lastActive=o._active,(h.enabled||h.custom)&&(o._eventPosition={x:r.x,y:r.y},o.update(!0),o.pivot())),f}}),eo=_l;eo.positioners=No;var ys=X.valueOrDefault;function $a(){return X.merge(Object.create(null),[].slice.call(arguments),{merger:function(r,o,h,f){if("xAxes"===r||"yAxes"===r){var b,k,I,y=h[r].length;for(o[r]||(o[r]=[]),b=0;b<y;++b)k=ys((I=h[r][b]).type,"xAxes"===r?"category":"linear"),b>=o[r].length&&o[r].push({}),X.merge(o[r][b],!o[r][b].type||I.type&&I.type!==o[r][b].type?[Ks.getScaleDefaults(k),I]:I)}else X._merger(r,o,h,f)}})}function to(){return X.merge(Object.create(null),[].slice.call(arguments),{merger:function(r,o,h,f){var y=o[r]||Object.create(null),b=h[r];"scales"===r?o[r]=$a(y,b):"scale"===r?o[r]=X.merge(y,[Ks.getScaleDefaults(b.type),b]):X._merger(r,o,h,f)}})}function Sl(r){var o=r.options;X.each(r.scales,function(h){xr.removeBox(r,h)}),o=to(Zt.global,Zt[r.config.type],o),r.options=r.config.options=o,r.ensureScalesHaveIDs(),r.buildOrUpdateScales(),r.tooltip._options=o.tooltips,r.tooltip.initialize()}function io(r,o,h){var f,y=function(b){return b.id===f};do{f=o+h++}while(X.findIndex(r,y)>=0);return f}function vs(r){return"top"===r||"bottom"===r}function Xa(r,o){return function(h,f){return h[r]===f[r]?h[o]-f[o]:h[r]-f[r]}}Zt._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var fa=function(r,o){return this.construct(r,o),this};X.extend(fa.prototype,{construct:function(r,o){var h=this;o=function Wo(r){var o=(r=r||Object.create(null)).data=r.data||{};return o.datasets=o.datasets||[],o.labels=o.labels||[],r.options=to(Zt.global,Zt[r.type],r.options||{}),r}(o);var f=gs.acquireContext(r,o),y=f&&f.canvas,b=y&&y.height,k=y&&y.width;h.id=X.uid(),h.ctx=f,h.canvas=y,h.config=o,h.width=k,h.height=b,h.aspectRatio=b?k/b:null,h.options=o.options,h._bufferedRender=!1,h._layers=[],h.chart=h,h.controller=h,fa.instances[h.id]=h,Object.defineProperty(h,"data",{get:function(){return h.config.data},set:function(I){h.config.data=I}}),f&&y?(h.initialize(),h.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var r=this;return Ji.notify(r,"beforeInit"),X.retinaScale(r,r.options.devicePixelRatio),r.bindEvents(),r.options.responsive&&r.resize(!0),r.initToolTip(),Ji.notify(r,"afterInit"),r},clear:function(){return X.canvas.clear(this),this},stop:function(){return Vi.cancelAnimation(this),this},resize:function(r){var o=this,h=o.options,f=o.canvas,y=h.maintainAspectRatio&&o.aspectRatio||null,b=Math.max(0,Math.floor(X.getMaximumWidth(f))),k=Math.max(0,Math.floor(y?b/y:X.getMaximumHeight(f)));if((o.width!==b||o.height!==k)&&(f.width=o.width=b,f.height=o.height=k,f.style.width=b+"px",f.style.height=k+"px",X.retinaScale(o,h.devicePixelRatio),!r)){var I={width:b,height:k};Ji.notify(o,"resize",[I]),h.onResize&&h.onResize(o,I),o.stop(),o.update({duration:h.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var r=this.options,o=r.scales||{},h=r.scale;X.each(o.xAxes,function(f,y){f.id||(f.id=io(o.xAxes,"x-axis-",y))}),X.each(o.yAxes,function(f,y){f.id||(f.id=io(o.yAxes,"y-axis-",y))}),h&&(h.id=h.id||"scale")},buildOrUpdateScales:function(){var r=this,o=r.options,h=r.scales||{},f=[],y=Object.keys(h).reduce(function(b,k){return b[k]=!1,b},{});o.scales&&(f=f.concat((o.scales.xAxes||[]).map(function(b){return{options:b,dtype:"category",dposition:"bottom"}}),(o.scales.yAxes||[]).map(function(b){return{options:b,dtype:"linear",dposition:"left"}}))),o.scale&&f.push({options:o.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),X.each(f,function(b){var k=b.options,I=k.id,C=ys(k.type,b.dtype);vs(k.position)!==vs(b.dposition)&&(k.position=b.dposition),y[I]=!0;var F=null;if(I in h&&h[I].type===C)(F=h[I]).options=k,F.ctx=r.ctx,F.chart=r;else{var N=Ks.getScaleConstructor(C);if(!N)return;F=new N({id:I,type:C,options:k,ctx:r.ctx,chart:r}),h[F.id]=F}F.mergeTicksOptions(),b.isDefault&&(r.scale=F)}),X.each(y,function(b,k){b||delete h[k]}),r.scales=h,Ks.addScalesToLayout(this)},buildOrUpdateControllers:function(){var f,y,r=this,o=[],h=r.data.datasets;for(f=0,y=h.length;f<y;f++){var b=h[f],k=r.getDatasetMeta(f),I=b.type||r.config.type;if(k.type&&k.type!==I&&(r.destroyDatasetMeta(f),k=r.getDatasetMeta(f)),k.type=I,k.order=b.order||0,k.index=f,k.controller)k.controller.updateIndex(f),k.controller.linkScales();else{var C=ha[k.type];if(void 0===C)throw new Error('"'+k.type+'" is not a chart type.');k.controller=new C(r,f),o.push(k.controller)}}return o},resetElements:function(){var r=this;X.each(r.data.datasets,function(o,h){r.getDatasetMeta(h).controller.reset()},r)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(r){var h,f,o=this;if((!r||"object"!=typeof r)&&(r={duration:r,lazy:arguments[1]}),Sl(o),Ji._invalidate(o),!1!==Ji.notify(o,"beforeUpdate")){o.tooltip._data=o.data;var y=o.buildOrUpdateControllers();for(h=0,f=o.data.datasets.length;h<f;h++)o.getDatasetMeta(h).controller.buildOrUpdateElements();o.updateLayout(),o.options.animation&&o.options.animation.duration&&X.each(y,function(b){b.reset()}),o.updateDatasets(),o.tooltip.initialize(),o.lastActive=[],Ji.notify(o,"afterUpdate"),o._layers.sort(Xa("z","_idx")),o._bufferedRender?o._bufferedRequest={duration:r.duration,easing:r.easing,lazy:r.lazy}:o.render(r)}},updateLayout:function(){var r=this;!1!==Ji.notify(r,"beforeLayout")&&(xr.update(this,this.width,this.height),r._layers=[],X.each(r.boxes,function(o){o._configure&&o._configure(),r._layers.push.apply(r._layers,o._layers())},r),r._layers.forEach(function(o,h){o._idx=h}),Ji.notify(r,"afterScaleUpdate"),Ji.notify(r,"afterLayout"))},updateDatasets:function(){var r=this;if(!1!==Ji.notify(r,"beforeDatasetsUpdate")){for(var o=0,h=r.data.datasets.length;o<h;++o)r.updateDataset(o);Ji.notify(r,"afterDatasetsUpdate")}},updateDataset:function(r){var o=this,h=o.getDatasetMeta(r),f={meta:h,index:r};!1!==Ji.notify(o,"beforeDatasetUpdate",[f])&&(h.controller._update(),Ji.notify(o,"afterDatasetUpdate",[f]))},render:function(r){var o=this;(!r||"object"!=typeof r)&&(r={duration:r,lazy:arguments[1]});var h=o.options.animation,f=ys(r.duration,h&&h.duration),y=r.lazy;if(!1!==Ji.notify(o,"beforeRender")){var b=function(I){Ji.notify(o,"afterRender"),X.callback(h&&h.onComplete,[I],o)};if(h&&f){var k=new _n({numSteps:f/16.66,easing:r.easing||h.easing,render:function(I,C){var N=C.currentStep,U=N/C.numSteps;I.draw((0,X.easing.effects[C.easing])(U),U,N)},onAnimationProgress:h.onProgress,onAnimationComplete:b});Vi.addAnimation(o,k,f,y)}else o.draw(),b(new _n({numSteps:0,chart:o}));return o}},draw:function(r){var h,f,o=this;if(o.clear(),X.isNullOrUndef(r)&&(r=1),o.transition(r),!(o.width<=0||o.height<=0)&&!1!==Ji.notify(o,"beforeDraw",[r])){for(f=o._layers,h=0;h<f.length&&f[h].z<=0;++h)f[h].draw(o.chartArea);for(o.drawDatasets(r);h<f.length;++h)f[h].draw(o.chartArea);o._drawTooltip(r),Ji.notify(o,"afterDraw",[r])}},transition:function(r){for(var o=this,h=0,f=(o.data.datasets||[]).length;h<f;++h)o.isDatasetVisible(h)&&o.getDatasetMeta(h).controller.transition(r);o.tooltip.transition(r)},_getSortedDatasetMetas:function(r){var y,b,o=this,f=[];for(y=0,b=(o.data.datasets||[]).length;y<b;++y)(!r||o.isDatasetVisible(y))&&f.push(o.getDatasetMeta(y));return f.sort(Xa("order","index")),f},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(r){var h,f,o=this;if(!1!==Ji.notify(o,"beforeDatasetsDraw",[r])){for(f=(h=o._getSortedVisibleDatasetMetas()).length-1;f>=0;--f)o.drawDataset(h[f],r);Ji.notify(o,"afterDatasetsDraw",[r])}},drawDataset:function(r,o){var f={meta:r,index:r.index,easingValue:o};!1!==Ji.notify(this,"beforeDatasetDraw",[f])&&(r.controller.draw(o),Ji.notify(this,"afterDatasetDraw",[f]))},_drawTooltip:function(r){var o=this,h=o.tooltip,f={tooltip:h,easingValue:r};!1!==Ji.notify(o,"beforeTooltipDraw",[f])&&(h.draw(),Ji.notify(o,"afterTooltipDraw",[f]))},getElementAtEvent:function(r){return qs.modes.single(this,r)},getElementsAtEvent:function(r){return qs.modes.label(this,r,{intersect:!0})},getElementsAtXAxis:function(r){return qs.modes["x-axis"](this,r,{intersect:!0})},getElementsAtEventForMode:function(r,o,h){var f=qs.modes[o];return"function"==typeof f?f(this,r,h):[]},getDatasetAtEvent:function(r){return qs.modes.dataset(this,r,{intersect:!0})},getDatasetMeta:function(r){var o=this,h=o.data.datasets[r];h._meta||(h._meta={});var f=h._meta[o.id];return f||(f=h._meta[o.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:h.order||0,index:r}),f},getVisibleDatasetCount:function(){for(var r=0,o=0,h=this.data.datasets.length;o<h;++o)this.isDatasetVisible(o)&&r++;return r},isDatasetVisible:function(r){var o=this.getDatasetMeta(r);return"boolean"==typeof o.hidden?!o.hidden:!this.data.datasets[r].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(r){var o=this.id,h=this.data.datasets[r],f=h._meta&&h._meta[o];f&&(f.controller.destroy(),delete h._meta[o])},destroy:function(){var h,f,r=this,o=r.canvas;for(r.stop(),h=0,f=r.data.datasets.length;h<f;++h)r.destroyDatasetMeta(h);o&&(r.unbindEvents(),X.canvas.clear(r),gs.releaseContext(r.ctx),r.canvas=null,r.ctx=null),Ji.notify(r,"destroy"),delete fa.instances[r.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var r=this;r.tooltip=new eo({_chart:r,_chartInstance:r,_data:r.data,_options:r.options.tooltips},r)},bindEvents:function(){var r=this,o=r._listeners={},h=function(){r.eventHandler.apply(r,arguments)};X.each(r.options.events,function(f){gs.addEventListener(r,f,h),o[f]=h}),r.options.responsive&&(h=function(){r.resize()},gs.addEventListener(r,"resize",h),o.resize=h)},unbindEvents:function(){var r=this,o=r._listeners;!o||(delete r._listeners,X.each(o,function(h,f){gs.removeEventListener(r,f,h)}))},updateHoverStyle:function(r,o,h){var y,b,k,f=h?"set":"remove";for(b=0,k=r.length;b<k;++b)(y=r[b])&&this.getDatasetMeta(y._datasetIndex).controller[f+"HoverStyle"](y);"dataset"===o&&this.getDatasetMeta(r[0]._datasetIndex).controller["_"+f+"DatasetHoverStyle"]()},eventHandler:function(r){var o=this,h=o.tooltip;if(!1!==Ji.notify(o,"beforeEvent",[r])){o._bufferedRender=!0,o._bufferedRequest=null;var f=o.handleEvent(r);h&&(f=h._start?h.handleEvent(r):f|h.handleEvent(r)),Ji.notify(o,"afterEvent",[r]);var y=o._bufferedRequest;return y?o.render(y):f&&!o.animating&&(o.stop(),o.render({duration:o.options.hover.animationDuration,lazy:!0})),o._bufferedRender=!1,o._bufferedRequest=null,o}},handleEvent:function(r){var y,o=this,h=o.options||{},f=h.hover;return o.lastActive=o.lastActive||[],o.active="mouseout"===r.type?[]:o.getElementsAtEventForMode(r,f.mode,f),X.callback(h.onHover||h.hover.onHover,[r.native,o.active],o),("mouseup"===r.type||"click"===r.type)&&h.onClick&&h.onClick.call(o,r.native,o.active),o.lastActive.length&&o.updateHoverStyle(o.lastActive,f.mode,!1),o.active.length&&f.mode&&o.updateHoverStyle(o.active,f.mode,!0),y=!X.arrayEquals(o.active,o.lastActive),o.lastActive=o.active,y}}),fa.instances={};var gi=fa;fa.Controller=fa,fa.types={},X.configMerge=to,X.scaleMerge=$a;function Da(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function Fs(r){this.options=r||{}}X.extend(Fs.prototype,{formats:Da,parse:Da,format:Da,add:Da,diff:Da,startOf:Da,endOf:Da,_create:function(r){return r}}),Fs.override=function(r){X.extend(Fs.prototype,r)};var Go={_date:Fs},La={formatters:{values:function(r){return X.isArray(r)?r:""+r},linear:function(r,o,h){var f=h.length>3?h[2]-h[1]:h[1]-h[0];Math.abs(f)>1&&r!==Math.floor(r)&&(f=r-Math.floor(r));var y=X.log10(Math.abs(f)),b="";if(0!==r)if(Math.max(Math.abs(h[0]),Math.abs(h[h.length-1]))<1e-4){var I=X.log10(Math.abs(r)),C=Math.floor(I)-Math.floor(y);C=Math.max(Math.min(C,20),0),b=r.toExponential(C)}else{var F=-1*Math.floor(y);F=Math.max(Math.min(F,20),0),b=r.toFixed(F)}else b="0";return b},logarithmic:function(r,o,h){var f=r/Math.pow(10,Math.floor(X.log10(r)));return 0===r?"0":1===f||2===f||5===f||0===o||o===h.length-1?r.toExponential():""}}},bs=X.isArray,_a=X.isNullOrUndef,xs=X.valueOrDefault,ws=X.valueAtIndexOrDefault;function Cl(r,o,h){var F,f=r.getTicks().length,y=Math.min(o,f-1),b=r.getPixelForTick(y),k=r._startPixel,I=r._endPixel,C=1e-6;if(!(h&&(F=1===f?Math.max(b-k,I-b):0===o?(r.getPixelForTick(1)-b)/2:(b-r.getPixelForTick(y-1))/2,b+=y<o?F:-F,b<k-C||b>I+C)))return b}function Ms(r,o,h,f){var N,U,ie,ce,he,ve,ge,Ce,Re,Ze,Be,Ge,lt,y=h.length,b=[],k=[],I=[],C=0,F=0;for(N=0;N<y;++N){if(ce=h[N].label,r.font=ve=(he=h[N].major?o.major:o.minor).string,ge=f[ve]=f[ve]||{data:{},gc:[]},Ce=he.lineHeight,Re=Ze=0,_a(ce)||bs(ce)){if(bs(ce))for(U=0,ie=ce.length;U<ie;++U)!_a(Be=ce[U])&&!bs(Be)&&(Re=X.measureText(r,ge.data,ge.gc,Re,Be),Ze+=Ce)}else Re=X.measureText(r,ge.data,ge.gc,Re,ce),Ze=Ce;b.push(Re),k.push(Ze),I.push(Ce/2),C=Math.max(Re,C),F=Math.max(Ze,F)}function tt(ot){return{width:b[ot]||0,height:k[ot]||0,offset:I[ot]||0}}return function ta(r,o){X.each(r,function(h){var b,f=h.gc,y=f.length/2;if(y>o){for(b=0;b<y;++b)delete h.data[f[b]];f.splice(0,y)}})}(f,y),Ge=b.indexOf(C),lt=k.indexOf(F),{first:tt(0),last:tt(y-1),widest:tt(Ge),highest:tt(lt)}}function Ja(r){return r.drawTicks?r.tickMarkLength:0}function Ts(r){var o,h;return r.display?(o=X.options._parseFont(r),h=X.options.toPadding(r.padding),o.lineHeight+h.height):0}function Zo(r,o){return X.extend(X.options._parseFont({fontFamily:xs(o.fontFamily,r.fontFamily),fontSize:xs(o.fontSize,r.fontSize),fontStyle:xs(o.fontStyle,r.fontStyle),lineHeight:xs(o.lineHeight,r.lineHeight)}),{color:X.options.resolve([o.fontColor,r.fontColor,Zt.global.defaultFontColor])})}function ma(r){var o=Zo(r,r.minor);return{minor:o,major:r.major.enabled?Zo(r,r.major):o}}function ia(r){var h,f,y,o=[];for(f=0,y=r.length;f<y;++f)void 0!==(h=r[f])._index&&o.push(h);return o}function ga(r,o,h,f){var I,C,F,N,y=xs(h,0),b=Math.min(xs(f,r.length),r.length),k=0;for(o=Math.ceil(o),f&&(o=(I=f-h)/Math.floor(I/o)),N=y;N<0;)k++,N=Math.round(y+k*o);for(C=Math.max(y,0);C<b;C++)F=r[C],C===N?(F._index=C,k++,N=Math.round(y+k*o)):delete F.label}Zt._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:La.formatters.values,minor:{},major:{}}});var Ka=pt.extend({zeroLineIndex:0,getPadding:function(){var r=this;return{left:r.paddingLeft||0,top:r.paddingTop||0,right:r.paddingRight||0,bottom:r.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var r=this.chart.data;return this.options.labels||(this.isHorizontal()?r.xLabels:r.yLabels)||r.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){X.callback(this.options.beforeUpdate,[this])},update:function(r,o,h){var k,I,C,F,N,f=this,y=f.options.ticks,b=y.sampleSize;if(f.beforeUpdate(),f.maxWidth=r,f.maxHeight=o,f.margins=X.extend({left:0,right:0,top:0,bottom:0},h),f._ticks=null,f.ticks=null,f._labelSizes=null,f._maxLabelLines=0,f.longestLabelWidth=0,f.longestTextCache=f.longestTextCache||{},f._gridLineItems=null,f._labelItems=null,f.beforeSetDimensions(),f.setDimensions(),f.afterSetDimensions(),f.beforeDataLimits(),f.determineDataLimits(),f.afterDataLimits(),f.beforeBuildTicks(),F=f.buildTicks()||[],(!(F=f.afterBuildTicks(F)||F)||!F.length)&&f.ticks)for(F=[],k=0,I=f.ticks.length;k<I;++k)F.push({value:f.ticks[k],major:!1});return f._ticks=F,C=f._convertTicksToLabels((N=b<F.length)?function $l(r,o){for(var h=[],f=r.length/o,y=0,b=r.length;y<b;y+=f)h.push(r[Math.floor(y)]);return h}(F,b):F),f._configure(),f.beforeCalculateTickRotation(),f.calculateTickRotation(),f.afterCalculateTickRotation(),f.beforeFit(),f.fit(),f.afterFit(),f._ticksToDraw=y.display&&(y.autoSkip||"auto"===y.source)?f._autoSkip(F):F,N&&(C=f._convertTicksToLabels(f._ticksToDraw)),f.ticks=C,f.afterUpdate(),f.minSize},_configure:function(){var h,f,r=this,o=r.options.ticks.reverse;r.isHorizontal()?(h=r.left,f=r.right):(h=r.top,f=r.bottom,o=!o),r._startPixel=h,r._endPixel=f,r._reversePixels=o,r._length=f-h},afterUpdate:function(){X.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){X.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var r=this;r.isHorizontal()?(r.width=r.maxWidth,r.left=0,r.right=r.width):(r.height=r.maxHeight,r.top=0,r.bottom=r.height),r.paddingLeft=0,r.paddingTop=0,r.paddingRight=0,r.paddingBottom=0},afterSetDimensions:function(){X.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){X.callback(this.options.beforeDataLimits,[this])},determineDataLimits:X.noop,afterDataLimits:function(){X.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){X.callback(this.options.beforeBuildTicks,[this])},buildTicks:X.noop,afterBuildTicks:function(r){var o=this;return bs(r)&&r.length?X.callback(o.options.afterBuildTicks,[o,r]):(o.ticks=X.callback(o.options.afterBuildTicks,[o,o.ticks])||o.ticks,r)},beforeTickToLabelConversion:function(){X.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var r=this,o=r.options.ticks;r.ticks=r.ticks.map(o.userCallback||o.callback,this)},afterTickToLabelConversion:function(){X.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){X.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var I,C,F,N,U,ie,ce,r=this,o=r.options,h=o.ticks,f=r.getTicks().length,y=h.minRotation||0,b=h.maxRotation,k=y;!r._isVisible()||!h.display||y>=b||f<=1||!r.isHorizontal()?r.labelRotation=y:(C=(I=r._getLabelSizes()).widest.width,F=I.highest.height-I.highest.offset,N=Math.min(r.maxWidth,r.chart.width-C),C+6>(U=o.offset?r.maxWidth/f:N/(f-1))&&(U=N/(f-(o.offset?.5:1)),ie=r.maxHeight-Ja(o.gridLines)-h.padding-Ts(o.scaleLabel),ce=Math.sqrt(C*C+F*F),k=X.toDegrees(Math.min(Math.asin(Math.min((I.highest.height+6)/U,1)),Math.asin(Math.min(ie/ce,1))-Math.asin(F/ce))),k=Math.max(y,Math.min(b,k))),r.labelRotation=k)},afterCalculateTickRotation:function(){X.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){X.callback(this.options.beforeFit,[this])},fit:function(){var r=this,o=r.minSize={width:0,height:0},h=r.chart,f=r.options,y=f.ticks,b=f.scaleLabel,k=f.gridLines,I=r._isVisible(),C="bottom"===f.position,F=r.isHorizontal();if(F?o.width=r.maxWidth:I&&(o.width=Ja(k)+Ts(b)),F?I&&(o.height=Ja(k)+Ts(b)):o.height=r.maxHeight,y.display&&I){var N=ma(y),U=r._getLabelSizes(),ie=U.first,ce=U.last,he=U.widest,ve=U.highest,ge=.4*N.minor.lineHeight,Ce=y.padding;if(F){var Re=0!==r.labelRotation,Ze=X.toRadians(r.labelRotation),Be=Math.cos(Ze),Ge=Math.sin(Ze);o.height=Math.min(r.maxHeight,o.height+(Ge*he.width+Be*(ve.height-(Re?ve.offset:0))+(Re?0:ge))+Ce);var Ct,Nt,tt=r.getPixelForTick(0)-r.left,ot=r.right-r.getPixelForTick(r.getTicks().length-1);Re?(Ct=C?Be*ie.width+Ge*ie.offset:Ge*(ie.height-ie.offset),Nt=C?Ge*(ce.height-ce.offset):Be*ce.width+Ge*ce.offset):(Ct=ie.width/2,Nt=ce.width/2),r.paddingLeft=Math.max((Ct-tt)*r.width/(r.width-tt),0)+3,r.paddingRight=Math.max((Nt-ot)*r.width/(r.width-ot),0)+3}else o.width=Math.min(r.maxWidth,o.width+(y.mirror?0:he.width+Ce+ge)),r.paddingTop=ie.height/2,r.paddingBottom=ce.height/2}r.handleMargins(),F?(r.width=r._length=h.width-r.margins.left-r.margins.right,r.height=o.height):(r.width=o.width,r.height=r._length=h.height-r.margins.top-r.margins.bottom)},handleMargins:function(){var r=this;r.margins&&(r.margins.left=Math.max(r.paddingLeft,r.margins.left),r.margins.top=Math.max(r.paddingTop,r.margins.top),r.margins.right=Math.max(r.paddingRight,r.margins.right),r.margins.bottom=Math.max(r.paddingBottom,r.margins.bottom))},afterFit:function(){X.callback(this.options.afterFit,[this])},isHorizontal:function(){var r=this.options.position;return"top"===r||"bottom"===r},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(r){if(_a(r))return NaN;if(("number"==typeof r||r instanceof Number)&&!isFinite(r))return NaN;if(r)if(this.isHorizontal()){if(void 0!==r.x)return this.getRightValue(r.x)}else if(void 0!==r.y)return this.getRightValue(r.y);return r},_convertTicksToLabels:function(r){var h,f,y,o=this;for(o.ticks=r.map(function(b){return b.value}),o.beforeTickToLabelConversion(),h=o.convertTicksToLabels(r)||o.ticks,o.afterTickToLabelConversion(),f=0,y=r.length;f<y;++f)r[f].label=h[f];return h},_getLabelSizes:function(){var r=this,o=r._labelSizes;return o||(r._labelSizes=o=Ms(r.ctx,ma(r.options.ticks),r.getTicks(),r.longestTextCache),r.longestLabelWidth=o.widest.width),o},_parseValue:function(r){var o,h,f,y;return bs(r)?(o=+this.getRightValue(r[0]),h=+this.getRightValue(r[1]),f=Math.min(o,h),y=Math.max(o,h)):(o=void 0,h=r=+this.getRightValue(r),f=r,y=r),{min:f,max:y,start:o,end:h}},_getScaleLabel:function(r){var o=this._parseValue(r);return void 0!==o.start?"["+o.start+", "+o.end+"]":+this.getRightValue(r)},getLabelForIndex:X.noop,getPixelForValue:X.noop,getValueForPixel:X.noop,getPixelForTick:function(r){var o=this,h=o.options.offset,f=o._ticks.length,y=1/Math.max(f-(h?0:1),1);return r<0||r>f-1?null:o.getPixelForDecimal(r*y+(h?y/2:0))},getPixelForDecimal:function(r){var o=this;return o._reversePixels&&(r=1-r),o._startPixel+r*o._length},getDecimalForPixel:function(r){var o=(r-this._startPixel)/this._length;return this._reversePixels?1-o:o},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var r=this,o=r.min,h=r.max;return r.beginAtZero?0:o<0&&h<0?h:o>0&&h>0?o:0},_autoSkip:function(r){var F,N,U,ie,o=this,h=o.options.ticks,f=o._length,y=h.maxTicksLimit||f/o._tickSize()+1,b=h.major.enabled?function ko(r){var h,f,o=[];for(h=0,f=r.length;h<f;h++)r[h].major&&o.push(h);return o}(r):[],k=b.length,I=b[0],C=b[k-1];if(k>y)return function El(r,o,h){var b,k,f=0,y=o[0];for(h=Math.ceil(h),b=0;b<r.length;b++)k=r[b],b===y?(k._index=b,y=o[++f*h]):delete k.label}(r,b,k/y),ia(r);if(U=function Mr(r,o,h,f){var k,I,C,F,y=function qo(r){var h,f,o=r.length;if(o<2)return!1;for(f=r[0],h=1;h<o;++h)if(r[h]-r[h-1]!==f)return!1;return f}(r),b=(o.length-1)/f;if(!y)return Math.max(b,1);for(C=0,F=(k=X.math._factorize(y)).length-1;C<F;C++)if((I=k[C])>b)return I;return Math.max(b,1)}(b,r,0,y),k>0){for(F=0,N=k-1;F<N;F++)ga(r,U,b[F],b[F+1]);return ga(r,U,X.isNullOrUndef(ie=k>1?(C-I)/(k-1):null)?0:I-ie,I),ga(r,U,C,X.isNullOrUndef(ie)?r.length:C+ie),ia(r)}return ga(r,U),ia(r)},_tickSize:function(){var r=this,o=r.options.ticks,h=X.toRadians(r.labelRotation),f=Math.abs(Math.cos(h)),y=Math.abs(Math.sin(h)),b=r._getLabelSizes(),k=o.autoSkipPadding||0,I=b?b.widest.width+k:0,C=b?b.highest.height+k:0;return r.isHorizontal()?C*f>I*y?I/f:C/y:C*y<I*f?C/f:I/y},_isVisible:function(){var f,y,b,r=this,o=r.chart,h=r.options.display;if("auto"!==h)return!!h;for(f=0,y=o.data.datasets.length;f<y;++f)if(o.isDatasetVisible(f)&&((b=o.getDatasetMeta(f)).xAxisID===r.id||b.yAxisID===r.id))return!0;return!1},_computeGridLineItems:function(r){var ge,Ce,Re,Ze,Be,Ge,lt,tt,ot,Ct,Nt,At,jt,Yt,ai,Vt,Ei,o=this,h=o.chart,f=o.options,y=f.gridLines,b=f.position,k=y.offsetGridLines,I=o.isHorizontal(),C=o._ticksToDraw,F=C.length+(k?1:0),N=Ja(y),U=[],ie=y.drawBorder?ws(y.lineWidth,0,0):0,ce=ie/2,he=X._alignPixel,ve=function(rn){return he(h,rn,ie)};for("top"===b?(ge=ve(o.bottom),lt=o.bottom-N,ot=ge-ce,Nt=ve(r.top)+ce,jt=r.bottom):"bottom"===b?(ge=ve(o.top),Nt=r.top,jt=ve(r.bottom)-ce,lt=ge+ce,ot=o.top+N):"left"===b?(ge=ve(o.right),Ge=o.right-N,tt=ge-ce,Ct=ve(r.left)+ce,At=r.right):(ge=ve(o.left),Ct=r.left,At=ve(r.right)-ce,Ge=ge+ce,tt=o.left+N),Ce=0;Ce<F;++Ce)!(_a((Re=C[Ce]||{}).label)&&Ce<C.length)&&(Ce===o.zeroLineIndex&&f.offset===k?(Yt=y.zeroLineWidth,ai=y.zeroLineColor,Vt=y.zeroLineBorderDash||[],Ei=y.zeroLineBorderDashOffset||0):(Yt=ws(y.lineWidth,Ce,1),ai=ws(y.color,Ce,"rgba(0,0,0,0.1)"),Vt=y.borderDash||[],Ei=y.borderDashOffset||0),void 0!==(Ze=Cl(o,Re._index||Ce,k))&&(Be=he(h,Ze,Yt),I?Ge=tt=Ct=At=Be:lt=ot=Nt=jt=Be,U.push({tx1:Ge,ty1:lt,tx2:tt,ty2:ot,x1:Ct,y1:Nt,x2:At,y2:jt,width:Yt,color:ai,borderDash:Vt,borderDashOffset:Ei})));return U.ticksLength=F,U.borderValue=ge,U},_computeLabelItems:function(){var ie,ce,he,ve,ge,Ce,Re,Ze,Be,Ge,lt,tt,r=this,o=r.options,h=o.ticks,f=o.position,y=h.mirror,b=r.isHorizontal(),k=r._ticksToDraw,I=ma(h),C=h.padding,F=Ja(o.gridLines),N=-X.toRadians(r.labelRotation),U=[];for("top"===f?(Ce=r.bottom-F-C,Re=N?"left":"center"):"bottom"===f?(Ce=r.top+F+C,Re=N?"right":"center"):"left"===f?(ge=r.right-(y?0:F)-C,Re=y?"left":"right"):(ge=r.left+(y?0:F)+C,Re=y?"right":"left"),ie=0,ce=k.length;ie<ce;++ie)!_a(ve=(he=k[ie]).label)&&(Ze=r.getPixelForTick(he._index||ie)+h.labelOffset,Ge=(Be=he.major?I.major:I.minor).lineHeight,lt=bs(ve)?ve.length:1,b?(ge=Ze,tt="top"===f?((N?1:.5)-lt)*Ge:(N?0:.5)*Ge):(Ce=Ze,tt=(1-lt)*Ge/2),U.push({x:ge,y:Ce,rotation:N,label:ve,font:Be,textOffset:tt,textAlign:Re}));return U},_drawGrid:function(r){var o=this,h=o.options.gridLines;if(h.display){var C,F,N,U,ie,f=o.ctx,y=o.chart,b=X._alignPixel,k=h.drawBorder?ws(h.lineWidth,0,0):0,I=o._gridLineItems||(o._gridLineItems=o._computeGridLineItems(r));for(N=0,U=I.length;N<U;++N)F=(ie=I[N]).color,(C=ie.width)&&F&&(f.save(),f.lineWidth=C,f.strokeStyle=F,f.setLineDash&&(f.setLineDash(ie.borderDash),f.lineDashOffset=ie.borderDashOffset),f.beginPath(),h.drawTicks&&(f.moveTo(ie.tx1,ie.ty1),f.lineTo(ie.tx2,ie.ty2)),h.drawOnChartArea&&(f.moveTo(ie.x1,ie.y1),f.lineTo(ie.x2,ie.y2)),f.stroke(),f.restore());if(k){var ge,Ce,Re,Ze,ce=k,he=ws(h.lineWidth,I.ticksLength-1,1),ve=I.borderValue;o.isHorizontal()?(ge=b(y,o.left,ce)-ce/2,Ce=b(y,o.right,he)+he/2,Re=Ze=ve):(Re=b(y,o.top,ce)-ce/2,Ze=b(y,o.bottom,he)+he/2,ge=Ce=ve),f.lineWidth=k,f.strokeStyle=ws(h.color,0),f.beginPath(),f.moveTo(ge,Re),f.lineTo(Ce,Ze),f.stroke()}}},_drawLabels:function(){var r=this;if(r.options.ticks.display){var y,b,k,I,C,F,N,U,h=r.ctx,f=r._labelItems||(r._labelItems=r._computeLabelItems());for(y=0,k=f.length;y<k;++y){if(F=(C=f[y]).font,h.save(),h.translate(C.x,C.y),h.rotate(C.rotation),h.font=F.string,h.fillStyle=F.color,h.textBaseline="middle",h.textAlign=C.textAlign,U=C.textOffset,bs(N=C.label))for(b=0,I=N.length;b<I;++b)h.fillText(""+N[b],0,U),U+=F.lineHeight;else h.fillText(N,0,U);h.restore()}}},_drawTitle:function(){var r=this,o=r.ctx,h=r.options,f=h.scaleLabel;if(f.display){var N,U,y=xs(f.fontColor,Zt.global.defaultFontColor),b=X.options._parseFont(f),k=X.options.toPadding(f.padding),I=b.lineHeight/2,C=h.position,F=0;if(r.isHorizontal())N=r.left+r.width/2,U="bottom"===C?r.bottom-I-k.bottom:r.top+I+k.top;else{var ie="left"===C;N=ie?r.left+I+k.top:r.right-I-k.top,U=r.top+r.height/2,F=ie?-.5*Math.PI:.5*Math.PI}o.save(),o.translate(N,U),o.rotate(F),o.textAlign="center",o.textBaseline="middle",o.fillStyle=y,o.font=b.string,o.fillText(f.labelString,0,0),o.restore()}},draw:function(r){var o=this;!o._isVisible()||(o._drawGrid(r),o._drawTitle(),o._drawLabels())},_layers:function(){var r=this,o=r.options,h=o.ticks&&o.ticks.z||0,f=o.gridLines&&o.gridLines.z||0;return r._isVisible()&&h!==f&&r.draw===r._draw?[{z:f,draw:function(){r._drawGrid.apply(r,arguments),r._drawTitle.apply(r,arguments)}},{z:h,draw:function(){r._drawLabels.apply(r,arguments)}}]:[{z:h,draw:function(){r.draw.apply(r,arguments)}}]},_getMatchingVisibleMetas:function(r){var o=this,h=o.isHorizontal();return o.chart._getSortedVisibleDatasetMetas().filter(function(f){return(!r||f.type===r)&&(h?f.xAxisID===o.id:f.yAxisID===o.id)})}});Ka.prototype._draw=Ka.prototype.draw;var Jn=Ka,no=X.isNullOrUndef,Tr=Jn.extend({determineDataLimits:function(){var I,r=this,o=r._getLabels(),h=r.options.ticks,f=h.min,y=h.max,b=0,k=o.length-1;void 0!==f&&(I=o.indexOf(f))>=0&&(b=I),void 0!==y&&(I=o.indexOf(y))>=0&&(k=I),r.minIndex=b,r.maxIndex=k,r.min=o[b],r.max=o[k]},buildTicks:function(){var r=this,o=r._getLabels(),h=r.minIndex,f=r.maxIndex;r.ticks=0===h&&f===o.length-1?o:o.slice(h,f+1)},getLabelForIndex:function(r,o){var h=this,f=h.chart;return f.getDatasetMeta(o).controller._getValueScaleId()===h.id?h.getRightValue(f.data.datasets[o].data[r]):h._getLabels()[r]},_configure:function(){var r=this,o=r.options.offset,h=r.ticks;Jn.prototype._configure.call(r),r.isHorizontal()||(r._reversePixels=!r._reversePixels),h&&(r._startValue=r.minIndex-(o?.5:0),r._valueRange=Math.max(h.length-(o?0:1),1))},getPixelForValue:function(r,o,h){var y,b,k,f=this;return!no(o)&&!no(h)&&(r=f.chart.data.datasets[h].data[o]),no(r)||(y=f.isHorizontal()?r.x:r.y),(void 0!==y||void 0!==r&&isNaN(o))&&(b=f._getLabels(),r=X.valueOrDefault(y,r),o=-1!==(k=b.indexOf(r))?k:o,isNaN(o)&&(o=r)),f.getPixelForDecimal((o-f._startValue)/f._valueRange)},getPixelForTick:function(r){var o=this.ticks;return r<0||r>o.length-1?null:this.getPixelForValue(o[r],r+this.minIndex)},getValueForPixel:function(r){var o=this,h=Math.round(o._startValue+o.getDecimalForPixel(r)*o._valueRange);return Math.min(Math.max(h,0),o.ticks.length-1)},getBasePixel:function(){return this.bottom}});Tr._defaults={position:"bottom"};var Wr=X.isNullOrUndef;var Bs=Jn.extend({getRightValue:function(r){return"string"==typeof r?+r:Jn.prototype.getRightValue.call(this,r)},handleTickRangeOptions:function(){var r=this,h=r.options.ticks;if(h.beginAtZero){var f=X.sign(r.min),y=X.sign(r.max);f<0&&y<0?r.max=0:f>0&&y>0&&(r.min=0)}var b=void 0!==h.min||void 0!==h.suggestedMin,k=void 0!==h.max||void 0!==h.suggestedMax;void 0!==h.min?r.min=h.min:void 0!==h.suggestedMin&&(r.min=null===r.min?h.suggestedMin:Math.min(r.min,h.suggestedMin)),void 0!==h.max?r.max=h.max:void 0!==h.suggestedMax&&(r.max=null===r.max?h.suggestedMax:Math.max(r.max,h.suggestedMax)),b!==k&&r.min>=r.max&&(b?r.max=r.min+1:r.min=r.max-1),r.min===r.max&&(r.max++,h.beginAtZero||r.min--)},getTickLimit:function(){var y,r=this,o=r.options.ticks,h=o.stepSize,f=o.maxTicksLimit;return h?y=Math.ceil(r.max/h)-Math.floor(r.min/h)+1:(y=r._computeTickLimit(),f=f||11),f&&(y=Math.min(f,y)),y},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:X.noop,buildTicks:function(){var r=this,h=r.options.ticks,f=r.getTickLimit(),y={maxTicks:f=Math.max(2,f),min:h.min,max:h.max,precision:h.precision,stepSize:X.valueOrDefault(h.fixedStepSize,h.stepSize)},b=r.ticks=function Al(r,o){var ce,he,ve,ge,h=[],y=r.stepSize,b=y||1,k=r.maxTicks-1,I=r.min,C=r.max,F=r.precision,N=o.min,U=o.max,ie=X.niceNum((U-N)/k/b)*b;if(ie<1e-14&&Wr(I)&&Wr(C))return[N,U];(ge=Math.ceil(U/ie)-Math.floor(N/ie))>k&&(ie=X.niceNum(ge*ie/k/b)*b),y||Wr(F)?ce=Math.pow(10,X._decimalPlaces(ie)):(ce=Math.pow(10,F),ie=Math.ceil(ie*ce)/ce),he=Math.floor(N/ie)*ie,ve=Math.ceil(U/ie)*ie,y&&(!Wr(I)&&X.almostWhole(I/ie,ie/1e3)&&(he=I),!Wr(C)&&X.almostWhole(C/ie,ie/1e3)&&(ve=C)),ge=X.almostEquals(ge=(ve-he)/ie,Math.round(ge),ie/1e3)?Math.round(ge):Math.ceil(ge),he=Math.round(he*ce)/ce,ve=Math.round(ve*ce)/ce,h.push(Wr(I)?he:I);for(var Ce=1;Ce<ge;++Ce)h.push(Math.round((he+Ce*ie)*ce)/ce);return h.push(Wr(C)?ve:C),h}(y,r);r.handleDirectionalChanges(),r.max=X.max(b),r.min=X.min(b),h.reverse?(b.reverse(),r.start=r.max,r.end=r.min):(r.start=r.min,r.end=r.max)},convertTicksToLabels:function(){var r=this;r.ticksAsNumbers=r.ticks.slice(),r.zeroLineIndex=r.ticks.indexOf(0),Jn.prototype.convertTicksToLabels.call(r)},_configure:function(){var y,r=this,o=r.getTicks(),h=r.min,f=r.max;Jn.prototype._configure.call(r),r.options.offset&&o.length&&(h-=y=(f-h)/Math.max(o.length-1,1)/2,f+=y),r._startValue=h,r._endValue=f,r._valueRange=f-h}}),Sa={position:"left",ticks:{callback:La.formatters.linear}};function Ca(r,o,h,f){var N,U,y=r.options,k=function ao(r,o,h){var f=[h.type,void 0===o&&void 0===h.stack?h.index:"",h.stack].join(".");return void 0===r[f]&&(r[f]={pos:[],neg:[]}),r[f]}(o,y.stacked,h),I=k.pos,C=k.neg,F=f.length;for(N=0;N<F;++N)U=r._parseValue(f[N]),!(isNaN(U.min)||isNaN(U.max)||h.data[N].hidden)&&(I[N]=I[N]||0,C[N]=C[N]||0,y.relativePoints?I[N]=100:U.min<0||U.max<0?C[N]+=U.min:I[N]+=U.max)}function j(r,o,h){var y,b,f=h.length;for(y=0;y<f;++y)b=r._parseValue(h[y]),!(isNaN(b.min)||isNaN(b.max)||o.data[y].hidden)&&(r.min=Math.min(r.min,b.min),r.max=Math.max(r.max,b.max))}var W=Bs.extend({determineDataLimits:function(){var C,F,N,U,r=this,o=r.options,f=r.chart.data.datasets,y=r._getMatchingVisibleMetas(),b=o.stacked,k={},I=y.length;if(r.min=Number.POSITIVE_INFINITY,r.max=Number.NEGATIVE_INFINITY,void 0===b)for(C=0;!b&&C<I;++C)b=void 0!==(F=y[C]).stack;for(C=0;C<I;++C)N=f[(F=y[C]).index].data,b?Ca(r,k,F,N):j(r,F,N);X.each(k,function(ie){U=ie.pos.concat(ie.neg),r.min=Math.min(r.min,X.min(U)),r.max=Math.max(r.max,X.max(U))}),r.min=X.isFinite(r.min)&&!isNaN(r.min)?r.min:0,r.max=X.isFinite(r.max)&&!isNaN(r.max)?r.max:1,r.handleTickRangeOptions()},_computeTickLimit:function(){var o,r=this;return r.isHorizontal()?Math.ceil(r.width/40):(o=X.options._parseFont(r.options.ticks),Math.ceil(r.height/o.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(r,o){return this._getScaleLabel(this.chart.data.datasets[o].data[r])},getPixelForValue:function(r){var o=this;return o.getPixelForDecimal((+o.getRightValue(r)-o._startValue)/o._valueRange)},getValueForPixel:function(r){return this._startValue+this.getDecimalForPixel(r)*this._valueRange},getPixelForTick:function(r){var o=this.ticksAsNumbers;return r<0||r>o.length-1?null:this.getPixelForValue(o[r])}});W._defaults=Sa;var De=X.valueOrDefault,rt=X.math.log10;var yi={position:"left",ticks:{callback:La.formatters.logarithmic}};function Ki(r,o){return X.isFinite(r)&&r>=0?r:o}var tn=Jn.extend({determineDataLimits:function(){var k,I,C,F,N,U,r=this,o=r.options,h=r.chart,f=h.data.datasets,y=r.isHorizontal();function b(ge){return y?ge.xAxisID===r.id:ge.yAxisID===r.id}r.min=Number.POSITIVE_INFINITY,r.max=Number.NEGATIVE_INFINITY,r.minNotZero=Number.POSITIVE_INFINITY;var ie=o.stacked;if(void 0===ie)for(k=0;k<f.length;k++)if(I=h.getDatasetMeta(k),h.isDatasetVisible(k)&&b(I)&&void 0!==I.stack){ie=!0;break}if(o.stacked||ie){var ce={};for(k=0;k<f.length;k++){var he=[(I=h.getDatasetMeta(k)).type,void 0===o.stacked&&void 0===I.stack?k:"",I.stack].join(".");if(h.isDatasetVisible(k)&&b(I))for(void 0===ce[he]&&(ce[he]=[]),N=0,U=(F=f[k].data).length;N<U;N++){var ve=ce[he];C=r._parseValue(F[N]),!(isNaN(C.min)||isNaN(C.max)||I.data[N].hidden||C.min<0||C.max<0)&&(ve[N]=ve[N]||0,ve[N]+=C.max)}}X.each(ce,function(ge){if(ge.length>0){var Ce=X.min(ge),Re=X.max(ge);r.min=Math.min(r.min,Ce),r.max=Math.max(r.max,Re)}})}else for(k=0;k<f.length;k++)if(I=h.getDatasetMeta(k),h.isDatasetVisible(k)&&b(I))for(N=0,U=(F=f[k].data).length;N<U;N++)C=r._parseValue(F[N]),!(isNaN(C.min)||isNaN(C.max)||I.data[N].hidden||C.min<0||C.max<0)&&(r.min=Math.min(C.min,r.min),r.max=Math.max(C.max,r.max),0!==C.min&&(r.minNotZero=Math.min(C.min,r.minNotZero)));r.min=X.isFinite(r.min)?r.min:null,r.max=X.isFinite(r.max)?r.max:null,r.minNotZero=X.isFinite(r.minNotZero)?r.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var r=this,o=r.options.ticks;r.min=Ki(o.min,r.min),r.max=Ki(o.max,r.max),r.min===r.max&&(0!==r.min&&null!==r.min?(r.min=Math.pow(10,Math.floor(rt(r.min))-1),r.max=Math.pow(10,Math.floor(rt(r.max))+1)):(r.min=1,r.max=10)),null===r.min&&(r.min=Math.pow(10,Math.floor(rt(r.max))-1)),null===r.max&&(r.max=0!==r.min?Math.pow(10,Math.floor(rt(r.min))+1):10),null===r.minNotZero&&(r.minNotZero=r.min>0?r.min:r.max<1?Math.pow(10,Math.floor(rt(r.max))):1)},buildTicks:function(){var r=this,o=r.options.ticks,h=!r.isHorizontal(),f={min:Ki(o.min),max:Ki(o.max)},y=r.ticks=function at(r,o){var k,I,h=[],f=De(r.min,Math.pow(10,Math.floor(rt(o.min)))),y=Math.floor(rt(o.max)),b=Math.ceil(o.max/Math.pow(10,y));0===f?(k=Math.floor(rt(o.minNotZero)),I=Math.floor(o.minNotZero/Math.pow(10,k)),h.push(f),f=I*Math.pow(10,k)):(k=Math.floor(rt(f)),I=Math.floor(f/Math.pow(10,k)));var C=k<0?Math.pow(10,Math.abs(k)):1;do{h.push(f),10==++I&&(I=1,C=++k>=0?1:C),f=Math.round(I*Math.pow(10,k)*C)/C}while(k<y||k===y&&I<b);var F=De(r.max,f);return h.push(F),h}(f,r);r.max=X.max(y),r.min=X.min(y),o.reverse?(h=!h,r.start=r.max,r.end=r.min):(r.start=r.min,r.end=r.max),h&&y.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),Jn.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(r,o){return this._getScaleLabel(this.chart.data.datasets[o].data[r])},getPixelForTick:function(r){var o=this.tickValues;return r<0||r>o.length-1?null:this.getPixelForValue(o[r])},_getFirstTickValue:function(r){var o=Math.floor(rt(r));return Math.floor(r/Math.pow(10,o))*Math.pow(10,o)},_configure:function(){var r=this,o=r.min,h=0;Jn.prototype._configure.call(r),0===o&&(o=r._getFirstTickValue(r.minNotZero),h=De(r.options.ticks.fontSize,Zt.global.defaultFontSize)/r._length),r._startValue=rt(o),r._valueOffset=h,r._valueRange=(rt(r.max)-rt(o))/(1-h)},getPixelForValue:function(r){var o=this,h=0;return(r=+o.getRightValue(r))>o.min&&r>0&&(h=(rt(r)-o._startValue)/o._valueRange+o._valueOffset),o.getPixelForDecimal(h)},getValueForPixel:function(r){var o=this,h=o.getDecimalForPixel(r);return 0===h&&0===o.min?0:Math.pow(10,o._startValue+(h-o._valueOffset)*o._valueRange)}});tn._defaults=yi;var vn=X.valueOrDefault,ks=X.valueAtIndexOrDefault,Qa=X.options.resolve,Pl={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:La.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(r){return r}}};function so(r){var o=r.ticks;return o.display&&r.display?vn(o.fontSize,Zt.global.defaultFontSize)+2*o.backdropPaddingY:0}function Xl(r,o,h){return X.isArray(h)?{w:X.longestText(r,r.font,h),h:h.length*o}:{w:r.measureText(h).width,h:o}}function Xo(r,o,h,f,y){return r===f||r===y?{start:o-h/2,end:o+h/2}:r<f||r>y?{start:o-h,end:o}:{start:o,end:o+h}}function Jl(r){return 0===r||180===r?"center":r<180?"left":"right"}function Vc(r,o,h,f){var b,k,y=h.y+f/2;if(X.isArray(o))for(b=0,k=o.length;b<k;++b)r.fillText(o[b],h.x,y),y+=f;else r.fillText(o,h.x,y)}function vc(r,o,h){90===r||270===r?h.y-=o.h/2:(r>270||r<90)&&(h.y-=o.h)}function Ea(r){return X.isNumber(r)?r:0}var Ko=Bs.extend({setDimensions:function(){var r=this;r.width=r.maxWidth,r.height=r.maxHeight,r.paddingTop=so(r.options)/2,r.xCenter=Math.floor(r.width/2),r.yCenter=Math.floor((r.height-r.paddingTop)/2),r.drawingArea=Math.min(r.height-r.paddingTop,r.width)/2},determineDataLimits:function(){var r=this,o=r.chart,h=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY;X.each(o.data.datasets,function(y,b){if(o.isDatasetVisible(b)){var k=o.getDatasetMeta(b);X.each(y.data,function(I,C){var F=+r.getRightValue(I);isNaN(F)||k.data[C].hidden||(h=Math.min(F,h),f=Math.max(F,f))})}}),r.min=h===Number.POSITIVE_INFINITY?0:h,r.max=f===Number.NEGATIVE_INFINITY?0:f,r.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/so(this.options))},convertTicksToLabels:function(){var r=this;Bs.prototype.convertTicksToLabels.call(r),r.pointLabels=r.chart.data.labels.map(function(){var o=X.callback(r.options.pointLabels.callback,arguments,r);return o||0===o?o:""})},getLabelForIndex:function(r,o){return+this.getRightValue(this.chart.data.datasets[o].data[r])},fit:function(){var r=this,o=r.options;o.display&&o.pointLabels.display?function Lo(r){var y,b,k,o=X.options._parseFont(r.options.pointLabels),h={l:0,r:r.width,t:0,b:r.height-r.paddingTop},f={};r.ctx.font=o.string,r._pointLabelSizes=[];var I=r.chart.data.labels.length;for(y=0;y<I;y++){k=r.getPointPosition(y,r.drawingArea+5),b=Xl(r.ctx,o.lineHeight,r.pointLabels[y]),r._pointLabelSizes[y]=b;var C=r.getIndexAngle(y),F=X.toDegrees(C)%360,N=Xo(F,k.x,b.w,0,180),U=Xo(F,k.y,b.h,90,270);N.start<h.l&&(h.l=N.start,f.l=C),N.end>h.r&&(h.r=N.end,f.r=C),U.start<h.t&&(h.t=U.start,f.t=C),U.end>h.b&&(h.b=U.end,f.b=C)}r.setReductions(r.drawingArea,h,f)}(r):r.setCenterPoint(0,0,0,0)},setReductions:function(r,o,h){var f=this,y=o.l/Math.sin(h.l),b=Math.max(o.r-f.width,0)/Math.sin(h.r),k=-o.t/Math.cos(h.t),I=-Math.max(o.b-(f.height-f.paddingTop),0)/Math.cos(h.b);y=Ea(y),b=Ea(b),k=Ea(k),I=Ea(I),f.drawingArea=Math.min(Math.floor(r-(y+b)/2),Math.floor(r-(k+I)/2)),f.setCenterPoint(y,b,k,I)},setCenterPoint:function(r,o,h,f){var y=this,I=h+y.drawingArea,C=y.height-y.paddingTop-f-y.drawingArea;y.xCenter=Math.floor((r+y.drawingArea+(y.width-o-y.drawingArea))/2+y.left),y.yCenter=Math.floor((I+C)/2+y.top+y.paddingTop)},getIndexAngle:function(r){var o=this.chart,b=(r*(360/o.data.labels.length)+((o.options||{}).startAngle||0))%360;return(b<0?b+360:b)*Math.PI*2/360},getDistanceFromCenterForValue:function(r){var o=this;if(X.isNullOrUndef(r))return NaN;var h=o.drawingArea/(o.max-o.min);return o.options.ticks.reverse?(o.max-r)*h:(r-o.min)*h},getPointPosition:function(r,o){var h=this,f=h.getIndexAngle(r)-Math.PI/2;return{x:Math.cos(f)*o+h.xCenter,y:Math.sin(f)*o+h.yCenter}},getPointPositionForValue:function(r,o){return this.getPointPosition(r,this.getDistanceFromCenterForValue(o))},getBasePosition:function(r){var o=this,h=o.min,f=o.max;return o.getPointPositionForValue(r||0,o.beginAtZero?0:h<0&&f<0?f:h>0&&f>0?h:0)},_drawGrid:function(){var I,C,F,r=this,o=r.ctx,h=r.options,f=h.gridLines,y=h.angleLines,b=vn(y.lineWidth,f.lineWidth),k=vn(y.color,f.color);if(h.pointLabels.display&&function Jo(r){var o=r.ctx,h=r.options,f=h.pointLabels,y=so(h),b=r.getDistanceFromCenterForValue(h.ticks.reverse?r.min:r.max),k=X.options._parseFont(f);o.save(),o.font=k.string,o.textBaseline="middle";for(var I=r.chart.data.labels.length-1;I>=0;I--){var F=r.getPointPosition(I,b+(0===I?y/2:0)+5),N=ks(f.fontColor,I,Zt.global.defaultFontColor);o.fillStyle=N;var U=r.getIndexAngle(I),ie=X.toDegrees(U);o.textAlign=Jl(ie),vc(ie,r._pointLabelSizes[I],F),Vc(o,r.pointLabels[I],F,k.lineHeight)}o.restore()}(r),f.display&&X.each(r.ticks,function(N,U){0!==U&&(C=r.getDistanceFromCenterForValue(r.ticksAsNumbers[U]),function Kl(r,o,h,f){var F,y=r.ctx,b=o.circular,k=r.chart.data.labels.length,I=ks(o.color,f-1),C=ks(o.lineWidth,f-1);if((b||k)&&I&&C){if(y.save(),y.strokeStyle=I,y.lineWidth=C,y.setLineDash&&(y.setLineDash(o.borderDash||[]),y.lineDashOffset=o.borderDashOffset||0),y.beginPath(),b)y.arc(r.xCenter,r.yCenter,h,0,2*Math.PI);else{F=r.getPointPosition(0,h),y.moveTo(F.x,F.y);for(var N=1;N<k;N++)F=r.getPointPosition(N,h),y.lineTo(F.x,F.y)}y.closePath(),y.stroke(),y.restore()}}(r,f,C,U))}),y.display&&b&&k){for(o.save(),o.lineWidth=b,o.strokeStyle=k,o.setLineDash&&(o.setLineDash(Qa([y.borderDash,f.borderDash,[]])),o.lineDashOffset=Qa([y.borderDashOffset,f.borderDashOffset,0])),I=r.chart.data.labels.length-1;I>=0;I--)C=r.getDistanceFromCenterForValue(h.ticks.reverse?r.min:r.max),F=r.getPointPosition(I,C),o.beginPath(),o.moveTo(r.xCenter,r.yCenter),o.lineTo(F.x,F.y),o.stroke();o.restore()}},_drawLabels:function(){var r=this,o=r.ctx,f=r.options.ticks;if(f.display){var I,C,y=r.getIndexAngle(0),b=X.options._parseFont(f),k=vn(f.fontColor,Zt.global.defaultFontColor);o.save(),o.font=b.string,o.translate(r.xCenter,r.yCenter),o.rotate(y),o.textAlign="center",o.textBaseline="middle",X.each(r.ticks,function(F,N){0===N&&!f.reverse||(I=r.getDistanceFromCenterForValue(r.ticksAsNumbers[N]),f.showLabelBackdrop&&(C=o.measureText(F).width,o.fillStyle=f.backdropColor,o.fillRect(-C/2-f.backdropPaddingX,-I-b.size/2-f.backdropPaddingY,C+2*f.backdropPaddingX,b.size+2*f.backdropPaddingY)),o.fillStyle=k,o.fillText(F,0,-I))}),o.restore()}},_drawTitle:X.noop});Ko._defaults=Pl;var So=X._deprecated,Qo=X.options.resolve,Ql=X.valueOrDefault,ec=Number.MIN_SAFE_INTEGER||-9007199254740991,el=Number.MAX_SAFE_INTEGER||9007199254740991,ml={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vn=Object.keys(ml);function tc(r,o){return r-o}function xc(r){return X.valueOrDefault(r.time.min,r.ticks.min)}function ic(r){return X.valueOrDefault(r.time.max,r.ticks.max)}function oo(r,o,h,f){var y=function nc(r,o,h){for(var b,k,I,f=0,y=r.length-1;f>=0&&f<=y;){if(I=r[b=f+y>>1],!(k=r[b-1]||null))return{lo:null,hi:I};if(I[o]<h)f=b+1;else{if(!(k[o]>h))return{lo:k,hi:I};y=b-1}}return{lo:I,hi:null}}(r,o,h),b=y.lo?y.hi?y.lo:r[r.length-2]:r[0],k=y.lo?y.hi?y.hi:r[r.length-1]:r[1],I=k[o]-b[o];return b[f]+(k[f]-b[f])*(I?(h-b[o])/I:0)}function _r(r,o){var h=r._adapter,f=r.options.time,y=f.parser,b=y||f.format,k=o;return"function"==typeof y&&(k=y(k)),X.isFinite(k)||(k="string"==typeof b?h.parse(k,b):h.parse(k)),null!==k?+k:(!y&&"function"==typeof b&&(k=b(o),X.isFinite(k)||(k=h.parse(k))),k)}function js(r,o){if(X.isNullOrUndef(o))return null;var h=r.options.time,f=_r(r,r.getRightValue(o));return null===f||h.round&&(f=+r._adapter.startOf(f,h.round)),f}function tl(r,o,h,f){var b,k,y=Vn.length;for(b=Vn.indexOf(r);b<y-1;++b)if((k=ml[Vn[b]]).common&&Math.ceil((h-o)/((k.steps?k.steps:el)*k.size))<=f)return Vn[b];return Vn[y-1]}function Pa(r,o,h){var k,I,f=[],y={},b=o.length;for(k=0;k<b;++k)y[I=o[k]]=k,f.push({value:I,major:!1});return 0!==b&&h?function Uc(r,o,h,f){var I,C,y=r._adapter,b=+y.startOf(o[0].value,f),k=o[o.length-1].value;for(I=b;I<=k;I=+y.add(I,1,f))(C=h[I])>=0&&(o[C].major=!0);return o}(r,f,y,h):f}var lo=Jn.extend({initialize:function(){this.mergeTicksOptions(),Jn.prototype.initialize.call(this)},update:function(){var r=this,o=r.options,h=o.time||(o.time={}),f=r._adapter=new Go._date(o.adapters.date);return So("time scale",h.format,"time.format","time.parser"),So("time scale",h.min,"time.min","ticks.min"),So("time scale",h.max,"time.max","ticks.max"),X.mergeIf(h.displayFormats,f.formats()),Jn.prototype.update.apply(r,arguments)},getRightValue:function(r){return r&&void 0!==r.t&&(r=r.t),Jn.prototype.getRightValue.call(this,r)},determineDataLimits:function(){var N,U,ie,ce,he,ve,ge,r=this,o=r.chart,h=r._adapter,f=r.options,y=f.time.unit||"day",b=el,k=ec,I=[],C=[],F=[],Ce=r._getLabels();for(N=0,ie=Ce.length;N<ie;++N)F.push(js(r,Ce[N]));for(N=0,ie=(o.data.datasets||[]).length;N<ie;++N)if(o.isDatasetVisible(N))if(X.isObject((he=o.data.datasets[N].data)[0]))for(C[N]=[],U=0,ce=he.length;U<ce;++U)ve=js(r,he[U]),I.push(ve),C[N][U]=ve;else C[N]=F.slice(0),ge||(I=I.concat(F),ge=!0);else C[N]=[];F.length&&(b=Math.min(b,F[0]),k=Math.max(k,F[F.length-1])),I.length&&(I=ie>1?function bc(r){var f,y,b,o={},h=[];for(f=0,y=r.length;f<y;++f)o[b=r[f]]||(o[b]=!0,h.push(b));return h}(I).sort(tc):I.sort(tc),b=Math.min(b,I[0]),k=Math.max(k,I[I.length-1])),b=js(r,xc(f))||b,k=js(r,ic(f))||k,b=b===el?+h.startOf(Date.now(),y):b,k=k===ec?+h.endOf(Date.now(),y)+1:k,r.min=Math.min(b,k),r.max=Math.max(b+1,k),r._table=[],r._timestamps={data:I,datasets:C,labels:F}},buildTicks:function(){var U,ie,ce,r=this,o=r.min,h=r.max,f=r.options,y=f.ticks,b=f.time,k=r._timestamps,I=[],C=r.getLabelCapacity(o),F=y.source,N=f.distribution;for(k="data"===F||"auto"===F&&"series"===N?k.data:"labels"===F?k.labels:function Aa(r,o,h,f){var ie,y=r._adapter,b=r.options,k=b.time,I=k.unit||tl(k.minUnit,o,h,f),C=Qo([k.stepSize,k.unitStepSize,1]),F="week"===I&&k.isoWeekday,N=o,U=[];if(F&&(N=+y.startOf(N,"isoWeek",F)),N=+y.startOf(N,F?"day":I),y.diff(h,o,I)>1e5*C)throw o+" and "+h+" are too far apart with stepSize of "+C+" "+I;for(ie=N;ie<h;ie=+y.add(ie,C,I))U.push(ie);return(ie===h||"ticks"===b.bounds)&&U.push(ie),U}(r,o,h,C),"ticks"===f.bounds&&k.length&&(o=k[0],h=k[k.length-1]),o=js(r,xc(f))||o,h=js(r,ic(f))||h,U=0,ie=k.length;U<ie;++U)(ce=k[U])>=o&&ce<=h&&I.push(ce);return r.min=o,r.max=h,r._unit=b.unit||(y.autoSkip?tl(b.minUnit,r.min,r.max,C):function Hc(r,o,h,f,y){var b,k;for(b=Vn.length-1;b>=Vn.indexOf(h);b--)if(ml[k=Vn[b]].common&&r._adapter.diff(y,f,k)>=o-1)return k;return Vn[h?Vn.indexOf(h):0]}(r,I.length,b.minUnit,r.min,r.max)),r._majorUnit=y.major.enabled&&"year"!==r._unit?function Nc(r){for(var o=Vn.indexOf(r)+1,h=Vn.length;o<h;++o)if(ml[Vn[o]].common)return Vn[o]}(r._unit):void 0,r._table=function gl(r,o,h,f){if("linear"===f||!r.length)return[{time:o,pos:0},{time:h,pos:1}];var k,I,C,F,N,y=[],b=[o];for(k=0,I=r.length;k<I;++k)(F=r[k])>o&&F<h&&b.push(F);for(b.push(h),k=0,I=b.length;k<I;++k)N=b[k+1],F=b[k],(void 0===(C=b[k-1])||void 0===N||Math.round((N+C)/2)!==F)&&y.push({time:F,pos:k/(I-1)});return y}(r._timestamps.data,o,h,N),r._offsets=function wc(r,o,h,f,y){var I,C,b=0,k=0;return y.offset&&o.length&&(I=oo(r,"time",o[0],"pos"),b=1===o.length?1-I:(oo(r,"time",o[1],"pos")-I)/2,C=oo(r,"time",o[o.length-1],"pos"),k=1===o.length?C:(C-oo(r,"time",o[o.length-2],"pos"))/2),{start:b,end:k,factor:1/(b+1+k)}}(r._table,I,0,0,f),y.reverse&&I.reverse(),Pa(r,I,r._majorUnit)},getLabelForIndex:function(r,o){var h=this,f=h._adapter,y=h.chart.data,b=h.options.time,k=y.labels&&r<y.labels.length?y.labels[r]:"",I=y.datasets[o].data[r];return X.isObject(I)&&(k=h.getRightValue(I)),b.tooltipFormat?f.format(_r(h,k),b.tooltipFormat):"string"==typeof k?k:f.format(_r(h,k),b.displayFormats.datetime)},tickFormatFunction:function(r,o,h,f){var y=this,k=y.options,I=k.time.displayFormats,F=y._majorUnit,N=I[F],U=h[o],ie=k.ticks,ce=F&&N&&U&&U.major,he=y._adapter.format(r,f||(ce?N:I[y._unit])),ve=ce?ie.major:ie.minor,ge=Qo([ve.callback,ve.userCallback,ie.callback,ie.userCallback]);return ge?ge(he,o,h):he},convertTicksToLabels:function(r){var h,f,o=[];for(h=0,f=r.length;h<f;++h)o.push(this.tickFormatFunction(r[h].value,h,r));return o},getPixelForOffset:function(r){var o=this,h=o._offsets,f=oo(o._table,"time",r,"pos");return o.getPixelForDecimal((h.start+f)*h.factor)},getPixelForValue:function(r,o,h){var f=this,y=null;if(void 0!==o&&void 0!==h&&(y=f._timestamps.datasets[h][o]),null===y&&(y=js(f,r)),null!==y)return f.getPixelForOffset(y)},getPixelForTick:function(r){var o=this.getTicks();return r>=0&&r<o.length?this.getPixelForOffset(o[r].value):null},getValueForPixel:function(r){var o=this,h=o._offsets,f=o.getDecimalForPixel(r)/h.factor-h.end,y=oo(o._table,"pos",f,"time");return o._adapter._create(y)},_getLabelSize:function(r){var o=this,h=o.options.ticks,f=o.ctx.measureText(r).width,y=X.toRadians(o.isHorizontal()?h.maxRotation:h.minRotation),b=Math.cos(y),k=Math.sin(y),I=Ql(h.fontSize,Zt.global.defaultFontSize);return{w:f*b+I*k,h:f*k+I*b}},getLabelWidth:function(r){return this._getLabelSize(r).w},getLabelCapacity:function(r){var o=this,h=o.options.time,f=h.displayFormats,y=f[h.unit]||f.millisecond,b=o.tickFormatFunction(r,0,Pa(o,[r],o._majorUnit),y),k=o._getLabelSize(b),I=Math.floor(o.isHorizontal()?o.width/k.w:o.height/k.h);return o.options.offset&&I--,I>0?I:1}});lo._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var Bt={category:Tr,linear:W,logarithmic:tn,radialLinear:Ko,time:lo},rc={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Go._date.override("function"==typeof te?{_id:"moment",formats:function(){return rc},parse:function(r,o){return"string"==typeof r&&"string"==typeof o?r=te(r,o):r instanceof te||(r=te(r)),r.isValid()?r.valueOf():null},format:function(r,o){return te(r).format(o)},add:function(r,o,h){return te(r).add(o,h).valueOf()},diff:function(r,o,h){return te(r).diff(te(o),h)},startOf:function(r,o,h){return r=te(r),"isoWeek"===o?r.isoWeekday(h).valueOf():r.startOf(o).valueOf()},endOf:function(r,o){return te(r).endOf(o).valueOf()},_create:function(r){return te(r)}}:{}),Zt._set("global",{plugins:{filler:{propagate:!0}}});var ac={dataset:function(r){var o=r.fill,h=r.chart,f=h.getDatasetMeta(o),b=f&&h.isDatasetVisible(o)&&f.dataset._children||[],k=b.length||0;return k?function(I,C){return C<k&&b[C]._view||null}:null},boundary:function(r){var o=r.boundary,h=o?o.x:null,f=o?o.y:null;return X.isArray(o)?function(y,b){return o[b]}:function(y){return{x:null===h?y.x:h,y:null===f?y.y:f}}}};function il(r,o,h){var b,f=r._model||{},y=f.fill;if(void 0===y&&(y=!!f.backgroundColor),!1===y||null===y)return!1;if(!0===y)return"origin";if(b=parseFloat(y,10),isFinite(b)&&Math.floor(b)===b)return("-"===y[0]||"+"===y[0])&&(b=o+b),!(b===o||b<0||b>=h)&&b;switch(y){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return y;default:return!1}}function sc(r){return(r.el._scale||{}).getPointPositionForValue?function It(r){var k,I,C,F,N,o=r.el._scale,h=o.options,f=o.chart.data.labels.length,y=r.fill,b=[];if(!f)return null;for(I=h.ticks.reverse?o.min:o.max,C=o.getPointPositionForValue(0,k=h.ticks.reverse?o.max:o.min),F=0;F<f;++F)N="start"===y||"end"===y?o.getPointPositionForValue(F,"start"===y?k:I):o.getBasePosition(F),h.gridLines.circular&&(N.cx=C.x,N.cy=C.y,N.angle=o.getIndexAngle(F)-Math.PI/2),b.push(N);return b}(r):function na(r){var b,o=r.el._model||{},h=r.el._scale||{},f=r.fill,y=null;if(isFinite(f))return null;if("start"===f?y=void 0===o.scaleBottom?h.bottom:o.scaleBottom:"end"===f?y=void 0===o.scaleTop?h.top:o.scaleTop:void 0!==o.scaleZero?y=o.scaleZero:h.getBasePixel&&(y=h.getBasePixel()),null!=y){if(void 0!==y.x&&void 0!==y.y)return y;if(X.isFinite(y))return{x:(b=h.isHorizontal())?y:null,y:b?null:y}}return null}(r)}function Wc(r,o,h){var k,y=r[o].fill,b=[o];if(!h)return y;for(;!1!==y&&-1===b.indexOf(y);){if(!isFinite(y))return y;if(!(k=r[y]))return!1;if(k.visible)return y;b.push(y),y=k.fill}return!1}function Mc(r){var o=r.fill,h="dataset";return!1===o?null:(isFinite(o)||(h="boundary"),ac[h](r))}function Et(r){return r&&!r.skip}function oc(r,o,h,f,y){var b,k,I,C;if(f&&y){for(r.moveTo(o[0].x,o[0].y),b=1;b<f;++b)X.canvas.lineTo(r,o[b-1],o[b]);if(void 0!==h[0].angle){for(k=h[0].cx,I=h[0].cy,C=Math.sqrt(Math.pow(h[0].x-k,2)+Math.pow(h[0].y-I,2)),b=y-1;b>0;--b)r.arc(k,I,C,h[b].angle,h[b-1].angle,!0);return}for(r.lineTo(h[y-1].x,h[y-1].y),b=y-1;b>0;--b)X.canvas.lineTo(r,h[b],h[b-1],!0)}}function Tc(r,o,h,f,y,b){var ie,ce,he,ve,ge,Ce,Re,Ze,k=o.length,I=f.spanGaps,C=[],F=[],N=0,U=0;for(r.beginPath(),ie=0,ce=k;ie<ce;++ie)ge=h(ve=o[he=ie%k]._view,he,f),Ce=Et(ve),Re=Et(ge),b&&void 0===Ze&&Ce&&(ce=k+(Ze=ie+1)),Ce&&Re?(N=C.push(ve),U=F.push(ge)):N&&U&&(I?(Ce&&C.push(ve),Re&&F.push(ge)):(oc(r,C,F,N,U),N=U=0,C=[],F=[]));oc(r,C,F,N,U),r.closePath(),r.fillStyle=y,r.fill()}var kc={id:"filler",afterDatasetsUpdate:function(r,o){var b,k,I,C,h=(r.data.datasets||[]).length,f=o.propagate,y=[];for(k=0;k<h;++k)C=null,(I=(b=r.getDatasetMeta(k)).dataset)&&I._model&&I instanceof Xn.Line&&(C={visible:r.isDatasetVisible(k),fill:il(I,k,h),chart:r,el:I}),b.$filler=C,y.push(C);for(k=0;k<h;++k)(C=y[k])&&(C.fill=Wc(y,k,f),C.boundary=sc(C),C.mapper=Mc(C))},beforeDatasetsDraw:function(r){var f,y,b,k,I,C,F,o=r._getSortedVisibleDatasetMetas(),h=r.ctx;for(y=o.length-1;y>=0;--y)(f=o[y].$filler)&&f.visible&&(I=(b=f.el)._children||[],F=(k=b._view).backgroundColor||Zt.global.defaultColor,(C=f.mapper)&&F&&I.length&&(X.canvas.clipArea(h,r.chartArea),Tc(h,I,C,k,F,b._loop),X.canvas.unclipArea(h)))}},nn=X.rtl.getRtlAdapter,ya=X.noop,ts=X.valueOrDefault;function Co(r,o){return r.usePointStyle&&r.boxWidth>o?o:r.boxWidth}Zt._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(r,o){var h=o.datasetIndex,f=this.chart,y=f.getDatasetMeta(h);y.hidden=null===y.hidden?!f.data.datasets[h].hidden:null,f.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(r){var o=r.data.datasets,h=r.options.legend||{},f=h.labels&&h.labels.usePointStyle;return r._getSortedDatasetMetas().map(function(y){var b=y.controller.getStyle(f?0:void 0);return{text:o[y.index].label,fillStyle:b.backgroundColor,hidden:!r.isDatasetVisible(y.index),lineCap:b.borderCapStyle,lineDash:b.borderDash,lineDashOffset:b.borderDashOffset,lineJoin:b.borderJoinStyle,lineWidth:b.borderWidth,strokeStyle:b.borderColor,pointStyle:b.pointStyle,rotation:b.rotation,datasetIndex:y.index}},this)}}},legendCallback:function(r){var f,y,b,o=document.createElement("ul"),h=r.data.datasets;for(o.setAttribute("class",r.id+"-legend"),f=0,y=h.length;f<y;f++)(b=o.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=h[f].backgroundColor,h[f].label&&b.appendChild(document.createTextNode(h[f].label));return o.outerHTML}});var Eo=pt.extend({initialize:function(r){var o=this;X.extend(o,r),o.legendHitBoxes=[],o._hoveredItem=null,o.doughnutMode=!1},beforeUpdate:ya,update:function(r,o,h){var f=this;return f.beforeUpdate(),f.maxWidth=r,f.maxHeight=o,f.margins=h,f.beforeSetDimensions(),f.setDimensions(),f.afterSetDimensions(),f.beforeBuildLabels(),f.buildLabels(),f.afterBuildLabels(),f.beforeFit(),f.fit(),f.afterFit(),f.afterUpdate(),f.minSize},afterUpdate:ya,beforeSetDimensions:ya,setDimensions:function(){var r=this;r.isHorizontal()?(r.width=r.maxWidth,r.left=0,r.right=r.width):(r.height=r.maxHeight,r.top=0,r.bottom=r.height),r.paddingLeft=0,r.paddingTop=0,r.paddingRight=0,r.paddingBottom=0,r.minSize={width:0,height:0}},afterSetDimensions:ya,beforeBuildLabels:ya,buildLabels:function(){var r=this,o=r.options.labels||{},h=X.callback(o.generateLabels,[r.chart],r)||[];o.filter&&(h=h.filter(function(f){return o.filter(f,r.chart.data)})),r.options.reverse&&h.reverse(),r.legendItems=h},afterBuildLabels:ya,beforeFit:ya,fit:function(){var r=this,o=r.options,h=o.labels,f=o.display,y=r.ctx,b=X.options._parseFont(h),k=b.size,I=r.legendHitBoxes=[],C=r.minSize,F=r.isHorizontal();if(F?(C.width=r.maxWidth,C.height=f?10:0):(C.width=f?10:0,C.height=r.maxHeight),f){if(y.font=b.string,F){var N=r.lineWidths=[0],U=0;y.textAlign="left",y.textBaseline="middle",X.each(r.legendItems,function(Re,Ze){var Ge=Co(h,k)+k/2+y.measureText(Re.text).width;(0===Ze||N[N.length-1]+Ge+2*h.padding>C.width)&&(U+=k+h.padding,N[N.length-(Ze>0?0:1)]=0),I[Ze]={left:0,top:0,width:Ge,height:k},N[N.length-1]+=Ge+h.padding}),C.height+=U}else{var ie=h.padding,ce=r.columnWidths=[],he=r.columnHeights=[],ve=h.padding,ge=0,Ce=0;X.each(r.legendItems,function(Re,Ze){var Ge=Co(h,k)+k/2+y.measureText(Re.text).width;Ze>0&&Ce+k+2*ie>C.height&&(ve+=ge+h.padding,ce.push(ge),he.push(Ce),ge=0,Ce=0),ge=Math.max(ge,Ge),Ce+=k+ie,I[Ze]={left:0,top:0,width:Ge,height:k}}),ve+=ge,ce.push(ge),he.push(Ce),C.width+=ve}r.width=C.width,r.height=C.height}else r.width=C.width=r.height=C.height=0},afterFit:ya,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var r=this,o=r.options,h=o.labels,f=Zt.global,y=f.defaultColor,b=f.elements.line,k=r.height,I=r.columnHeights,C=r.width,F=r.lineWidths;if(o.display){var ve,N=nn(o.rtl,r.left,r.minSize.width),U=r.ctx,ie=ts(h.fontColor,f.defaultFontColor),ce=X.options._parseFont(h),he=ce.size;U.textAlign=N.textAlign("left"),U.textBaseline="middle",U.lineWidth=.5,U.strokeStyle=ie,U.fillStyle=ie,U.font=ce.string;var ge=Co(h,he),Ce=r.legendHitBoxes,Be=function(tt,ot){switch(o.align){case"start":return h.padding;case"end":return tt-ot;default:return(tt-ot+h.padding)/2}},Ge=r.isHorizontal();ve=Ge?{x:r.left+Be(C,F[0]),y:r.top+h.padding,line:0}:{x:r.left+h.padding,y:r.top+Be(k,I[0]),line:0},X.rtl.overrideTextDirection(r.ctx,o.textDirection);var lt=he+h.padding;X.each(r.legendItems,function(tt,ot){var Ct=U.measureText(tt.text).width,Nt=ge+he/2+Ct,At=ve.x,jt=ve.y;N.setWidth(r.minSize.width),Ge?ot>0&&At+Nt+h.padding>r.left+r.minSize.width&&(jt=ve.y+=lt,ve.line++,At=ve.x=r.left+Be(C,F[ve.line])):ot>0&&jt+lt>r.top+r.minSize.height&&(At=ve.x=At+r.columnWidths[ve.line]+h.padding,ve.line++,jt=ve.y=r.top+Be(k,I[ve.line]));var Yt=N.x(At);(function(tt,ot,Ct){if(!(isNaN(ge)||ge<=0)){U.save();var Nt=ts(Ct.lineWidth,b.borderWidth);if(U.fillStyle=ts(Ct.fillStyle,y),U.lineCap=ts(Ct.lineCap,b.borderCapStyle),U.lineDashOffset=ts(Ct.lineDashOffset,b.borderDashOffset),U.lineJoin=ts(Ct.lineJoin,b.borderJoinStyle),U.lineWidth=Nt,U.strokeStyle=ts(Ct.strokeStyle,y),U.setLineDash&&U.setLineDash(ts(Ct.lineDash,b.borderDash)),h&&h.usePointStyle){var At=ge*Math.SQRT2/2,jt=N.xPlus(tt,ge/2);X.canvas.drawPoint(U,Ct.pointStyle,At,jt,ot+he/2,Ct.rotation)}else U.fillRect(N.leftForLtr(tt,ge),ot,ge,he),0!==Nt&&U.strokeRect(N.leftForLtr(tt,ge),ot,ge,he);U.restore()}})(Yt,jt,tt),Ce[ot].left=N.leftForLtr(Yt,Ce[ot].width),Ce[ot].top=jt,function(tt,ot,Ct,Nt){var At=he/2,jt=N.xPlus(tt,ge+At),Yt=ot+At;U.fillText(Ct.text,jt,Yt),Ct.hidden&&(U.beginPath(),U.lineWidth=2,U.moveTo(jt,Yt),U.lineTo(N.xPlus(jt,Nt),Yt),U.stroke())}(Yt,jt,tt,Ct),Ge?ve.x+=Nt+h.padding:ve.y+=lt}),X.rtl.restoreTextDirection(r.ctx,o.textDirection)}},_getLegendItemAt:function(r,o){var f,y,b,h=this;if(r>=h.left&&r<=h.right&&o>=h.top&&o<=h.bottom)for(b=h.legendHitBoxes,f=0;f<b.length;++f)if(r>=(y=b[f]).left&&r<=y.left+y.width&&o>=y.top&&o<=y.top+y.height)return h.legendItems[f];return null},handleEvent:function(r){var y,o=this,h=o.options,f="mouseup"===r.type?"click":r.type;if("mousemove"===f){if(!h.onHover&&!h.onLeave)return}else{if("click"!==f)return;if(!h.onClick)return}y=o._getLegendItemAt(r.x,r.y),"click"===f?y&&h.onClick&&h.onClick.call(o,r.native,y):(h.onLeave&&y!==o._hoveredItem&&(o._hoveredItem&&h.onLeave.call(o,r.native,o._hoveredItem),o._hoveredItem=y),h.onHover&&y&&h.onHover.call(o,r.native,y))}});function p(r,o){var h=new Eo({ctx:r.ctx,options:o,chart:r});xr.configure(r,h,o),xr.addBox(r,h),r.legend=h}var n={id:"legend",_element:Eo,beforeInit:function(r){var o=r.options.legend;o&&p(r,o)},beforeUpdate:function(r){var o=r.options.legend,h=r.legend;o?(X.mergeIf(o,Zt.global.legend),h?(xr.configure(r,h,o),h.options=o):p(r,o)):h&&(xr.removeBox(r,h),delete r.legend)},afterEvent:function(r,o){var h=r.legend;h&&h.handleEvent(o)}},l=X.noop;Zt._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var m=pt.extend({initialize:function(r){X.extend(this,r),this.legendHitBoxes=[]},beforeUpdate:l,update:function(r,o,h){var f=this;return f.beforeUpdate(),f.maxWidth=r,f.maxHeight=o,f.margins=h,f.beforeSetDimensions(),f.setDimensions(),f.afterSetDimensions(),f.beforeBuildLabels(),f.buildLabels(),f.afterBuildLabels(),f.beforeFit(),f.fit(),f.afterFit(),f.afterUpdate(),f.minSize},afterUpdate:l,beforeSetDimensions:l,setDimensions:function(){var r=this;r.isHorizontal()?(r.width=r.maxWidth,r.left=0,r.right=r.width):(r.height=r.maxHeight,r.top=0,r.bottom=r.height),r.paddingLeft=0,r.paddingTop=0,r.paddingRight=0,r.paddingBottom=0,r.minSize={width:0,height:0}},afterSetDimensions:l,beforeBuildLabels:l,buildLabels:l,afterBuildLabels:l,beforeFit:l,fit:function(){var b,r=this,o=r.options,h=r.minSize={},f=r.isHorizontal();o.display?(b=(X.isArray(o.text)?o.text.length:1)*X.options._parseFont(o).lineHeight+2*o.padding,r.width=h.width=f?r.maxWidth:b,r.height=h.height=f?b:r.maxHeight):r.width=h.width=r.height=h.height=0},afterFit:l,isHorizontal:function(){var r=this.options.position;return"top"===r||"bottom"===r},draw:function(){var r=this,o=r.ctx,h=r.options;if(h.display){var U,ie,ce,f=X.options._parseFont(h),y=f.lineHeight,b=y/2+h.padding,k=0,I=r.top,C=r.left,F=r.bottom,N=r.right;o.fillStyle=X.valueOrDefault(h.fontColor,Zt.global.defaultFontColor),o.font=f.string,r.isHorizontal()?(ie=C+(N-C)/2,ce=I+b,U=N-C):(ie="left"===h.position?C+b:N-b,ce=I+(F-I)/2,U=F-I,k=Math.PI*("left"===h.position?-.5:.5)),o.save(),o.translate(ie,ce),o.rotate(k),o.textAlign="center",o.textBaseline="middle";var he=h.text;if(X.isArray(he))for(var ve=0,ge=0;ge<he.length;++ge)o.fillText(he[ge],0,ve,U),ve+=y;else o.fillText(he,0,0,U);o.restore()}}});function v(r,o){var h=new m({ctx:r.ctx,options:o,chart:r});xr.configure(r,h,o),xr.addBox(r,h),r.titleBlock=h}var P={},O=kc,V=n,$={id:"title",_element:m,beforeInit:function(r){var o=r.options.title;o&&v(r,o)},beforeUpdate:function(r){var o=r.options.title,h=r.titleBlock;o?(X.mergeIf(o,Zt.global.title),h?(xr.configure(r,h,o),h.options=o):v(r,o)):h&&(xr.removeBox(r,h),delete r.titleBlock)}};for(var q in P.filler=O,P.legend=V,P.title=$,gi.helpers=X,function(){function r(f,y,b){var k;return"string"==typeof f?(k=parseInt(f,10),-1!==f.indexOf("%")&&(k=k/100*y.parentNode[b])):k=f,k}function o(f){return null!=f&&"none"!==f}function h(f,y,b){var k=document.defaultView,I=X._getParentNode(f),C=k.getComputedStyle(f)[y],F=k.getComputedStyle(I)[y],N=o(C),U=o(F),ie=Number.POSITIVE_INFINITY;return N||U?Math.min(N?r(C,f,b):ie,U?r(F,I,b):ie):"none"}X.where=function(f,y){if(X.isArray(f)&&Array.prototype.filter)return f.filter(y);var b=[];return X.each(f,function(k){y(k)&&b.push(k)}),b},X.findIndex=Array.prototype.findIndex?function(f,y,b){return f.findIndex(y,b)}:function(f,y,b){b=void 0===b?f:b;for(var k=0,I=f.length;k<I;++k)if(y.call(b,f[k],k,f))return k;return-1},X.findNextWhere=function(f,y,b){X.isNullOrUndef(b)&&(b=-1);for(var k=b+1;k<f.length;k++){var I=f[k];if(y(I))return I}},X.findPreviousWhere=function(f,y,b){X.isNullOrUndef(b)&&(b=f.length);for(var k=b-1;k>=0;k--){var I=f[k];if(y(I))return I}},X.isNumber=function(f){return!isNaN(parseFloat(f))&&isFinite(f)},X.almostEquals=function(f,y,b){return Math.abs(f-y)<b},X.almostWhole=function(f,y){var b=Math.round(f);return b-y<=f&&b+y>=f},X.max=function(f){return f.reduce(function(y,b){return isNaN(b)?y:Math.max(y,b)},Number.NEGATIVE_INFINITY)},X.min=function(f){return f.reduce(function(y,b){return isNaN(b)?y:Math.min(y,b)},Number.POSITIVE_INFINITY)},X.sign=Math.sign?function(f){return Math.sign(f)}:function(f){return 0==(f=+f)||isNaN(f)?f:f>0?1:-1},X.toRadians=function(f){return f*(Math.PI/180)},X.toDegrees=function(f){return f*(180/Math.PI)},X._decimalPlaces=function(f){if(X.isFinite(f)){for(var y=1,b=0;Math.round(f*y)/y!==f;)y*=10,b++;return b}},X.getAngleFromPoint=function(f,y){var b=y.x-f.x,k=y.y-f.y,I=Math.sqrt(b*b+k*k),C=Math.atan2(k,b);return C<-.5*Math.PI&&(C+=2*Math.PI),{angle:C,distance:I}},X.distanceBetweenPoints=function(f,y){return Math.sqrt(Math.pow(y.x-f.x,2)+Math.pow(y.y-f.y,2))},X.aliasPixel=function(f){return f%2==0?0:.5},X._alignPixel=function(f,y,b){var k=f.currentDevicePixelRatio,I=b/2;return Math.round((y-I)*k)/k+I},X.splineCurve=function(f,y,b,k){var I=f.skip?y:f,C=y,F=b.skip?y:b,N=Math.sqrt(Math.pow(C.x-I.x,2)+Math.pow(C.y-I.y,2)),U=Math.sqrt(Math.pow(F.x-C.x,2)+Math.pow(F.y-C.y,2)),ie=N/(N+U),ce=U/(N+U),he=k*(ie=isNaN(ie)?0:ie),ve=k*(ce=isNaN(ce)?0:ce);return{previous:{x:C.x-he*(F.x-I.x),y:C.y-he*(F.y-I.y)},next:{x:C.x+ve*(F.x-I.x),y:C.y+ve*(F.y-I.y)}}},X.EPSILON=Number.EPSILON||1e-14,X.splineCurveMonotone=function(f){var k,I,C,F,U,ie,ce,he,ve,y=(f||[]).map(function(ge){return{model:ge._model,deltaK:0,mK:0}}),b=y.length;for(k=0;k<b;++k)if(!(C=y[k]).model.skip){if(I=k>0?y[k-1]:null,(F=k<b-1?y[k+1]:null)&&!F.model.skip){var N=F.model.x-C.model.x;C.deltaK=0!==N?(F.model.y-C.model.y)/N:0}C.mK=!I||I.model.skip?C.deltaK:!F||F.model.skip?I.deltaK:this.sign(I.deltaK)!==this.sign(C.deltaK)?0:(I.deltaK+C.deltaK)/2}for(k=0;k<b-1;++k)if(F=y[k+1],!(C=y[k]).model.skip&&!F.model.skip){if(X.almostEquals(C.deltaK,0,this.EPSILON)){C.mK=F.mK=0;continue}U=C.mK/C.deltaK,ie=F.mK/C.deltaK,!((he=Math.pow(U,2)+Math.pow(ie,2))<=9)&&(ce=3/Math.sqrt(he),C.mK=U*ce*C.deltaK,F.mK=ie*ce*C.deltaK)}for(k=0;k<b;++k)!(C=y[k]).model.skip&&(F=k<b-1?y[k+1]:null,(I=k>0?y[k-1]:null)&&!I.model.skip&&(C.model.controlPointPreviousX=C.model.x-(ve=(C.model.x-I.model.x)/3),C.model.controlPointPreviousY=C.model.y-ve*C.mK),F&&!F.model.skip&&(C.model.controlPointNextX=C.model.x+(ve=(F.model.x-C.model.x)/3),C.model.controlPointNextY=C.model.y+ve*C.mK))},X.nextItem=function(f,y,b){return b?y>=f.length-1?f[0]:f[y+1]:y>=f.length-1?f[f.length-1]:f[y+1]},X.previousItem=function(f,y,b){return b?y<=0?f[f.length-1]:f[y-1]:y<=0?f[0]:f[y-1]},X.niceNum=function(f,y){var b=Math.floor(X.log10(f)),k=f/Math.pow(10,b);return(y?k<1.5?1:k<3?2:k<7?5:10:k<=1?1:k<=2?2:k<=5?5:10)*Math.pow(10,b)},X.requestAnimFrame="undefined"==typeof window?function(f){f()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(f){return window.setTimeout(f,1e3/60)},X.getRelativePosition=function(f,y){var b,k,I=f.originalEvent||f,C=f.target||f.srcElement,F=C.getBoundingClientRect(),N=I.touches;N&&N.length>0?(b=N[0].clientX,k=N[0].clientY):(b=I.clientX,k=I.clientY);var U=parseFloat(X.getStyle(C,"padding-left")),ie=parseFloat(X.getStyle(C,"padding-top")),ce=parseFloat(X.getStyle(C,"padding-right")),he=parseFloat(X.getStyle(C,"padding-bottom")),ge=F.bottom-F.top-ie-he;return{x:b=Math.round((b-F.left-U)/(F.right-F.left-U-ce)*C.width/y.currentDevicePixelRatio),y:k=Math.round((k-F.top-ie)/ge*C.height/y.currentDevicePixelRatio)}},X.getConstraintWidth=function(f){return h(f,"max-width","clientWidth")},X.getConstraintHeight=function(f){return h(f,"max-height","clientHeight")},X._calculatePadding=function(f,y,b){return(y=X.getStyle(f,y)).indexOf("%")>-1?b*parseInt(y,10)/100:parseInt(y,10)},X._getParentNode=function(f){var y=f.parentNode;return y&&"[object ShadowRoot]"===y.toString()&&(y=y.host),y},X.getMaximumWidth=function(f){var y=X._getParentNode(f);if(!y)return f.clientWidth;var b=y.clientWidth,C=b-X._calculatePadding(y,"padding-left",b)-X._calculatePadding(y,"padding-right",b),F=X.getConstraintWidth(f);return isNaN(F)?C:Math.min(C,F)},X.getMaximumHeight=function(f){var y=X._getParentNode(f);if(!y)return f.clientHeight;var b=y.clientHeight,C=b-X._calculatePadding(y,"padding-top",b)-X._calculatePadding(y,"padding-bottom",b),F=X.getConstraintHeight(f);return isNaN(F)?C:Math.min(C,F)},X.getStyle=function(f,y){return f.currentStyle?f.currentStyle[y]:document.defaultView.getComputedStyle(f,null).getPropertyValue(y)},X.retinaScale=function(f,y){var b=f.currentDevicePixelRatio=y||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==b){var k=f.canvas,I=f.height,C=f.width;k.height=I*b,k.width=C*b,f.ctx.scale(b,b),!k.style.height&&!k.style.width&&(k.style.height=I+"px",k.style.width=C+"px")}},X.fontString=function(f,y,b){return y+" "+f+"px "+b},X.longestText=function(f,y,b,k){var I=(k=k||{}).data=k.data||{},C=k.garbageCollect=k.garbageCollect||[];k.font!==y&&(I=k.data={},C=k.garbageCollect=[],k.font=y),f.font=y;var U,ie,ce,he,ve,F=0,N=b.length;for(U=0;U<N;U++)if(null!=(he=b[U])&&!0!==X.isArray(he))F=X.measureText(f,I,C,F,he);else if(X.isArray(he))for(ie=0,ce=he.length;ie<ce;ie++)null!=(ve=he[ie])&&!X.isArray(ve)&&(F=X.measureText(f,I,C,F,ve));var ge=C.length/2;if(ge>b.length){for(U=0;U<ge;U++)delete I[C[U]];C.splice(0,ge)}return F},X.measureText=function(f,y,b,k,I){var C=y[I];return C||(C=y[I]=f.measureText(I).width,b.push(I)),C>k&&(k=C),k},X.numberOfLabelLines=function(f){var y=1;return X.each(f,function(b){X.isArray(b)&&b.length>y&&(y=b.length)}),y},X.color=ls?function(f){return f instanceof CanvasGradient&&(f=Zt.global.defaultColor),ls(f)}:function(f){return console.error("Color.js not found!"),f},X.getHoverColor=function(f){return f instanceof CanvasPattern||f instanceof CanvasGradient?f:X.color(f).saturate(.5).darken(.1).rgbString()}}(),gi._adapters=Go,gi.Animation=_n,gi.animationService=Vi,gi.controllers=ha,gi.DatasetController=bn,gi.defaults=Zt,gi.Element=pt,gi.elements=Xn,gi.Interaction=qs,gi.layouts=xr,gi.platform=gs,gi.plugins=Ji,gi.Scale=Jn,gi.scaleService=Ks,gi.Ticks=La,gi.Tooltip=eo,gi.helpers.each(Bt,function(r,o){gi.scaleService.registerScaleType(o,r,r._defaults)}),P)P.hasOwnProperty(q)&&gi.plugins.register(P[q]);gi.platform.initialize();var re=gi;return"undefined"!=typeof window&&(window.Chart=gi),gi.Chart=gi,gi.Legend=P.legend._element,gi.Title=P.title._element,gi.pluginService=gi.plugins,gi.PluginBase=gi.Element.extend({}),gi.canvasHelpers=gi.helpers.canvas,gi.layoutService=gi.layouts,gi.LinearScaleBase=Bs,gi.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(r){gi[r]=function(o,h){return new gi(o,gi.helpers.merge(h||{},{type:r.charAt(0).toLowerCase()+r.slice(1)}))}}),re}(function(){try{return ae(5439)}catch(Y){}}())},2005:ze=>{"use strict";var Ye=Object.prototype.hasOwnProperty,ae="~";function te(){}function A(J,Q,oe){this.fn=J,this.context=Q,this.once=oe||!1}function Y(J,Q,oe,ye,Oe){if("function"!=typeof oe)throw new TypeError("The listener must be a function");var ht=new A(oe,ye||J,Oe),Te=ae?ae+Q:Q;return J._events[Te]?J._events[Te].fn?J._events[Te]=[J._events[Te],ht]:J._events[Te].push(ht):(J._events[Te]=ht,J._eventsCount++),J}function a(J,Q){0==--J._eventsCount?J._events=new te:delete J._events[Q]}function d(){this._events=new te,this._eventsCount=0}Object.create&&(te.prototype=Object.create(null),(new te).__proto__||(ae=!1)),d.prototype.eventNames=function(){var oe,ye,Q=[];if(0===this._eventsCount)return Q;for(ye in oe=this._events)Ye.call(oe,ye)&&Q.push(ae?ye.slice(1):ye);return Object.getOwnPropertySymbols?Q.concat(Object.getOwnPropertySymbols(oe)):Q},d.prototype.listeners=function(Q){var ye=this._events[ae?ae+Q:Q];if(!ye)return[];if(ye.fn)return[ye.fn];for(var Oe=0,ht=ye.length,Te=new Array(ht);Oe<ht;Oe++)Te[Oe]=ye[Oe].fn;return Te},d.prototype.listenerCount=function(Q){var ye=this._events[ae?ae+Q:Q];return ye?ye.fn?1:ye.length:0},d.prototype.emit=function(Q,oe,ye,Oe,ht,Te){var gt=ae?ae+Q:Q;if(!this._events[gt])return!1;var Me,Je,Mt=this._events[gt],qe=arguments.length;if(Mt.fn){switch(Mt.once&&this.removeListener(Q,Mt.fn,void 0,!0),qe){case 1:return Mt.fn.call(Mt.context),!0;case 2:return Mt.fn.call(Mt.context,oe),!0;case 3:return Mt.fn.call(Mt.context,oe,ye),!0;case 4:return Mt.fn.call(Mt.context,oe,ye,Oe),!0;case 5:return Mt.fn.call(Mt.context,oe,ye,Oe,ht),!0;case 6:return Mt.fn.call(Mt.context,oe,ye,Oe,ht,Te),!0}for(Je=1,Me=new Array(qe-1);Je<qe;Je++)Me[Je-1]=arguments[Je];Mt.fn.apply(Mt.context,Me)}else{var Ke,yt=Mt.length;for(Je=0;Je<yt;Je++)switch(Mt[Je].once&&this.removeListener(Q,Mt[Je].fn,void 0,!0),qe){case 1:Mt[Je].fn.call(Mt[Je].context);break;case 2:Mt[Je].fn.call(Mt[Je].context,oe);break;case 3:Mt[Je].fn.call(Mt[Je].context,oe,ye);break;case 4:Mt[Je].fn.call(Mt[Je].context,oe,ye,Oe);break;default:if(!Me)for(Ke=1,Me=new Array(qe-1);Ke<qe;Ke++)Me[Ke-1]=arguments[Ke];Mt[Je].fn.apply(Mt[Je].context,Me)}}return!0},d.prototype.on=function(Q,oe,ye){return Y(this,Q,oe,ye,!1)},d.prototype.once=function(Q,oe,ye){return Y(this,Q,oe,ye,!0)},d.prototype.removeListener=function(Q,oe,ye,Oe){var ht=ae?ae+Q:Q;if(!this._events[ht])return this;if(!oe)return a(this,ht),this;var Te=this._events[ht];if(Te.fn)Te.fn===oe&&(!Oe||Te.once)&&(!ye||Te.context===ye)&&a(this,ht);else{for(var gt=0,Mt=[],qe=Te.length;gt<qe;gt++)(Te[gt].fn!==oe||Oe&&!Te[gt].once||ye&&Te[gt].context!==ye)&&Mt.push(Te[gt]);Mt.length?this._events[ht]=1===Mt.length?Mt[0]:Mt:a(this,ht)}return this},d.prototype.removeAllListeners=function(Q){var oe;return Q?this._events[oe=ae?ae+Q:Q]&&a(this,oe):(this._events=new te,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=ae,d.EventEmitter=d,ze.exports=d},9069:ze=>{"use strict";var te,Ye="object"==typeof Reflect?Reflect:null,ae=Ye&&"function"==typeof Ye.apply?Ye.apply:function(Ve,ut,He){return Function.prototype.apply.call(Ve,ut,He)};te=Ye&&"function"==typeof Ye.ownKeys?Ye.ownKeys:Object.getOwnPropertySymbols?function(Ve){return Object.getOwnPropertyNames(Ve).concat(Object.getOwnPropertySymbols(Ve))}:function(Ve){return Object.getOwnPropertyNames(Ve)};var Y=Number.isNaN||function(Ve){return Ve!=Ve};function a(){a.init.call(this)}ze.exports=a,ze.exports.once=function Me(Ke,Ve){return new Promise(function(ut,He){function vt(Tt){Ke.removeListener(Ve,Rt),He(Tt)}function Rt(){"function"==typeof Ke.removeListener&&Ke.removeListener("error",vt),ut([].slice.call(arguments))}yt(Ke,Ve,Rt,{once:!0}),"error"!==Ve&&function Je(Ke,Ve,ut){"function"==typeof Ke.on&&yt(Ke,"error",Ve,ut)}(Ke,vt,{once:!0})})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var d=10;function J(Ke){if("function"!=typeof Ke)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Ke)}function Q(Ke){return void 0===Ke._maxListeners?a.defaultMaxListeners:Ke._maxListeners}function oe(Ke,Ve,ut,He){var vt,Rt,Tt;if(J(ut),void 0===(Rt=Ke._events)?(Rt=Ke._events=Object.create(null),Ke._eventsCount=0):(void 0!==Rt.newListener&&(Ke.emit("newListener",Ve,ut.listener?ut.listener:ut),Rt=Ke._events),Tt=Rt[Ve]),void 0===Tt)Tt=Rt[Ve]=ut,++Ke._eventsCount;else if("function"==typeof Tt?Tt=Rt[Ve]=He?[ut,Tt]:[Tt,ut]:He?Tt.unshift(ut):Tt.push(ut),(vt=Q(Ke))>0&&Tt.length>vt&&!Tt.warned){Tt.warned=!0;var Gt=new Error("Possible EventEmitter memory leak detected. "+Tt.length+" "+String(Ve)+" listeners added. Use emitter.setMaxListeners() to increase limit");Gt.name="MaxListenersExceededWarning",Gt.emitter=Ke,Gt.type=Ve,Gt.count=Tt.length,function A(Ke){console&&console.warn&&console.warn(Ke)}(Gt)}return Ke}function ye(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Oe(Ke,Ve,ut){var He={fired:!1,wrapFn:void 0,target:Ke,type:Ve,listener:ut},vt=ye.bind(He);return vt.listener=ut,He.wrapFn=vt,vt}function ht(Ke,Ve,ut){var He=Ke._events;if(void 0===He)return[];var vt=He[Ve];return void 0===vt?[]:"function"==typeof vt?ut?[vt.listener||vt]:[vt]:ut?function qe(Ke){for(var Ve=new Array(Ke.length),ut=0;ut<Ve.length;++ut)Ve[ut]=Ke[ut].listener||Ke[ut];return Ve}(vt):gt(vt,vt.length)}function Te(Ke){var Ve=this._events;if(void 0!==Ve){var ut=Ve[Ke];if("function"==typeof ut)return 1;if(void 0!==ut)return ut.length}return 0}function gt(Ke,Ve){for(var ut=new Array(Ve),He=0;He<Ve;++He)ut[He]=Ke[He];return ut}function yt(Ke,Ve,ut,He){if("function"==typeof Ke.on)He.once?Ke.once(Ve,ut):Ke.on(Ve,ut);else{if("function"!=typeof Ke.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Ke);Ke.addEventListener(Ve,function vt(Rt){He.once&&Ke.removeEventListener(Ve,vt),ut(Rt)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return d},set:function(Ke){if("number"!=typeof Ke||Ke<0||Y(Ke))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Ke+".");d=Ke}}),a.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(Ve){if("number"!=typeof Ve||Ve<0||Y(Ve))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Ve+".");return this._maxListeners=Ve,this},a.prototype.getMaxListeners=function(){return Q(this)},a.prototype.emit=function(Ve){for(var ut=[],He=1;He<arguments.length;He++)ut.push(arguments[He]);var vt="error"===Ve,Rt=this._events;if(void 0!==Rt)vt=vt&&void 0===Rt.error;else if(!vt)return!1;if(vt){var Tt;if(ut.length>0&&(Tt=ut[0]),Tt instanceof Error)throw Tt;var Gt=new Error("Unhandled error."+(Tt?" ("+Tt.message+")":""));throw Gt.context=Tt,Gt}var sn=Rt[Ve];if(void 0===sn)return!1;if("function"==typeof sn)ae(sn,this,ut);else{var ki=sn.length,fi=gt(sn,ki);for(He=0;He<ki;++He)ae(fi[He],this,ut)}return!0},a.prototype.on=a.prototype.addListener=function(Ve,ut){return oe(this,Ve,ut,!1)},a.prototype.prependListener=function(Ve,ut){return oe(this,Ve,ut,!0)},a.prototype.once=function(Ve,ut){return J(ut),this.on(Ve,Oe(this,Ve,ut)),this},a.prototype.prependOnceListener=function(Ve,ut){return J(ut),this.prependListener(Ve,Oe(this,Ve,ut)),this},a.prototype.off=a.prototype.removeListener=function(Ve,ut){var He,vt,Rt,Tt,Gt;if(J(ut),void 0===(vt=this._events))return this;if(void 0===(He=vt[Ve]))return this;if(He===ut||He.listener===ut)0==--this._eventsCount?this._events=Object.create(null):(delete vt[Ve],vt.removeListener&&this.emit("removeListener",Ve,He.listener||ut));else if("function"!=typeof He){for(Rt=-1,Tt=He.length-1;Tt>=0;Tt--)if(He[Tt]===ut||He[Tt].listener===ut){Gt=He[Tt].listener,Rt=Tt;break}if(Rt<0)return this;0===Rt?He.shift():function Mt(Ke,Ve){for(;Ve+1<Ke.length;Ve++)Ke[Ve]=Ke[Ve+1];Ke.pop()}(He,Rt),1===He.length&&(vt[Ve]=He[0]),void 0!==vt.removeListener&&this.emit("removeListener",Ve,Gt||ut)}return this},a.prototype.removeAllListeners=function(Ve){var ut,He,vt;if(void 0===(He=this._events))return this;if(void 0===He.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==He[Ve]&&(0==--this._eventsCount?this._events=Object.create(null):delete He[Ve]),this;if(0===arguments.length){var Tt,Rt=Object.keys(He);for(vt=0;vt<Rt.length;++vt)"removeListener"!==(Tt=Rt[vt])&&this.removeAllListeners(Tt);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(ut=He[Ve]))this.removeListener(Ve,ut);else if(void 0!==ut)for(vt=ut.length-1;vt>=0;vt--)this.removeListener(Ve,ut[vt]);return this},a.prototype.listeners=function(Ve){return ht(this,Ve,!0)},a.prototype.rawListeners=function(Ve){return ht(this,Ve,!1)},a.listenerCount=function(Ke,Ve){return"function"==typeof Ke.listenerCount?Ke.listenerCount(Ve):Te.call(Ke,Ve)},a.prototype.listenerCount=Te,a.prototype.eventNames=function(){return this._eventsCount>0?te(this._events):[]}},5780:ze=>{var ae;ze.exports=ae={},ae.simpleFilter=function(te,A){return A.filter(function(Y){return ae.test(te,Y)})},ae.test=function(te,A){return null!==ae.match(te,A)},ae.match=function(te,A,Y){var Te,a=0,d=[],J=A.length,Q=0,oe=0,ye=(Y=Y||{}).pre||"",Oe=Y.post||"",ht=Y.caseSensitive&&A||A.toLowerCase();te=Y.caseSensitive&&te||te.toLowerCase();for(var gt=0;gt<J;gt++)Te=A[gt],ht[gt]===te[a]?(Te=ye+Te+Oe,a+=1,oe+=1+oe):oe=0,Q+=oe,d[d.length]=Te;return a===te.length?(Q=ht===te?1/0:Q,{rendered:d.join(""),score:Q}):null},ae.filter=function(te,A,Y){return A&&0!==A.length?"string"!=typeof te?A:(Y=Y||{},A.reduce(function(a,d,J,Q){var oe=d;Y.extract&&(oe=Y.extract(d));var ye=ae.match(te,oe,Y);return null!=ye&&(a[a.length]={string:ye.rendered,score:ye.score,index:J,original:d}),a},[]).sort(function(a,d){return d.score-a.score||a.index-d.index})):[]}},7494:ze=>{"use strict";var Ye=Object.prototype.toString;ze.exports=function(ae){var te;return"[object Object]"===Ye.call(ae)&&(null===(te=Object.getPrototypeOf(ae))||te===Object.getPrototypeOf({}))}},3082:ze=>{var A=/^\s+|\s+$/g,Y=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,d=/^0o[0-7]+$/i,J=parseInt,Q="object"==typeof global&&global&&global.Object===Object&&global,oe="object"==typeof self&&self&&self.Object===Object&&self,ye=Q||oe||Function("return this")(),ht=Object.prototype.toString,Te=Math.max,gt=Math.min,Mt=function(){return ye.Date.now()};function Me(Ve){var ut=typeof Ve;return!!Ve&&("object"==ut||"function"==ut)}function Ke(Ve){if("number"==typeof Ve)return Ve;if(function yt(Ve){return"symbol"==typeof Ve||function Je(Ve){return!!Ve&&"object"==typeof Ve}(Ve)&&"[object Symbol]"==ht.call(Ve)}(Ve))return NaN;if(Me(Ve)){var ut="function"==typeof Ve.valueOf?Ve.valueOf():Ve;Ve=Me(ut)?ut+"":ut}if("string"!=typeof Ve)return 0===Ve?Ve:+Ve;Ve=Ve.replace(A,"");var He=a.test(Ve);return He||d.test(Ve)?J(Ve.slice(2),He?2:8):Y.test(Ve)?NaN:+Ve}ze.exports=function qe(Ve,ut,He){var vt,Rt,Tt,Gt,sn,ki,fi=0,vr=!1,ti=!1,Dn=!0;if("function"!=typeof Ve)throw new TypeError("Expected a function");function pn(en){var Mn=vt,ri=Rt;return vt=Rt=void 0,fi=en,Gt=Ve.apply(ri,Mn)}function wn(en){return fi=en,sn=setTimeout(Ni,ut),vr?pn(en):Gt}function cn(en){var Mn=en-ki;return void 0===ki||Mn>=ut||Mn<0||ti&&en-fi>=Tt}function Ni(){var en=Mt();if(cn(en))return dr(en);sn=setTimeout(Ni,function En(en){var Jr=ut-(en-ki);return ti?gt(Jr,Tt-(en-fi)):Jr}(en))}function dr(en){return sn=void 0,Dn&&vt?pn(en):(vt=Rt=void 0,Gt)}function Sr(){var en=Mt(),Mn=cn(en);if(vt=arguments,Rt=this,ki=en,Mn){if(void 0===sn)return wn(ki);if(ti)return sn=setTimeout(Ni,ut),pn(ki)}return void 0===sn&&(sn=setTimeout(Ni,ut)),Gt}return ut=Ke(ut)||0,Me(He)&&(vr=!!He.leading,Tt=(ti="maxWait"in He)?Te(Ke(He.maxWait)||0,ut):Tt,Dn="trailing"in He?!!He.trailing:Dn),Sr.cancel=function yn(){void 0!==sn&&clearTimeout(sn),fi=0,vt=ki=Rt=sn=void 0},Sr.flush=function Ut(){return void 0===sn?Gt:dr(Mt())},Sr}},9898:function(ze){ze.exports=function(){"use strict";var Ye,ae,te;function A(a,d){if(Ye)if(ae){var J="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+Ye+")(sharedChunk); ("+ae+")(sharedChunk); self.onerror = null;",Q={};Ye(Q),te=d(Q),"undefined"!=typeof window&&window&&window.URL&&window.URL.createObjectURL&&(te.workerUrl=window.URL.createObjectURL(new Blob([J],{type:"text/javascript"})))}else ae=d;else Ye=d}return A(0,function(a){var d="undefined"!=typeof self?self:{},J="2.15.0";let Q;const oe={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==Q){const t=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{Q=null!=process.env.API_URL_REGEX?new RegExp(process.env.API_URL_REGEX):t}catch(e){Q=t}}return Q},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!oe.API_URL)return null;try{const t=new URL(oe.API_URL);return"api.mapbox.cn"===t.hostname?"https://events.mapbox.cn/events/v2":"api.mapbox.com"===t.hostname?"https://events.mapbox.com/events/v2":null}catch(t){return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ye={supported:!1,testSupport:function(t){!Te&&ht&&(gt?Mt(t):Oe=t)}};let Oe,ht,Te=!1,gt=!1;function Mt(t){const e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,ht),t.isContextLost())return;ye.supported=!0}catch(i){}t.deleteTexture(e),Te=!0}d.document&&(ht=d.document.createElement("img"),ht.onload=function(){Oe&&Mt(Oe),Oe=null,gt=!0},ht.onerror=function(){Te=!0,Oe=null},ht.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const qe="01";function Me(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Je=yt;function yt(t,e,i,s){this.cx=3*t,this.bx=3*(i-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(s-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=e,this.p2x=i,this.p2y=s}yt.prototype={sampleCurveX:function(t){return((this.ax*t+this.bx)*t+this.cx)*t},sampleCurveY:function(t){return((this.ay*t+this.by)*t+this.cy)*t},sampleCurveDerivativeX:function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},solveCurveX:function(t,e){if(void 0===e&&(e=1e-6),t<0)return 0;if(t>1)return 1;for(var i=t,s=0;s<8;s++){var c=this.sampleCurveX(i)-t;if(Math.abs(c)<e)return i;var _=this.sampleCurveDerivativeX(i);if(Math.abs(_)<1e-6)break;i-=c/_}var g=0,x=1;for(i=t,s=0;s<20&&(c=this.sampleCurveX(i),!(Math.abs(c-t)<e));s++)t>c?g=i:x=i,i=.5*(x-g)+g;return i},solve:function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}};var Ke=Me(Je),Ve=ut;function ut(t,e){this.x=t,this.y=e}ut.prototype={clone:function(){return new ut(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,i=t.y-this.y;return e*e+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),i=Math.sin(t),s=i*this.x+e*this.y;return this.x=e*this.x-i*this.y,this.y=s,this},_rotateAround:function(t,e){var i=Math.cos(t),s=Math.sin(t),c=e.y+s*(this.x-e.x)+i*(this.y-e.y);return this.x=e.x+i*(this.x-e.x)-s*(this.y-e.y),this.y=c,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},ut.convert=function(t){return t instanceof ut?t:Array.isArray(t)?new ut(t[0],t[1]):t};var He=Me(Ve);const vt=Math.PI/180,Rt=180/Math.PI;function Tt(t){return t*vt}function Gt(t){return t*Rt}const sn=[[0,0],[1,0],[1,1],[0,1]];function ki(t){if(t<=0)return 0;if(t>=1)return 1;const e=t*t,i=e*t;return 4*(t<.5?i:3*(t-e)+i-.75)}function fi(t,e,i,s){const c=new Ke(t,e,i,s);return function(_){return c.solve(_)}}const vr=fi(.25,.1,.25,1);function ti(t,e,i){return Math.min(i,Math.max(e,t))}function Dn(t,e,i){return(i=ti((i-t)/(e-t),0,1))*i*(3-2*i)}function pn(t,e,i){const s=i-e,c=((t-e)%s+s)%s+e;return c===e?i:c}function wn(t,e,i){if(!t.length)return i(null,[]);let s=t.length;const c=new Array(t.length);let _=null;t.forEach((g,x)=>{e(g,(D,E)=>{D&&(_=D),c[x]=E,0==--s&&i(_,c)})})}function En(t){const e=[];for(const i in t)e.push(t[i]);return e}function cn(t,...e){for(const i of e)for(const s in i)t[s]=i[s];return t}let Ni=1;function dr(){return Ni++}function yn(){return function t(e){return e?(e^Math.random()*(16>>e/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function Ut(t){return t<=1?1:Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Sr(t){return!!t&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function en(t,e){t.forEach(i=>{e[i]&&(e[i]=e[i].bind(e))})}function Mn(t,e){return-1!==t.indexOf(e,t.length-e.length)}function ri(t,e,i){const s={};for(const c in t)s[c]=e.call(i||this,t[c],c,t);return s}function Jr(t,e,i){const s={};for(const c in t)e.call(i||this,t[c],c,t)&&(s[c]=t[c]);return s}function zr(t){return Array.isArray(t)?t.map(zr):"object"==typeof t&&t?ri(t,zr):t}const Cs={};function Ri(t){Cs[t]||("undefined"!=typeof console&&console.warn(t),Cs[t]=!0)}function er(t,e,i){return(i.y-t.y)*(e.x-t.x)>(e.y-t.y)*(i.x-t.x)}function go(t){let e=0;for(let i,s,c=0,_=t.length,g=_-1;c<_;g=c++)i=t[c],s=t[g],e+=(s.x-i.x)*(i.y+s.y);return e}function An(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function Ui(t){const e={};if(t.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(i,s,c,_)=>{const g=c||_;return e[s]=!g||g.toLowerCase(),""}),e["max-age"]){const i=parseInt(e["max-age"],10);isNaN(i)?delete e["max-age"]:e["max-age"]=i}return e}let ls=null;function Pn(t){if(null==ls){const e=t.navigator?t.navigator.userAgent:null;ls=!!t.safari||!(!e||!(/\b(iPad|iPhone|iPod)\b/.test(e)||e.match("Safari")&&!e.match("Chrome")))}return ls}function hi(t){try{const e=d[t];return e.setItem("_mapbox_test_",1),e.removeItem("_mapbox_test_"),!0}catch(e){return!1}}function Di(t,e){return[t[4*e],t[4*e+1],t[4*e+2],t[4*e+3]]}const In="mapbox-tiles";let Wi,Cr,Ci=500,fn=50;function Yi(){try{return d.caches}catch(t){}}function Ii(){Yi()&&!Wi&&(Wi=d.caches.open(In))}function ci(t){const e=t.indexOf("?");if(e<0)return t;const s=function(c){const _=c.indexOf("?");return _>0?c.slice(_+1).split("&"):[]}(t).filter(c=>{const _=c.split("=");return"language"===_[0]||"worldview"===_[0]});return s.length?`${t.slice(0,e)}?${s.join("&")}`:t.slice(0,e)}let rr=1/0;const On={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(On);class va extends Error{constructor(e,i,s){401===i&&We(s)&&(e+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(e),this.status=i,this.url=s}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const Zt=An()?()=>self.worker&&self.worker.referrer:()=>("blob:"===d.location.protocol?d.parent:d).location.href,oa=function(t,e){if(!(/^file:/.test(i=t.url)||/^file:/.test(Zt())&&!/^\w+:/.test(i))){if(d.fetch&&d.Request&&d.AbortController&&d.Request.prototype.hasOwnProperty("signal"))return function(s,c){const _=new d.AbortController,g=new d.Request(s.url,{method:s.method||"GET",body:s.body,credentials:s.credentials,headers:s.headers,referrer:Zt(),referrerPolicy:s.referrerPolicy,signal:_.signal});let x=!1,D=!1;const E=(B=g.url).indexOf("sku=")>0&&We(B);var B;"json"===s.type&&g.headers.set("Accept","application/json");const H=(ee,ne,le)=>{if(D)return;if(ee&&"SecurityError"!==ee.message&&Ri(ee.toString()),ne&&le)return G(ne);const me=Date.now();d.fetch(g).then(xe=>{if(xe.ok){const Se=E?xe.clone():null;return G(xe,Se,me)}return c(new va(xe.statusText,xe.status,s.url))}).catch(xe=>{"AbortError"!==xe.name&&c(new Error(`${xe.message} ${s.url}`))})},G=(ee,ne,le)=>{("arrayBuffer"===s.type?ee.arrayBuffer():"json"===s.type?ee.json():ee.text()).then(me=>{D||(ne&&le&&function(xe,Se,we){if(Ii(),!Wi)return;const Le={status:Se.status,statusText:Se.statusText,headers:new d.Headers};Se.headers.forEach((Qe,Xe)=>Le.headers.set(Xe,Qe));const Ie=Ui(Se.headers.get("Cache-Control")||"");if(Ie["no-store"])return;Ie["max-age"]&&Le.headers.set("Expires",new Date(we+1e3*Ie["max-age"]).toUTCString());const Ae=Le.headers.get("Expires");Ae&&(new Date(Ae).getTime()-we<42e4||function(Qe,Xe){if(void 0===Cr)try{new Response(new ReadableStream),Cr=!0}catch(dt){Cr=!1}Cr?Xe(Qe.body):Qe.blob().then(Xe)}(Se,Qe=>{const Xe=new d.Response(Qe,Le);Ii(),Wi&&Wi.then(dt=>dt.put(ci(xe.url),Xe)).catch(dt=>Ri(dt.message))}))}(g,ne,le),x=!0,c(null,me,ee.headers.get("Cache-Control"),ee.headers.get("Expires")))}).catch(me=>{D||c(new Error(me.message))})};return E?function(ee,ne){if(Ii(),!Wi)return ne(null);const le=ci(ee.url);Wi.then(me=>{me.match(le).then(xe=>{const Se=function(we){if(!we)return!1;const Le=new Date(we.headers.get("Expires")||0),Ie=Ui(we.headers.get("Cache-Control")||"");return Le>Date.now()&&!Ie["no-cache"]}(xe);me.delete(le),Se&&me.put(le,xe.clone()),ne(null,xe,Se)}).catch(ne)}).catch(ne)}(g,H):H(null,null),{cancel:()=>{D=!0,x||_.abort()}}}(t,e);if(An()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",t,e,void 0,!0)}var i;return function(s,c){const _=new d.XMLHttpRequest;_.open(s.method||"GET",s.url,!0),"arrayBuffer"===s.type&&(_.responseType="arraybuffer");for(const g in s.headers)_.setRequestHeader(g,s.headers[g]);return"json"===s.type&&(_.responseType="text",_.setRequestHeader("Accept","application/json")),_.withCredentials="include"===s.credentials,_.onerror=()=>{c(new Error(_.statusText))},_.onload=()=>{if((_.status>=200&&_.status<300||0===_.status)&&null!==_.response){let g=_.response;if("json"===s.type)try{g=JSON.parse(_.response)}catch(x){return c(x)}c(null,g,_.getResponseHeader("Cache-Control"),_.getResponseHeader("Expires"))}else c(new va(_.statusText,_.status,s.url))},_.send(s.body),{cancel:()=>_.abort()}}(t,e)},Fa=function(t,e){return oa(cn(t,{type:"arrayBuffer"}),e)};function Rn(t){const e=d.document.createElement("a");return e.href=t,e.protocol===d.document.location.protocol&&e.host===d.document.location.host}const ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let de,pe;de=[],pe=0;const be=function(t,e){if(ye.supported&&(t.headers||(t.headers={}),t.headers.accept="image/webp,*/*"),pe>=oe.MAX_PARALLEL_IMAGE_REQUESTS){const _={requestParameters:t,callback:e,cancelled:!1,cancel(){this.cancelled=!0}};return de.push(_),_}pe++;let i=!1;const s=()=>{if(!i)for(i=!0,pe--;de.length&&pe<oe.MAX_PARALLEL_IMAGE_REQUESTS;){const _=de.shift(),{requestParameters:g,callback:x,cancelled:D}=_;D||(_.cancel=be(g,x).cancel)}},c=Fa(t,(_,g,x,D)=>{s(),_?e(_):g&&(d.createImageBitmap?function(E,B){const H=new d.Blob([new Uint8Array(E)],{type:"image/png"});d.createImageBitmap(H).then(G=>{B(null,G)}).catch(G=>{B(new Error(`Could not load image because of ${G.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(g,(E,B)=>e(E,B,x,D)):function(E,B){const H=new d.Image,G=d.URL;H.onload=()=>{B(null,H),G.revokeObjectURL(H.src),H.onload=null,d.requestAnimationFrame(()=>{H.src=ke})},H.onerror=()=>B(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const ee=new d.Blob([new Uint8Array(E)],{type:"image/png"});H.src=E.byteLength?G.createObjectURL(ee):ke}(g,(E,B)=>e(E,B,x,D)))});return{cancel:()=>{c.cancel(),s()}}},Ee="NO_ACCESS_TOKEN";function Fe(t){return 0===t.indexOf("mapbox:")}function We(t){return oe.API_URL_REGEX.test(t)}function Ue(t){return oe.API_CDN_URL_REGEX.test(t)}function X(t){return oe.API_STYLE_REGEX.test(t)&&!$e(t)}function $e(t){return oe.API_SPRITE_REGEX.test(t)}const wt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function St(t){const e=t.match(wt);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function ft(t){const e=t.params.length?`?${t.params.join("&")}`:"";return`${t.protocol}://${t.authority}${t.path}${e}`}const si="mapbox.eventData";function ii(t){if(!t)return null;const e=t.split(".");if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(d.atob(e[1]).split("").map(i=>"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch(i){return null}}class Qt{constructor(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(e){const i=ii(oe.ACCESS_TOKEN);let s="";return s=i&&i.u?d.btoa(encodeURIComponent(i.u).replace(/%([0-9A-F]{2})/g,(c,_)=>String.fromCharCode(Number("0x"+_)))):oe.ACCESS_TOKEN||"",e?`${si}.${e}:${s}`:`${si}:${s}`}fetchEventData(){const e=hi("localStorage"),i=this.getStorageKey(),s=this.getStorageKey("uuid");if(e)try{const c=d.localStorage.getItem(i);c&&(this.eventData=JSON.parse(c));const _=d.localStorage.getItem(s);_&&(this.anonId=_)}catch(c){Ri("Unable to read from LocalStorage")}}saveEventData(){const e=hi("localStorage"),i=this.getStorageKey(),s=this.getStorageKey("uuid");if(e)try{d.localStorage.setItem(s,this.anonId),Object.keys(this.eventData).length>=1&&d.localStorage.setItem(i,JSON.stringify(this.eventData))}catch(c){Ri("Unable to write to LocalStorage")}}processRequests(e){}postEvent(e,i,s,c){if(!oe.EVENTS_URL)return;const _=St(oe.EVENTS_URL);_.params.push(`access_token=${c||oe.ACCESS_TOKEN||""}`);const g={event:this.type,created:new Date(e).toISOString()},x=i?cn(g,i):g,D={url:ft(_),headers:{"Content-Type":"text/plain"},body:JSON.stringify([x])};var B;this.pendingRequest=(B=E=>{this.pendingRequest=null,s(E),this.saveEventData(),this.processRequests(c)},oa(cn(D,{method:"POST"}),B))}queueRequest(e,i){this.queue.push(e),this.processRequests(i)}}const pt=new class extends Qt{constructor(t){super("appUserTurnstile"),this._customAccessToken=t}postTurnstileEvent(t,e){oe.EVENTS_URL&&oe.ACCESS_TOKEN&&Array.isArray(t)&&t.some(i=>Fe(i)||We(i))&&this.queueRequest(Date.now(),e)}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const e=ii(oe.ACCESS_TOKEN),i=e?e.u:oe.ACCESS_TOKEN;let s=i!==this.eventData.tokenU;Sr(this.anonId)||(this.anonId=yn(),s=!0);const c=this.queue.shift();if(this.eventData.lastSuccess){const _=new Date(this.eventData.lastSuccess),g=new Date(c),x=(c-this.eventData.lastSuccess)/864e5;s=s||x>=1||x<-1||_.getDate()!==g.getDate()}else s=!0;s?this.postEvent(c,{sdkIdentifier:"mapbox-gl-js",sdkVersion:J,skuId:qe,"enabled.telemetry":!1,userId:this.anonId},_=>{_||(this.eventData.lastSuccess=c,this.eventData.tokenU=i)},t):this.processRequests()}},_i=pt.postTurnstileEvent.bind(pt),_n=new class extends Qt{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(t,e,i,s){this.skuToken=e,this.errorCb=s,oe.EVENTS_URL&&(i||oe.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},i):this.errorCb(new Error(Ee)))}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:i}=this.queue.shift();e&&this.success[e]||(this.anonId||this.fetchEventData(),Sr(this.anonId)||(this.anonId=yn()),this.postEvent(i,{sdkIdentifier:"mapbox-gl-js",sdkVersion:J,skuId:qe,skuToken:this.skuToken,userId:this.anonId},s=>{s?this.errorCb(s):e&&(this.success[e]=!0)},t))}},Vi=_n.postMapLoadEvent.bind(_n),Ln=new class extends Qt{constructor(){super("gljs.performance")}postPerformanceEvent(t,e){oe.EVENTS_URL&&(t||oe.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:e},t)}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;const{timestamp:e,performanceData:i}=this.queue.shift(),s=function(c){const _=d.performance.getEntriesByType("resource"),g=d.performance.getEntriesByType("mark"),x=function(G){const ee={};if(G)for(const ne in G)if("other"!==ne)for(const le of G[ne]){const me=`${ne}ResolveRangeMin`,xe=`${ne}ResolveRangeMax`,Se=`${ne}RequestCount`,we=`${ne}RequestCachedCount`;ee[me]=Math.min(ee[me]||1/0,le.startTime),ee[xe]=Math.max(ee[xe]||-1/0,le.responseEnd);const Le=Ie=>{void 0===ee[Ie]&&(ee[Ie]=0),++ee[Ie]};void 0!==le.transferSize&&0===le.transferSize&&Le(we),Le(Se)}return ee}(function(G,ee){const ne={};if(G)for(const le of G){const me=ee(le);void 0===ne[me]&&(ne[me]=[]),ne[me].push(le)}return ne}(_,jn)),D=d.devicePixelRatio,E=d.navigator.connection||d.navigator.mozConnection||d.navigator.webkitConnection,B={counters:[],metadata:[],attributes:[]},H=(G,ee,ne)=>{null!=ne&&G.push({name:ee,value:ne.toString()})};for(const G in x)H(B.counters,G,x[G]);if(c.interactionRange[0]!==1/0&&c.interactionRange[1]!==-1/0&&(H(B.counters,"interactionRangeMin",c.interactionRange[0]),H(B.counters,"interactionRangeMax",c.interactionRange[1])),g)for(const G of Object.keys(bn)){const ee=bn[G],ne=g.find(le=>le.name===ee);ne&&H(B.counters,ee,ne.startTime)}return H(B.counters,"visibilityHidden",c.visibilityHidden),H(B.attributes,"style",function(G){if(G)for(const ee of G){const ne=ee.name.split("?")[0];if(X(ne)){const le=ne.split("/").slice(-2);if(2===le.length)return`mapbox://styles/${le[0]}/${le[1]}`}}}(_)),H(B.attributes,"terrainEnabled",c.terrainEnabled?"true":"false"),H(B.attributes,"fogEnabled",c.fogEnabled?"true":"false"),H(B.attributes,"projection",c.projection),H(B.attributes,"zoom",c.zoom),H(B.metadata,"devicePixelRatio",D),H(B.metadata,"connectionEffectiveType",E?E.effectiveType:void 0),H(B.metadata,"navigatorUserAgent",d.navigator.userAgent),H(B.metadata,"screenWidth",d.screen.width),H(B.metadata,"screenHeight",d.screen.height),H(B.metadata,"windowWidth",d.innerWidth),H(B.metadata,"windowHeight",d.innerHeight),H(B.metadata,"mapWidth",c.width/D),H(B.metadata,"mapHeight",c.height/D),H(B.metadata,"webglRenderer",c.renderer),H(B.metadata,"webglVendor",c.vendor),H(B.metadata,"sdkVersion",J),H(B.metadata,"sdkIdentifier","mapbox-gl-js"),B}(i);for(const c of s.metadata);for(const c of s.counters);for(const c of s.attributes);this.postEvent(e,s,()=>{},t)}},oi=Ln.postPerformanceEvent.bind(Ln),Li=new class extends Qt{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(t,e,i,s){if(!oe.API_URL||!oe.SESSION_PATH)return;const c=St(oe.API_URL+oe.SESSION_PATH);c.params.push(`sku=${e||""}`),c.params.push(`access_token=${s||oe.ACCESS_TOKEN||""}`);const _={url:ft(c),headers:{"Content-Type":"text/plain"}};var x;this.pendingRequest=(x=g=>{this.pendingRequest=null,i(g),this.saveEventData(),this.processRequests(s)},oa(cn(_,{method:"GET"}),x))}getSessionAPI(t,e,i,s){this.skuToken=e,this.errorCb=s,oe.SESSION_PATH&&oe.API_URL&&(i||oe.ACCESS_TOKEN?this.queueRequest({id:t,timestamp:Date.now()},i):this.errorCb(new Error(Ee)))}processRequests(t){if(this.pendingRequest||0===this.queue.length)return;const{id:e,timestamp:i}=this.queue.shift();e&&this.success[e]||this.getSession(i,this.skuToken,s=>{s?this.errorCb(s):e&&(this.success[e]=!0)},t)}},Zn=Li.getSessionAPI.bind(Li),$i=new Set,bn={create:"create",load:"load",fullLoad:"fullLoad"},qn={mark(t){d.performance.mark(t)},measure(t,e,i){d.performance.measure(t,e,i)}};function jn(t){const e=t.name.split("?")[0];return Ue(e)&&e.includes("mapbox-gl.js")?"javascript":Ue(e)&&e.includes("mapbox-gl.css")?"css":oe.API_FONTS_REGEX.test(e)?"fontRange":$e(e)?"sprite":X(e)?"style":oe.API_TILEJSON_REGEX.test(e)?"tilejson":"other"}const pi=d.performance;function Fr(t){const e=t?t.url.toString():void 0;return pi.getEntriesByName(e)}let br,yo,cs,dn;const on={now:()=>void 0!==cs?cs:d.performance.now(),setNow(t){cs=t},restoreNow(){cs=void 0},frame(t){const e=d.requestAnimationFrame(t);return{cancel:()=>d.cancelAnimationFrame(e)}},getImageData(t,e=0){const{width:i,height:s}=t;dn||(dn=d.document.createElement("canvas"));const c=dn.getContext("2d",{willReadFrequently:!0});if(!c)throw new Error("failed to create canvas 2d context");return(i>dn.width||s>dn.height)&&(dn.width=i,dn.height=s),c.clearRect(-e,-e,i+2*e,s+2*e),c.drawImage(t,0,0,i,s),c.getImageData(-e,-e,i+2*e,s+2*e)},resolveURL:t=>(br||(br=d.document.createElement("a")),br.href=t,br.href),get devicePixelRatio(){return d.devicePixelRatio},get prefersReducedMotion(){return!!d.matchMedia&&(null==yo&&(yo=d.matchMedia("(prefers-reduced-motion: reduce)")),yo.matches)}};function Es(t,e,i){i[t]&&-1!==i[t].indexOf(e)||(i[t]=i[t]||[],i[t].push(e))}function zo(t,e,i){if(i&&i[t]){const s=i[t].indexOf(e);-1!==s&&i[t].splice(s,1)}}class Ba{constructor(e,i={}){cn(this,i),this.type=e}}class ba extends Ba{constructor(e,i={}){super("error",cn({error:e},i))}}class Ws{on(e,i){return this._listeners=this._listeners||{},Es(e,i,this._listeners),this}off(e,i){return zo(e,i,this._listeners),zo(e,i,this._oneTimeListeners),this}once(e,i){return i?(this._oneTimeListeners=this._oneTimeListeners||{},Es(e,i,this._oneTimeListeners),this):new Promise(s=>this.once(e,s))}fire(e,i){"string"==typeof e&&(e=new Ba(e,i||{}));const s=e.type;if(this.listens(s)){e.target=this;const c=this._listeners&&this._listeners[s]?this._listeners[s].slice():[];for(const x of c)x.call(this,e);const _=this._oneTimeListeners&&this._oneTimeListeners[s]?this._oneTimeListeners[s].slice():[];for(const x of _)zo(s,x,this._oneTimeListeners),x.call(this,e);const g=this._eventedParent;g&&(cn(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),g.fire(e))}else e instanceof ba&&console.error(e.error);return this}listens(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}setEventedParent(e,i){return this._eventedParent=e,this._eventedParentData=i,this}}var nt=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]},"fill-extrusion-rounded-roof":{"type":"boolean","default":true,"requires":["fill-extrusion-edge-radius"],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function la(t,...e){for(const i of e)for(const s in i)t[s]=i[s];return t}function Yn(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function $n(t){if(Array.isArray(t))return t.map($n);if(t instanceof Object&&!(t instanceof Number||t instanceof String||t instanceof Boolean)){const e={};for(const i in t)e[i]=$n(t[i]);return e}return Yn(t)}class Tl extends Error{constructor(e,i){super(i),this.message=i,this.key=e}}var ca=Tl;class us{constructor(e,i=[]){this.parent=e,this.bindings={};for(const[s,c]of i)this.bindings[s]=c}concat(e){return new us(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}var kl=us;const Xn={kind:"null"},Pt={kind:"number"},mi={kind:"string"},li={kind:"boolean"},Er={kind:"color"},hr={kind:"object"},ei={kind:"value"},ar={kind:"collator"},Br={kind:"formatted"},ja={kind:"resolvedImage"};function sr(t,e){return{kind:"array",itemType:t,N:e}}function Si(t){if("array"===t.kind){const e=Si(t.itemType);return"number"==typeof t.N?`array<${e}, ${t.N}>`:"value"===t.itemType.kind?"array":`array<${e}>`}return t.kind}const ll=[Xn,Pt,mi,li,Er,Br,hr,sr(ei),ja];function xa(t,e){if("error"===e.kind)return null;if("array"===t.kind){if("array"===e.kind&&(0===e.N&&"value"===e.itemType.kind||!xa(t.itemType,e.itemType))&&("number"!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if("value"===t.kind)for(const i of ll)if(!xa(i,e))return null}return`Expected ${Si(t)} but found ${Si(e)} instead.`}function ds(t,e){return e.some(i=>i.kind===t.kind)}function ua(t,e){return e.some(i=>"null"===i?null===t:"array"===i?Array.isArray(t):"object"===i?t&&!Array.isArray(t)&&"object"==typeof t:i===typeof t)}var da,Va={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Gs(t){return(t=Math.round(t))<0?0:t>255?255:t}function Kr(t){return Gs("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function Ar(t){return(e="%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))<0?0:e>1?1:e;var e}function As(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}try{da={}.parseCSSColor=function(t){var e,i=t.replace(/ /g,"").toLowerCase();if(i in Va)return Va[i].slice();if("#"===i[0])return 4===i.length?(e=parseInt(i.substr(1),16))>=0&&e<=4095?[(3840&e)>>4|(3840&e)>>8,240&e|(240&e)>>4,15&e|(15&e)<<4,1]:null:7===i.length&&(e=parseInt(i.substr(1),16))>=0&&e<=16777215?[(16711680&e)>>16,(65280&e)>>8,255&e,1]:null;var s=i.indexOf("("),c=i.indexOf(")");if(-1!==s&&c+1===i.length){var _=i.substr(0,s),g=i.substr(s+1,c-(s+1)).split(","),x=1;switch(_){case"rgba":if(4!==g.length)return null;x=Ar(g.pop());case"rgb":return 3!==g.length?null:[Kr(g[0]),Kr(g[1]),Kr(g[2]),x];case"hsla":if(4!==g.length)return null;x=Ar(g.pop());case"hsl":if(3!==g.length)return null;var D=(parseFloat(g[0])%360+360)%360/360,E=Ar(g[1]),B=Ar(g[2]),H=B<=.5?B*(E+1):B+E-B*E,G=2*B-H;return[Gs(255*As(G,H,D+1/3)),Gs(255*As(G,H,D)),Gs(255*As(G,H,D-1/3)),x];default:return null}}return null}}catch(t){}class tr{constructor(e,i,s,c=1){this.r=e,this.g=i,this.b=s,this.a=c}static parse(e){if(!e)return;if(e instanceof tr)return e;if("string"!=typeof e)return;const i=da(e);return i?new tr(i[0]/255*i[3],i[1]/255*i[3],i[2]/255*i[3],i[3]):void 0}toString(){const[e,i,s,c]=this.toArray();return`rgba(${Math.round(e)},${Math.round(i)},${Math.round(s)},${c})`}toArray(){const{r:e,g:i,b:s,a:c}=this;return 0===c?[0,0,0,0]:[255*e/c,255*i/c,255*s/c,c]}toArray01(){const{r:e,g:i,b:s,a:c}=this;return 0===c?[0,0,0,0]:[e/c,i/c,s/c,c]}toArray01PremultipliedAlpha(){const{r:e,g:i,b:s,a:c}=this;return[e,i,s,c]}}tr.black=new tr(0,0,0,1),tr.white=new tr(1,1,1,1),tr.transparent=new tr(0,0,0,0),tr.red=new tr(1,0,0,1),tr.blue=new tr(0,0,1,1);var mn=tr;class cl{constructor(e,i,s){this.sensitivity=e?i?"variant":"case":i?"accent":"base",this.locale=s,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,i){return this.collator.compare(e,i)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class ul{constructor(e,i,s,c,_){this.text=e.normalize?e.normalize():e,this.image=i,this.scale=s,this.fontStack=c,this.textColor=_}}class pr{constructor(e){this.sections=e}static fromString(e){return new pr([new ul(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof pr?e:pr.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const i of this.sections){if(i.image){e.push(["image",i.image.name]);continue}e.push(i.text);const s={};i.fontStack&&(s["text-font"]=["literal",i.fontStack.split(",")]),i.scale&&(s["font-scale"]=i.scale),i.textColor&&(s["text-color"]=["rgba"].concat(i.textColor.toArray())),e.push(s)}return e}}class jr{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new jr({name:e,available:!1}):null}serialize(){return["image",this.name]}}function Dl(t,e,i,s){return"number"==typeof t&&t>=0&&t<=255&&"number"==typeof e&&e>=0&&e<=255&&"number"==typeof i&&i>=0&&i<=255?void 0===s||"number"==typeof s&&s>=0&&s<=1?null:`Invalid rgba value [${[t,e,i,s].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof s?[t,e,i,s]:[t,e,i]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function vo(t){if(null===t||"string"==typeof t||"boolean"==typeof t||"number"==typeof t||t instanceof mn||t instanceof cl||t instanceof pr||t instanceof jr)return!0;if(Array.isArray(t)){for(const e of t)if(!vo(e))return!1;return!0}if("object"==typeof t){for(const e in t)if(!vo(t[e]))return!1;return!0}return!1}function Gi(t){if(null===t)return Xn;if("string"==typeof t)return mi;if("boolean"==typeof t)return li;if("number"==typeof t)return Pt;if(t instanceof mn)return Er;if(t instanceof cl)return ar;if(t instanceof pr)return Br;if(t instanceof jr)return ja;if(Array.isArray(t)){const e=t.length;let i;for(const s of t){const c=Gi(s);if(i){if(i===c)continue;i=ei;break}i=c}return sr(i||ei,e)}return hr}function bo(t){const e=typeof t;return null===t?"":"string"===e||"number"===e||"boolean"===e?String(t):t instanceof mn||t instanceof pr||t instanceof jr?t.toString():JSON.stringify(t)}class dl{constructor(e,i){this.type=e,this.value=i}static parse(e,i){if(2!==e.length)return i.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!vo(e[1]))return i.error("invalid value");const s=e[1];let c=Gi(s);const _=i.expectedType;return"array"!==c.kind||0!==c.N||!_||"array"!==_.kind||"number"==typeof _.N&&0!==_.N||(c=_),new dl(c,s)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof mn?["rgba"].concat(this.value.toArray()):this.value instanceof pr?this.value.serialize():this.value}}var ha=dl,Sn=class{constructor(t){this.name="ExpressionEvaluationError",this.message=t}toJSON(){return this.message}};const Pr={string:mi,number:Pt,boolean:li,object:hr};class Zs{constructor(e,i){this.type=e,this.args=i}static parse(e,i){if(e.length<2)return i.error("Expected at least one argument.");let s,c=1;const _=e[0];if("array"===_){let x,D;if(e.length>2){const E=e[1];if("string"!=typeof E||!(E in Pr)||"object"===E)return i.error('The item type argument of "array" must be one of string, number, boolean',1);x=Pr[E],c++}else x=ei;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return i.error('The length argument to "array" must be a positive integer literal',2);D=e[2],c++}s=sr(x,D)}else s=Pr[_];const g=[];for(;c<e.length;c++){const x=i.parse(e[c],c,ei);if(!x)return null;g.push(x)}return new Zs(s,g)}evaluate(e){for(let i=0;i<this.args.length;i++){const s=this.args[i].evaluate(e);if(!xa(this.type,Gi(s)))return s;if(i===this.args.length-1)throw new Sn(`Expected value to be of type ${Si(this.type)}, but found ${Si(Gi(s))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,i=[e.kind];if("array"===e.kind){const s=e.itemType;if("string"===s.kind||"number"===s.kind||"boolean"===s.kind){i.push(s.kind);const c=e.N;("number"==typeof c||this.args.length>1)&&i.push(c)}}return i.concat(this.args.map(s=>s.serialize()))}}var Vr=Zs;class fr{constructor(e){this.type=Br,this.sections=e}static parse(e,i){if(e.length<2)return i.error("Expected at least one argument.");const s=e[1];if(!Array.isArray(s)&&"object"==typeof s)return i.error("First argument must be an image or text section.");const c=[];let _=!1;for(let g=1;g<=e.length-1;++g){const x=e[g];if(_&&"object"==typeof x&&!Array.isArray(x)){_=!1;let D=null;if(x["font-scale"]&&(D=i.parse(x["font-scale"],1,Pt),!D))return null;let E=null;if(x["text-font"]&&(E=i.parse(x["text-font"],1,sr(mi)),!E))return null;let B=null;if(x["text-color"]&&(B=i.parse(x["text-color"],1,Er),!B))return null;const H=c[c.length-1];H.scale=D,H.font=E,H.textColor=B}else{const D=i.parse(e[g],1,ei);if(!D)return null;const E=D.type.kind;if("string"!==E&&"value"!==E&&"null"!==E&&"resolvedImage"!==E)return i.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");_=!0,c.push({content:D,scale:null,font:null,textColor:null})}}return new fr(c)}evaluate(e){return new pr(this.sections.map(i=>{const s=i.content.evaluate(e);return Gi(s)===ja?new ul("",s,null,null,null):new ul(bo(s),null,i.scale?i.scale.evaluate(e):null,i.font?i.font.evaluate(e).join(","):null,i.textColor?i.textColor.evaluate(e):null)}))}eachChild(e){for(const i of this.sections)e(i.content),i.scale&&e(i.scale),i.font&&e(i.font),i.textColor&&e(i.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const i of this.sections){e.push(i.content.serialize());const s={};i.scale&&(s["font-scale"]=i.scale.serialize()),i.font&&(s["text-font"]=i.font.serialize()),i.textColor&&(s["text-color"]=i.textColor.serialize()),e.push(s)}return e}}class Ha{constructor(e){this.type=ja,this.input=e}static parse(e,i){if(2!==e.length)return i.error("Expected two arguments.");const s=i.parse(e[1],1,mi);return s?new Ha(s):i.error("No image name provided.")}evaluate(e){const i=this.input.evaluate(e),s=jr.fromString(i);return s&&e.availableImages&&(s.available=e.availableImages.indexOf(i)>-1),s}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const qs={"to-boolean":li,"to-color":Er,"to-number":Pt,"to-string":mi};class $s{constructor(e,i){this.type=e,this.args=i}static parse(e,i){if(e.length<2)return i.error("Expected at least one argument.");const s=e[0];if(("to-boolean"===s||"to-string"===s)&&2!==e.length)return i.error("Expected one argument.");const c=qs[s],_=[];for(let g=1;g<e.length;g++){const x=i.parse(e[g],g,ei);if(!x)return null;_.push(x)}return new $s(c,_)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let i,s;for(const c of this.args){if(i=c.evaluate(e),s=null,i instanceof mn)return i;if("string"==typeof i){const _=e.parseColor(i);if(_)return _}else if(Array.isArray(i)&&(s=i.length<3||i.length>4?`Invalid rbga value ${JSON.stringify(i)}: expected an array containing either three or four numeric values.`:Dl(i[0],i[1],i[2],i[3]),!s))return new mn(i[0]/255,i[1]/255,i[2]/255,i[3])}throw new Sn(s||`Could not parse color from value '${"string"==typeof i?i:String(JSON.stringify(i))}'`)}if("number"===this.type.kind){let i=null;for(const s of this.args){if(i=s.evaluate(e),null===i)return 0;const c=Number(i);if(!isNaN(c))return c}throw new Sn(`Could not convert ${JSON.stringify(i)} to number.`)}return"formatted"===this.type.kind?pr.fromString(bo(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?jr.fromString(bo(this.args[0].evaluate(e))):bo(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if("formatted"===this.type.kind)return new fr([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Ha(this.args[0]).serialize();const e=[`to-${this.type.kind}`];return this.eachChild(i=>{e.push(i.serialize())}),e}}var Hr=$s;const ir=["Unknown","Point","LineString","Polygon"];var hl=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?ir[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const t=this.featureDistanceData.center,e=this.featureDistanceData.scale,{x:i,y:s}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(i*e-t[0])+this.featureDistanceData.bearing[1]*(s*e-t[1])}return 0}parseColor(t){let e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=mn.parse(t)),e}};class Ps{constructor(e,i,s,c){this.name=e,this.type=i,this._evaluate=s,this.args=c}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,i){const s=e[0],c=Ps.definitions[s];if(!c)return i.error(`Unknown expression "${s}". If you wanted a literal array, use ["literal", [...]].`,0);const _=Array.isArray(c)?c[0]:c.type,g=Array.isArray(c)?[[c[1],c[2]]]:c.overloads,x=g.filter(([E])=>!Array.isArray(E)||E.length===e.length-1);let D=null;for(const[E,B]of x){D=new jo(i.registry,i.path,null,i.scope);const H=[];let G=!1;for(let ee=1;ee<e.length;ee++){const ne=e[ee],le=Array.isArray(E)?E[ee-1]:E.type,me=D.parse(ne,1+H.length,le);if(!me){G=!0;break}H.push(me)}if(!G)if(Array.isArray(E)&&E.length!==H.length)D.error(`Expected ${E.length} arguments, but found ${H.length} instead.`);else{for(let ee=0;ee<H.length;ee++){const ne=Array.isArray(E)?E[ee]:E.type,le=H[ee];D.concat(ee+1).checkSubtype(ne,le.type)}if(0===D.errors.length)return new Ps(s,_,B,H)}}if(1===x.length)i.errors.push(...D.errors);else{const E=(x.length?x:g).map(([H])=>{return G=H,Array.isArray(G)?`(${G.map(Si).join(", ")})`:`(${Si(G.type)}...)`;var G}).join(" | "),B=[];for(let H=1;H<e.length;H++){const G=i.parse(e[H],1+B.length);if(!G)return null;B.push(Si(G.type))}i.error(`Expected arguments of type ${E}, but found (${B.join(", ")}) instead.`)}return null}static register(e,i){Ps.definitions=i;for(const s in i)e[s]=Ps}}var Na=Ps;class Is{constructor(e,i,s){this.type=ar,this.locale=s,this.caseSensitive=e,this.diacriticSensitive=i}static parse(e,i){if(2!==e.length)return i.error("Expected one argument.");const s=e[1];if("object"!=typeof s||Array.isArray(s))return i.error("Collator options argument must be an object.");const c=i.parse(void 0!==s["case-sensitive"]&&s["case-sensitive"],1,li);if(!c)return null;const _=i.parse(void 0!==s["diacritic-sensitive"]&&s["diacritic-sensitive"],1,li);if(!_)return null;let g=null;return s.locale&&(g=i.parse(s.locale,1,mi),!g)?null:new Is(c,_,g)}evaluate(e){return new cl(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const Xi=8192;function Ua(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function wa(t,e){return!(t[0]<=e[0]||t[2]>=e[2]||t[1]<=e[1]||t[3]>=e[3])}function hs(t,e){const i=(180+t[0])/360,s=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,c=Math.pow(2,e.z);return[Math.round(i*c*Xi),Math.round(s*c*Xi)]}function Fo(t,e,i){const s=t[0]-e[0],c=t[1]-e[1],_=t[0]-i[0],g=t[1]-i[1];return s*g-_*c==0&&s*_<=0&&c*g<=0}function xr(t,e){let i=!1;for(let g=0,x=e.length;g<x;g++){const D=e[g];for(let E=0,B=D.length;E<B-1;E++){if(Fo(t,D[E],D[E+1]))return!1;(c=D[E])[1]>(s=t)[1]!=(_=D[E+1])[1]>s[1]&&s[0]<(_[0]-c[0])*(s[1]-c[1])/(_[1]-c[1])+c[0]&&(i=!i)}}var s,c,_;return i}function Xs(t,e){for(let i=0;i<e.length;i++)if(xr(t,e[i]))return!0;return!1}function Os(t,e,i,s){const c=s[0]-i[0],_=s[1]-i[1],g=(t[0]-i[0])*_-c*(t[1]-i[1]),x=(e[0]-i[0])*_-c*(e[1]-i[1]);return g>0&&x<0||g<0&&x>0}function Nr(t,e,i){for(const E of i)for(let B=0;B<E.length-1;++B)if((x=[(g=E[B+1])[0]-(_=E[B])[0],g[1]-_[1]])[0]*(D=[(c=e)[0]-(s=t)[0],c[1]-s[1]])[1]-x[1]*D[0]!=0&&Os(s,c,_,g)&&Os(_,g,s,c))return!0;var s,c,_,g,x,D;return!1}function zi(t,e){for(let i=0;i<t.length;++i)if(!xr(t[i],e))return!1;for(let i=0;i<t.length-1;++i)if(Nr(t[i],t[i+1],e))return!1;return!0}function wr(t,e){for(let i=0;i<e.length;i++)if(zi(t,e[i]))return!0;return!1}function Ir(t,e,i){const s=[];for(let c=0;c<t.length;c++){const _=[];for(let g=0;g<t[c].length;g++){const x=hs(t[c][g],i);Ua(e,x),_.push(x)}s.push(_)}return s}function Bo(t,e,i){const s=[];for(let c=0;c<t.length;c++){const _=Ir(t[c],e,i);s.push(_)}return s}function ps(t,e,i,s){if(t[0]<i[0]||t[0]>i[2]){const c=.5*s;let _=t[0]-i[0]>c?-s:i[0]-t[0]>c?s:0;0===_&&(_=t[0]-i[2]>c?-s:i[2]-t[0]>c?s:0),t[0]+=_}Ua(e,t)}function pl(t,e,i,s){const c=Math.pow(2,s.z)*Xi,_=[s.x*Xi,s.y*Xi],g=[];if(!t)return g;for(const x of t)for(const D of x){const E=[D.x+_[0],D.y+_[1]];ps(E,e,i,c),g.push(E)}return g}function xo(t,e,i,s){const c=Math.pow(2,s.z)*Xi,_=[s.x*Xi,s.y*Xi],g=[];if(!t)return g;for(const D of t){const E=[];for(const B of D){const H=[B.x+_[0],B.y+_[1]];Ua(e,H),E.push(H)}g.push(E)}if(e[2]-e[0]<=c/2){(x=e)[0]=x[1]=1/0,x[2]=x[3]=-1/0;for(const D of g)for(const E of D)ps(E,e,i,c)}var x;return g}class fs{constructor(e,i){this.type=li,this.geojson=e,this.geometries=i}static parse(e,i){if(2!==e.length)return i.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(vo(e[1])){const s=e[1];if("FeatureCollection"===s.type)for(let c=0;c<s.features.length;++c){const _=s.features[c].geometry.type;if("Polygon"===_||"MultiPolygon"===_)return new fs(s,s.features[c].geometry)}else if("Feature"===s.type){const c=s.geometry.type;if("Polygon"===c||"MultiPolygon"===c)return new fs(s,s.geometry)}else if("Polygon"===s.type||"MultiPolygon"===s.type)return new fs(s,s)}return i.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(i,s){const c=[1/0,1/0,-1/0,-1/0],_=[1/0,1/0,-1/0,-1/0],g=i.canonicalID();if(!g)return!1;if("Polygon"===s.type){const x=Ir(s.coordinates,_,g),D=pl(i.geometry(),c,_,g);if(!wa(c,_))return!1;for(const E of D)if(!xr(E,x))return!1}if("MultiPolygon"===s.type){const x=Bo(s.coordinates,_,g),D=pl(i.geometry(),c,_,g);if(!wa(c,_))return!1;for(const E of D)if(!Xs(E,x))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(i,s){const c=[1/0,1/0,-1/0,-1/0],_=[1/0,1/0,-1/0,-1/0],g=i.canonicalID();if(!g)return!1;if("Polygon"===s.type){const x=Ir(s.coordinates,_,g),D=xo(i.geometry(),c,_,g);if(!wa(c,_))return!1;for(const E of D)if(!zi(E,x))return!1}if("MultiPolygon"===s.type){const x=Bo(s.coordinates,_,g),D=xo(i.geometry(),c,_,g);if(!wa(c,_))return!1;for(const E of D)if(!wr(E,x))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var pa=fs;function _s(t){if(t instanceof Na&&("get"===t.name&&1===t.args.length||"feature-state"===t.name||"has"===t.name&&1===t.args.length||"properties"===t.name||"geometry-type"===t.name||"id"===t.name||/^filter-/.test(t.name))||t instanceof pa)return!1;let e=!0;return t.eachChild(i=>{e&&!_s(i)&&(e=!1)}),e}function Ma(t){if(t instanceof Na&&"feature-state"===t.name)return!1;let e=!0;return t.eachChild(i=>{e&&!Ma(i)&&(e=!1)}),e}function Wa(t,e){if(t instanceof Na&&e.indexOf(t.name)>=0)return!1;let i=!0;return t.eachChild(s=>{i&&!Wa(s,e)&&(i=!1)}),i}class Ga{constructor(e,i){this.type=i.type,this.name=e,this.boundExpression=i}static parse(e,i){if(2!==e.length||"string"!=typeof e[1])return i.error("'var' expression requires exactly one string literal argument.");const s=e[1];return i.scope.has(s)?new Ga(s,i.scope.get(s)):i.error(`Unknown variable "${s}". Make sure "${s}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var Js=Ga;class ms{constructor(e,i=[],s,c=new kl,_=[]){this.registry=e,this.path=i,this.key=i.map(g=>`[${g}]`).join(""),this.scope=c,this.errors=_,this.expectedType=s}parse(e,i,s,c,_={}){return i?this.concat(i,s,c)._parse(e,_):this._parse(e,_)}_parse(e,i){function s(c,_,g){return"assert"===g?new Vr(_,[c]):"coerce"===g?new Hr(_,[c]):c}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const c=e[0];if("string"!=typeof c)return this.error(`Expression name must be a string, but found ${typeof c} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const _=this.registry[c];if(_){let g=_.parse(e,this);if(!g)return null;if(this.expectedType){const x=this.expectedType,D=g.type;if("string"!==x.kind&&"number"!==x.kind&&"boolean"!==x.kind&&"object"!==x.kind&&"array"!==x.kind||"value"!==D.kind)if("color"!==x.kind&&"formatted"!==x.kind&&"resolvedImage"!==x.kind||"value"!==D.kind&&"string"!==D.kind){if(this.checkSubtype(x,D))return null}else g=s(g,x,i.typeAnnotation||"coerce");else g=s(g,x,i.typeAnnotation||"assert")}if(!(g instanceof ha)&&"resolvedImage"!==g.type.kind&&Vo(g)){const x=new hl;try{g=new ha(g.type,g.evaluate(x))}catch(D){return this.error(D.message),null}}return g}return this.error(`Unknown expression "${c}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,i,s){const c="number"==typeof e?this.path.concat(e):this.path,_=s?this.scope.concat(s):this.scope;return new ms(this.registry,c,i||null,_,this.errors)}error(e,...i){const s=`${this.key}${i.map(c=>`[${c}]`).join("")}`;this.errors.push(new ca(s,e))}checkSubtype(e,i){const s=xa(e,i);return s&&this.error(s),s}}var jo=ms;function Vo(t){if(t instanceof Js)return Vo(t.boundExpression);if(t instanceof Na&&"error"===t.name||t instanceof Is||t instanceof pa)return!1;const e=t instanceof Hr||t instanceof Vr;let i=!0;return t.eachChild(s=>{i=e?i&&Vo(s):i&&s instanceof ha}),!!i&&_s(t)&&Wa(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Zi(t,e){const i=t.length-1;let s,c,_=0,g=i,x=0;for(;_<=g;)if(x=Math.floor((_+g)/2),s=t[x],c=t[x+1],s<=e){if(x===i||e<c)return x;_=x+1}else{if(!(s>e))throw new Sn("Input is not a number.");g=x-1}return 0}class wo{constructor(e,i,s){this.type=e,this.input=i,this.labels=[],this.outputs=[];for(const[c,_]of s)this.labels.push(c),this.outputs.push(_)}static parse(e,i){if(e.length-1<4)return i.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return i.error("Expected an even number of arguments.");const s=i.parse(e[1],1,Pt);if(!s)return null;const c=[];let _=null;i.expectedType&&"value"!==i.expectedType.kind&&(_=i.expectedType);for(let g=1;g<e.length;g+=2){const x=1===g?-1/0:e[g],D=e[g+1],E=g,B=g+1;if("number"!=typeof x)return i.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',E);if(c.length&&c[c.length-1][0]>=x)return i.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',E);const H=i.parse(D,B,_);if(!H)return null;_=_||H.type,c.push([x,H])}return new wo(_,s,c)}evaluate(e){const i=this.labels,s=this.outputs;if(1===i.length)return s[0].evaluate(e);const c=this.input.evaluate(e);if(c<=i[0])return s[0].evaluate(e);const _=i.length;return c>=i[_-1]?s[_-1].evaluate(e):s[Zi(i,c)].evaluate(e)}eachChild(e){e(this.input);for(const i of this.outputs)e(i)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let i=0;i<this.labels.length;i++)i>0&&e.push(this.labels[i]),e.push(this.outputs[i].serialize());return e}}var Za=wo;function Oi(t,e,i){return t*(1-i)+e*i}var Qr=Object.freeze({__proto__:null,array:function(t,e,i){return t.map((s,c)=>Oi(s,e[c],i))},color:function(t,e,i){return new mn(Oi(t.r,e.r,i),Oi(t.g,e.g,i),Oi(t.b,e.b,i),Oi(t.a,e.a,i))},number:Oi});const Ho=4/29,ea=6/29,gs=3*ea*ea,Ks=Math.PI/180,qa=180/Math.PI;function Rs(t){return t>.008856451679035631?Math.pow(t,1/3):t/gs+Ho}function No(t){return t>ea?t*t*t:gs*(t-Ho)}function Or(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Fi(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Uo(t){const e=Fi(t.r),i=Fi(t.g),s=Fi(t.b),c=Rs((.4124564*e+.3575761*i+.1804375*s)/.95047),_=Rs((.2126729*e+.7151522*i+.072175*s)/1);return{l:116*_-16,a:500*(c-_),b:200*(_-Rs((.0193339*e+.119192*i+.9503041*s)/1.08883)),alpha:t.a}}function Mo(t){let e=(t.l+16)/116,i=isNaN(t.a)?e:e+t.a/500,s=isNaN(t.b)?e:e-t.b/200;return e=1*No(e),i=.95047*No(i),s=1.08883*No(s),new mn(Or(3.2404542*i-1.5371385*e-.4985314*s),Or(-.969266*i+1.8760108*e+.041556*s),Or(.0556434*i-.2040259*e+1.0572252*s),t.alpha)}function Ll(t,e,i){const s=e-t;return t+i*(s>180||s<-180?s-360*Math.round(s/360):s)}const Ys={forward:Uo,reverse:Mo,interpolate:function(t,e,i){return{l:Oi(t.l,e.l,i),a:Oi(t.a,e.a,i),b:Oi(t.b,e.b,i),alpha:Oi(t.alpha,e.alpha,i)}}},Qs={forward:function(t){const{l:e,a:i,b:s}=Uo(t),c=Math.atan2(s,i)*qa;return{h:c<0?c+360:c,c:Math.sqrt(i*i+s*s),l:e,alpha:t.a}},reverse:function(t){const e=t.h*Ks,i=t.c;return Mo({l:t.l,a:Math.cos(e)*i,b:Math.sin(e)*i,alpha:t.alpha})},interpolate:function(t,e,i){return{h:Ll(t.h,e.h,i),c:Oi(t.c,e.c,i),l:Oi(t.l,e.l,i),alpha:Oi(t.alpha,e.alpha,i)}}};var zs=Object.freeze({__proto__:null,hcl:Qs,lab:Ys});class Ur{constructor(e,i,s,c,_){this.type=e,this.operator=i,this.interpolation=s,this.input=c,this.labels=[],this.outputs=[];for(const[g,x]of _)this.labels.push(g),this.outputs.push(x)}static interpolationFactor(e,i,s,c){let _=0;if("exponential"===e.name)_=_l(i,e.base,s,c);else if("linear"===e.name)_=_l(i,1,s,c);else if("cubic-bezier"===e.name){const g=e.controlPoints;_=new Ke(g[0],g[1],g[2],g[3]).solve(_l(i,1,s,c))}return _}static parse(e,i){let[s,c,_,...g]=e;if(!Array.isArray(c)||0===c.length)return i.error("Expected an interpolation type expression.",1);if("linear"===c[0])c={name:"linear"};else if("exponential"===c[0]){const E=c[1];if("number"!=typeof E)return i.error("Exponential interpolation requires a numeric base.",1,1);c={name:"exponential",base:E}}else{if("cubic-bezier"!==c[0])return i.error(`Unknown interpolation type ${String(c[0])}`,1,0);{const E=c.slice(1);if(4!==E.length||E.some(B=>"number"!=typeof B||B<0||B>1))return i.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);c={name:"cubic-bezier",controlPoints:E}}}if(e.length-1<4)return i.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return i.error("Expected an even number of arguments.");if(_=i.parse(_,2,Pt),!_)return null;const x=[];let D=null;"interpolate-hcl"===s||"interpolate-lab"===s?D=Er:i.expectedType&&"value"!==i.expectedType.kind&&(D=i.expectedType);for(let E=0;E<g.length;E+=2){const B=g[E],H=g[E+1],G=E+3,ee=E+4;if("number"!=typeof B)return i.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',G);if(x.length&&x[x.length-1][0]>=B)return i.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',G);const ne=i.parse(H,ee,D);if(!ne)return null;D=D||ne.type,x.push([B,ne])}return"number"===D.kind||"color"===D.kind||"array"===D.kind&&"number"===D.itemType.kind&&"number"==typeof D.N?new Ur(D,s,c,_,x):i.error(`Type ${Si(D)} is not interpolatable.`)}evaluate(e){const i=this.labels,s=this.outputs;if(1===i.length)return s[0].evaluate(e);const c=this.input.evaluate(e);if(c<=i[0])return s[0].evaluate(e);const _=i.length;if(c>=i[_-1])return s[_-1].evaluate(e);const g=Zi(i,c),x=Ur.interpolationFactor(this.interpolation,c,i[g],i[g+1]),D=s[g].evaluate(e),E=s[g+1].evaluate(e);return"interpolate"===this.operator?Qr[this.type.kind.toLowerCase()](D,E,x):"interpolate-hcl"===this.operator?Qs.reverse(Qs.interpolate(Qs.forward(D),Qs.forward(E),x)):Ys.reverse(Ys.interpolate(Ys.forward(D),Ys.forward(E),x))}eachChild(e){e(this.input);for(const i of this.outputs)e(i)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const i=[this.operator,e,this.input.serialize()];for(let s=0;s<this.labels.length;s++)i.push(this.labels[s],this.outputs[s].serialize());return i}}function _l(t,e,i,s){const c=s-i,_=t-i;return 0===c?0:1===e?_/c:(Math.pow(e,_)-1)/(Math.pow(e,c)-1)}var ka=Ur;class eo{constructor(e,i){this.type=e,this.args=i}static parse(e,i){if(e.length<2)return i.error("Expectected at least one argument.");let s=null;const c=i.expectedType;c&&"value"!==c.kind&&(s=c);const _=[];for(const x of e.slice(1)){const D=i.parse(x,1+_.length,s,void 0,{typeAnnotation:"omit"});if(!D)return null;s=s||D.type,_.push(D)}const g=c&&_.some(x=>xa(c,x.type));return new eo(g?ei:s,_)}evaluate(e){let i,s=null,c=0;for(const _ of this.args){if(c++,s=_.evaluate(e),s&&s instanceof jr&&!s.available&&(i||(i=s),s=null,c===this.args.length))return i;if(null!==s)break}return s}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(i=>{e.push(i.serialize())}),e}}var ys=eo;class $a{constructor(e,i){this.type=i.type,this.bindings=[].concat(e),this.result=i}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const i of this.bindings)e(i[1]);e(this.result)}static parse(e,i){if(e.length<4)return i.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const s=[];for(let _=1;_<e.length-1;_+=2){const g=e[_];if("string"!=typeof g)return i.error(`Expected string, but found ${typeof g} instead.`,_);if(/[^a-zA-Z0-9_]/.test(g))return i.error("Variable names must contain only alphanumeric characters or '_'.",_);const x=i.parse(e[_+1],_+1);if(!x)return null;s.push([g,x])}const c=i.parse(e[e.length-1],e.length-1,i.expectedType,s);return c?new $a(s,c):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[i,s]of this.bindings)e.push(i,s.serialize());return e.push(this.result.serialize()),e}}var to=$a;class Wo{constructor(e,i,s){this.type=e,this.index=i,this.input=s}static parse(e,i){if(3!==e.length)return i.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const s=i.parse(e[1],1,Pt),c=i.parse(e[2],2,sr(i.expectedType||ei));return s&&c?new Wo(c.type.itemType,s,c):null}evaluate(e){const i=this.index.evaluate(e),s=this.input.evaluate(e);if(i<0)throw new Sn(`Array index out of bounds: ${i} < 0.`);if(i>=s.length)throw new Sn(`Array index out of bounds: ${i} > ${s.length-1}.`);if(i!==Math.floor(i))throw new Sn(`Array index must be an integer, but found ${i} instead.`);return s[i]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Sl=Wo;class io{constructor(e,i){this.type=li,this.needle=e,this.haystack=i}static parse(e,i){if(3!==e.length)return i.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const s=i.parse(e[1],1,ei),c=i.parse(e[2],2,ei);return s&&c?ds(s.type,[li,mi,Pt,Xn,ei])?new io(s,c):i.error(`Expected first argument to be of type boolean, string, number or null, but found ${Si(s.type)} instead`):null}evaluate(e){const i=this.needle.evaluate(e),s=this.haystack.evaluate(e);if(null==s)return!1;if(!ua(i,["boolean","string","number","null"]))throw new Sn(`Expected first argument to be of type boolean, string, number or null, but found ${Si(Gi(i))} instead.`);if(!ua(s,["string","array"]))throw new Sn(`Expected second argument to be of type array or string, but found ${Si(Gi(s))} instead.`);return s.indexOf(i)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var vs=io;class Xa{constructor(e,i,s){this.type=Pt,this.needle=e,this.haystack=i,this.fromIndex=s}static parse(e,i){if(e.length<=2||e.length>=5)return i.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const s=i.parse(e[1],1,ei),c=i.parse(e[2],2,ei);if(!s||!c)return null;if(!ds(s.type,[li,mi,Pt,Xn,ei]))return i.error(`Expected first argument to be of type boolean, string, number or null, but found ${Si(s.type)} instead`);if(4===e.length){const _=i.parse(e[3],3,Pt);return _?new Xa(s,c,_):null}return new Xa(s,c)}evaluate(e){const i=this.needle.evaluate(e),s=this.haystack.evaluate(e);if(!ua(i,["boolean","string","number","null"]))throw new Sn(`Expected first argument to be of type boolean, string, number or null, but found ${Si(Gi(i))} instead.`);if(!ua(s,["string","array"]))throw new Sn(`Expected second argument to be of type array or string, but found ${Si(Gi(s))} instead.`);if(this.fromIndex){const c=this.fromIndex.evaluate(e);return s.indexOf(i,c)}return s.indexOf(i)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var fa=Xa;class gi{constructor(e,i,s,c,_,g){this.inputType=e,this.type=i,this.input=s,this.cases=c,this.outputs=_,this.otherwise=g}static parse(e,i){if(e.length<5)return i.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return i.error("Expected an even number of arguments.");let s,c;i.expectedType&&"value"!==i.expectedType.kind&&(c=i.expectedType);const _={},g=[];for(let E=2;E<e.length-1;E+=2){let B=e[E];const H=e[E+1];Array.isArray(B)||(B=[B]);const G=i.concat(E);if(0===B.length)return G.error("Expected at least one branch label.");for(const ne of B){if("number"!=typeof ne&&"string"!=typeof ne)return G.error("Branch labels must be numbers or strings.");if("number"==typeof ne&&Math.abs(ne)>Number.MAX_SAFE_INTEGER)return G.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof ne&&Math.floor(ne)!==ne)return G.error("Numeric branch labels must be integer values.");if(s){if(G.checkSubtype(s,Gi(ne)))return null}else s=Gi(ne);if(void 0!==_[String(ne)])return G.error("Branch labels must be unique.");_[String(ne)]=g.length}const ee=i.parse(H,E,c);if(!ee)return null;c=c||ee.type,g.push(ee)}const x=i.parse(e[1],1,ei);if(!x)return null;const D=i.parse(e[e.length-1],e.length-1,c);return D?"value"!==x.type.kind&&i.concat(1).checkSubtype(s,x.type)?null:new gi(s,c,x,_,g,D):null}evaluate(e){const i=this.input.evaluate(e);return(Gi(i)===this.inputType&&this.outputs[this.cases[i]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],i=Object.keys(this.cases).sort(),s=[],c={};for(const g of i){const x=c[this.cases[g]];void 0===x?(c[this.cases[g]]=s.length,s.push([this.cases[g],[g]])):s[x][1].push(g)}const _=g=>"number"===this.inputType.kind?Number(g):g;for(const[g,x]of s)e.push(1===x.length?_(x[0]):x.map(_)),e.push(this.outputs[g].serialize());return e.push(this.otherwise.serialize()),e}}var ql=gi;class Da{constructor(e,i,s){this.type=e,this.branches=i,this.otherwise=s}static parse(e,i){if(e.length<4)return i.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return i.error("Expected an odd number of arguments.");let s;i.expectedType&&"value"!==i.expectedType.kind&&(s=i.expectedType);const c=[];for(let g=1;g<e.length-1;g+=2){const x=i.parse(e[g],g,li);if(!x)return null;const D=i.parse(e[g+1],g+1,s);if(!D)return null;c.push([x,D]),s=s||D.type}const _=i.parse(e[e.length-1],e.length-1,s);return _?new Da(s,c,_):null}evaluate(e){for(const[i,s]of this.branches)if(i.evaluate(e))return s.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[i,s]of this.branches)e(i),e(s);e(this.otherwise)}outputDefined(){return this.branches.every(([e,i])=>i.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(i=>{e.push(i.serialize())}),e}}var Fs=Da;class To{constructor(e,i,s,c){this.type=e,this.input=i,this.beginIndex=s,this.endIndex=c}static parse(e,i){if(e.length<=2||e.length>=5)return i.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const s=i.parse(e[1],1,ei),c=i.parse(e[2],2,Pt);if(!s||!c)return null;if(!ds(s.type,[sr(ei),mi,ei]))return i.error(`Expected first argument to be of type array or string, but found ${Si(s.type)} instead`);if(4===e.length){const _=i.parse(e[3],3,Pt);return _?new To(s.type,s,c,_):null}return new To(s.type,s,c)}evaluate(e){const i=this.input.evaluate(e),s=this.beginIndex.evaluate(e);if(!ua(i,["string","array"]))throw new Sn(`Expected first argument to be of type array or string, but found ${Si(Gi(i))} instead.`);if(this.endIndex){const c=this.endIndex.evaluate(e);return i.slice(s,c)}return i.slice(s)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var Go=To;function La(t,e){return"=="===t||"!="===t?"boolean"===e.kind||"string"===e.kind||"number"===e.kind||"null"===e.kind||"value"===e.kind:"string"===e.kind||"number"===e.kind||"value"===e.kind}function bs(t,e,i,s){return 0===s.compare(e,i)}function _a(t,e,i){const s="=="!==t&&"!="!==t;return class Fm{constructor(_,g,x){this.type=li,this.lhs=_,this.rhs=g,this.collator=x,this.hasUntypedArgument="value"===_.type.kind||"value"===g.type.kind}static parse(_,g){if(3!==_.length&&4!==_.length)return g.error("Expected two or three arguments.");const x=_[0];let D=g.parse(_[1],1,ei);if(!D)return null;if(!La(x,D.type))return g.concat(1).error(`"${x}" comparisons are not supported for type '${Si(D.type)}'.`);let E=g.parse(_[2],2,ei);if(!E)return null;if(!La(x,E.type))return g.concat(2).error(`"${x}" comparisons are not supported for type '${Si(E.type)}'.`);if(D.type.kind!==E.type.kind&&"value"!==D.type.kind&&"value"!==E.type.kind)return g.error(`Cannot compare types '${Si(D.type)}' and '${Si(E.type)}'.`);s&&("value"===D.type.kind&&"value"!==E.type.kind?D=new Vr(E.type,[D]):"value"!==D.type.kind&&"value"===E.type.kind&&(E=new Vr(D.type,[E])));let B=null;if(4===_.length){if("string"!==D.type.kind&&"string"!==E.type.kind&&"value"!==D.type.kind&&"value"!==E.type.kind)return g.error("Cannot use collator to compare non-string types.");if(B=g.parse(_[3],3,ar),!B)return null}return new Fm(D,E,B)}evaluate(_){const g=this.lhs.evaluate(_),x=this.rhs.evaluate(_);if(s&&this.hasUntypedArgument){const D=Gi(g),E=Gi(x);if(D.kind!==E.kind||"string"!==D.kind&&"number"!==D.kind)throw new Sn(`Expected arguments for "${t}" to be (string, string) or (number, number), but found (${D.kind}, ${E.kind}) instead.`)}if(this.collator&&!s&&this.hasUntypedArgument){const D=Gi(g),E=Gi(x);if("string"!==D.kind||"string"!==E.kind)return e(_,g,x)}return this.collator?i(_,g,x,this.collator.evaluate(_)):e(_,g,x)}eachChild(_){_(this.lhs),_(this.rhs),this.collator&&_(this.collator)}outputDefined(){return!0}serialize(){const _=[t];return this.eachChild(g=>{_.push(g.serialize())}),_}}}const xs=_a("==",function(t,e,i){return e===i},bs),ws=_a("!=",function(t,e,i){return e!==i},function(t,e,i,s){return!bs(0,e,i,s)}),$l=_a("<",function(t,e,i){return e<i},function(t,e,i,s){return s.compare(e,i)<0}),Cl=_a(">",function(t,e,i){return e>i},function(t,e,i,s){return s.compare(e,i)>0}),ta=_a("<=",function(t,e,i){return e<=i},function(t,e,i,s){return s.compare(e,i)<=0}),Ms=_a(">=",function(t,e,i){return e>=i},function(t,e,i,s){return s.compare(e,i)>=0});class Ja{constructor(e,i,s,c,_,g){this.type=mi,this.number=e,this.locale=i,this.currency=s,this.unit=c,this.minFractionDigits=_,this.maxFractionDigits=g}static parse(e,i){if(3!==e.length)return i.error("Expected two arguments.");const s=i.parse(e[1],1,Pt);if(!s)return null;const c=e[2];if("object"!=typeof c||Array.isArray(c))return i.error("NumberFormat options argument must be an object.");let _=null;if(c.locale&&(_=i.parse(c.locale,1,mi),!_))return null;let g=null;if(c.currency&&(g=i.parse(c.currency,1,mi),!g))return null;let x=null;if(c.unit&&(x=i.parse(c.unit,1,mi),!x))return null;let D=null;if(c["min-fraction-digits"]&&(D=i.parse(c["min-fraction-digits"],1,Pt),!D))return null;let E=null;return c["max-fraction-digits"]&&(E=i.parse(c["max-fraction-digits"],1,Pt),!E)?null:new Ja(s,_,g,x,D,E)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class Ts{constructor(e){this.type=Pt,this.input=e}static parse(e,i){if(2!==e.length)return i.error(`Expected 1 argument, but found ${e.length-1} instead.`);const s=i.parse(e[1],1);return s?"array"!==s.type.kind&&"string"!==s.type.kind&&"value"!==s.type.kind?i.error(`Expected argument of type string or array, but found ${Si(s.type)} instead.`):new Ts(s):null}evaluate(e){const i=this.input.evaluate(e);if("string"==typeof i||Array.isArray(i))return i.length;throw new Sn(`Expected value to be of type string or array, but found ${Si(Gi(i))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(i=>{e.push(i.serialize())}),e}}const Zo={"==":xs,"!=":ws,">":Cl,"<":$l,">=":Ms,"<=":ta,array:Vr,at:Sl,boolean:Vr,case:Fs,coalesce:ys,collator:Is,format:fr,image:Ha,in:vs,"index-of":fa,interpolate:ka,"interpolate-hcl":ka,"interpolate-lab":ka,length:Ts,let:to,literal:ha,match:ql,number:Vr,"number-format":Ja,object:Vr,slice:Go,step:Za,string:Vr,"to-boolean":Hr,"to-color":Hr,"to-number":Hr,"to-string":Hr,var:Js,within:pa};function ma(t,[e,i,s,c]){e=e.evaluate(t),i=i.evaluate(t),s=s.evaluate(t);const _=c?c.evaluate(t):1,g=Dl(e,i,s,_);if(g)throw new Sn(g);return new mn(e/255*_,i/255*_,s/255*_,_)}function ia(t,e){return t in e}function qo(t,e){const i=e[t];return void 0===i?null:i}function Mr(t){return{type:t}}Na.register(Zo,{error:[{kind:"error"},[mi],(t,[e])=>{throw new Sn(e.evaluate(t))}],typeof:[mi,[ei],(t,[e])=>Si(Gi(e.evaluate(t)))],"to-rgba":[sr(Pt,4),[Er],(t,[e])=>e.evaluate(t).toArray()],rgb:[Er,[Pt,Pt,Pt],ma],rgba:[Er,[Pt,Pt,Pt,Pt],ma],has:{type:li,overloads:[[[mi],(t,[e])=>ia(e.evaluate(t),t.properties())],[[mi,hr],(t,[e,i])=>ia(e.evaluate(t),i.evaluate(t))]]},get:{type:ei,overloads:[[[mi],(t,[e])=>qo(e.evaluate(t),t.properties())],[[mi,hr],(t,[e,i])=>qo(e.evaluate(t),i.evaluate(t))]]},"feature-state":[ei,[mi],(t,[e])=>qo(e.evaluate(t),t.featureState||{})],properties:[hr,[],t=>t.properties()],"geometry-type":[mi,[],t=>t.geometryType()],id:[ei,[],t=>t.id()],zoom:[Pt,[],t=>t.globals.zoom],pitch:[Pt,[],t=>t.globals.pitch||0],"distance-from-center":[Pt,[],t=>t.distanceFromCenter()],"heatmap-density":[Pt,[],t=>t.globals.heatmapDensity||0],"line-progress":[Pt,[],t=>t.globals.lineProgress||0],"sky-radial-progress":[Pt,[],t=>t.globals.skyRadialProgress||0],accumulated:[ei,[],t=>void 0===t.globals.accumulated?null:t.globals.accumulated],"+":[Pt,Mr(Pt),(t,e)=>{let i=0;for(const s of e)i+=s.evaluate(t);return i}],"*":[Pt,Mr(Pt),(t,e)=>{let i=1;for(const s of e)i*=s.evaluate(t);return i}],"-":{type:Pt,overloads:[[[Pt,Pt],(t,[e,i])=>e.evaluate(t)-i.evaluate(t)],[[Pt],(t,[e])=>-e.evaluate(t)]]},"/":[Pt,[Pt,Pt],(t,[e,i])=>e.evaluate(t)/i.evaluate(t)],"%":[Pt,[Pt,Pt],(t,[e,i])=>e.evaluate(t)%i.evaluate(t)],ln2:[Pt,[],()=>Math.LN2],pi:[Pt,[],()=>Math.PI],e:[Pt,[],()=>Math.E],"^":[Pt,[Pt,Pt],(t,[e,i])=>Math.pow(e.evaluate(t),i.evaluate(t))],sqrt:[Pt,[Pt],(t,[e])=>Math.sqrt(e.evaluate(t))],log10:[Pt,[Pt],(t,[e])=>Math.log(e.evaluate(t))/Math.LN10],ln:[Pt,[Pt],(t,[e])=>Math.log(e.evaluate(t))],log2:[Pt,[Pt],(t,[e])=>Math.log(e.evaluate(t))/Math.LN2],sin:[Pt,[Pt],(t,[e])=>Math.sin(e.evaluate(t))],cos:[Pt,[Pt],(t,[e])=>Math.cos(e.evaluate(t))],tan:[Pt,[Pt],(t,[e])=>Math.tan(e.evaluate(t))],asin:[Pt,[Pt],(t,[e])=>Math.asin(e.evaluate(t))],acos:[Pt,[Pt],(t,[e])=>Math.acos(e.evaluate(t))],atan:[Pt,[Pt],(t,[e])=>Math.atan(e.evaluate(t))],min:[Pt,Mr(Pt),(t,e)=>Math.min(...e.map(i=>i.evaluate(t)))],max:[Pt,Mr(Pt),(t,e)=>Math.max(...e.map(i=>i.evaluate(t)))],abs:[Pt,[Pt],(t,[e])=>Math.abs(e.evaluate(t))],round:[Pt,[Pt],(t,[e])=>{const i=e.evaluate(t);return i<0?-Math.round(-i):Math.round(i)}],floor:[Pt,[Pt],(t,[e])=>Math.floor(e.evaluate(t))],ceil:[Pt,[Pt],(t,[e])=>Math.ceil(e.evaluate(t))],"filter-==":[li,[mi,ei],(t,[e,i])=>t.properties()[e.value]===i.value],"filter-id-==":[li,[ei],(t,[e])=>t.id()===e.value],"filter-type-==":[li,[mi],(t,[e])=>t.geometryType()===e.value],"filter-<":[li,[mi,ei],(t,[e,i])=>{const s=t.properties()[e.value],c=i.value;return typeof s==typeof c&&s<c}],"filter-id-<":[li,[ei],(t,[e])=>{const i=t.id(),s=e.value;return typeof i==typeof s&&i<s}],"filter->":[li,[mi,ei],(t,[e,i])=>{const s=t.properties()[e.value],c=i.value;return typeof s==typeof c&&s>c}],"filter-id->":[li,[ei],(t,[e])=>{const i=t.id(),s=e.value;return typeof i==typeof s&&i>s}],"filter-<=":[li,[mi,ei],(t,[e,i])=>{const s=t.properties()[e.value],c=i.value;return typeof s==typeof c&&s<=c}],"filter-id-<=":[li,[ei],(t,[e])=>{const i=t.id(),s=e.value;return typeof i==typeof s&&i<=s}],"filter->=":[li,[mi,ei],(t,[e,i])=>{const s=t.properties()[e.value],c=i.value;return typeof s==typeof c&&s>=c}],"filter-id->=":[li,[ei],(t,[e])=>{const i=t.id(),s=e.value;return typeof i==typeof s&&i>=s}],"filter-has":[li,[ei],(t,[e])=>e.value in t.properties()],"filter-has-id":[li,[],t=>null!==t.id()&&void 0!==t.id()],"filter-type-in":[li,[sr(mi)],(t,[e])=>e.value.indexOf(t.geometryType())>=0],"filter-id-in":[li,[sr(ei)],(t,[e])=>e.value.indexOf(t.id())>=0],"filter-in-small":[li,[mi,sr(ei)],(t,[e,i])=>i.value.indexOf(t.properties()[e.value])>=0],"filter-in-large":[li,[mi,sr(ei)],(t,[e,i])=>function(s,c,_,g){for(;_<=g;){const x=_+g>>1;if(c[x]===s)return!0;c[x]>s?g=x-1:_=x+1}return!1}(t.properties()[e.value],i.value,0,i.value.length-1)],all:{type:li,overloads:[[[li,li],(t,[e,i])=>e.evaluate(t)&&i.evaluate(t)],[Mr(li),(t,e)=>{for(const i of e)if(!i.evaluate(t))return!1;return!0}]]},any:{type:li,overloads:[[[li,li],(t,[e,i])=>e.evaluate(t)||i.evaluate(t)],[Mr(li),(t,e)=>{for(const i of e)if(i.evaluate(t))return!0;return!1}]]},"!":[li,[li],(t,[e])=>!e.evaluate(t)],"is-supported-script":[li,[mi],(t,[e])=>{const i=t.globals&&t.globals.isSupportedScript;return!i||i(e.evaluate(t))}],upcase:[mi,[mi],(t,[e])=>e.evaluate(t).toUpperCase()],downcase:[mi,[mi],(t,[e])=>e.evaluate(t).toLowerCase()],concat:[mi,Mr(ei),(t,e)=>e.map(i=>bo(i.evaluate(t))).join("")],"resolved-locale":[mi,[ar],(t,[e])=>e.evaluate(t).resolvedLocale()]});var ko=Zo;function El(t){return{result:"success",value:t}}function ga(t){return{result:"error",value:t}}function Ka(t){return"data-driven"===t["property-type"]}function Jn(t){return!!t.expression&&t.expression.parameters.indexOf("zoom")>-1}function no(t){return!!t.expression&&t.expression.interpolated}function Bi(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}function Tr(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)}function ro(t){return t}function Tn(t,e){const i="color"===e.type,s=t.stops&&"object"==typeof t.stops[0][0],c=s||!(s||void 0!==t.property),_=t.type||(no(e)?"exponential":"interval");if(i&&((t=la({},t)).stops&&(t.stops=t.stops.map(E=>[E[0],mn.parse(E[1])])),t.default=mn.parse(t.default?t.default:e.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!zs[t.colorSpace])throw new Error(`Unknown color space: ${t.colorSpace}`);let g,x,D;if("exponential"===_)g=Sa;else if("interval"===_)g=Bs;else if("categorical"===_){g=Al,x=Object.create(null);for(const E of t.stops)x[E[0]]=E[1];D=typeof t.stops[0][0]}else{if("identity"!==_)throw new Error(`Unknown function type "${_}"`);g=Do}if(s){const E={},B=[];for(let ee=0;ee<t.stops.length;ee++){const ne=t.stops[ee],le=ne[0].zoom;void 0===E[le]&&(E[le]={zoom:le,type:t.type,property:t.property,default:t.default,stops:[]},B.push(le)),E[le].stops.push([ne[0].value,ne[1]])}const H=[];for(const ee of B)H.push([E[ee].zoom,Tn(E[ee],e)]);const G={name:"linear"};return{kind:"composite",interpolationType:G,interpolationFactor:ka.interpolationFactor.bind(void 0,G),zoomStops:H.map(ee=>ee[0]),evaluate:({zoom:ee},ne)=>Sa({stops:H,base:t.base},e,ee).evaluate(ee,ne)}}if(c){const E="exponential"===_?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:E,interpolationFactor:ka.interpolationFactor.bind(void 0,E),zoomStops:t.stops.map(B=>B[0]),evaluate:({zoom:B})=>g(t,e,B,x,D)}}return{kind:"source",evaluate(E,B){const H=B&&B.properties?B.properties[t.property]:void 0;return void 0===H?Wr(t.default,e.default):g(t,e,H,x,D)}}}function Wr(t,e,i){return void 0!==t?t:void 0!==e?e:void 0!==i?i:void 0}function Al(t,e,i,s,c){return Wr(typeof i===c?s[i]:void 0,t.default,e.default)}function Bs(t,e,i){if("number"!==Bi(i))return Wr(t.default,e.default);const s=t.stops.length;if(1===s||i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[s-1][0])return t.stops[s-1][1];const c=Zi(t.stops.map(_=>_[0]),i);return t.stops[c][1]}function Sa(t,e,i){const s=void 0!==t.base?t.base:1;if("number"!==Bi(i))return Wr(t.default,e.default);const c=t.stops.length;if(1===c||i<=t.stops[0][0])return t.stops[0][1];if(i>=t.stops[c-1][0])return t.stops[c-1][1];const _=Zi(t.stops.map(B=>B[0]),i),g=function(B,H,G,ee){const ne=ee-G,le=B-G;return 0===ne?0:1===H?le/ne:(Math.pow(H,le)-1)/(Math.pow(H,ne)-1)}(i,s,t.stops[_][0],t.stops[_+1][0]),x=t.stops[_][1],D=t.stops[_+1][1];let E=Qr[e.type]||ro;if(t.colorSpace&&"rgb"!==t.colorSpace){const B=zs[t.colorSpace];E=(H,G)=>B.reverse(B.interpolate(B.forward(H),B.forward(G),g))}return"function"==typeof x.evaluate?{evaluate(...B){const H=x.evaluate.apply(void 0,B),G=D.evaluate.apply(void 0,B);if(void 0!==H&&void 0!==G)return E(H,G,g)}}:E(x,D,g)}function Do(t,e,i){return"color"===e.type?i=mn.parse(i):"formatted"===e.type?i=pr.fromString(i.toString()):"resolvedImage"===e.type?i=jr.fromString(i.toString()):Bi(i)===e.type||"enum"===e.type&&e.values[i]||(i=void 0),Wr(i,t.default,e.default)}class $o{constructor(e,i){var s;this.expression=e,this._warningHistory={},this._evaluator=new hl,this._defaultValue=i?"color"===(s=i).type&&(Tr(s.default)||Array.isArray(s.default))?new mn(0,0,0,0):"color"===s.type?mn.parse(s.default)||null:void 0===s.default?null:s.default:null,this._enumValues=i&&"enum"===i.type?i.values:null}evaluateWithoutErrorHandling(e,i,s,c,_,g,x,D){return this._evaluator.globals=e,this._evaluator.feature=i,this._evaluator.featureState=s,this._evaluator.canonical=c||null,this._evaluator.availableImages=_||null,this._evaluator.formattedSection=g,this._evaluator.featureTileCoord=x||null,this._evaluator.featureDistanceData=D||null,this.expression.evaluate(this._evaluator)}evaluate(e,i,s,c,_,g,x,D){this._evaluator.globals=e,this._evaluator.feature=i||null,this._evaluator.featureState=s||null,this._evaluator.canonical=c||null,this._evaluator.availableImages=_||null,this._evaluator.formattedSection=g||null,this._evaluator.featureTileCoord=x||null,this._evaluator.featureDistanceData=D||null;try{const E=this.expression.evaluate(this._evaluator);if(null==E||"number"==typeof E&&E!=E)return this._defaultValue;if(this._enumValues&&!(E in this._enumValues))throw new Sn(`Expected value to be one of ${Object.keys(this._enumValues).map(B=>JSON.stringify(B)).join(", ")}, but found ${JSON.stringify(E)} instead.`);return E}catch(E){return this._warningHistory[E.message]||(this._warningHistory[E.message]=!0,"undefined"!=typeof console&&console.warn(E.message)),this._defaultValue}}}function ao(t){return Array.isArray(t)&&t.length>0&&"string"==typeof t[0]&&t[0]in ko}function Ca(t,e){const i=new jo(ko,[],e?function(c){const _={color:Er,string:mi,number:Pt,enum:mi,boolean:li,formatted:Br,resolvedImage:ja};return"array"===c.type?sr(_[c.value]||ei,c.length):_[c.type]}(e):void 0),s=i.parse(t,void 0,void 0,void 0,e&&"string"===e.type?{typeAnnotation:"coerce"}:void 0);return s?El(new $o(s,e)):ga(i.errors)}class j{constructor(e,i){this.kind=e,this._styleExpression=i,this.isStateDependent="constant"!==e&&!Ma(i.expression)}evaluateWithoutErrorHandling(e,i,s,c,_,g){return this._styleExpression.evaluateWithoutErrorHandling(e,i,s,c,_,g)}evaluate(e,i,s,c,_,g){return this._styleExpression.evaluate(e,i,s,c,_,g)}}class W{constructor(e,i,s,c){this.kind=e,this.zoomStops=s,this._styleExpression=i,this.isStateDependent="camera"!==e&&!Ma(i.expression),this.interpolationType=c}evaluateWithoutErrorHandling(e,i,s,c,_,g){return this._styleExpression.evaluateWithoutErrorHandling(e,i,s,c,_,g)}evaluate(e,i,s,c,_,g){return this._styleExpression.evaluate(e,i,s,c,_,g)}interpolationFactor(e,i,s){return this.interpolationType?ka.interpolationFactor(this.interpolationType,e,i,s):0}}function ue(t,e){if("error"===(t=Ca(t,e)).result)return t;const i=t.value.expression,s=_s(i);if(!s&&!Ka(e))return ga([new ca("","data expressions not supported")]);const c=Wa(i,["zoom","pitch","distance-from-center"]);if(!c&&!Jn(e))return ga([new ca("","zoom expressions not supported")]);const _=rt(i);return _||c?_ instanceof ca?ga([_]):_ instanceof ka&&!no(e)?ga([new ca("",'"interpolate" expressions cannot be used with this property')]):El(_?new W(s?"camera":"composite",t.value,_.labels,_ instanceof ka?_.interpolation:void 0):new j(s?"constant":"source",t.value)):ga([new ca("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class De{constructor(e,i){this._parameters=e,this._specification=i,la(this,Tn(this._parameters,this._specification))}static deserialize(e){return new De(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function rt(t){let e=null;if(t instanceof to)e=rt(t.result);else if(t instanceof ys){for(const i of t.args)if(e=rt(i),e)break}else(t instanceof Za||t instanceof ka)&&t.input instanceof Na&&"zoom"===t.input.name&&(e=t);return e instanceof ca||t.eachChild(i=>{const s=rt(i);s instanceof ca?e=s:!e&&s?e=new ca("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&s&&e!==s&&(e=new ca("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}class at{constructor(e,i,s,c){this.message=(e?`${e}: `:"")+s,c&&(this.identifier=c),null!=i&&i.__line__&&(this.line=i.__line__)}}function yi(t){const e=t.key,i=t.value,s=t.valueSpec||{},c=t.objectElementValidators||{},_=t.style,g=t.styleSpec;let x=[];const D=Bi(i);if("object"!==D)return[new at(e,i,`object expected, ${D} found`)];for(const E in i){const B=E.split(".")[0];let H;c[B]?H=c[B]:s[B]?H=_r:c["*"]?H=c["*"]:s["*"]&&(H=_r),H?x=x.concat(H({key:(e&&`${e}.`)+E,value:i[E],valueSpec:s[B]||s["*"],style:_,styleSpec:g,object:i,objectKey:E},i)):x.push(new at(e,i[E],`unknown property "${E}"`))}for(const E in s)c[E]||s[E].required&&void 0===s[E].default&&void 0===i[E]&&x.push(new at(e,i,`missing required property "${E}"`));return x}function Ki(t){const e=t.value,i=t.valueSpec,s=t.style,c=t.styleSpec,_=t.key,g=t.arrayElementValidator||_r;if("array"!==Bi(e))return[new at(_,e,`array expected, ${Bi(e)} found`)];if(i.length&&e.length!==i.length)return[new at(_,e,`array length ${i.length} expected, length ${e.length} found`)];if(i["min-length"]&&e.length<i["min-length"])return[new at(_,e,`array length at least ${i["min-length"]} expected, length ${e.length} found`)];let x={type:i.value,values:i.values,minimum:i.minimum,maximum:i.maximum,function:void 0};c.$version<7&&(x.function=i.function),"object"===Bi(i.value)&&(x=i.value);let D=[];for(let E=0;E<e.length;E++)D=D.concat(g({array:e,arrayIndex:E,value:e[E],valueSpec:x,style:s,styleSpec:c,key:`${_}[${E}]`}));return D}function tn(t){const e=t.key,i=t.value,s=t.valueSpec;let c=Bi(i);if("number"===c&&i!=i&&(c="NaN"),"number"!==c)return[new at(e,i,`number expected, ${c} found`)];if("minimum"in s){let _=s.minimum;if("array"===Bi(s.minimum)&&(_=s.minimum[t.arrayIndex]),i<_)return[new at(e,i,`${i} is less than the minimum value ${_}`)]}if("maximum"in s){let _=s.maximum;if("array"===Bi(s.maximum)&&(_=s.maximum[t.arrayIndex]),i>_)return[new at(e,i,`${i} is greater than the maximum value ${_}`)]}return[]}function or(t){const e=t.valueSpec,i=Yn(t.value.type);let s,c,_,g={};const x="categorical"!==i&&void 0===t.value.property,D=!x,E="array"===Bi(t.value.stops)&&"array"===Bi(t.value.stops[0])&&"object"===Bi(t.value.stops[0][0]),B=yi({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(ee){if("identity"===i)return[new at(ee.key,ee.value,'identity function may not have a "stops" property')];let ne=[];const le=ee.value;return ne=ne.concat(Ki({key:ee.key,value:le,valueSpec:ee.valueSpec,style:ee.style,styleSpec:ee.styleSpec,arrayElementValidator:H})),"array"===Bi(le)&&0===le.length&&ne.push(new at(ee.key,le,"array must have at least one stop")),ne},default:function(ee){return _r({key:ee.key,value:ee.value,valueSpec:e,style:ee.style,styleSpec:ee.styleSpec})}}});return"identity"===i&&x&&B.push(new at(t.key,t.value,'missing required property "property"')),"identity"===i||t.value.stops||B.push(new at(t.key,t.value,'missing required property "stops"')),"exponential"===i&&t.valueSpec.expression&&!no(t.valueSpec)&&B.push(new at(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(D&&!Ka(t.valueSpec)?B.push(new at(t.key,t.value,"property functions not supported")):x&&!Jn(t.valueSpec)&&B.push(new at(t.key,t.value,"zoom functions not supported"))),"categorical"!==i&&!E||void 0!==t.value.property||B.push(new at(t.key,t.value,'"property" property is required')),B;function H(ee){let ne=[];const le=ee.value,me=ee.key;if("array"!==Bi(le))return[new at(me,le,`array expected, ${Bi(le)} found`)];if(2!==le.length)return[new at(me,le,`array length 2 expected, length ${le.length} found`)];if(E){if("object"!==Bi(le[0]))return[new at(me,le,`object expected, ${Bi(le[0])} found`)];if(void 0===le[0].zoom)return[new at(me,le,"object stop key must have zoom")];if(void 0===le[0].value)return[new at(me,le,"object stop key must have value")];const xe=Yn(le[0].zoom);if("number"!=typeof xe)return[new at(me,le[0].zoom,"stop zoom values must be numbers")];if(_&&_>xe)return[new at(me,le[0].zoom,"stop zoom values must appear in ascending order")];xe!==_&&(_=xe,c=void 0,g={}),ne=ne.concat(yi({key:`${me}[0]`,value:le[0],valueSpec:{zoom:{}},style:ee.style,styleSpec:ee.styleSpec,objectElementValidators:{zoom:tn,value:G}}))}else ne=ne.concat(G({key:`${me}[0]`,value:le[0],valueSpec:{},style:ee.style,styleSpec:ee.styleSpec},le));return ao($n(le[1]))?ne.concat([new at(`${me}[1]`,le[1],"expressions are not allowed in function stops.")]):ne.concat(_r({key:`${me}[1]`,value:le[1],valueSpec:e,style:ee.style,styleSpec:ee.styleSpec}))}function G(ee,ne){const le=Bi(ee.value),me=Yn(ee.value),xe=null!==ee.value?ee.value:ne;if(s){if(le!==s)return[new at(ee.key,xe,`${le} stop domain type must match previous stop domain type ${s}`)]}else s=le;if("number"!==le&&"string"!==le&&"boolean"!==le&&"number"!=typeof me&&"string"!=typeof me&&"boolean"!=typeof me)return[new at(ee.key,xe,"stop domain value must be a number, string, or boolean")];if("number"!==le&&"categorical"!==i){let Se=`number expected, ${le} found`;return Ka(e)&&void 0===i&&(Se+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new at(ee.key,xe,Se)]}return"categorical"!==i||"number"!==le||"number"==typeof me&&isFinite(me)&&Math.floor(me)===me?"categorical"!==i&&"number"===le&&"number"==typeof me&&"number"==typeof c&&void 0!==c&&me<c?[new at(ee.key,xe,"stop domain values must appear in ascending order")]:(c=me,"categorical"===i&&me in g?[new at(ee.key,xe,"stop domain values must be unique")]:(g[me]=!0,[])):[new at(ee.key,xe,`integer expected, found ${String(me)}`)]}}function vn(t){const e=("property"===t.expressionContext?ue:Ca)($n(t.value),t.valueSpec);if("error"===e.result)return e.value.map(s=>new at(`${t.key}${s.key}`,t.value,s.message));const i=e.value.expression||e.value._styleExpression.expression;if("property"===t.expressionContext&&"text-font"===t.propertyKey&&!i.outputDefined())return[new at(t.key,t.value,`Invalid data expression for "${t.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===t.expressionContext&&"layout"===t.propertyType&&!Ma(i))return[new at(t.key,t.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===t.expressionContext)return ks(i,t);if(t.expressionContext&&0===t.expressionContext.indexOf("cluster")){if(!Wa(i,["zoom","feature-state"]))return[new at(t.key,t.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===t.expressionContext&&!_s(i))return[new at(t.key,t.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ks(t,e){const i=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(e.valueSpec&&e.valueSpec.expression)for(const c of e.valueSpec.expression.parameters)i.delete(c);if(0===i.size)return[];const s=[];return t instanceof Na&&i.has(t.name)?[new at(e.key,e.value,`["${t.name}"] expression is not supported in a filter for a ${e.object.type} layer with id: ${e.object.id}`)]:(t.eachChild(c=>{s.push(...ks(c,e))}),s)}function Qa(t){const e=t.key,i=t.value,s=t.valueSpec,c=[];return Array.isArray(s.values)?-1===s.values.indexOf(Yn(i))&&c.push(new at(e,i,`expected one of [${s.values.join(", ")}], ${JSON.stringify(i)} found`)):-1===Object.keys(s.values).indexOf(Yn(i))&&c.push(new at(e,i,`expected one of [${Object.keys(s.values).join(", ")}], ${JSON.stringify(i)} found`)),c}function Pl(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case"has":return t.length>=2&&"$id"!==t[1]&&"$type"!==t[1];case"in":return t.length>=3&&("string"!=typeof t[1]||Array.isArray(t[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case"any":case"all":for(const e of t.slice(1))if(!Pl(e)&&"boolean"!=typeof e)return!1;return!0;default:return!0}}function so(t,e="fill"){if(null==t)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Pl(t)||(t=Jo(t));const i=t;let s=!0;try{s=function(E){if(!Lo(E))return E;let B=$n(E);return Xo(B),B=Xl(B),B}(i)}catch(E){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(i,null,2)}\n        `)}const c=nt[`filter_${e}`],_=Ca(s,c);let g=null;if("error"===_.result)throw new Error(_.value.map(E=>`${E.key}: ${E.message}`).join(", "));g=(E,B,H)=>_.value.evaluate(E,B,{},H);let x=null,D=null;if(s!==i){const E=Ca(i,c);if("error"===E.result)throw new Error(E.value.map(B=>`${B.key}: ${B.message}`).join(", "));x=(B,H,G,ee,ne)=>E.value.evaluate(B,H,{},G,void 0,void 0,ee,ne),D=!_s(E.value.expression)}return{filter:g,dynamicFilter:x||void 0,needGeometry:vc(s),needFeature:!!D}}function Xl(t){if(!Array.isArray(t))return t;const e=function(i){if(Jl.has(i[0]))for(let s=1;s<i.length;s++)if(Lo(i[s]))return!0;return i}(t);return!0===e?e:e.map(i=>Xl(i))}function Xo(t){let e=!1;const i=[];if("case"===t[0]){for(let s=1;s<t.length-1;s+=2)e=e||Lo(t[s]),i.push(t[s+1]);i.push(t[t.length-1])}else if("match"===t[0]){e=e||Lo(t[1]);for(let s=2;s<t.length-1;s+=2)i.push(t[s+1]);i.push(t[t.length-1])}else if("step"===t[0]){e=e||Lo(t[1]);for(let s=1;s<t.length-1;s+=2)i.push(t[s+1])}e&&(t.length=0,t.push("any",...i));for(let s=1;s<t.length;s++)Xo(t[s])}function Lo(t){if(!Array.isArray(t))return!1;if("pitch"===(e=t[0])||"distance-from-center"===e)return!0;var e;for(let i=1;i<t.length;i++)if(Lo(t[i]))return!0;return!1}const Jl=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Vc(t,e){return t<e?-1:t>e?1:0}function vc(t){if(!Array.isArray(t))return!1;if("within"===t[0])return!0;for(let e=1;e<t.length;e++)if(vc(t[e]))return!0;return!1}function Jo(t){if(!t)return!0;const e=t[0];return t.length<=1?"any"!==e:"=="===e?Kl(t[1],t[2],"=="):"!="===e?Il(Kl(t[1],t[2],"==")):"<"===e||">"===e||"<="===e||">="===e?Kl(t[1],t[2],e):"any"===e?(i=t.slice(1),["any"].concat(i.map(Jo))):"all"===e?["all"].concat(t.slice(1).map(Jo)):"none"===e?["all"].concat(t.slice(1).map(Jo).map(Il)):"in"===e?Ea(t[1],t.slice(2)):"!in"===e?Il(Ea(t[1],t.slice(2))):"has"===e?Ko(t[1]):"!has"===e?Il(Ko(t[1])):"within"!==e||t;var i}function Kl(t,e,i){switch(t){case"$type":return[`filter-type-${i}`,e];case"$id":return[`filter-id-${i}`,e];default:return[`filter-${i}`,t,e]}}function Ea(t,e){if(0===e.length)return!1;switch(t){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(i=>typeof i!=typeof e[0])?["filter-in-large",t,["literal",e.sort(Vc)]]:["filter-in-small",t,["literal",e]]}}function Ko(t){switch(t){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",t]}}function Il(t){return["!",t]}function So(t){return Pl($n(t.value))?vn(la({},t,{expressionContext:"filter",valueSpec:t.styleSpec[`filter_${t.layerType||"fill"}`]})):Qo(t)}function Qo(t){const e=t.value,i=t.key;if("array"!==Bi(e))return[new at(i,e,`array expected, ${Bi(e)} found`)];const s=t.styleSpec;let c,_=[];if(e.length<1)return[new at(i,e,"filter array must have at least 1 element")];switch(_=_.concat(Qa({key:`${i}[0]`,value:e[0],valueSpec:s.filter_operator,style:t.style,styleSpec:t.styleSpec})),Yn(e[0])){case"<":case"<=":case">":case">=":e.length>=2&&"$type"===Yn(e[1])&&_.push(new at(i,e,`"$type" cannot be use with operator "${e[0]}"`));case"==":case"!=":3!==e.length&&_.push(new at(i,e,`filter array for operator "${e[0]}" must have 3 elements`));case"in":case"!in":e.length>=2&&(c=Bi(e[1]),"string"!==c&&_.push(new at(`${i}[1]`,e[1],`string expected, ${c} found`)));for(let g=2;g<e.length;g++)c=Bi(e[g]),"$type"===Yn(e[1])?_=_.concat(Qa({key:`${i}[${g}]`,value:e[g],valueSpec:s.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==c&&"number"!==c&&"boolean"!==c&&_.push(new at(`${i}[${g}]`,e[g],`string, number, or boolean expected, ${c} found`));break;case"any":case"all":case"none":for(let g=1;g<e.length;g++)_=_.concat(Qo({key:`${i}[${g}]`,value:e[g],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":c=Bi(e[1]),2!==e.length?_.push(new at(i,e,`filter array for "${e[0]}" operator must have 2 elements`)):"string"!==c&&_.push(new at(`${i}[1]`,e[1],`string expected, ${c} found`));break;case"within":c=Bi(e[1]),2!==e.length?_.push(new at(i,e,`filter array for "${e[0]}" operator must have 2 elements`)):"object"!==c&&_.push(new at(`${i}[1]`,e[1],`object expected, ${c} found`))}return _}function Ql(t,e){const i=t.key,s=t.style,c=t.styleSpec,_=t.value,g=t.objectKey,x=c[`${e}_${t.layerType}`];if(!x)return[];const D=g.match(/^(.*)-transition$/);if("paint"===e&&D&&x[D[1]]&&x[D[1]].transition)return _r({key:i,value:_,valueSpec:c.transition,style:s,styleSpec:c});const E=t.valueSpec||x[g];if(!E)return[new at(i,_,`unknown property "${g}"`)];let B;if("string"===Bi(_)&&Ka(E)&&!E.tokens&&(B=/^{([^}]+)}$/.exec(_))){const G=`\`{ "type": "identity", "property": ${B?JSON.stringify(B[1]):'"_"'} }\``;return[new at(i,_,`"${g}" does not support interpolation syntax\nUse an identity property function instead: ${G}.`)]}const H=[];return"symbol"===t.layerType&&("text-field"===g&&s&&!s.glyphs&&H.push(new at(i,_,'use of "text-field" requires a style "glyphs" property')),"text-font"===g&&Tr($n(_))&&"identity"===Yn(_.type)&&H.push(new at(i,_,'"text-font" does not support identity functions'))),H.concat(_r({key:t.key,value:_,valueSpec:E,style:s,styleSpec:c,expressionContext:"property",propertyType:e,propertyKey:g}))}function ec(t){return Ql(t,"paint")}function el(t){return Ql(t,"layout")}function ml(t){let e=[];const i=t.value,s=t.key,c=t.style,_=t.styleSpec;i.type||i.ref||e.push(new at(s,i,'either "type" or "ref" is required'));let g=Yn(i.type);const x=Yn(i.ref);if(i.id){const D=Yn(i.id);for(let E=0;E<t.arrayIndex;E++){const B=c.layers[E];Yn(B.id)===D&&e.push(new at(s,i.id,`duplicate layer id "${i.id}", previously used at line ${B.id.__line__}`))}}if("ref"in i){let D;["type","source","source-layer","filter","layout"].forEach(E=>{E in i&&e.push(new at(s,i[E],`"${E}" is prohibited for ref layers`))}),c.layers.forEach(E=>{Yn(E.id)===x&&(D=E)}),D?D.ref?e.push(new at(s,i.ref,"ref cannot reference another ref layer")):g=Yn(D.type):"string"==typeof x&&e.push(new at(s,i.ref,`ref layer "${x}" not found`))}else if("background"!==g&&"sky"!==g)if(i.source){const D=c.sources&&c.sources[i.source],E=D&&Yn(D.type);D?"vector"===E&&"raster"===g?e.push(new at(s,i.source,`layer "${i.id}" requires a raster source`)):"raster"===E&&"raster"!==g?e.push(new at(s,i.source,`layer "${i.id}" requires a vector source`)):"vector"!==E||i["source-layer"]?"raster-dem"===E&&"hillshade"!==g?e.push(new at(s,i.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==g||!i.paint||!i.paint["line-gradient"]&&!i.paint["line-trim-offset"]||"geojson"===E&&D.lineMetrics||e.push(new at(s,i,`layer "${i.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):e.push(new at(s,i,`layer "${i.id}" must specify a "source-layer"`)):e.push(new at(s,i.source,`source "${i.source}" not found`))}else e.push(new at(s,i,'missing required property "source"'));return e=e.concat(yi({key:s,value:i,valueSpec:_.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":()=>[],type:()=>_r({key:`${s}.type`,value:i.type,valueSpec:_.layer.type,style:t.style,styleSpec:t.styleSpec,object:i,objectKey:"type"}),filter:D=>So(la({layerType:g},D)),layout:D=>yi({layer:i,key:D.key,value:D.value,valueSpec:{},style:D.style,styleSpec:D.styleSpec,objectElementValidators:{"*":E=>el(la({layerType:g},E))}}),paint:D=>yi({layer:i,key:D.key,value:D.value,valueSpec:{},style:D.style,styleSpec:D.styleSpec,objectElementValidators:{"*":E=>ec(la({layerType:g},E))}})}})),e}function Vn(t){const e=t.value,i=t.key,s=Bi(e);return"string"!==s?[new at(i,e,`string expected, ${s} found`)]:[]}const tc={promoteId:function({key:t,value:e}){if("string"===Bi(e))return Vn({key:t,value:e});{const i=[];for(const s in e)i.push(...Vn({key:`${t}.${s}`,value:e[s]}));return i}}};function bc(t){const e=t.value,i=t.key,s=t.styleSpec,c=t.style;if(!e.type)return[new at(i,e,'"type" is required')];const _=Yn(e.type);let g;switch(_){case"vector":case"raster":case"raster-dem":return g=yi({key:i,value:e,valueSpec:s[`source_${_.replace("-","_")}`],style:t.style,styleSpec:s,objectElementValidators:tc}),g;case"geojson":if(g=yi({key:i,value:e,valueSpec:s.source_geojson,style:c,styleSpec:s,objectElementValidators:tc}),e.cluster)for(const x in e.clusterProperties){const[D,E]=e.clusterProperties[x],B="string"==typeof D?[D,["accumulated"],["get",x]]:D;g.push(...vn({key:`${i}.${x}.map`,value:E,expressionContext:"cluster-map"})),g.push(...vn({key:`${i}.${x}.reduce`,value:B,expressionContext:"cluster-reduce"}))}return g;case"video":return yi({key:i,value:e,valueSpec:s.source_video,style:c,styleSpec:s});case"image":return yi({key:i,value:e,valueSpec:s.source_image,style:c,styleSpec:s});case"canvas":return[new at(i,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Qa({key:`${i}.type`,value:e.type,valueSpec:{values:xc(s)},style:c,styleSpec:s})}}function xc(t){return t.source.reduce((e,i)=>{const s=t[i];return"enum"===s.type.type&&(e=e.concat(Object.keys(s.type.values))),e},[])}function ic(t){const e=t.value,i=t.styleSpec,s=i.light,c=t.style;let _=[];const g=Bi(e);if(void 0===e)return _;if("object"!==g)return _=_.concat([new at("light",e,`object expected, ${g} found`)]),_;for(const x in e){const D=x.match(/^(.*)-transition$/);_=_.concat(D&&s[D[1]]&&s[D[1]].transition?_r({key:x,value:e[x],valueSpec:i.transition,style:c,styleSpec:i}):s[x]?_r({key:x,value:e[x],valueSpec:s[x],style:c,styleSpec:i}):[new at(x,e[x],`unknown property "${x}"`)])}return _}function gl(t){const e=t.value,i=t.key,s=t.style,c=t.styleSpec,_=c.terrain;let g=[];const x=Bi(e);if(void 0===e)return g;if("object"!==x)return g=g.concat([new at("terrain",e,`object expected, ${x} found`)]),g;for(const D in e){const E=D.match(/^(.*)-transition$/);g=g.concat(E&&_[E[1]]&&_[E[1]].transition?_r({key:D,value:e[D],valueSpec:c.transition,style:s,styleSpec:c}):_[D]?_r({key:D,value:e[D],valueSpec:_[D],style:s,styleSpec:c}):[new at(D,e[D],`unknown property "${D}"`)])}if(e.source){const D=s.sources&&s.sources[e.source],E=D&&Yn(D.type);D?"raster-dem"!==E&&g.push(new at(i,e.source,`terrain cannot be used with a source of type ${String(E)}, it only be used with a "raster-dem" source type`)):g.push(new at(i,e.source,`source "${e.source}" not found`))}else g.push(new at(i,e,'terrain is missing required property "source"'));return g}function nc(t){const e=t.value,i=t.style,s=t.styleSpec,c=s.fog;let _=[];const g=Bi(e);if(void 0===e)return _;if("object"!==g)return _=_.concat([new at("fog",e,`object expected, ${g} found`)]),_;for(const x in e){const D=x.match(/^(.*)-transition$/);_=_.concat(D&&c[D[1]]&&c[D[1]].transition?_r({key:x,value:e[x],valueSpec:s.transition,style:i,styleSpec:s}):c[x]?_r({key:x,value:e[x],valueSpec:c[x],style:i,styleSpec:s}):[new at(x,e[x],`unknown property "${x}"`)])}return _}const oo={"*":()=>[],array:Ki,boolean:function(t){const e=t.value,i=t.key,s=Bi(e);return"boolean"!==s?[new at(i,e,`boolean expected, ${s} found`)]:[]},number:tn,color:function(t){const e=t.key,i=t.value,s=Bi(i);return"string"!==s?[new at(e,i,`color expected, ${s} found`)]:null===da(i)?[new at(e,i,`color expected, "${i}" found`)]:[]},enum:Qa,filter:So,function:or,layer:ml,object:yi,source:bc,light:ic,terrain:gl,fog:nc,string:Vn,formatted:function(t){return 0===Vn(t).length?[]:vn(t)},resolvedImage:function(t){return 0===Vn(t).length?[]:vn(t)},projection:function(t){const e=t.value,i=t.styleSpec,s=i.projection,c=t.style;let _=[];const g=Bi(e);if("object"===g)for(const x in e)_=_.concat(_r({key:x,value:e[x],valueSpec:s[x],style:c,styleSpec:i}));else"string"!==g&&(_=_.concat([new at("projection",e,`object or string expected, ${g} found`)]));return _}};function _r(t){const e=t.value,i=t.valueSpec,s=t.styleSpec;return i.expression&&Tr(Yn(e))?or(t):i.expression&&ao($n(e))?vn(t):i.type&&oo[i.type]?oo[i.type](t):yi(la({},t,{valueSpec:i.type?s[i.type]:i}))}function js(t){const e=t.value,i=t.key,s=Vn(t);return s.length||(-1===e.indexOf("{fontstack}")&&s.push(new at(i,e,'"glyphs" url must include a "{fontstack}" token')),-1===e.indexOf("{range}")&&s.push(new at(i,e,'"glyphs" url must include a "{range}" token'))),s}function tl(t,e=nt){return Aa(_r({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:js,"*":()=>[]}}))}const Hc=t=>Aa(ec(t)),Nc=t=>Aa(el(t));function Aa(t){return t.slice().sort((e,i)=>e.line&&i.line?e.line-i.line:0)}function wc(t,e){let i=!1;if(e&&e.length)for(const s of e)t.fire(new ba(new Error(s.message))),i=!0;return i}var Uc=es;function es(t,e,i){var s=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var c=new Int32Array(this.arrayBuffer);t=c[0],this.d=(e=c[1])+2*(i=c[2]);for(var _=0;_<this.d*this.d;_++){var g=c[3+_],x=c[3+_+1];s.push(g===x?null:c.subarray(g,x))}var D=c[3+s.length+1];this.keys=c.subarray(c[3+s.length],D),this.bboxes=c.subarray(D),this.insert=this._insertReadonly}else{this.d=e+2*i;for(var E=0;E<this.d*this.d;E++)s.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=i,this.scale=e/t,this.uid=0;var B=i/e*t;this.min=-B,this.max=t+B}es.prototype.insert=function(t,e,i,s,c){this._forEachCell(e,i,s,c,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(i),this.bboxes.push(s),this.bboxes.push(c)},es.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},es.prototype._insertCell=function(t,e,i,s,c,_){this.cells[c].push(_)},es.prototype.query=function(t,e,i,s,c){var _=this.min,g=this.max;if(t<=_&&e<=_&&g<=i&&g<=s&&!c)return Array.prototype.slice.call(this.keys);var x=[];return this._forEachCell(t,e,i,s,this._queryCell,x,{},c),x},es.prototype._queryCell=function(t,e,i,s,c,_,g,x){var D=this.cells[c];if(null!==D)for(var E=this.keys,B=this.bboxes,H=0;H<D.length;H++){var G=D[H];if(void 0===g[G]){var ee=4*G;(x?x(B[ee+0],B[ee+1],B[ee+2],B[ee+3]):t<=B[ee+2]&&e<=B[ee+3]&&i>=B[ee+0]&&s>=B[ee+1])?(g[G]=!0,_.push(E[G])):g[G]=!1}}},es.prototype._forEachCell=function(t,e,i,s,c,_,g,x){for(var D=this._convertToCellCoord(t),E=this._convertToCellCoord(e),B=this._convertToCellCoord(i),H=this._convertToCellCoord(s),G=D;G<=B;G++)for(var ee=E;ee<=H;ee++){var ne=this.d*ee+G;if((!x||x(this._convertFromCellCoord(G),this._convertFromCellCoord(ee),this._convertFromCellCoord(G+1),this._convertFromCellCoord(ee+1)))&&c.call(this,t,e,i,s,ne,_,g,x))return}},es.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},es.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},es.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,i=0,s=0;s<this.cells.length;s++)i+=this.cells[s].length;var c=new Int32Array(e+i+this.keys.length+this.bboxes.length);c[0]=this.extent,c[1]=this.n,c[2]=this.padding;for(var _=e,g=0;g<t.length;g++){var x=t[g];c[3+g]=_,c.set(x,_),_+=x.length}return c[3+t.length]=_,c.set(this.keys,_),c[3+t.length+1]=_+=this.keys.length,c.set(this.bboxes,_),_+=this.bboxes.length,c.buffer};var lo=Me(Uc);const Ol={};function Bt(t,e,i={}){Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),Ol[e]={klass:t,omit:i.omit||[]}}Bt(Object,"Object"),lo.serialize=function(t,e){const i=t.toArrayBuffer();return e&&e.push(i),{buffer:i}},lo.deserialize=function(t){return new lo(t.buffer)},Object.defineProperty(lo,"name",{value:"Grid"}),Bt(lo,"Grid"),Bt(mn,"Color"),Bt(Error,"Error"),Bt(va,"AJAXError"),Bt(jr,"ResolvedImage"),Bt(De,"StylePropertyFunction"),Bt($o,"StyleExpression",{omit:["_evaluator"]}),Bt(W,"ZoomDependentExpression"),Bt(j,"ZoomConstantExpression"),Bt(Na,"CompoundExpression",{omit:["_evaluate"]});for(const t in ko)Ol[ko[t]._classRegistryKey]||Bt(ko[t],`Expression${t}`);function rc(t){return t&&"undefined"!=typeof ArrayBuffer&&(t instanceof ArrayBuffer||t.constructor&&"ArrayBuffer"===t.constructor.name)}function ac(t){return d.ImageBitmap&&t instanceof d.ImageBitmap}function il(t,e){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(rc(t)||ac(t))return e&&e.push(t),t;if(ArrayBuffer.isView(t)){const i=t;return e&&e.push(i.buffer),i}if(t instanceof d.ImageData)return e&&e.push(t.data.buffer),t;if(Array.isArray(t)){const i=[];for(const s of t)i.push(il(s,e));return i}if("object"==typeof t){const i=t.constructor,s=i._classRegistryKey;if(!s)throw new Error(`can't serialize object of unregistered class ${s}`);const c=i.serialize?i.serialize(t,e):{};if(!i.serialize){for(const _ in t)t.hasOwnProperty(_)&&(Ol[s].omit.indexOf(_)>=0||(c[_]=il(t[_],e)));t instanceof Error&&(c.message=t.message)}if(c.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==s&&(c.$name=s),c}throw new Error("can't serialize object of type "+typeof t)}function na(t){if(null==t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||rc(t)||ac(t)||ArrayBuffer.isView(t)||t instanceof d.ImageData)return t;if(Array.isArray(t))return t.map(na);if("object"==typeof t){const e=t.$name||"Object",{klass:i}=Ol[e];if(!i)throw new Error(`can't deserialize unregistered class ${e}`);if(i.deserialize)return i.deserialize(t);const s=Object.create(i.prototype);for(const c of Object.keys(t))"$name"!==c&&(s[c]=na(t[c]));return s}throw new Error("can't deserialize object of type "+typeof t)}const It_Latin_1_Supplement=t=>t>=128&&t<=255,It_Arabic=t=>t>=1536&&t<=1791,It_Arabic_Supplement=t=>t>=1872&&t<=1919,It_Arabic_Extended_A=t=>t>=2208&&t<=2303,It_Hangul_Jamo=t=>t>=4352&&t<=4607,It_Unified_Canadian_Aboriginal_Syllabics=t=>t>=5120&&t<=5759,It_Khmer=t=>t>=6016&&t<=6143,It_Unified_Canadian_Aboriginal_Syllabics_Extended=t=>t>=6320&&t<=6399,It_General_Punctuation=t=>t>=8192&&t<=8303,It_Letterlike_Symbols=t=>t>=8448&&t<=8527,It_Number_Forms=t=>t>=8528&&t<=8591,It_Miscellaneous_Technical=t=>t>=8960&&t<=9215,It_Control_Pictures=t=>t>=9216&&t<=9279,It_Optical_Character_Recognition=t=>t>=9280&&t<=9311,It_Enclosed_Alphanumerics=t=>t>=9312&&t<=9471,It_Geometric_Shapes=t=>t>=9632&&t<=9727,It_Miscellaneous_Symbols=t=>t>=9728&&t<=9983,It_Miscellaneous_Symbols_and_Arrows=t=>t>=11008&&t<=11263,It_CJK_Radicals_Supplement=t=>t>=11904&&t<=12031,It_Kangxi_Radicals=t=>t>=12032&&t<=12255,It_Ideographic_Description_Characters=t=>t>=12272&&t<=12287,It_CJK_Symbols_and_Punctuation=t=>t>=12288&&t<=12351,It_Hiragana=t=>t>=12352&&t<=12447,It_Katakana=t=>t>=12448&&t<=12543,It_Bopomofo=t=>t>=12544&&t<=12591,It_Hangul_Compatibility_Jamo=t=>t>=12592&&t<=12687,It_Kanbun=t=>t>=12688&&t<=12703,It_Bopomofo_Extended=t=>t>=12704&&t<=12735,It_CJK_Strokes=t=>t>=12736&&t<=12783,It_Katakana_Phonetic_Extensions=t=>t>=12784&&t<=12799,It_Enclosed_CJK_Letters_and_Months=t=>t>=12800&&t<=13055,It_CJK_Compatibility=t=>t>=13056&&t<=13311,It_CJK_Unified_Ideographs_Extension_A=t=>t>=13312&&t<=19903,It_Yijing_Hexagram_Symbols=t=>t>=19904&&t<=19967,It_CJK_Unified_Ideographs=t=>t>=19968&&t<=40959,It_Yi_Syllables=t=>t>=40960&&t<=42127,It_Yi_Radicals=t=>t>=42128&&t<=42191,It_Hangul_Jamo_Extended_A=t=>t>=43360&&t<=43391,It_Hangul_Syllables=t=>t>=44032&&t<=55215,It_Hangul_Jamo_Extended_B=t=>t>=55216&&t<=55295,It_Private_Use_Area=t=>t>=57344&&t<=63743,It_CJK_Compatibility_Ideographs=t=>t>=63744&&t<=64255,It_Arabic_Presentation_Forms_A=t=>t>=64336&&t<=65023,It_Vertical_Forms=t=>t>=65040&&t<=65055,It_CJK_Compatibility_Forms=t=>t>=65072&&t<=65103,It_Small_Form_Variants=t=>t>=65104&&t<=65135,It_Arabic_Presentation_Forms_B=t=>t>=65136&&t<=65279,It_Halfwidth_and_Fullwidth_Forms=t=>t>=65280&&t<=65519;function sc(t){for(const e of t)if(Et(e.charCodeAt(0)))return!0;return!1}function Wc(t){for(const e of t)if(!Mc(e.charCodeAt(0)))return!1;return!0}function Mc(t){return!(It_Arabic(t)||It_Arabic_Supplement(t)||It_Arabic_Extended_A(t)||It_Arabic_Presentation_Forms_A(t)||It_Arabic_Presentation_Forms_B(t))}function Et(t){return!(746!==t&&747!==t&&(t<4352||!(It_Bopomofo_Extended(t)||It_Bopomofo(t)||It_CJK_Compatibility_Forms(t)&&!(t>=65097&&t<=65103)||It_CJK_Compatibility_Ideographs(t)||It_CJK_Compatibility(t)||It_CJK_Radicals_Supplement(t)||It_CJK_Strokes(t)||!(!It_CJK_Symbols_and_Punctuation(t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||It_CJK_Unified_Ideographs_Extension_A(t)||It_CJK_Unified_Ideographs(t)||It_Enclosed_CJK_Letters_and_Months(t)||It_Hangul_Compatibility_Jamo(t)||It_Hangul_Jamo_Extended_A(t)||It_Hangul_Jamo_Extended_B(t)||It_Hangul_Jamo(t)||It_Hangul_Syllables(t)||It_Hiragana(t)||It_Ideographic_Description_Characters(t)||It_Kanbun(t)||It_Kangxi_Radicals(t)||It_Katakana_Phonetic_Extensions(t)||It_Katakana(t)&&12540!==t||!(!It_Halfwidth_and_Fullwidth_Forms(t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||!(!It_Small_Form_Variants(t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||It_Unified_Canadian_Aboriginal_Syllabics(t)||It_Unified_Canadian_Aboriginal_Syllabics_Extended(t)||It_Vertical_Forms(t)||It_Yijing_Hexagram_Symbols(t)||It_Yi_Syllables(t)||It_Yi_Radicals(t))))}function oc(t){return!(Et(t)||(e=t,It_Latin_1_Supplement(e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||It_General_Punctuation(e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||It_Letterlike_Symbols(e)||It_Number_Forms(e)||It_Miscellaneous_Technical(e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||It_Control_Pictures(e)&&9251!==e||It_Optical_Character_Recognition(e)||It_Enclosed_Alphanumerics(e)||It_Geometric_Shapes(e)||It_Miscellaneous_Symbols(e)&&!(e>=9754&&e<=9759)||It_Miscellaneous_Symbols_and_Arrows(e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||It_CJK_Symbols_and_Punctuation(e)||It_Katakana(e)||It_Private_Use_Area(e)||It_CJK_Compatibility_Forms(e)||It_Small_Form_Variants(e)||It_Halfwidth_and_Fullwidth_Forms(e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e));var e}function Tc(t){return t>=1424&&t<=2303||It_Arabic_Presentation_Forms_A(t)||It_Arabic_Presentation_Forms_B(t)}function kc(t,e){return!(!e&&Tc(t)||t>=2304&&t<=3583||t>=3840&&t<=4255||It_Khmer(t))}function nn(t){for(const e of t)if(Tc(e.charCodeAt(0)))return!0;return!1}const ya="deferred",ts="loading",Co="loaded";let Eo=null,p="unavailable",n=null;const l=function(t){t&&"string"==typeof t&&t.indexOf("NetworkError")>-1&&(p="error"),Eo&&Eo(t)};function m(){v.fire(new Ba("pluginStateChange",{pluginStatus:p,pluginURL:n}))}const v=new Ws,M=function(){return p},P=function(){if(p!==ya||!n)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");p=ts,m(),n&&Fa({url:n},t=>{t?l(t):(p=Co,m())})},O={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>p===Co||null!=O.applyArabicShaping,isLoading:()=>p===ts,setState(t){p=t.pluginStatus,n=t.pluginURL},isParsed:()=>null!=O.applyArabicShaping&&null!=O.processBidirectionalText&&null!=O.processStyledBidirectionalText,getPluginURL:()=>n};class V{constructor(e,i){this.zoom=e,i?(this.now=i.now,this.fadeDuration=i.fadeDuration,this.transition=i.transition,this.pitch=i.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(e){return function(i,s){for(const c of i)if(!kc(c.charCodeAt(0),s))return!1;return!0}(e,O.isLoaded())}}class ${constructor(e,i){this.property=e,this.value=i,this.expression=function(s,c){if(Tr(s))return new De(s,c);if(ao(s)){const _=ue(s,c);if("error"===_.result)throw new Error(_.value.map(g=>`${g.key}: ${g.message}`).join(", "));return _.value}{let _=s;return"string"==typeof s&&"color"===c.type&&(_=mn.parse(s)),{kind:"constant",evaluate:()=>_}}}(void 0===i?e.specification.default:i,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,i,s){return this.property.possiblyEvaluate(this,e,i,s)}}class q{constructor(e){this.property=e,this.value=new $(e,void 0)}transitioned(e,i){return new r(this.property,this.value,i,cn({},e.transition,this.transition),e.now)}untransitioned(){return new r(this.property,this.value,null,{},0)}}class re{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return zr(this._values[e].value.value)}setValue(e,i){this._values.hasOwnProperty(e)||(this._values[e]=new q(this._values[e].property)),this._values[e].value=new $(this._values[e].property,null===i?void 0:zr(i))}getTransition(e){return zr(this._values[e].transition)}setTransition(e,i){this._values.hasOwnProperty(e)||(this._values[e]=new q(this._values[e].property)),this._values[e].transition=zr(i)||void 0}serialize(){const e={};for(const i of Object.keys(this._values)){const s=this.getValue(i);void 0!==s&&(e[i]=s);const c=this.getTransition(i);void 0!==c&&(e[`${i}-transition`]=c)}return e}transitioned(e,i){const s=new o(this._properties);for(const c of Object.keys(this._values))s._values[c]=this._values[c].transitioned(e,i._values[c]);return s}untransitioned(){const e=new o(this._properties);for(const i of Object.keys(this._values))e._values[i]=this._values[i].untransitioned();return e}}class r{constructor(e,i,s,c,_){const g=c.delay||0,x=c.duration||0;_=_||0,this.property=e,this.value=i,this.begin=_+g,this.end=this.begin+x,e.specification.transition&&(c.delay||c.duration)&&(this.prior=s)}possiblyEvaluate(e,i,s){const c=e.now||0,_=this.value.possiblyEvaluate(e,i,s),g=this.prior;if(g){if(c>this.end)return this.prior=null,_;if(this.value.isDataDriven())return this.prior=null,_;if(c<this.begin)return g.possiblyEvaluate(e,i,s);{const x=(c-this.begin)/(this.end-this.begin);return this.property.interpolate(g.possiblyEvaluate(e,i,s),_,ki(x))}}return _}}class o{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,i,s){const c=new y(this._properties);for(const _ of Object.keys(this._values))c._values[_]=this._values[_].possiblyEvaluate(e,i,s);return c}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class h{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return zr(this._values[e].value)}setValue(e,i){this._values[e]=new $(this._values[e].property,null===i?void 0:zr(i))}serialize(){const e={};for(const i of Object.keys(this._values)){const s=this.getValue(i);void 0!==s&&(e[i]=s)}return e}possiblyEvaluate(e,i,s){const c=new y(this._properties);for(const _ of Object.keys(this._values))c._values[_]=this._values[_].possiblyEvaluate(e,i,s);return c}}class f{constructor(e,i,s){this.property=e,this.value=i,this.parameters=s}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,i,s,c){return this.property.evaluate(this.value,this.parameters,e,i,s,c)}}class y{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class b{constructor(e){this.specification=e}possiblyEvaluate(e,i){return e.expression.evaluate(i)}interpolate(e,i,s){const c=Qr[this.specification.type];return c?c(e,i,s):e}}class k{constructor(e,i){this.specification=e,this.overrides=i}possiblyEvaluate(e,i,s,c){return new f(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(i,null,{},s,c)}:e.expression,i)}interpolate(e,i,s){if("constant"!==e.value.kind||"constant"!==i.value.kind)return e;if(void 0===e.value.value||void 0===i.value.value)return new f(this,{kind:"constant",value:void 0},e.parameters);const c=Qr[this.specification.type];return c?new f(this,{kind:"constant",value:c(e.value.value,i.value.value,s)},e.parameters):e}evaluate(e,i,s,c,_,g){return"constant"===e.kind?e.value:e.evaluate(i,s,c,_,g)}}class I{constructor(e){this.specification=e}possiblyEvaluate(e,i,s,c){return!!e.expression.evaluate(i,null,{},s,c)}interpolate(){return!1}}class C{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const i=new V(0,{});for(const s in e){const c=e[s];c.specification.overridable&&this.overridableProperties.push(s);const _=this.defaultPropertyValues[s]=new $(c,void 0),g=this.defaultTransitionablePropertyValues[s]=new q(c);this.defaultTransitioningPropertyValues[s]=g.untransitioned(),this.defaultPossiblyEvaluatedValues[s]=_.possiblyEvaluate(i)}}}function F(t,e){return 256*(t=ti(Math.floor(t),0,255))+ti(Math.floor(e),0,255)}Bt(k,"DataDrivenProperty"),Bt(b,"DataConstantProperty"),Bt(I,"ColorRampProperty");const N={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class U{constructor(e,i){this._structArray=e,this._pos1=i*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ie{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,i){return e._trim(),i&&(e.isTransferred=!0,i.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const i=Object.create(this.prototype);return i.arrayBuffer=e.arrayBuffer,i.length=e.length,i.capacity=e.arrayBuffer.byteLength/i.bytesPerElement,i._refreshViews(),i}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const i=this.uint8;this._refreshViews(),i&&this.uint8.set(i)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function ce(t,e=1){let i=0,s=0;return{members:t.map(c=>{const _=N[c.type].BYTES_PER_ELEMENT,g=i=he(i,Math.max(e,_)),x=c.components||1;return s=Math.max(s,_),i+=_*x,{name:c.name,type:c.type,components:x,offset:g}}),size:he(i,Math.max(s,e)),alignment:e}}function he(t,e){return Math.ceil(t/e)*e}class ve extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i){const s=this.length;return this.resize(s+1),this.emplace(s,e,i)}emplace(e,i,s){const c=2*e;return this.int16[c+0]=i,this.int16[c+1]=s,e}}ve.prototype.bytesPerElement=4,Bt(ve,"StructArrayLayout2i4");class ge extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i,s){const c=this.length;return this.resize(c+1),this.emplace(c,e,i,s)}emplace(e,i,s,c){const _=3*e;return this.int16[_+0]=i,this.int16[_+1]=s,this.int16[_+2]=c,e}}ge.prototype.bytesPerElement=6,Bt(ge,"StructArrayLayout3i6");class Ce extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i,s,c){const _=this.length;return this.resize(_+1),this.emplace(_,e,i,s,c)}emplace(e,i,s,c,_){const g=4*e;return this.int16[g+0]=i,this.int16[g+1]=s,this.int16[g+2]=c,this.int16[g+3]=_,e}}Ce.prototype.bytesPerElement=8,Bt(Ce,"StructArrayLayout4i8");class Re extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,s,c,_,g,x){const D=this.length;return this.resize(D+1),this.emplace(D,e,i,s,c,_,g,x)}emplace(e,i,s,c,_,g,x,D){const E=6*e,B=12*e,H=3*e;return this.int16[E+0]=i,this.int16[E+1]=s,this.uint8[B+4]=c,this.uint8[B+5]=_,this.uint8[B+6]=g,this.uint8[B+7]=x,this.float32[H+2]=D,e}}Re.prototype.bytesPerElement=12,Bt(Re,"StructArrayLayout2i4ub1f12");class Ze extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,s,c){const _=this.length;return this.resize(_+1),this.emplace(_,e,i,s,c)}emplace(e,i,s,c,_){const g=4*e;return this.float32[g+0]=i,this.float32[g+1]=s,this.float32[g+2]=c,this.float32[g+3]=_,e}}Ze.prototype.bytesPerElement=16,Bt(Ze,"StructArrayLayout4f16");class Be extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,s,c,_){const g=this.length;return this.resize(g+1),this.emplace(g,e,i,s,c,_)}emplace(e,i,s,c,_,g){const x=6*e,D=3*e;return this.uint16[x+0]=i,this.uint16[x+1]=s,this.uint16[x+2]=c,this.uint16[x+3]=_,this.float32[D+2]=g,e}}Be.prototype.bytesPerElement=12,Bt(Be,"StructArrayLayout4ui1f12");class Ge extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,s,c){const _=this.length;return this.resize(_+1),this.emplace(_,e,i,s,c)}emplace(e,i,s,c,_){const g=4*e;return this.uint16[g+0]=i,this.uint16[g+1]=s,this.uint16[g+2]=c,this.uint16[g+3]=_,e}}Ge.prototype.bytesPerElement=8,Bt(Ge,"StructArrayLayout4ui8");class lt extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i,s,c,_,g){const x=this.length;return this.resize(x+1),this.emplace(x,e,i,s,c,_,g)}emplace(e,i,s,c,_,g,x){const D=6*e;return this.int16[D+0]=i,this.int16[D+1]=s,this.int16[D+2]=c,this.int16[D+3]=_,this.int16[D+4]=g,this.int16[D+5]=x,e}}lt.prototype.bytesPerElement=12,Bt(lt,"StructArrayLayout6i12");class tt extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,s,c,_,g,x,D,E,B,H,G){const ee=this.length;return this.resize(ee+1),this.emplace(ee,e,i,s,c,_,g,x,D,E,B,H,G)}emplace(e,i,s,c,_,g,x,D,E,B,H,G,ee){const ne=12*e;return this.int16[ne+0]=i,this.int16[ne+1]=s,this.int16[ne+2]=c,this.int16[ne+3]=_,this.uint16[ne+4]=g,this.uint16[ne+5]=x,this.uint16[ne+6]=D,this.uint16[ne+7]=E,this.int16[ne+8]=B,this.int16[ne+9]=H,this.int16[ne+10]=G,this.int16[ne+11]=ee,e}}tt.prototype.bytesPerElement=24,Bt(tt,"StructArrayLayout4i4ui4i24");class ot extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,s,c,_,g){const x=this.length;return this.resize(x+1),this.emplace(x,e,i,s,c,_,g)}emplace(e,i,s,c,_,g,x){const D=10*e,E=5*e;return this.int16[D+0]=i,this.int16[D+1]=s,this.int16[D+2]=c,this.float32[E+2]=_,this.float32[E+3]=g,this.float32[E+4]=x,e}}ot.prototype.bytesPerElement=20,Bt(ot,"StructArrayLayout3i3f20");class Ct extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const i=this.length;return this.resize(i+1),this.emplace(i,e)}emplace(e,i){return this.uint32[1*e+0]=i,e}}Ct.prototype.bytesPerElement=4,Bt(Ct,"StructArrayLayout1ul4");class Nt extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,s,c,_,g,x,D,E,B,H,G,ee){const ne=this.length;return this.resize(ne+1),this.emplace(ne,e,i,s,c,_,g,x,D,E,B,H,G,ee)}emplace(e,i,s,c,_,g,x,D,E,B,H,G,ee,ne){const le=20*e,me=10*e;return this.int16[le+0]=i,this.int16[le+1]=s,this.int16[le+2]=c,this.int16[le+3]=_,this.int16[le+4]=g,this.float32[me+3]=x,this.float32[me+4]=D,this.float32[me+5]=E,this.float32[me+6]=B,this.int16[le+14]=H,this.uint32[me+8]=G,this.uint16[le+18]=ee,this.uint16[le+19]=ne,e}}Nt.prototype.bytesPerElement=40,Bt(Nt,"StructArrayLayout5i4f1i1ul2ui40");class At extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i,s,c,_,g,x){const D=this.length;return this.resize(D+1),this.emplace(D,e,i,s,c,_,g,x)}emplace(e,i,s,c,_,g,x,D){const E=8*e;return this.int16[E+0]=i,this.int16[E+1]=s,this.int16[E+2]=c,this.int16[E+4]=_,this.int16[E+5]=g,this.int16[E+6]=x,this.int16[E+7]=D,e}}At.prototype.bytesPerElement=16,Bt(At,"StructArrayLayout3i2i2i16");class jt extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,i,s,c,_){const g=this.length;return this.resize(g+1),this.emplace(g,e,i,s,c,_)}emplace(e,i,s,c,_,g){const x=4*e,D=8*e;return this.float32[x+0]=i,this.float32[x+1]=s,this.float32[x+2]=c,this.int16[D+6]=_,this.int16[D+7]=g,e}}jt.prototype.bytesPerElement=16,Bt(jt,"StructArrayLayout2f1f2i16");class Yt extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,s,c){const _=this.length;return this.resize(_+1),this.emplace(_,e,i,s,c)}emplace(e,i,s,c,_){const g=12*e,x=3*e;return this.uint8[g+0]=i,this.uint8[g+1]=s,this.float32[x+1]=c,this.float32[x+2]=_,e}}Yt.prototype.bytesPerElement=12,Bt(Yt,"StructArrayLayout2ub2f12");class ai extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,s){const c=this.length;return this.resize(c+1),this.emplace(c,e,i,s)}emplace(e,i,s,c){const _=3*e;return this.float32[_+0]=i,this.float32[_+1]=s,this.float32[_+2]=c,e}}ai.prototype.bytesPerElement=12,Bt(ai,"StructArrayLayout3f12");class Vt extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,s){const c=this.length;return this.resize(c+1),this.emplace(c,e,i,s)}emplace(e,i,s,c){const _=3*e;return this.uint16[_+0]=i,this.uint16[_+1]=s,this.uint16[_+2]=c,e}}Vt.prototype.bytesPerElement=6,Bt(Vt,"StructArrayLayout3ui6");class Ei extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,i,s,c,_,g,x,D,E,B,H,G,ee,ne,le,me,xe,Se,we,Le,Ie){const Ae=this.length;return this.resize(Ae+1),this.emplace(Ae,e,i,s,c,_,g,x,D,E,B,H,G,ee,ne,le,me,xe,Se,we,Le,Ie)}emplace(e,i,s,c,_,g,x,D,E,B,H,G,ee,ne,le,me,xe,Se,we,Le,Ie,Ae){const Qe=30*e,Xe=15*e,dt=60*e;return this.int16[Qe+0]=i,this.int16[Qe+1]=s,this.int16[Qe+2]=c,this.float32[Xe+2]=_,this.float32[Xe+3]=g,this.uint16[Qe+8]=x,this.uint16[Qe+9]=D,this.uint32[Xe+5]=E,this.uint32[Xe+6]=B,this.uint32[Xe+7]=H,this.uint16[Qe+16]=G,this.uint16[Qe+17]=ee,this.uint16[Qe+18]=ne,this.float32[Xe+10]=le,this.float32[Xe+11]=me,this.uint8[dt+48]=xe,this.uint8[dt+49]=Se,this.uint8[dt+50]=we,this.uint32[Xe+13]=Le,this.int16[Qe+28]=Ie,this.uint8[dt+58]=Ae,e}}Ei.prototype.bytesPerElement=60,Bt(Ei,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class rn extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,i,s,c,_,g,x,D,E,B,H,G,ee,ne,le,me,xe,Se,we,Le,Ie,Ae,Qe,Xe,dt,kt,it,_t,mt,xt){const Dt=this.length;return this.resize(Dt+1),this.emplace(Dt,e,i,s,c,_,g,x,D,E,B,H,G,ee,ne,le,me,xe,Se,we,Le,Ie,Ae,Qe,Xe,dt,kt,it,_t,mt,xt)}emplace(e,i,s,c,_,g,x,D,E,B,H,G,ee,ne,le,me,xe,Se,we,Le,Ie,Ae,Qe,Xe,dt,kt,it,_t,mt,xt,Dt){const ct=38*e,zt=19*e;return this.int16[ct+0]=i,this.int16[ct+1]=s,this.int16[ct+2]=c,this.float32[zt+2]=_,this.float32[zt+3]=g,this.int16[ct+8]=x,this.int16[ct+9]=D,this.int16[ct+10]=E,this.int16[ct+11]=B,this.int16[ct+12]=H,this.int16[ct+13]=G,this.uint16[ct+14]=ee,this.uint16[ct+15]=ne,this.uint16[ct+16]=le,this.uint16[ct+17]=me,this.uint16[ct+18]=xe,this.uint16[ct+19]=Se,this.uint16[ct+20]=we,this.uint16[ct+21]=Le,this.uint16[ct+22]=Ie,this.uint16[ct+23]=Ae,this.uint16[ct+24]=Qe,this.uint16[ct+25]=Xe,this.uint16[ct+26]=dt,this.uint16[ct+27]=kt,this.uint16[ct+28]=it,this.uint32[zt+15]=_t,this.float32[zt+16]=mt,this.float32[zt+17]=xt,this.float32[zt+18]=Dt,e}}rn.prototype.bytesPerElement=76,Bt(rn,"StructArrayLayout3i2f6i15ui1ul3f76");class qt extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const i=this.length;return this.resize(i+1),this.emplace(i,e)}emplace(e,i){return this.float32[1*e+0]=i,e}}qt.prototype.bytesPerElement=4,Bt(qt,"StructArrayLayout1f4");class T extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i,s,c,_){const g=this.length;return this.resize(g+1),this.emplace(g,e,i,s,c,_)}emplace(e,i,s,c,_,g){const x=5*e;return this.float32[x+0]=i,this.float32[x+1]=s,this.float32[x+2]=c,this.float32[x+3]=_,this.float32[x+4]=g,e}}T.prototype.bytesPerElement=20,Bt(T,"StructArrayLayout5f20");class R extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i,s,c){const _=this.length;return this.resize(_+1),this.emplace(_,e,i,s,c)}emplace(e,i,s,c,_){const g=6*e;return this.uint32[3*e+0]=i,this.uint16[g+2]=s,this.uint16[g+3]=c,this.uint16[g+4]=_,e}}R.prototype.bytesPerElement=12,Bt(R,"StructArrayLayout1ul3ui12");class K extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,i){const s=this.length;return this.resize(s+1),this.emplace(s,e,i)}emplace(e,i,s){const c=2*e;return this.uint16[c+0]=i,this.uint16[c+1]=s,e}}K.prototype.bytesPerElement=4,Bt(K,"StructArrayLayout2ui4");class se extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const i=this.length;return this.resize(i+1),this.emplace(i,e)}emplace(e,i){return this.uint16[1*e+0]=i,e}}se.prototype.bytesPerElement=2,Bt(se,"StructArrayLayout1ui2");class _e extends ie{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,i){const s=this.length;return this.resize(s+1),this.emplace(s,e,i)}emplace(e,i,s){const c=2*e;return this.float32[c+0]=i,this.float32[c+1]=s,e}}_e.prototype.bytesPerElement=8,Bt(_e,"StructArrayLayout2f8");class Pe extends U{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Pe.prototype.size=40;class et extends Nt{get(e){return new Pe(this,e)}}Bt(et,"CollisionBoxArray");class Ot extends U{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(e){this._structArray.uint8[this._pos1+49]=e}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(e){this._structArray.uint8[this._pos1+50]=e}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(e){this._structArray.uint32[this._pos4+13]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(e){this._structArray.uint8[this._pos1+58]=e}}Ot.prototype.size=60;class Xt extends Ei{get(e){return new Ot(this,e)}}Bt(Xt,"PlacedSymbolArray");class Ai extends U{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(e){this._structArray.uint32[this._pos4+15]=e}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Ai.prototype.size=76;class Pi extends rn{get(e){return new Ai(this,e)}}Bt(Pi,"SymbolInstanceArray");class Kn extends qt{getoffsetX(e){return this.float32[1*e+0]}}Bt(Kn,"GlyphOffsetArray");class Ia extends ve{getx(e){return this.int16[2*e+0]}gety(e){return this.int16[2*e+1]}}Bt(Ia,"SymbolLineVertexArray");class lc extends U{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}lc.prototype.size=12;class su extends R{get(e){return new lc(this,e)}}Bt(su,"FeatureIndexArray");class qi extends K{geta_centroid_pos0(e){return this.uint16[2*e+0]}geta_centroid_pos1(e){return this.uint16[2*e+1]}}Bt(qi,"FillExtrusionCentroidArray");const Rl=ce([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),cc=ce([{name:"a_dash",components:4,type:"Uint16"}]);var Eu={exports:{}},Fh=function(t,e){var i,s,c,_,g,x,D,E;for(s=t.length-(i=3&t.length),c=e,g=3432918353,x=461845907,E=0;E<s;)D=255&t.charCodeAt(E)|(255&t.charCodeAt(++E))<<8|(255&t.charCodeAt(++E))<<16|(255&t.charCodeAt(++E))<<24,++E,c=27492+(65535&(_=5*(65535&(c=(c^=D=(65535&(D=(D=(65535&D)*g+(((D>>>16)*g&65535)<<16)&4294967295)<<15|D>>>17))*x+(((D>>>16)*x&65535)<<16)&4294967295)<<13|c>>>19))+((5*(c>>>16)&65535)<<16)&4294967295))+((58964+(_>>>16)&65535)<<16);switch(D=0,i){case 3:D^=(255&t.charCodeAt(E+2))<<16;case 2:D^=(255&t.charCodeAt(E+1))<<8;case 1:c^=D=(65535&(D=(D=(65535&(D^=255&t.charCodeAt(E)))*g+(((D>>>16)*g&65535)<<16)&4294967295)<<15|D>>>17))*x+(((D>>>16)*x&65535)<<16)&4294967295}return c^=t.length,c=2246822507*(65535&(c^=c>>>16))+((2246822507*(c>>>16)&65535)<<16)&4294967295,c=3266489909*(65535&(c^=c>>>13))+((3266489909*(c>>>16)&65535)<<16)&4294967295,(c^=c>>>16)>>>0},jd=function(t,e){for(var i,s=t.length,c=e^s,_=0;s>=4;)i=1540483477*(65535&(i=255&t.charCodeAt(_)|(255&t.charCodeAt(++_))<<8|(255&t.charCodeAt(++_))<<16|(255&t.charCodeAt(++_))<<24))+((1540483477*(i>>>16)&65535)<<16),c=1540483477*(65535&c)+((1540483477*(c>>>16)&65535)<<16)^(i=1540483477*(65535&(i^=i>>>24))+((1540483477*(i>>>16)&65535)<<16)),s-=4,++_;switch(s){case 3:c^=(255&t.charCodeAt(_+2))<<16;case 2:c^=(255&t.charCodeAt(_+1))<<8;case 1:c=1540483477*(65535&(c^=255&t.charCodeAt(_)))+((1540483477*(c>>>16)&65535)<<16)}return c=1540483477*(65535&(c^=c>>>13))+((1540483477*(c>>>16)&65535)<<16),(c^=c>>>15)>>>0};Eu.exports=Fh,Eu.exports.murmur3=Fh,Eu.exports.murmur2=jd;var Bh=Me(Eu.exports);class Au{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,i,s,c){this.ids.push(uc(e)),this.positions.push(i,s,c)}getPositions(e){const i=uc(e);let s=0,c=this.ids.length-1;for(;s<c;){const g=s+c>>1;this.ids[g]>=i?c=g:s=g+1}const _=[];for(;this.ids[s]===i;)_.push({index:this.positions[3*s],start:this.positions[3*s+1],end:this.positions[3*s+2]}),s++;return _}static serialize(e,i){const s=new Float64Array(e.ids),c=new Uint32Array(e.positions);return jh(s,c,0,s.length-1),i&&i.push(s.buffer,c.buffer),{ids:s,positions:c}}static deserialize(e){const i=new Au;return i.ids=e.ids,i.positions=e.positions,i.indexed=!0,i}}function uc(t){const e=+t;return!isNaN(e)&&Number.MIN_SAFE_INTEGER<=e&&e<=Number.MAX_SAFE_INTEGER?e:Bh(String(t))}function jh(t,e,i,s){for(;i<s;){const c=t[i+s>>1];let _=i-1,g=s+1;for(;;){do{_++}while(t[_]<c);do{g--}while(t[g]>c);if(_>=g)break;Vd(t,_,g),Vd(e,3*_,3*g),Vd(e,3*_+1,3*g+1),Vd(e,3*_+2,3*g+2)}g-i<s-g?(jh(t,e,i,g),i=g+1):(jh(t,e,g+1,s),s=g)}}function Vd(t,e,i){const s=t[e];t[e]=t[i],t[i]=s}Bt(Au,"FeaturePositionMap");class Dc{constructor(e){this.gl=e.gl,this.initialized=!1}fetchUniformLocation(e,i){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(e,i),this.initialized=!0),!!this.location}}class Hd extends Dc{constructor(e){super(e),this.current=0}set(e,i,s){this.fetchUniformLocation(e,i)&&this.current!==s&&(this.current=s,this.gl.uniform1f(this.location,s))}}class Kp extends Dc{constructor(e){super(e),this.current=[0,0,0,0]}set(e,i,s){this.fetchUniformLocation(e,i)&&(s[0]===this.current[0]&&s[1]===this.current[1]&&s[2]===this.current[2]&&s[3]===this.current[3]||(this.current=s,this.gl.uniform4f(this.location,s[0],s[1],s[2],s[3])))}}class Nd extends Dc{constructor(e){super(e),this.current=mn.transparent}set(e,i,s){this.fetchUniformLocation(e,i)&&(s.r===this.current.r&&s.g===this.current.g&&s.b===this.current.b&&s.a===this.current.a||(this.current=s,this.gl.uniform4f(this.location,s.r,s.g,s.b,s.a)))}}const E_=new Float32Array(16),Vh=new Float32Array(9),Qp=new Float32Array(4);function Hh(t){return[F(255*t.r,255*t.g),F(255*t.b,255*t.a)]}class cd{constructor(e,i,s){this.value=e,this.uniformNames=i.map(c=>`u_${c}`),this.type=s}setUniform(e,i,s,c,_){i.set(e,_,c.constantOr(this.value))}getBinding(e,i){return"color"===this.type?new Nd(e):new Hd(e)}}class Pu{constructor(e,i){this.uniformNames=i.map(s=>`u_${s}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(e){this.pixelRatio=e.pixelRatio||1,this.pattern=e.tl.concat(e.br)}setUniform(e,i,s,c,_){const g="u_pattern"===_||"u_dash"===_?this.pattern:"u_pixel_ratio"===_?this.pixelRatio:null;g&&i.set(e,_,g)}getBinding(e,i){return"u_pattern"===i||"u_dash"===i?new Kp(e):new Hd(e)}}class nl{constructor(e,i,s,c){this.expression=e,this.type=s,this.maxValue=0,this.paintVertexAttributes=i.map(_=>({name:`a_${_}`,type:"Float32",components:"color"===s?2:1,offset:0})),this.paintVertexArray=new c}populatePaintArray(e,i,s,c,_,g){const x=this.paintVertexArray.length,D=this.expression.evaluate(new V(0),i,{},_,c,g);this.paintVertexArray.resize(e),this._setPaintValue(x,e,D)}updatePaintArray(e,i,s,c,_){const g=this.expression.evaluate({zoom:0},s,c,void 0,_);this._setPaintValue(e,i,g)}_setPaintValue(e,i,s){if("color"===this.type){const c=Hh(s);for(let _=e;_<i;_++)this.paintVertexArray.emplace(_,c[0],c[1])}else{for(let c=e;c<i;c++)this.paintVertexArray.emplace(c,s);this.maxValue=Math.max(this.maxValue,Math.abs(s))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Yl{constructor(e,i,s,c,_,g){this.expression=e,this.uniformNames=i.map(x=>`u_${x}_t`),this.type=s,this.useIntegerZoom=c,this.zoom=_,this.maxValue=0,this.paintVertexAttributes=i.map(x=>({name:`a_${x}`,type:"Float32",components:"color"===s?4:2,offset:0})),this.paintVertexArray=new g}populatePaintArray(e,i,s,c,_,g){const x=this.expression.evaluate(new V(this.zoom),i,{},_,c,g),D=this.expression.evaluate(new V(this.zoom+1),i,{},_,c,g),E=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(E,e,x,D)}updatePaintArray(e,i,s,c,_){const g=this.expression.evaluate({zoom:this.zoom},s,c,void 0,_),x=this.expression.evaluate({zoom:this.zoom+1},s,c,void 0,_);this._setPaintValue(e,i,g,x)}_setPaintValue(e,i,s,c){if("color"===this.type){const _=Hh(s),g=Hh(c);for(let x=e;x<i;x++)this.paintVertexArray.emplace(x,_[0],_[1],g[0],g[1])}else{for(let _=e;_<i;_++)this.paintVertexArray.emplace(_,s,c);this.maxValue=Math.max(this.maxValue,Math.abs(s),Math.abs(c))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,i,s,c,_){const g=this.useIntegerZoom?Math.floor(s.zoom):s.zoom,x=ti(this.expression.interpolationFactor(g,this.zoom,this.zoom+1),0,1);i.set(e,_,x)}getBinding(e,i){return new Hd(e)}}class Gc{constructor(e,i,s,c,_){this.expression=e,this.layerId=_,this.paintVertexAttributes=("array"===s?cc:Rl).members;for(let g=0;g<i.length;++g);this.paintVertexArray=new c}populatePaintArray(e,i,s){const c=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValues(c,e,i.patterns&&i.patterns[this.layerId],s)}updatePaintArray(e,i,s,c,_,g){this._setPaintValues(e,i,s.patterns&&s.patterns[this.layerId],g)}_setPaintValues(e,i,s,c){if(!c||!s)return;const _=c[s];if(!_)return;const{tl:g,br:x,pixelRatio:D}=_;for(let E=e;E<i;E++)this.paintVertexArray.emplace(E,g[0],g[1],x[0],x[1],D)}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Zc{constructor(e,i,s=(()=>!0)){this.binders={},this._buffers=[];const c=[];for(const _ in e.paint._values){if(!s(_))continue;const g=e.paint.get(_);if(!(g instanceof f&&Ka(g.property.specification)))continue;const x=A_(_,e.type),D=g.value,E=g.property.specification.type,B=!!g.property.useIntegerZoom,H="line-dasharray"===_||_.endsWith("pattern"),G="line-dasharray"===_&&"constant"!==e.layout.get("line-cap").value.kind;if("constant"!==D.kind||G)if("source"===D.kind||G||H){const ee=tf(_,E,"source");this.binders[_]=H?new Gc(D,x,E,ee,e.id):new nl(D,x,E,ee),c.push(`/a_${_}`)}else{const ee=tf(_,E,"composite");this.binders[_]=new Yl(D,x,E,B,i,ee),c.push(`/z_${_}`)}else this.binders[_]=H?new Pu(D.value,x):new cd(D.value,x,E),c.push(`/u_${_}`)}this.cacheKey=c.sort().join("")}getMaxValue(e){const i=this.binders[e];return i instanceof nl||i instanceof Yl?i.maxValue:0}populatePaintArrays(e,i,s,c,_,g){for(const x in this.binders){const D=this.binders[x];(D instanceof nl||D instanceof Yl||D instanceof Gc)&&D.populatePaintArray(e,i,s,c,_,g)}}setConstantPatternPositions(e){for(const i in this.binders){const s=this.binders[i];s instanceof Pu&&s.setConstantPatternPositions(e)}}updatePaintArrays(e,i,s,c,_,g){let x=!1;for(const D in e){const E=i.getPositions(D);for(const B of E){const H=s.feature(B.index);for(const G in this.binders){const ee=this.binders[G];if((ee instanceof nl||ee instanceof Yl||ee instanceof Gc)&&!0===ee.expression.isStateDependent){const ne=c.paint.get(G);ee.expression=ne.value,ee.updatePaintArray(B.start,B.end,H,e[D],_,g),x=!0}}}}return x}defines(){const e=[];for(const i in this.binders){const s=this.binders[i];(s instanceof cd||s instanceof Pu)&&e.push(...s.uniformNames.map(c=>`#define HAS_UNIFORM_${c}`))}return e}getBinderAttributes(){const e=[];for(const i in this.binders){const s=this.binders[i];if(s instanceof nl||s instanceof Yl||s instanceof Gc)for(let c=0;c<s.paintVertexAttributes.length;c++)e.push(s.paintVertexAttributes[c].name)}return e}getBinderUniforms(){const e=[];for(const i in this.binders){const s=this.binders[i];if(s instanceof cd||s instanceof Pu||s instanceof Yl)for(const c of s.uniformNames)e.push(c)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e){const i=[];for(const s in this.binders){const c=this.binders[s];if(c instanceof cd||c instanceof Pu||c instanceof Yl)for(const _ of c.uniformNames)i.push({name:_,property:s,binding:c.getBinding(e,_)})}return i}setUniforms(e,i,s,c,_){for(const{name:g,property:x,binding:D}of s)this.binders[x].setUniform(e,D,_,c.get(x),g)}updatePaintBuffers(){this._buffers=[];for(const e in this.binders){const i=this.binders[e];(i instanceof nl||i instanceof Yl||i instanceof Gc)&&i.paintVertexBuffer&&this._buffers.push(i.paintVertexBuffer)}}upload(e){for(const i in this.binders){const s=this.binders[i];(s instanceof nl||s instanceof Yl||s instanceof Gc)&&s.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const i=this.binders[e];(i instanceof nl||i instanceof Yl||i instanceof Gc)&&i.destroy()}}}class lu{constructor(e,i,s=(()=>!0)){this.programConfigurations={};for(const c of e)this.programConfigurations[c.id]=new Zc(c,i,s);this.needsUpload=!1,this._featureMap=new Au,this._bufferOffset=0}populatePaintArrays(e,i,s,c,_,g,x){for(const D in this.programConfigurations)this.programConfigurations[D].populatePaintArrays(e,i,c,_,g,x);void 0!==i.id&&this._featureMap.add(i.id,s,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,i,s,c,_){for(const g of s)this.needsUpload=this.programConfigurations[g.id].updatePaintArrays(e,this._featureMap,i,g,c,_)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const i in this.programConfigurations)this.programConfigurations[i].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}const ef={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function A_(t,e){return ef[t]||[t.replace(`${e}-`,"").replace(/-/g,"_")]}const P_={"line-pattern":{source:Be,composite:Be},"fill-pattern":{source:Be,composite:Be},"fill-extrusion-pattern":{source:Be,composite:Be},"line-dasharray":{source:Ge,composite:Ge}},I_={color:{source:_e,composite:Ze},number:{source:qt,composite:_e}};function tf(t,e,i){const s=P_[t];return s&&s[i]||I_[e][i]}Bt(cd,"ConstantBinder"),Bt(Pu,"PatternConstantBinder"),Bt(nl,"SourceExpressionBinder"),Bt(Gc,"PatternCompositeBinder"),Bt(Yl,"CompositeExpressionBinder"),Bt(Zc,"ProgramConfiguration",{omit:["_buffers"]}),Bt(lu,"ProgramConfigurationSet");const nf="-transition";class yl extends Ws{constructor(e,i){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&"sky"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),i.layout&&(this._unevaluatedLayout=new h(i.layout)),i.paint)){this._transitionablePaint=new re(i.paint);for(const s in e.paint)this.setPaintProperty(s,e.paint[s],{validate:!1});for(const s in e.layout)this.setLayoutProperty(s,e.layout[s],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new y(i.paint)}}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,i,s={}){null!=i&&this._validate(Nc,`layers.${this.id}.layout.${e}`,e,i,s)||("visibility"!==e?this._unevaluatedLayout.setValue(e,i):this.visibility=i)}getPaintProperty(e){return Mn(e,nf)?this._transitionablePaint.getTransition(e.slice(0,-11)):this._transitionablePaint.getValue(e)}setPaintProperty(e,i,s={}){if(null!=i&&this._validate(Hc,`layers.${this.id}.paint.${e}`,e,i,s))return!1;if(Mn(e,nf))return this._transitionablePaint.setTransition(e.slice(0,-11),i||void 0),!1;{const c=this._transitionablePaint._values[e],_=c.value.isDataDriven(),g=c.value;this._transitionablePaint.setValue(e,i),this._handleSpecialPaintPropertyUpdate(e);const x=this._transitionablePaint._values[e].value,D=x.isDataDriven(),E=Mn(e,"pattern")||"line-dasharray"===e;return D||_||E||this._handleOverridablePaintPropertyUpdate(e,g,x)}}_handleSpecialPaintPropertyUpdate(e){}getProgramIds(){return null}getProgramConfiguration(e){return null}_handleOverridablePaintPropertyUpdate(e,i,s){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,i){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,i)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,i)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),Jr(e,(i,s)=>!(void 0===i||"layout"===s&&!Object.keys(i).length||"paint"===s&&!Object.keys(i).length))}_validate(e,i,s,c,_={}){return(!_||!1!==_.validate)&&wc(this,e.call(tl,{key:i,layerType:this.type,objectKey:s,value:c,styleSpec:nt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const i=this.paint.get(e);if(i instanceof f&&Ka(i.property.specification)&&("source"===i.value.kind||"composite"===i.value.kind)&&i.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=so(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const qc=ce([{name:"a_pos",components:2,type:"Int16"}],4),Iu=ce([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Wn{constructor(e=[]){this.segments=e}prepareSegment(e,i,s,c){let _=this.segments[this.segments.length-1];return e>Wn.MAX_VERTEX_ARRAY_LENGTH&&Ri(`Max vertices per segment is ${Wn.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!_||_.vertexLength+e>Wn.MAX_VERTEX_ARRAY_LENGTH||_.sortKey!==c)&&(_={vertexOffset:i.length,primitiveOffset:s.length,vertexLength:0,primitiveLength:0},void 0!==c&&(_.sortKey=c),this.segments.push(_)),_}get(){return this.segments}destroy(){for(const e of this.segments)for(const i in e.vaos)e.vaos[i].destroy()}static simpleSegment(e,i,s,c){return new Wn([{vertexOffset:e,primitiveOffset:i,vertexLength:s,primitiveLength:c,vaos:{},sortKey:0}])}}Wn.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Bt(Wn,"SegmentVector");var Wt=8192;class ra{constructor(e,i){e&&(i?this.setSouthWest(e).setNorthEast(i):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof kn?new kn(e.lng,e.lat):kn.convert(e),this}setSouthWest(e){return this._sw=e instanceof kn?new kn(e.lng,e.lat):kn.convert(e),this}extend(e){const i=this._sw,s=this._ne;let c,_;if(e instanceof kn)c=e,_=e;else{if(!(e instanceof ra))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(ra.convert(e)):this.extend(kn.convert(e)):"object"==typeof e&&null!==e&&e.hasOwnProperty("lat")&&(e.hasOwnProperty("lon")||e.hasOwnProperty("lng"))?this.extend(kn.convert(e)):this;if(c=e._sw,_=e._ne,!c||!_)return this}return i||s?(i.lng=Math.min(c.lng,i.lng),i.lat=Math.min(c.lat,i.lat),s.lng=Math.max(_.lng,s.lng),s.lat=Math.max(_.lat,s.lat)):(this._sw=new kn(c.lng,c.lat),this._ne=new kn(_.lng,_.lat)),this}getCenter(){return new kn((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new kn(this.getWest(),this.getNorth())}getSouthEast(){return new kn(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:i,lat:s}=kn.convert(e);let c=this._sw.lng<=i&&i<=this._ne.lng;return this._sw.lng>this._ne.lng&&(c=this._sw.lng>=i&&i>=this._ne.lng),this._sw.lat<=s&&s<=this._ne.lat&&c}static convert(e){return!e||e instanceof ra?e:new ra(e)}}var Lc=1e-6,co="undefined"!=typeof Float32Array?Float32Array:Array;function Nh(){var t=new co(9);return co!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function Uh(t,e,i){var s=e[0],c=e[1],_=e[2],g=e[3],x=e[4],D=e[5],E=e[6],B=e[7],H=e[8],G=i[0],ee=i[1],ne=i[2],le=i[3],me=i[4],xe=i[5],Se=i[6],we=i[7],Le=i[8];return t[0]=G*s+ee*g+ne*E,t[1]=G*c+ee*x+ne*B,t[2]=G*_+ee*D+ne*H,t[3]=le*s+me*g+xe*E,t[4]=le*c+me*x+xe*B,t[5]=le*_+me*D+xe*H,t[6]=Se*s+we*g+Le*E,t[7]=Se*c+we*x+Le*B,t[8]=Se*_+we*D+Le*H,t}function Vs(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ud(t,e){var i=e[0],s=e[1],c=e[2],_=e[3],g=e[4],x=e[5],D=e[6],E=e[7],B=e[8],H=e[9],G=e[10],ee=e[11],ne=e[12],le=e[13],me=e[14],xe=e[15],Se=i*x-s*g,we=i*D-c*g,Le=i*E-_*g,Ie=s*D-c*x,Ae=s*E-_*x,Qe=c*E-_*D,Xe=B*le-H*ne,dt=B*me-G*ne,kt=B*xe-ee*ne,it=H*me-G*le,_t=H*xe-ee*le,mt=G*xe-ee*me,xt=Se*mt-we*_t+Le*it+Ie*kt-Ae*dt+Qe*Xe;return xt?(t[0]=(x*mt-D*_t+E*it)*(xt=1/xt),t[1]=(c*_t-s*mt-_*it)*xt,t[2]=(le*Qe-me*Ae+xe*Ie)*xt,t[3]=(G*Ae-H*Qe-ee*Ie)*xt,t[4]=(D*kt-g*mt-E*dt)*xt,t[5]=(i*mt-c*kt+_*dt)*xt,t[6]=(me*Le-ne*Qe-xe*we)*xt,t[7]=(B*Qe-G*Le+ee*we)*xt,t[8]=(g*_t-x*kt+E*Xe)*xt,t[9]=(s*kt-i*_t-_*Xe)*xt,t[10]=(ne*Ae-le*Le+xe*Se)*xt,t[11]=(H*Le-B*Ae-ee*Se)*xt,t[12]=(x*dt-g*it-D*Xe)*xt,t[13]=(i*it-s*dt+c*Xe)*xt,t[14]=(le*we-ne*Ie-me*Se)*xt,t[15]=(B*Ie-H*we+G*Se)*xt,t):null}function $c(t,e,i){var s=e[0],c=e[1],_=e[2],g=e[3],x=e[4],D=e[5],E=e[6],B=e[7],H=e[8],G=e[9],ee=e[10],ne=e[11],le=e[12],me=e[13],xe=e[14],Se=e[15],we=i[0],Le=i[1],Ie=i[2],Ae=i[3];return t[0]=we*s+Le*x+Ie*H+Ae*le,t[1]=we*c+Le*D+Ie*G+Ae*me,t[2]=we*_+Le*E+Ie*ee+Ae*xe,t[3]=we*g+Le*B+Ie*ne+Ae*Se,t[4]=(we=i[4])*s+(Le=i[5])*x+(Ie=i[6])*H+(Ae=i[7])*le,t[5]=we*c+Le*D+Ie*G+Ae*me,t[6]=we*_+Le*E+Ie*ee+Ae*xe,t[7]=we*g+Le*B+Ie*ne+Ae*Se,t[8]=(we=i[8])*s+(Le=i[9])*x+(Ie=i[10])*H+(Ae=i[11])*le,t[9]=we*c+Le*D+Ie*G+Ae*me,t[10]=we*_+Le*E+Ie*ee+Ae*xe,t[11]=we*g+Le*B+Ie*ne+Ae*Se,t[12]=(we=i[12])*s+(Le=i[13])*x+(Ie=i[14])*H+(Ae=i[15])*le,t[13]=we*c+Le*D+Ie*G+Ae*me,t[14]=we*_+Le*E+Ie*ee+Ae*xe,t[15]=we*g+Le*B+Ie*ne+Ae*Se,t}function Ou(t,e,i){var s,c,_,g,x,D,E,B,H,G,ee,ne,le=i[0],me=i[1],xe=i[2];return e===t?(t[12]=e[0]*le+e[4]*me+e[8]*xe+e[12],t[13]=e[1]*le+e[5]*me+e[9]*xe+e[13],t[14]=e[2]*le+e[6]*me+e[10]*xe+e[14],t[15]=e[3]*le+e[7]*me+e[11]*xe+e[15]):(c=e[1],_=e[2],g=e[3],x=e[4],D=e[5],E=e[6],B=e[7],H=e[8],G=e[9],ee=e[10],ne=e[11],t[0]=s=e[0],t[1]=c,t[2]=_,t[3]=g,t[4]=x,t[5]=D,t[6]=E,t[7]=B,t[8]=H,t[9]=G,t[10]=ee,t[11]=ne,t[12]=s*le+x*me+H*xe+e[12],t[13]=c*le+D*me+G*xe+e[13],t[14]=_*le+E*me+ee*xe+e[14],t[15]=g*le+B*me+ne*xe+e[15]),t}function Xc(t,e,i){var s=i[0],c=i[1],_=i[2];return t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s,t[4]=e[4]*c,t[5]=e[5]*c,t[6]=e[6]*c,t[7]=e[7]*c,t[8]=e[8]*_,t[9]=e[9]*_,t[10]=e[10]*_,t[11]=e[11]*_,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Wd(t,e,i){var s=Math.sin(i),c=Math.cos(i),_=e[4],g=e[5],x=e[6],D=e[7],E=e[8],B=e[9],H=e[10],G=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=_*c+E*s,t[5]=g*c+B*s,t[6]=x*c+H*s,t[7]=D*c+G*s,t[8]=E*c-_*s,t[9]=B*c-g*s,t[10]=H*c-x*s,t[11]=G*c-D*s,t}function ud(t,e,i){var s=Math.sin(i),c=Math.cos(i),_=e[0],g=e[1],x=e[2],D=e[3],E=e[8],B=e[9],H=e[10],G=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=_*c-E*s,t[1]=g*c-B*s,t[2]=x*c-H*s,t[3]=D*c-G*s,t[8]=_*s+E*c,t[9]=g*s+B*c,t[10]=x*s+H*c,t[11]=D*s+G*c,t}function Qi(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function kr(t,e,i){var s,c,_,g=i[0],x=i[1],D=i[2],E=Math.hypot(g,x,D);return E<Lc?null:(g*=E=1/E,x*=E,D*=E,s=Math.sin(e),c=Math.cos(e),t[0]=g*g*(_=1-c)+c,t[1]=x*g*_+D*s,t[2]=D*g*_-x*s,t[3]=0,t[4]=g*x*_-D*s,t[5]=x*x*_+c,t[6]=D*x*_+g*s,t[7]=0,t[8]=g*D*_+x*s,t[9]=x*D*_-g*s,t[10]=D*D*_+c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var Ru=$c;function Gd(){var t=new co(3);return co!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Wh(t){var e=new co(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function cu(t){return Math.hypot(t[0],t[1],t[2])}function uu(t,e,i){var s=new co(3);return s[0]=t,s[1]=e,s[2]=i,s}function zl(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t}function Zd(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function Gh(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function dd(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t}function Yu(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t}function Ao(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function Sc(t,e,i,s){return t[0]=e[0]+i[0]*s,t[1]=e[1]+i[1]*s,t[2]=e[2]+i[2]*s,t}function is(t,e){var i=e[0],s=e[1],c=e[2],_=i*i+s*s+c*c;return _>0&&(_=1/Math.sqrt(_)),t[0]=e[0]*_,t[1]=e[1]*_,t[2]=e[2]*_,t}function Po(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Zh(t,e,i){var s=e[0],c=e[1],_=e[2],g=i[0],x=i[1],D=i[2];return t[0]=c*D-_*x,t[1]=_*g-s*D,t[2]=s*x-c*g,t}function mr(t,e,i){var s=e[0],c=e[1],_=e[2],g=i[3]*s+i[7]*c+i[11]*_+i[15];return t[0]=(i[0]*s+i[4]*c+i[8]*_+i[12])/(g=g||1),t[1]=(i[1]*s+i[5]*c+i[9]*_+i[13])/g,t[2]=(i[2]*s+i[6]*c+i[10]*_+i[14])/g,t}function qh(t,e,i){var s=i[0],c=i[1],_=i[2],g=e[0],x=e[1],D=e[2],E=c*D-_*x,B=_*g-s*D,H=s*x-c*g,G=c*H-_*B,ee=_*E-s*H,ne=s*B-c*E,le=2*i[3];return B*=le,H*=le,ee*=2,ne*=2,t[0]=g+(E*=le)+(G*=2),t[1]=x+B+ee,t[2]=D+H+ne,t}var zu,Fl=Zd,rf=Gh,qd=cu;function $h(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t}function Xh(t,e){var i=e[0],s=e[1],c=e[2],_=e[3],g=i*i+s*s+c*c+_*_;return g>0&&(g=1/Math.sqrt(g)),t[0]=i*g,t[1]=s*g,t[2]=c*g,t[3]=_*g,t}function Jc(t,e,i){var s=e[0],c=e[1],_=e[2],g=e[3];return t[0]=i[0]*s+i[4]*c+i[8]*_+i[12]*g,t[1]=i[1]*s+i[5]*c+i[9]*_+i[13]*g,t[2]=i[2]*s+i[6]*c+i[10]*_+i[14]*g,t[3]=i[3]*s+i[7]*c+i[11]*_+i[15]*g,t}function Jh(){var t=new co(4);return co!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function $d(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function dc(t,e,i){i*=.5;var s=e[0],c=e[1],_=e[2],g=e[3],x=Math.sin(i),D=Math.cos(i);return t[0]=s*D+g*x,t[1]=c*D+_*x,t[2]=_*D-c*x,t[3]=g*D-s*x,t}function Hs(t,e,i){i*=.5;var s=e[0],c=e[1],_=e[2],g=e[3],x=Math.sin(i),D=Math.cos(i);return t[0]=s*D-_*x,t[1]=c*D+g*x,t[2]=_*D+s*x,t[3]=g*D-c*x,t}Gd(),zu=new co(4),co!=Float32Array&&(zu[0]=0,zu[1]=0,zu[2]=0,zu[3]=0);var rl=Xh;Gd(),uu(1,0,0),uu(0,1,0),Jh(),Jh(),Nh();const O_=ce([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:af}=O_,sf=ce([{name:"a_pos_3",components:3,type:"Int16"}]);var hd=ce([{name:"a_pos",type:"Int16",components:2}]);class Kh{constructor(e,i){this.pos=e,this.dir=i}intersectsPlane(e,i,s){const c=Po(i,this.dir);if(Math.abs(c)<1e-6)return!1;const _=((e[0]-this.pos[0])*i[0]+(e[1]-this.pos[1])*i[1]+(e[2]-this.pos[2])*i[2])/c;return s[0]=this.pos[0]+this.dir[0]*_,s[1]=this.pos[1]+this.dir[1]*_,s[2]=this.pos[2]+this.dir[2]*_,!0}closestPointOnSphere(e,i,s){if(le=(ee=this.pos)[0],me=ee[1],xe=ee[2],Se=(ne=e)[0],we=ne[1],Le=ne[2],Math.abs(le-Se)<=Lc*Math.max(1,Math.abs(le),Math.abs(Se))&&Math.abs(me-we)<=Lc*Math.max(1,Math.abs(me),Math.abs(we))&&Math.abs(xe-Le)<=Lc*Math.max(1,Math.abs(xe),Math.abs(Le))||0===i)return s[0]=s[1]=s[2]=0,!1;var ee,ne,le,me,xe,Se,we,Le;const[c,_,g]=this.dir,x=this.pos[0]-e[0],D=this.pos[1]-e[1],E=this.pos[2]-e[2],B=c*c+_*_+g*g,H=2*(x*c+D*_+E*g),G=H*H-4*B*(x*x+D*D+E*E-i*i);if(G<0){const ee=Math.max(-H/2,0),ne=x+c*ee,le=D+_*ee,me=E+g*ee,xe=Math.hypot(ne,le,me);return s[0]=ne*i/xe,s[1]=le*i/xe,s[2]=me*i/xe,!1}{const ee=(-H-Math.sqrt(G))/(2*B);if(ee<0){const ne=Math.hypot(x,D,E);return s[0]=x*i/ne,s[1]=D*i/ne,s[2]=E*i/ne,!1}return s[0]=x+c*ee,s[1]=D+_*ee,s[2]=E+g*ee,!0}}}class Qh{constructor(e,i,s,c,_){this.TL=e,this.TR=i,this.BR=s,this.BL=c,this.horizon=_}static fromInvProjectionMatrix(e,i,s){const c=[-1,1,1],_=[1,1,1],g=[1,-1,1],x=[-1,-1,1],D=mr(c,c,e),E=mr(_,_,e),B=mr(g,g,e),H=mr(x,x,e);return new Qh(D,E,B,H,i/s)}}class Xd{constructor(e,i){this.points=e,this.planes=i}static fromInvProjectionMatrix(e,i,s,c){const _=Math.pow(2,s),g=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(D=>{const E=Jc([],D,e),B=1/E[3]/i*_;return(H=E)[0]=(G=E)[0]*(ee=[B,B,c?1/E[3]:B,B])[0],H[1]=G[1]*ee[1],H[2]=G[2]*ee[2],H[3]=G[3]*ee[3],H;var H,G,ee}),x=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(D=>{const E=is([],Zh([],Fl([],g[D[0]],g[D[1]]),Fl([],g[D[2]],g[D[1]]))),B=-Po(E,g[D[1]]);return E.concat(B)});return new Xd(g,x)}}class Ds{static fromPoints(e){const i=[1/0,1/0,1/0],s=[-1/0,-1/0,-1/0];for(const c of e)dd(i,i,c),Yu(s,s,c);return new Ds(i,s)}static applyTransform(e,i){const s=e.getCorners();for(let c=0;c<s.length;++c)mr(s[c],s[c],i);return Ds.fromPoints(s)}constructor(e,i){this.min=e,this.max=i,this.center=Ao([],zl([],this.min,this.max),.5)}quadrant(e){const i=[e%2==0,e<2],s=Wh(this.min),c=Wh(this.max);for(let _=0;_<i.length;_++)s[_]=i[_]?this.min[_]:this.center[_],c[_]=i[_]?this.center[_]:this.max[_];return c[2]=this.max[2],new Ds(s,c)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}distanceZ(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}getCorners(){const e=this.min,i=this.max;return[[e[0],e[1],e[2]],[i[0],e[1],e[2]],[i[0],i[1],e[2]],[e[0],i[1],e[2]],[e[0],e[1],i[2]],[i[0],e[1],i[2]],[i[0],i[1],i[2]],[e[0],i[1],i[2]]]}intersects(e){const i=this.getCorners();let s=!0;for(let c=0;c<e.planes.length;c++){const _=e.planes[c];let g=0;for(let x=0;x<i.length;x++)g+=Po(_,i[x])+_[3]>=0;if(0===g)return 0;g!==i.length&&(s=!1)}if(s)return 2;for(let c=0;c<3;c++){let _=Number.MAX_VALUE,g=-Number.MAX_VALUE;for(let x=0;x<e.points.length;x++){const D=e.points[x][c]-this.min[c];_=Math.min(_,D),g=Math.max(g,D)}if(g<0||_>this.max[c]-this.min[c])return 0}return 1}}const al=Wt/Math.PI/2,pd=[64,32,16],vl=-al,bl=al,fd=[new Ds([vl,vl,vl],[bl,bl,bl]),new Ds([vl,vl,vl],[0,0,bl]),new Ds([0,vl,vl],[bl,0,bl]),new Ds([vl,0,vl],[0,bl,bl]),new Ds([0,0,vl],[bl,bl,bl])];function Fu(t){return t*al/Hu}function lf(t,e,i,s=!0){const c=Ao([],t._camera.position,t.worldSize),_=[e,i,1,1];Jc(_,_,t.pixelMatrixInverse),$h(_,_,1/_[3]);const g=is([],Fl([],_,c)),x=t.globeMatrix,D=[x[12],x[13],x[14]],E=Fl([],D,c),B=cu(E),H=is([],E),G=t.worldSize/(2*Math.PI),ee=Po(H,g),ne=Math.asin(G/B);if(ne<Math.acos(ee)){if(!s)return null;const kt=[],it=[];Ao(kt,g,B/ee),is(it,Fl(it,kt,E)),is(g,zl(g,E,Ao(g,it,Math.tan(ne)*B)))}const le=[];new Kh(c,g).closestPointOnSphere(D,G,le);const me=is([],Di(x,0)),xe=is([],Di(x,1)),Se=is([],Di(x,2)),we=Po(me,le),Le=Po(xe,le),Ie=Po(Se,le),Ae=Gt(Math.asin(-Le/G));let Qe=Gt(Math.atan2(we,Ie));Qe=t.center.lng+function(kt,it){const _t=(it-kt+180)%360-180;return _t<-180?_t+360:_t}(t.center.lng,Qe);const Xe=jl(Qe),dt=ti(xl(Ae),0,1);return new Nu(Xe,dt)}class Y_{constructor(e,i,s){this.a=Fl([],e,s),this.b=Fl([],i,s),this.center=s;const c=is([],this.a),_=is([],this.b);this.angle=Math.acos(Po(c,_))}}function ip(t,e){if(0===t.angle)return null;let i;return i=0===t.a[e]?1/t.angle*.5*Math.PI:1/t.angle*Math.atan(t.b[e]/t.a[e]/Math.sin(t.angle)-1/Math.tan(t.angle)),i<0||i>1?null:function(s,c,_,g){const x=Math.sin(_);return s*(Math.sin((1-g)*_)/x)+c*(Math.sin(g*_)/x)}(t.a[e],t.b[e],t.angle,ti(i,0,1))+t.center[e]}function hc(t){if(t.z<=1)return fd[t.z+2*t.y+t.x];const e=Jd(pu(t));return Ds.fromPoints(e)}function hu(t,e,i){return Ao(t,t,1-i),Sc(t,t,e,i)}function cf(t,e){const i=Ec(e.zoom);if(0===i)return hc(t);const s=pu(t),c=Jd(s),_=jl(s.getWest())*e.worldSize,g=jl(s.getEast())*e.worldSize,x=xl(s.getNorth())*e.worldSize,D=xl(s.getSouth())*e.worldSize,E=[_,x,0],B=[g,x,0],H=[_,D,0],G=[g,D,0],ee=Ud([],e.globeMatrix);return mr(E,E,ee),mr(B,B,ee),mr(H,H,ee),mr(G,G,ee),c[0]=hu(c[0],H,i),c[1]=hu(c[1],G,i),c[2]=hu(c[2],B,i),c[3]=hu(c[3],E,i),Ds.fromPoints(c)}function _d(t,e,i){for(const s of t)mr(s,s,e),Ao(s,s,i)}function pu({x:t,y:e,z:i}){const s=1/(1<<i),c=new kn(uo(t*s),Oa((e+1)*s)),_=new kn(uo((t+1)*s),Oa(e*s));return new ra(c,_)}function Jd(t){const e=Tt(t.getNorth()),i=Tt(t.getSouth()),s=Math.cos(e),c=Math.cos(i),_=Math.sin(e),g=Math.sin(i),x=t.getWest(),D=t.getEast();return[Cc(c,g,x),Cc(c,g,D),Cc(s,_,D),Cc(s,_,x)]}function Cc(t,e,i,s=al){return i=Tt(i),[t*Math.sin(i)*s,-e*s,t*Math.cos(i)*s]}function ju(t,e,i){return Cc(Math.cos(Tt(t)),Math.sin(Tt(t)),e,i)}function Vu(t,e,i,s){const c=1<<i.z,_=(t/Wt+i.x)/c;return ju(Oa((e/Wt+i.y)/c),uo(_),s)}function Kd({min:t,max:e}){return 16383/Math.max(e[0]-t[0],e[1]-t[1],e[2]-t[2])}const uf=new Float64Array(16);function md(t){const e=Kd(t),i=Qi(uf,[e,e,e]);return Ou(i,i,((s=[])[0]=-(c=t.min)[0],s[1]=-c[1],s[2]=-c[2],s));var s,c}function fu(t){const e=(s=t.min,(i=uf)[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=s[0],i[13]=s[1],i[14]=s[2],i[15]=1,i);var i,s;const c=1/Kd(t);return Xc(e,e,[c,c,c])}function df(t,e,i,s,c){const _=function(D){const E=Wt/(2*Math.PI);return D/(2*Math.PI)/E}(i),g=[t,e,-i/(2*Math.PI)],x=Vs(new Float64Array(16));return Ou(x,x,g),Xc(x,x,[_,_,_]),Wd(x,x,Tt(-c)),ud(x,x,Tt(-s)),x}function Ec(t){return Dn(5,6,t)}function hf(t,e){const i=ju(e.lat,e.lng);return g=(c=Zd([],function(ne){const le=ju(ne._center.lat,ne._center.lng);let me=Zh([],uu(0,1,0),le);const xe=kr([],-ne.angle,le);me=mr(me,me,xe),kr(xe,-ne._pitch,me);const Se=is([],le);return Ao(Se,Se,Fu(ne.cameraToCenterDistance/ne.pixelsPerMeter)),mr(Se,Se,xe),zl([],le,Se)}(t),i))[0],x=c[1],D=c[2],E=(_=i)[0],B=_[1],H=_[2],ee=(G=Math.sqrt(g*g+x*x+D*D)*Math.sqrt(E*E+B*B+H*H))&&Po(c,_)/G,Math.acos(Math.min(Math.max(ee,-1),1));var c,_,g,x,D,E,B,H,G,ee}function ns(t,e){return hf(t,e)>Math.PI/2*1.01}const Ac=Tt(85),Bl=Math.cos(Ac),pc=Math.sin(Ac),Hu=6371008.8,$t=2*Math.PI*Hu;class fc{constructor(e,i){if(isNaN(e)||isNaN(i))throw new Error(`Invalid LngLat object: (${e}, ${i})`);if(this.lng=+e,this.lat=+i,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new fc(pn(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const i=Math.PI/180,s=this.lat*i,c=e.lat*i,_=Math.sin(s)*Math.sin(c)+Math.cos(s)*Math.cos(c)*Math.cos((e.lng-this.lng)*i);return Hu*Math.acos(Math.min(_,1))}toBounds(e=0){const i=360*e/40075017,s=i/Math.cos(Math.PI/180*this.lat);return new ra(new fc(this.lng-s,this.lat-i),new fc(this.lng+s,this.lat+i))}toEcef(e){const i=Fu(e);return ju(this.lat,this.lng,al+i)}static convert(e){if(e instanceof fc)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new fc(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new fc(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}var kn=fc;function np(t){return $t*Math.cos(t*Math.PI/180)}function jl(t){return(180+t)/360}function xl(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Io(t,e){return t/np(e)}function uo(t){return 360*t-180}function Oa(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}function rp(t,e){return t*np(Oa(e))}const Gr=85.051129;function pf(t){return 1/Math.cos(t*Math.PI/180)}class Nu{constructor(e,i,s=0){this.x=+e,this.y=+i,this.z=+s}static fromLngLat(e,i=0){const s=kn.convert(e);return new Nu(jl(s.lng),xl(s.lat),Io(i,s.lat))}toLngLat(){return new kn(uo(this.x),Oa(this.y))}toAltitude(){return rp(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/$t*pf(Oa(this.y))}}function Qd(t,e,i,s,c,_,g,x,D){const E=(e+s)/2,B=(i+c)/2,H=new He(E,B);x(H),function(G,ee,ne,le,me,xe){const Se=ne-me,we=le-xe;return Math.abs((le-ee)*Se-(ne-G)*we)/Math.hypot(Se,we)}(H.x,H.y,_.x,_.y,g.x,g.y)>=D?(Qd(t,e,i,E,B,_,H,x,D),Qd(t,E,B,s,c,H,g,x,D)):t.push(g)}function ff(t,e,i){let s=t[0],c=s.x,_=s.y;e(s);const g=[s];for(let x=1;x<t.length;x++){const D=t[x],{x:E,y:B}=D;e(D),Qd(g,c,_,E,B,s,D,e,i),c=E,_=B,s=D}return g}function ap(t,e,i,s){if(s(e,i)){const c=e.add(i)._mult(.5);ap(t,e,c,s),ap(t,c,i,s)}else t.push(i)}function _f(t,e){let i=t[0];const s=[i];for(let c=1;c<t.length;c++){const _=t[c];ap(s,i,_,e),i=_}return s}const Uu=Math.pow(2,14)-1,eh=-Uu-1;function mf(t,e){const i=Math.round(t.x*e),s=Math.round(t.y*e);return t.x=ti(i,eh,Uu),t.y=ti(s,eh,Uu),(i<t.x||i>t.x+1||s<t.y||s>t.y+1)&&Ri("Geometry exceeds allowed extent, reduce your vector tile buffer size"),t}function Vl(t,e,i){const s=t.loadGeometry(),c=t.extent,_=Wt/c;if(e&&i&&i.projection.isReprojectedInTileSpace){const g=1<<e.z,{scale:x,x:D,y:E,projection:B}=i,H=G=>{const ee=uo((e.x+G.x/c)/g),ne=Oa((e.y+G.y/c)/g),le=B.project(ee,ne);G.x=(le.x*x-D)*c,G.y=(le.y*x-E)*c};for(let G=0;G<s.length;G++)if(1!==t.type)s[G]=ff(s[G],H,1);else{const ee=[];for(const ne of s[G])ne.x<0||ne.x>=c||ne.y<0||ne.y>=c||(H(ne),ee.push(ne));s[G]=ee}}for(const g of s)for(const x of g)mf(x,_);return s}function Oo(t,e){return{type:t.type,id:t.id,properties:t.properties,geometry:e?Vl(t):[]}}function Wu(t,e,i,s,c){t.emplaceBack(2*e+(s+1)/2,2*i+(c+1)/2)}function Gu(t,e,i){t.emplaceBack(e.x,e.y,e.z,16384*i[0],16384*i[1],16384*i[2])}class gd{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(i=>i.id),this.index=e.index,this.hasPattern=!1,this.projection=e.projection,this.layoutVertexArray=new ve,this.indexArray=new Vt,this.segments=new Wn,this.programConfigurations=new lu(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id)}populate(e,i,s,c){const _=this.layers[0],g=[];let x=null;"circle"===_.type&&(x=_.layout.get("circle-sort-key"));for(const{feature:E,id:B,index:H,sourceLayerIndex:G}of e){const ee=this.layers[0]._featureFilter.needGeometry,ne=Oo(E,ee);if(!this.layers[0]._featureFilter.filter(new V(this.zoom),ne,s))continue;const le=x?x.evaluate(ne,{},s):void 0,me={id:B,properties:E.properties,type:E.type,sourceLayerIndex:G,index:H,geometry:ee?ne.geometry:Vl(E,s,c),patterns:{},sortKey:le};g.push(me)}x&&g.sort((E,B)=>E.sortKey-B.sortKey);let D=null;"globe"===c.projection.name&&(this.globeExtVertexArray=new lt,D=c.projection);for(const E of g){const{geometry:B,index:H,sourceLayerIndex:G}=E,ee=e[H].feature;this.addFeature(E,B,H,i.availableImages,s,D),i.featureIndex.insert(ee,B,H,G,this.index)}}update(e,i,s,c){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,i,this.stateDependentLayers,s,c)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,qc.members),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,Iu.members))),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(e,i,s,c,_,g){for(const x of i)for(const D of x){const E=D.x,B=D.y;if(E<0||E>=Wt||B<0||B>=Wt)continue;if(g){const ee=g.projectTilePoint(E,B,_),ne=g.upVector(_,E,B),le=this.globeExtVertexArray;Gu(le,ee,ne),Gu(le,ee,ne),Gu(le,ee,ne),Gu(le,ee,ne)}const H=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),G=H.vertexLength;Wu(this.layoutVertexArray,E,B,-1,-1),Wu(this.layoutVertexArray,E,B,1,-1),Wu(this.layoutVertexArray,E,B,1,1),Wu(this.layoutVertexArray,E,B,-1,1),this.indexArray.emplaceBack(G,G+1,G+2),this.indexArray.emplaceBack(G,G+2,G+3),H.vertexLength+=4,H.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,s,{},c,_)}}function sp(t,e){for(let i=0;i<t.length;i++)if(Pc(e,t[i]))return!0;for(let i=0;i<e.length;i++)if(Pc(t,e[i]))return!0;return!!ih(t,e)}function gf(t,e,i){return!!Pc(t,e)||!!Hl(e,t,i)}function th(t,e){if(1===t.length)return nh(e,t[0]);for(let i=0;i<e.length;i++){const s=e[i];for(let c=0;c<s.length;c++)if(Pc(t,s[c]))return!0}for(let i=0;i<t.length;i++)if(nh(e,t[i]))return!0;for(let i=0;i<e.length;i++)if(ih(t,e[i]))return!0;return!1}function yf(t,e,i){if(t.length>1){if(ih(t,e))return!0;for(let s=0;s<e.length;s++)if(Hl(e[s],t,i))return!0}for(let s=0;s<t.length;s++)if(Hl(t[s],e,i))return!0;return!1}function ih(t,e){if(0===t.length||0===e.length)return!1;for(let i=0;i<t.length-1;i++){const s=t[i],c=t[i+1];for(let _=0;_<e.length-1;_++)if(vf(s,c,e[_],e[_+1]))return!0}return!1}function vf(t,e,i,s){return er(t,i,s)!==er(e,i,s)&&er(t,e,i)!==er(t,e,s)}function Hl(t,e,i){const s=i*i;if(1===e.length)return t.distSqr(e[0])<s;for(let c=1;c<e.length;c++)if(op(t,e[c-1],e[c])<s)return!0;return!1}function op(t,e,i){const s=e.distSqr(i);if(0===s)return t.distSqr(e);const c=((t.x-e.x)*(i.x-e.x)+(t.y-e.y)*(i.y-e.y))/s;return t.distSqr(c<0?e:c>1?i:i.sub(e)._mult(c)._add(e))}function nh(t,e){let i,s,c,_=!1;for(let g=0;g<t.length;g++){i=t[g];for(let x=0,D=i.length-1;x<i.length;D=x++)s=i[x],c=i[D],s.y>e.y!=c.y>e.y&&e.x<(c.x-s.x)*(e.y-s.y)/(c.y-s.y)+s.x&&(_=!_)}return _}function Pc(t,e){let i=!1;for(let s=0,c=t.length-1;s<t.length;c=s++){const _=t[s],g=t[c];_.y>e.y!=g.y>e.y&&e.x<(g.x-_.x)*(e.y-_.y)/(g.y-_.y)+_.x&&(i=!i)}return i}function rh(t,e,i,s,c){for(const g of t)if(e<=g.x&&i<=g.y&&s>=g.x&&c>=g.y)return!0;const _=[new He(e,i),new He(e,c),new He(s,c),new He(s,i)];if(t.length>2)for(const g of _)if(Pc(t,g))return!0;for(let g=0;g<t.length-1;g++)if(bf(t[g],t[g+1],_))return!0;return!1}function bf(t,e,i){const s=i[0],c=i[2];if(t.x<s.x&&e.x<s.x||t.x>c.x&&e.x>c.x||t.y<s.y&&e.y<s.y||t.y>c.y&&e.y>c.y)return!1;const _=er(t,e,i[0]);return _!==er(t,e,i[1])||_!==er(t,e,i[2])||_!==er(t,e,i[3])}function _u(t,e,i){const s=e.paint.get(t).value;return"constant"===s.kind?s.value:i.programConfigurations.get(e.id).getMaxValue(t)}function mu(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function xf(t,e,i,s,c){if(!e[0]&&!e[1])return t;const _=He.convert(e)._mult(c);"viewport"===i&&_._rotate(-s);const g=[];for(let x=0;x<t.length;x++)g.push(t[x].sub(_));return g}function ji(t,e,i,s){const c=He.convert(t)._mult(s);return"viewport"===e&&c._rotate(-i),c}Bt(gd,"CircleBucket",{omit:["layers"]});const Ic=new C({"circle-sort-key":new k(nt.layout_circle["circle-sort-key"])});var z_={paint:new C({"circle-radius":new k(nt.paint_circle["circle-radius"]),"circle-color":new k(nt.paint_circle["circle-color"]),"circle-blur":new k(nt.paint_circle["circle-blur"]),"circle-opacity":new k(nt.paint_circle["circle-opacity"]),"circle-translate":new b(nt.paint_circle["circle-translate"]),"circle-translate-anchor":new b(nt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new b(nt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new b(nt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new k(nt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new k(nt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new k(nt.paint_circle["circle-stroke-opacity"])}),layout:Ic};function wf(t,e,i,s,c,_,g,x,D){if(_&&t.queryGeometry.isAboveHorizon)return!1;_&&(D*=t.pixelToTileUnitsFactor);const E=t.tileID.canonical,B=i.projection.upVectorScale(E,i.center.lat,i.worldSize).metersToTile;for(const H of e)for(const G of H){const ee=G.add(x),ne=c&&i.elevation?i.elevation.exaggeration()*c.getElevationAt(ee.x,ee.y,!0):0,le=i.projection.projectTilePoint(ee.x,ee.y,E);if(ne>0){const we=i.projection.upVector(E,ee.x,ee.y);le.x+=we[0]*B*ne,le.y+=we[1]*B*ne,le.z+=we[2]*B*ne}const me=_?ee:F_(le.x,le.y,le.z,s),xe=_?t.tilespaceRays.map(we=>Tf(we,ne)):t.queryGeometry.screenGeometry,Se=Jc([],[le.x,le.y,le.z,1],s);if(!g&&_?D*=Se[3]/i.cameraToCenterDistance:g&&!_&&(D*=i.cameraToCenterDistance/Se[3]),_){const we=Oa((G.y/Wt+E.y)/(1<<E.z));D/=i.projection.pixelsPerMeter(we,1)/Io(1,we)}if(gf(xe,me,D))return!0}return!1}function F_(t,e,i,s){const c=Jc([],[t,e,i,1],s);return new He(c[0]/c[3],c[1]/c[3])}const Mf=uu(0,0,0),B_=uu(0,0,1);function Tf(t,e){const i=Gd();return Mf[2]=e,t.intersectsPlane(Mf,B_,i),new He(i[0],i[1])}class kf extends gd{}function Df(t,{width:e,height:i},s,c){if(c){if(c instanceof Uint8ClampedArray)c=new Uint8Array(c.buffer);else if(c.length!==e*i*s)throw new RangeError("mismatched image size")}else c=new Uint8Array(e*i*s);return t.width=e,t.height=i,t.data=c,t}function Lf(t,e,i){const{width:s,height:c}=e;s===t.width&&c===t.height||(yd(t,e,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,s),height:Math.min(t.height,c)},i),t.width=s,t.height=c,t.data=e.data)}function yd(t,e,i,s,c,_){if(0===c.width||0===c.height)return e;if(c.width>t.width||c.height>t.height||i.x>t.width-c.width||i.y>t.height-c.height)throw new RangeError("out of range source coordinates for image copy");if(c.width>e.width||c.height>e.height||s.x>e.width-c.width||s.y>e.height-c.height)throw new RangeError("out of range destination coordinates for image copy");const g=t.data,x=e.data;for(let D=0;D<c.height;D++){const E=((i.y+D)*t.width+i.x)*_,B=((s.y+D)*e.width+s.x)*_;for(let H=0;H<c.width*_;H++)x[B+H]=g[E+H]}return e}Bt(kf,"HeatmapBucket",{omit:["layers"]});class ho{constructor(e,i){Df(this,e,1,i)}resize(e){Lf(this,new ho(e),1)}clone(){return new ho({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,i,s,c,_){yd(e,i,s,c,_,1)}}class Ns{constructor(e,i){Df(this,e,4,i)}resize(e){Lf(this,new Ns(e),4)}replace(e,i){i?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new Ns({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,i,s,c,_){yd(e,i,s,c,_,4)}}Bt(ho,"AlphaImage"),Bt(Ns,"RGBAImage");var lp={paint:new C({"heatmap-radius":new k(nt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new k(nt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new b(nt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new I(nt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new b(nt.paint_heatmap["heatmap-opacity"])})};function ah(t){const e={},i=t.resolution||256,s=t.clips?t.clips.length:1,c=t.image||new Ns({width:i,height:s}),_=(g,x,D)=>{e[t.evaluationKey]=D;const E=t.expression.evaluate(e);c.data[g+x+0]=Math.floor(255*E.r/E.a),c.data[g+x+1]=Math.floor(255*E.g/E.a),c.data[g+x+2]=Math.floor(255*E.b/E.a),c.data[g+x+3]=Math.floor(255*E.a)};if(t.clips)for(let g=0,x=0;g<s;++g,x+=4*i)for(let D=0,E=0;D<i;D++,E+=4){const B=D/(i-1),{start:H,end:G}=t.clips[g];_(x,E,H*(1-B)+G*B)}else for(let g=0,x=0;g<i;g++,x+=4)_(0,x,g/(i-1));return c}var ui={paint:new C({"hillshade-illumination-direction":new b(nt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new b(nt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new b(nt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new b(nt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new b(nt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new b(nt.paint_hillshade["hillshade-accent-color"])})};const Sf=ce([{name:"a_pos",components:2,type:"Int16"}],4),{members:Cf}=Sf;var sh={exports:{}};function vd(t,e,i){i=i||2;var s,c,_,g,x,D,E,B=e&&e.length,H=B?e[0]*i:t.length,G=cp(t,0,H,i,!0),ee=[];if(!G||G.next===G.prev)return ee;if(B&&(G=function(le,me,xe,Se){var we,Le,Ie,Ae=[];for(we=0,Le=me.length;we<Le;we++)(Ie=cp(le,me[we]*Se,we<Le-1?me[we+1]*Se:le.length,Se,!1))===Ie.next&&(Ie.steiner=!0),Ae.push(gu(Ie));for(Ae.sort(V_),we=0;we<Ae.length;we++)xe=H_(Ae[we],xe);return xe}(t,e,G,i)),t.length>80*i){s=_=t[0],c=g=t[1];for(var ne=i;ne<H;ne+=i)(x=t[ne])<s&&(s=x),(D=t[ne+1])<c&&(c=D),x>_&&(_=x),D>g&&(g=D);E=0!==(E=Math.max(_-s,g-c))?32767/E:0}return Zu(G,ee,i,s,c,E,0),ee}function cp(t,e,i,s,c){var _,g;if(c===lh(t,e,i,s)>0)for(_=e;_<i;_+=s)g=pp(_,t[_],t[_+1],g);else for(_=i-s;_>=e;_-=s)g=pp(_,t[_],t[_+1],g);return g&&eu(g,g.next)&&($u(g),g=g.next),g}function Kc(t,e){if(!t)return t;e||(e=t);var i,s=t;do{if(i=!1,s.steiner||!eu(s,s.next)&&0!==gr(s.prev,s,s.next))s=s.next;else{if($u(s),(s=e=s.prev)===s.next)break;i=!0}}while(i||s!==e);return e}function Zu(t,e,i,s,c,_,g){if(t){!g&&_&&function(B,H,G,ee){var ne=B;do{0===ne.z&&(ne.z=Qc(ne.x,ne.y,H,G,ee)),ne.prevZ=ne.prev,ne.nextZ=ne.next,ne=ne.next}while(ne!==B);ne.prevZ.nextZ=null,ne.prevZ=null,function(le){var me,xe,Se,we,Le,Ie,Ae,Qe,Xe=1;do{for(xe=le,le=null,Le=null,Ie=0;xe;){for(Ie++,Se=xe,Ae=0,me=0;me<Xe&&(Ae++,Se=Se.nextZ);me++);for(Qe=Xe;Ae>0||Qe>0&&Se;)0!==Ae&&(0===Qe||!Se||xe.z<=Se.z)?(we=xe,xe=xe.nextZ,Ae--):(we=Se,Se=Se.nextZ,Qe--),Le?Le.nextZ=we:le=we,we.prevZ=Le,Le=we;xe=Se}Le.nextZ=null,Xe*=2}while(Ie>1)}(ne)}(t,s,c,_);for(var x,D,E=t;t.prev!==t.next;)if(x=t.prev,D=t.next,_?Af(t,s,c,_):Ef(t))e.push(x.i/i|0),e.push(t.i/i|0),e.push(D.i/i|0),$u(t),t=D.next,E=D.next;else if((t=D)===E){g?1===g?Zu(t=up(Kc(t),e,i),e,i,s,c,_,2):2===g&&j_(t,e,i,s,c,_):Zu(Kc(t),e,i,s,c,_,1);break}}}function Ef(t){var e=t.prev,i=t,s=t.next;if(gr(e,i,s)>=0)return!1;for(var c=e.x,_=i.x,g=s.x,x=e.y,D=i.y,E=s.y,B=c<_?c<g?c:g:_<g?_:g,H=x<D?x<E?x:E:D<E?D:E,G=c>_?c>g?c:g:_>g?_:g,ee=x>D?x>E?x:E:D>E?D:E,ne=s.next;ne!==e;){if(ne.x>=B&&ne.x<=G&&ne.y>=H&&ne.y<=ee&&yu(c,x,_,D,g,E,ne.x,ne.y)&&gr(ne.prev,ne,ne.next)>=0)return!1;ne=ne.next}return!0}function Af(t,e,i,s){var c=t.prev,_=t,g=t.next;if(gr(c,_,g)>=0)return!1;for(var x=c.x,D=_.x,E=g.x,B=c.y,H=_.y,G=g.y,ee=x<D?x<E?x:E:D<E?D:E,ne=B<H?B<G?B:G:H<G?H:G,le=x>D?x>E?x:E:D>E?D:E,me=B>H?B>G?B:G:H>G?H:G,xe=Qc(ee,ne,e,i,s),Se=Qc(le,me,e,i,s),we=t.prevZ,Le=t.nextZ;we&&we.z>=xe&&Le&&Le.z<=Se;){if(we.x>=ee&&we.x<=le&&we.y>=ne&&we.y<=me&&we!==c&&we!==g&&yu(x,B,D,H,E,G,we.x,we.y)&&gr(we.prev,we,we.next)>=0||(we=we.prevZ,Le.x>=ee&&Le.x<=le&&Le.y>=ne&&Le.y<=me&&Le!==c&&Le!==g&&yu(x,B,D,H,E,G,Le.x,Le.y)&&gr(Le.prev,Le,Le.next)>=0))return!1;Le=Le.nextZ}for(;we&&we.z>=xe;){if(we.x>=ee&&we.x<=le&&we.y>=ne&&we.y<=me&&we!==c&&we!==g&&yu(x,B,D,H,E,G,we.x,we.y)&&gr(we.prev,we,we.next)>=0)return!1;we=we.prevZ}for(;Le&&Le.z<=Se;){if(Le.x>=ee&&Le.x<=le&&Le.y>=ne&&Le.y<=me&&Le!==c&&Le!==g&&yu(x,B,D,H,E,G,Le.x,Le.y)&&gr(Le.prev,Le,Le.next)>=0)return!1;Le=Le.nextZ}return!0}function up(t,e,i){var s=t;do{var c=s.prev,_=s.next.next;!eu(c,_)&&oh(c,s,s.next,_)&&qu(c,_)&&qu(_,c)&&(e.push(c.i/i|0),e.push(s.i/i|0),e.push(_.i/i|0),$u(s),$u(s.next),s=t=_),s=s.next}while(s!==t);return Kc(s)}function j_(t,e,i,s,c,_){var g=t;do{for(var x=g.next.next;x!==g.prev;){if(g.i!==x.i&&Pf(g,x)){var D=hp(g,x);return g=Kc(g,g.next),D=Kc(D,D.next),Zu(g,e,i,s,c,_,0),void Zu(D,e,i,s,c,_,0)}x=x.next}g=g.next}while(g!==t)}function V_(t,e){return t.x-e.x}function H_(t,e){var i=function(c,_){var g,x=_,D=c.x,E=c.y,B=-1/0;do{if(E<=x.y&&E>=x.next.y&&x.next.y!==x.y){var H=x.x+(E-x.y)*(x.next.x-x.x)/(x.next.y-x.y);if(H<=D&&H>B&&(B=H,g=x.x<x.next.x?x:x.next,H===D))return g}x=x.next}while(x!==_);if(!g)return null;var G,ee=g,ne=g.x,le=g.y,me=1/0;x=g;do{D>=x.x&&x.x>=ne&&D!==x.x&&yu(E<le?D:B,E,ne,le,E<le?B:D,E,x.x,x.y)&&(G=Math.abs(E-x.y)/(D-x.x),qu(x,c)&&(G<me||G===me&&(x.x>g.x||x.x===g.x&&dp(g,x)))&&(g=x,me=G)),x=x.next}while(x!==ee);return g}(t,e);if(!i)return e;var s=hp(i,t);return Kc(s,s.next),Kc(i,i.next)}function dp(t,e){return gr(t.prev,t,e.prev)<0&&gr(e.next,t,t.next)<0}function Qc(t,e,i,s,c){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*c|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-s)*c|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function gu(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function yu(t,e,i,s,c,_,g,x){return(c-g)*(e-x)>=(t-g)*(_-x)&&(t-g)*(s-x)>=(i-g)*(e-x)&&(i-g)*(_-x)>=(c-g)*(s-x)}function Pf(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(i,s){var c=i;do{if(c.i!==i.i&&c.next.i!==i.i&&c.i!==s.i&&c.next.i!==s.i&&oh(c,c.next,i,s))return!0;c=c.next}while(c!==i);return!1}(t,e)&&(qu(t,e)&&qu(e,t)&&function(i,s){var c=i,_=!1,g=(i.x+s.x)/2,x=(i.y+s.y)/2;do{c.y>x!=c.next.y>x&&c.next.y!==c.y&&g<(c.next.x-c.x)*(x-c.y)/(c.next.y-c.y)+c.x&&(_=!_),c=c.next}while(c!==i);return _}(t,e)&&(gr(t.prev,t,e.prev)||gr(t,e.prev,e))||eu(t,e)&&gr(t.prev,t,t.next)>0&&gr(e.prev,e,e.next)>0)}function gr(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function eu(t,e){return t.x===e.x&&t.y===e.y}function oh(t,e,i,s){var c=xd(gr(t,e,i)),_=xd(gr(t,e,s)),g=xd(gr(i,s,t)),x=xd(gr(i,s,e));return c!==_&&g!==x||!(0!==c||!bd(t,i,e))||!(0!==_||!bd(t,s,e))||!(0!==g||!bd(i,t,s))||!(0!==x||!bd(i,e,s))}function bd(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function xd(t){return t>0?1:t<0?-1:0}function qu(t,e){return gr(t.prev,t,t.next)<0?gr(t,e,t.next)>=0&&gr(t,t.prev,e)>=0:gr(t,e,t.prev)<0||gr(t,t.next,e)<0}function hp(t,e){var i=new fp(t.i,t.x,t.y),s=new fp(e.i,e.x,e.y),c=t.next,_=e.prev;return t.next=e,e.prev=t,i.next=c,c.prev=i,s.next=i,i.prev=s,_.next=s,s.prev=_,s}function pp(t,e,i,s){var c=new fp(t,e,i);return s?(c.next=s.next,c.prev=s,s.next.prev=c,s.next=c):(c.prev=c,c.next=c),c}function $u(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function fp(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function lh(t,e,i,s){for(var c=0,_=e,g=i-s;_<i;_+=s)c+=(t[g]-t[_])*(t[_+1]+t[g+1]),g=_;return c}sh.exports=vd,sh.exports.default=vd,vd.deviation=function(t,e,i,s){var c=e&&e.length,_=Math.abs(lh(t,0,c?e[0]*i:t.length,i));if(c)for(var g=0,x=e.length;g<x;g++)_-=Math.abs(lh(t,e[g]*i,g<x-1?e[g+1]*i:t.length,i));var D=0;for(g=0;g<s.length;g+=3){var E=s[g]*i,B=s[g+1]*i,H=s[g+2]*i;D+=Math.abs((t[E]-t[H])*(t[B+1]-t[E+1])-(t[E]-t[B])*(t[H+1]-t[E+1]))}return 0===_&&0===D?0:Math.abs((D-_)/_)},vd.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},s=0,c=0;c<t.length;c++){for(var _=0;_<t[c].length;_++)for(var g=0;g<e;g++)i.vertices.push(t[c][_][g]);c>0&&i.holes.push(s+=t[c-1].length)}return i};var wd=Me(sh.exports);function If(t,e,i,s,c){_p(t,e,i||0,s||t.length-1,c||Of)}function _p(t,e,i,s,c){for(;s>i;){if(s-i>600){var _=s-i+1,g=e-i+1,x=Math.log(_),D=.5*Math.exp(2*x/3),E=.5*Math.sqrt(x*D*(_-D)/_)*(g-_/2<0?-1:1);_p(t,e,Math.max(i,Math.floor(e-g*D/_+E)),Math.min(s,Math.floor(e+(_-g)*D/_+E)),c)}var B=t[e],H=i,G=s;for(Xu(t,i,e),c(t[s],B)>0&&Xu(t,i,s);H<G;){for(Xu(t,H,G),H++,G--;c(t[H],B)<0;)H++;for(;c(t[G],B)>0;)G--}0===c(t[i],B)?Xu(t,i,G):Xu(t,++G,s),G<=e&&(i=G+1),e<=G&&(s=G-1)}}function Xu(t,e,i){var s=t[e];t[e]=t[i],t[i]=s}function Of(t,e){return t<e?-1:t>e?1:0}function ch(t,e){const i=t.length;if(i<=1)return[t];const s=[];let c,_;for(let g=0;g<i;g++){const x=go(t[g]);0!==x&&(t[g].area=Math.abs(x),void 0===_&&(_=x<0),_===x<0?(c&&s.push(c),c=[t[g]]):c.push(t[g]))}if(c&&s.push(c),e>1)for(let g=0;g<s.length;g++)s[g].length<=e||(If(s[g],e,1,s[g].length-1,Rf),s[g]=s[g].slice(0,e));return s}function Rf(t,e){return e.area-t.area}function uh(t,e,i){const s=i.patternDependencies;let c=!1;for(const _ of e){const g=_.paint.get(`${t}-pattern`);g.isConstant()||(c=!0);const x=g.constantOr(null);x&&(c=!0,s[x]=!0)}return c}function dh(t,e,i,s,c){const _=c.patternDependencies;for(const g of e){const x=g.paint.get(`${t}-pattern`).value;if("constant"!==x.kind){let D=x.evaluate({zoom:s},i,{},c.availableImages);D=D&&D.name?D.name:D,_[D]=!0,i.patterns[g.id]=D}}return i}class Md{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(i=>i.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ve,this.indexArray=new Vt,this.indexArray2=new K,this.programConfigurations=new lu(e.layers,e.zoom),this.segments=new Wn,this.segments2=new Wn,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.projection=e.projection}populate(e,i,s,c){this.hasPattern=uh("fill",this.layers,i);const _=this.layers[0].layout.get("fill-sort-key"),g=[];for(const{feature:x,id:D,index:E,sourceLayerIndex:B}of e){const H=this.layers[0]._featureFilter.needGeometry,G=Oo(x,H);if(!this.layers[0]._featureFilter.filter(new V(this.zoom),G,s))continue;const ee=_?_.evaluate(G,{},s,i.availableImages):void 0,ne={id:D,properties:x.properties,type:x.type,sourceLayerIndex:B,index:E,geometry:H?G.geometry:Vl(x,s,c),patterns:{},sortKey:ee};g.push(ne)}_&&g.sort((x,D)=>x.sortKey-D.sortKey);for(const x of g){const{geometry:D,index:E,sourceLayerIndex:B}=x;if(this.hasPattern){const H=dh("fill",this.layers,x,this.zoom,i);this.patternFeatures.push(H)}else this.addFeature(x,D,E,s,{},i.availableImages);i.featureIndex.insert(e[E].feature,D,E,B,this.index)}}update(e,i,s,c){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,i,this.stateDependentLayers,s,c)}addFeatures(e,i,s,c,_){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,i,s,c)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Cf),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,i,s,c,_,g=[]){for(const x of ch(i,500)){let D=0;for(const ne of x)D+=ne.length;const E=this.segments.prepareSegment(D,this.layoutVertexArray,this.indexArray),B=E.vertexLength,H=[],G=[];for(const ne of x){if(0===ne.length)continue;ne!==x[0]&&G.push(H.length/2);const le=this.segments2.prepareSegment(ne.length,this.layoutVertexArray,this.indexArray2),me=le.vertexLength;this.layoutVertexArray.emplaceBack(ne[0].x,ne[0].y),this.indexArray2.emplaceBack(me+ne.length-1,me),H.push(ne[0].x),H.push(ne[0].y);for(let xe=1;xe<ne.length;xe++)this.layoutVertexArray.emplaceBack(ne[xe].x,ne[xe].y),this.indexArray2.emplaceBack(me+xe-1,me+xe),H.push(ne[xe].x),H.push(ne[xe].y);le.vertexLength+=ne.length,le.primitiveLength+=ne.length}const ee=wd(H,G);for(let ne=0;ne<ee.length;ne+=3)this.indexArray.emplaceBack(B+ee[ne],B+ee[ne+1],B+ee[ne+2]);E.vertexLength+=D,E.primitiveLength+=ee.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,s,_,g,c)}}Bt(Md,"FillBucket",{omit:["layers","patternFeatures"]});const Yf=new C({"fill-sort-key":new k(nt.layout_fill["fill-sort-key"])});var zf={paint:new C({"fill-antialias":new b(nt.paint_fill["fill-antialias"]),"fill-opacity":new k(nt.paint_fill["fill-opacity"]),"fill-color":new k(nt.paint_fill["fill-color"]),"fill-outline-color":new k(nt.paint_fill["fill-outline-color"]),"fill-translate":new b(nt.paint_fill["fill-translate"]),"fill-translate-anchor":new b(nt.paint_fill["fill-translate-anchor"]),"fill-pattern":new k(nt.paint_fill["fill-pattern"])}),layout:Yf};const Ff=ce([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),Bf=ce([{name:"a_centroid_pos",components:2,type:"Uint16"}]),jf=ce([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:Vf}=Ff;var Td={},Hf=Ve,Nf=Ju;function Ju(t,e,i,s,c){this.properties={},this.extent=i,this.type=0,this._pbf=t,this._geometry=-1,this._keys=s,this._values=c,t.readFields(N_,this,e)}function N_(t,e,i){1==t?e.id=i.readVarint():2==t?function(s,c){for(var _=s.readVarint()+s.pos;s.pos<_;){var g=c._keys[s.readVarint()],x=c._values[s.readVarint()];c.properties[g]=x}}(i,e):3==t?e.type=i.readVarint():4==t&&(e._geometry=i.pos)}function U_(t){for(var e,i,s=0,c=0,_=t.length,g=_-1;c<_;g=c++)s+=((i=t[g]).x-(e=t[c]).x)*(e.y+i.y);return s}Ju.types=["Unknown","Point","LineString","Polygon"],Ju.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,i=t.readVarint()+t.pos,s=1,c=0,_=0,g=0,x=[];t.pos<i;){if(c<=0){var D=t.readVarint();s=7&D,c=D>>3}if(c--,1===s||2===s)_+=t.readSVarint(),g+=t.readSVarint(),1===s&&(e&&x.push(e),e=[]),e.push(new Hf(_,g));else{if(7!==s)throw new Error("unknown command "+s);e&&e.push(e[0].clone())}}return e&&x.push(e),x},Ju.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,i=1,s=0,c=0,_=0,g=1/0,x=-1/0,D=1/0,E=-1/0;t.pos<e;){if(s<=0){var B=t.readVarint();i=7&B,s=B>>3}if(s--,1===i||2===i)(c+=t.readSVarint())<g&&(g=c),c>x&&(x=c),(_+=t.readSVarint())<D&&(D=_),_>E&&(E=_);else if(7!==i)throw new Error("unknown command "+i)}return[g,D,x,E]},Ju.prototype.toGeoJSON=function(t,e,i){var s,c,_=this.extent*Math.pow(2,i),g=this.extent*t,x=this.extent*e,D=this.loadGeometry(),E=Ju.types[this.type];function B(ee){for(var ne=0;ne<ee.length;ne++){var le=ee[ne];ee[ne]=[360*(le.x+g)/_-180,360/Math.PI*Math.atan(Math.exp((180-360*(le.y+x)/_)*Math.PI/180))-90]}}switch(this.type){case 1:var H=[];for(s=0;s<D.length;s++)H[s]=D[s][0];B(D=H);break;case 2:for(s=0;s<D.length;s++)B(D[s]);break;case 3:for(D=function(ee){var ne=ee.length;if(ne<=1)return[ee];for(var le,me,xe=[],Se=0;Se<ne;Se++){var we=U_(ee[Se]);0!==we&&(void 0===me&&(me=we<0),me===we<0?(le&&xe.push(le),le=[ee[Se]]):le.push(ee[Se]))}return le&&xe.push(le),xe}(D),s=0;s<D.length;s++)for(c=0;c<D[s].length;c++)B(D[s][c])}1===D.length?D=D[0]:E="Multi"+E;var G={type:"Feature",geometry:{type:E,coordinates:D},properties:this.properties};return"id"in this&&(G.id=this.id),G};var hh=Nf,tu=ph;function ph(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(fh,this,e),this.length=this._features.length}function fh(t,e,i){15===t?e.version=i.readVarint():1===t?e.name=i.readString():5===t?e.extent=i.readVarint():2===t?e._features.push(i.pos):3===t?e._keys.push(i.readString()):4===t&&e._values.push(function(s){for(var c=null,_=s.readVarint()+s.pos;s.pos<_;){var g=s.readVarint()>>3;c=1===g?s.readString():2===g?s.readFloat():3===g?s.readDouble():4===g?s.readVarint64():5===g?s.readVarint():6===g?s.readSVarint():7===g?s.readBoolean():null}return c}(i))}ph.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new hh(this._pbf,e,this.extent,this._keys,this._values)};var _h=tu;function mh(t,e,i){if(3===t){var s=new _h(i,i.readVarint()+i.pos);s.length&&(e[s.name]=s)}}var Ls=Td.VectorTile=function(t,e){this.layers=t.readFields(mh,{},e)},wl=Td.VectorTileFeature=Nf;function kd(t,e,i,s){const c=[],_=0===s?(g,x,D,E,B,H)=>{g.push(new He(H,D+(H-x)/(E-x)*(B-D)))}:(g,x,D,E,B,H)=>{g.push(new He(x+(H-D)/(B-D)*(E-x),H))};for(const g of t){const x=[];for(const D of g){if(D.length<=2)continue;const E=[];for(let G=0;G<D.length-1;G++){const ee=D[G].x,ne=D[G].y,le=D[G+1].x,me=D[G+1].y,xe=0===s?ee:ne,Se=0===s?le:me;xe<e?Se>e&&_(E,ee,ne,le,me,e):xe>i?Se<i&&_(E,ee,ne,le,me,i):E.push(D[G]),Se<e&&xe>=e&&_(E,ee,ne,le,me,e),Se>i&&xe<=i&&_(E,ee,ne,le,me,i)}let B=D[D.length-1];const H=0===s?B.x:B.y;H>=e&&H<=i&&E.push(B),E.length&&(B=E[E.length-1],E[0].x===B.x&&E[0].y===B.y||E.push(E[0]),x.push(E))}x.length&&c.push(x)}return c}Td.VectorTileLayer=tu;const Uf=wl.types,Wf=Math.pow(2,13);function vu(t,e,i,s,c,_,g,x){t.emplaceBack((e<<1)+g,(i<<1)+_,(Math.floor(s*Wf)<<1)+c,Math.round(x))}function Ku(t,e,i){t.emplaceBack(e.x,e.y,e.z,16384*i[0],16384*i[1],16384*i[2])}class Gf{constructor(){this.acc=new He(0,0),this.polyCount=[]}startRing(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new He(e.x,e.y),this.max=new He(e.x,e.y))}append(e,i){this.currentPolyCount.edges++,this.acc._add(e);const s=this.min,c=this.max;e.x<s.x?s.x=e.x:e.x>c.x&&(c.x=e.x),e.y<s.y?s.y=e.y:e.y>c.y&&(c.y=e.y),((0===e.x||e.x===Wt)&&e.x===i.x)!=((0===e.y||e.y===Wt)&&e.y===i.y)&&this.processBorderOverlap(e,i),i.x<0!=e.x<0&&this.addBorderIntersection(0,Oi(i.y,e.y,(0-i.x)/(e.x-i.x))),i.x>Wt!=e.x>Wt&&this.addBorderIntersection(1,Oi(i.y,e.y,(Wt-i.x)/(e.x-i.x))),i.y<0!=e.y<0&&this.addBorderIntersection(2,Oi(i.x,e.x,(0-i.y)/(e.y-i.y))),i.y>Wt!=e.y>Wt&&this.addBorderIntersection(3,Oi(i.x,e.x,(Wt-i.y)/(e.y-i.y)))}addBorderIntersection(e,i){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const s=this.borders[e];i<s[0]&&(s[0]=i),i>s[1]&&(s[1]=i)}processBorderOverlap(e,i){if(e.x===i.x){if(e.y===i.y)return;const s=0===e.x?0:1;this.addBorderIntersection(s,i.y),this.addBorderIntersection(s,e.y)}else{const s=0===e.y?2:3;this.addBorderIntersection(s,i.x),this.addBorderIntersection(s,e.x)}}centroid(){const e=this.polyCount.reduce((i,s)=>i+s.edges,0);return 0!==e?this.acc.div(e)._round():new He(0,0)}span(){return new He(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((e,i)=>e+ +(i[0]!==Number.MAX_VALUE),0)}}class Oc{constructor(e){this.zoom=e.zoom,this.canonical=e.canonical,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(i=>i.id),this.index=e.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=e.projection,this.layoutVertexArray=new Ce,this.centroidVertexArray=new qi,this.indexArray=new Vt,this.programConfigurations=new lu(e.layers,e.zoom),this.segments=new Wn,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id),this.enableTerrain=e.enableTerrain}populate(e,i,s,c){this.features=[],this.hasPattern=uh("fill-extrusion",this.layers,i),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(_){const g=Math.exp(Math.PI*(1-_.y/(1<<_.z)*2));return 80150034*g/(g*g+1)/Wt/(1<<_.z)}(s),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:_,id:g,index:x,sourceLayerIndex:D}of e){const E=this.layers[0]._featureFilter.needGeometry,B=Oo(_,E);if(!this.layers[0]._featureFilter.filter(new V(this.zoom),B,s))continue;const H={id:g,sourceLayerIndex:D,index:x,geometry:E?B.geometry:Vl(_,s,c),properties:_.properties,type:_.type,patterns:{}},G=this.layoutVertexArray.length;this.hasPattern?this.features.push(dh("fill-extrusion",this.layers,H,this.zoom,i)):this.addFeature(H,H.geometry,x,s,{},i.availableImages,c),i.featureIndex.insert(_,H.geometry,x,D,this.index,G)}this.sortBorders()}addFeatures(e,i,s,c,_){for(const g of this.features){const{geometry:x}=g;this.addFeature(g,x,g.index,i,s,c,_)}this.sortBorders()}update(e,i,s,c){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,i,this.stateDependentLayers,s,c)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Vf),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=e.createVertexBuffer(this.layoutVertexExtArray,jf.members,!0))),this.programConfigurations.upload(e),this.uploaded=!0}uploadCentroid(e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,Bf.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,i,s,c,_,g,x){const D=[new He(0,0),new He(Wt,Wt)],E=x.projection,B="globe"===E.name,H=this.enableTerrain&&!B?new Gf:null,G="Polygon"===Uf[e.type];B&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new lt);const ee=ch(i,500);for(let xe=ee.length-1;xe>=0;xe--){const Se=ee[xe];(0===Se.length||(ne=Se[0]).every(we=>we.x<=0)||ne.every(we=>we.x>=Wt)||ne.every(we=>we.y<=0)||ne.every(we=>we.y>=Wt))&&ee.splice(xe,1)}var ne;let le;if(B)le=yh(ee,D,c);else{le=[];for(const xe of ee)le.push({polygon:xe,bounds:D})}const me=G?this.edgeRadius:0;for(const{polygon:xe,bounds:Se}of le){let we=0,Le=0;for(const Ae of xe)G&&!Ae[0].equals(Ae[Ae.length-1])&&Ae.push(Ae[0]),Le+=G?Ae.length-1:Ae.length;const Ie=this.segments.prepareSegment((G?5:4)*Le,this.layoutVertexArray,this.indexArray);if(G){const Ae=[],Qe=[];we=Ie.vertexLength;for(const dt of xe){let kt,it;dt.length&&dt!==xe[0]&&Qe.push(Ae.length/2),kt=dt[1].sub(dt[0])._perp()._unit();for(let _t=1;_t<dt.length;_t++){const mt=dt[_t],xt=dt[_t===dt.length-1?1:_t+1];let{x:Dt,y:ct}=mt;if(me){it=xt.sub(mt)._perp()._unit();const zt=kt.add(it)._unit(),Ht=me*Math.min(4,1/(kt.x*zt.x+kt.y*zt.y));Dt+=Ht*zt.x,ct+=Ht*zt.y,kt=it}vu(this.layoutVertexArray,Dt,ct,0,0,1,1,0),Ie.vertexLength++,Ae.push(mt.x,mt.y),B&&Ku(this.layoutVertexExtArray,E.projectTilePoint(Dt,ct,c),E.upVector(c,Dt,ct))}}const Xe=wd(Ae,Qe);for(let dt=0;dt<Xe.length;dt+=3)this.indexArray.emplaceBack(we+Xe[dt],we+Xe[dt+2],we+Xe[dt+1]),Ie.primitiveLength++}for(const Ae of xe){H&&Ae.length&&H.startRing(Ae[0]);let Qe,Xe,dt,kt=Ae.length>4&&gh(Ae[Ae.length-2],Ae[0],Ae[1]),it=me?Zf(Ae[Ae.length-2],Ae[0],Ae[1],me):0;Xe=Ae[1].sub(Ae[0])._perp()._unit();let _t=!0;for(let mt=1,xt=0;mt<Ae.length;mt++){let Dt=Ae[mt-1],ct=Ae[mt];const zt=Ae[mt===Ae.length-1?1:mt+1];if(H&&G&&H.currentPolyCount.top++,Dd(ct,Dt,Se)){me&&(Xe=zt.sub(ct)._perp()._unit(),_t=!_t);continue}H&&H.append(ct,Dt);const Ht=ct.sub(Dt)._perp(),Ft=Ht.x/(Math.abs(Ht.x)+Math.abs(Ht.y)),bi=Ht.y>0?1:0,Lt=Dt.dist(ct);if(xt+Lt>32768&&(xt=0),me){dt=zt.sub(ct)._perp()._unit();let wi=qf(Dt,ct,zt,mp(Xe,dt),me);isNaN(wi)&&(wi=0);const ni=ct.sub(Dt)._unit();Dt=Dt.add(ni.mult(it))._round(),ct=ct.add(ni.mult(-wi))._round(),it=wi,Xe=dt}const Kt=Ie.vertexLength,xi=Ae.length>4&&gh(Dt,ct,zt);let hn=po(xt,kt,_t);if(vu(this.layoutVertexArray,Dt.x,Dt.y,Ft,bi,0,0,hn),vu(this.layoutVertexArray,Dt.x,Dt.y,Ft,bi,0,1,hn),xt+=Lt,hn=po(xt,xi,!_t),kt=xi,vu(this.layoutVertexArray,ct.x,ct.y,Ft,bi,0,0,hn),vu(this.layoutVertexArray,ct.x,ct.y,Ft,bi,0,1,hn),Ie.vertexLength+=4,this.indexArray.emplaceBack(Kt+0,Kt+1,Kt+2),this.indexArray.emplaceBack(Kt+1,Kt+3,Kt+2),Ie.primitiveLength+=2,me){const wi=we+(1===mt?Ae.length-2:mt-2),ni=1===mt?we:wi+1;if(this.indexArray.emplaceBack(Kt+1,wi,Kt+3),this.indexArray.emplaceBack(wi,ni,Kt+3),Ie.primitiveLength+=2,void 0===Qe&&(Qe=Kt),!Dd(zt,Ae[mt],Se)){const Gn=mt===Ae.length-1?Qe:Ie.vertexLength;this.indexArray.emplaceBack(Kt+2,Kt+3,Gn),this.indexArray.emplaceBack(Kt+3,Gn+1,Gn),this.indexArray.emplaceBack(Kt+3,ni,Gn+1),Ie.primitiveLength+=3}_t=!_t}if(B){const wi=this.layoutVertexExtArray,ni=E.projectTilePoint(Dt.x,Dt.y,c),Gn=E.projectTilePoint(ct.x,ct.y,c),Mi=E.upVector(c,Dt.x,Dt.y),Ti=E.upVector(c,ct.x,ct.y);Ku(wi,ni,Mi),Ku(wi,ni,Mi),Ku(wi,Gn,Ti),Ku(wi,Gn,Ti)}}G&&(we+=Ae.length-1)}}if(H&&H.polyCount.length>0){if(H.borders){H.vertexArrayOffset=this.centroidVertexArray.length;const xe=H.borders,Se=this.featuresOnBorder.push(H)-1;for(let we=0;we<4;we++)xe[we][0]!==Number.MAX_VALUE&&this.borders[we].push(Se)}this.encodeCentroid(H.borders?void 0:H.centroid(),H)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,s,_,g,c)}sortBorders(){for(let e=0;e<4;e++)this.borders[e].sort((i,s)=>this.featuresOnBorder[i].borders[e][0]-this.featuresOnBorder[s].borders[e][0])}encodeCentroid(e,i,s=!0){let c,_;if(e)if(0!==e.y){const x=i.span()._mult(this.tileToMeter);c=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(x.x/10)),_=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(x.y/10))}else c=Math.ceil(7*(e.x+450)),_=0;else c=0,_=+s;let g=s?this.centroidVertexArray.length:i.vertexArrayOffset;for(const x of i.polyCount){s&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*x.edges+x.top);for(let D=0;D<x.top;D++)this.centroidVertexArray.emplace(g++,c,_);for(let D=0;D<2*x.edges;D++)this.centroidVertexArray.emplace(g++,0,_),this.centroidVertexArray.emplace(g++,c,_)}}}function mp(t,e){const i=t.add(e)._unit();return t.x*i.x+t.y*i.y}function Zf(t,e,i,s){const c=e.sub(t)._perp()._unit(),_=i.sub(e)._perp()._unit();return qf(t,e,i,mp(c,_),s)}function qf(t,e,i,s,c){const _=Math.sqrt(1-s*s);return Math.min(t.dist(e)/3,e.dist(i)/3,c*_/s)}function Dd(t,e,i){return t.x<i[0].x&&e.x<i[0].x||t.x>i[1].x&&e.x>i[1].x||t.y<i[0].y&&e.y<i[0].y||t.y>i[1].y&&e.y>i[1].y}function gh(t,e,i){if(t.x<0||t.x>=Wt||e.x<0||e.x>=Wt||i.x<0||i.x>=Wt)return!1;const s=i.sub(e),c=s.perp(),_=t.sub(e);return(s.x*_.x+s.y*_.y)/Math.sqrt((s.x*s.x+s.y*s.y)*(_.x*_.x+_.y*_.y))>-.866&&c.x*_.x+c.y*_.y<0}function po(t,e,i){const s=e?2|t:-3&t;return i?1|s:-2&s}function Ld(){const t=Math.PI/32,e=Math.tan(t),i=Hu;return i*Math.sqrt(1+2*e*e)-i}function yh(t,e,i){const s=1<<i.z,c=uo(i.x/s),_=uo((i.x+1)/s),g=Oa(i.y/s),x=Oa((i.y+1)/s);return function(D,E,B,H,G=0,ee){const ne=[];if(!D.length||!B||!H)return ne;const le=(Ae,Qe)=>{for(const Xe of Ae)ne.push({polygon:Xe,bounds:Qe})},me=Math.ceil(Math.log2(B)),xe=Math.ceil(Math.log2(H)),Se=me-xe,we=[];for(let Ae=0;Ae<Math.abs(Se);Ae++)we.push(Se>0?0:1);for(let Ae=0;Ae<Math.min(me,xe);Ae++)we.push(0),we.push(1);let Le=D;if(Le=kd(Le,E[0].y-G,E[1].y+G,1),Le=kd(Le,E[0].x-G,E[1].x+G,0),!Le.length)return ne;const Ie=[];for(we.length?Ie.push({polygons:Le,bounds:E,depth:0}):le(Le,E);Ie.length;){const Ae=Ie.pop(),Qe=Ae.depth,Xe=we[Qe],dt=Ae.bounds[0],kt=Ae.bounds[1],it=0===Xe?dt.x:dt.y,_t=0===Xe?kt.x:kt.y,mt=ee?ee(Xe,it,_t):.5*(it+_t),xt=kd(Ae.polygons,it-G,mt+G,Xe),Dt=kd(Ae.polygons,mt-G,_t+G,Xe);if(xt.length){const ct=[dt,new He(0===Xe?mt:kt.x,1===Xe?mt:kt.y)];we.length>Qe+1?Ie.push({polygons:xt,bounds:ct,depth:Qe+1}):le(xt,ct)}if(Dt.length){const ct=[new He(0===Xe?mt:dt.x,1===Xe?mt:dt.y),kt];we.length>Qe+1?Ie.push({polygons:Dt,bounds:ct,depth:Qe+1}):le(Dt,ct)}}return ne}(t,e,Math.ceil((_-c)/11.25),Math.ceil((g-x)/11.25),1,(D,E,B)=>{if(0===D)return.5*(E+B);{const H=Oa((i.y+E/Wt)/s);return(xl(.5*(Oa((i.y+B/Wt)/s)+H))*s-i.y)*Wt}})}Bt(Oc,"FillExtrusionBucket",{omit:["layers","features"]}),Bt(Gf,"PartMetadata");const gp=new C({"fill-extrusion-edge-radius":new b(nt["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var Qu={paint:new C({"fill-extrusion-opacity":new b(nt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new k(nt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new b(nt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new b(nt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new k(nt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new k(nt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new k(nt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new b(nt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new b(nt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new b(nt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-rounded-roof":new b(nt["paint_fill-extrusion"]["fill-extrusion-rounded-roof"])}),layout:gp};function vh(t,e,i){var s=2*Math.PI*6378137/256/Math.pow(2,i);return[t*s-2*Math.PI*6378137/2,e*s-2*Math.PI*6378137/2]}class Sd{constructor(e,i,s){this.z=e,this.x=i,this.y=s,this.key=ed(0,e,e,i,s)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,i){const s=(g=this.y,x=this.z,D=vh(256*(_=this.x),256*(g=Math.pow(2,x)-g-1),x),E=vh(256*(_+1),256*(g+1),x),D[0]+","+D[1]+","+E[0]+","+E[1]),c=function(_,g,x){let D,E="";for(let B=_;B>0;B--)D=1<<B-1,E+=(g&D?1:0)+(x&D?2:0);return E}(this.z,this.x,this.y);var _,g,x,D,E;return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===i?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",c).replace("{bbox-epsg-3857}",s)}toString(){return`${this.z}/${this.x}/${this.y}`}}class bh{constructor(e,i){this.wrap=e,this.canonical=i,this.key=ed(e,i.z,i.z,i.x,i.y)}}class aa{constructor(e,i,s,c,_){this.overscaledZ=e,this.wrap=i,this.canonical=new Sd(s,+c,+_),this.key=0===i&&e===s?this.canonical.key:ed(i,e,s,c,_)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const i=this.canonical.z-e;return e>this.canonical.z?new aa(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new aa(e,this.wrap,e,this.canonical.x>>i,this.canonical.y>>i)}calculateScaledKey(e,i=!0){if(this.overscaledZ===e&&i)return this.key;if(e>this.canonical.z)return ed(this.wrap*+i,e,this.canonical.z,this.canonical.x,this.canonical.y);{const s=this.canonical.z-e;return ed(this.wrap*+i,e,e,this.canonical.x>>s,this.canonical.y>>s)}}isChildOf(e){if(e.wrap!==this.wrap)return!1;const i=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>i&&e.canonical.y===this.canonical.y>>i}children(e){if(this.overscaledZ>=e)return[new aa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const i=this.canonical.z+1,s=2*this.canonical.x,c=2*this.canonical.y;return[new aa(i,this.wrap,i,s,c),new aa(i,this.wrap,i,s+1,c),new aa(i,this.wrap,i,s,c+1),new aa(i,this.wrap,i,s+1,c+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new aa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new aa(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new bh(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function ed(t,e,i,s,c){const _=1<<Math.min(i,22);let g=_*(c%_)+s%_;return t&&i<22&&(g+=_*_*((t<0?-2*t-1:2*t)%(1<<2*(22-i)))),16*(32*g+i)+(e-i)}Bt(Sd,"CanonicalTileID"),Bt(aa,"OverscaledTileID",{omit:["projMatrix"]});class bu extends He{constructor(e,i,s){super(e,i),this.z=s}}function iu(t,e){return t.x*e.x+t.y*e.y}function xh(t,e){if(1===t.length){let i=0;const s=e[i++];let c;for(;!c||s.equals(c);)if(c=e[i++],!c)return 1/0;for(;i<e.length;i++){const _=e[i],g=t[0],x=c.sub(s),D=_.sub(s),E=g.sub(s),B=iu(x,x),H=iu(x,D),G=iu(D,D),ee=iu(E,x),ne=iu(E,D),le=B*G-H*H,me=(G*ee-H*ne)/le,xe=(B*ne-H*ee)/le,Se=s.z*(1-me-xe)+c.z*me+_.z*xe;if(isFinite(Se))return Se}return 1/0}{let i=1/0;for(const s of e)i=Math.min(i,s.z);return i}}function yp(t,e,i,s,c,_,g,x){const D=g*c.getElevationAt(t,e,!0,!0),E=0!==_[0],B=E?0===_[1]?g*(_[0]/7-450):g*function(H,G,ee){const ne=Math.floor(G[0]/8),le=Math.floor(G[1]/8),me=10*(G[0]-8*ne),xe=10*(G[1]-8*le),Se=H.getElevationAt(ne,le,!0,!0),we=H.getMeterToDEM(ee),Le=Math.floor(.5*(me*we-1)),Ie=Math.floor(.5*(xe*we-1)),Ae=H.tileCoordToPixel(ne,le),Qe=2*Le+1,Xe=2*Ie+1,dt=(Ht=Qe,Ft=Xe,[(Dt=H).getElevationAtPixel(ct=Ae.x-Le,zt=Ae.y-Ie,!0),Dt.getElevationAtPixel(ct+Ft,zt,!0),Dt.getElevationAtPixel(ct,zt+Ft,!0),Dt.getElevationAtPixel(ct+Ht,zt+Ft,!0)]),kt=Math.abs(dt[0]-dt[1]),it=Math.abs(dt[2]-dt[3]),_t=Math.abs(dt[0]-dt[2])+Math.abs(dt[1]-dt[3]),mt=Math.min(.25,.5*we*(kt+it)/Qe),xt=Math.min(.25,.5*we*_t/Xe);var Dt,ct,zt,Ht,Ft;return Se+Math.max(mt*me,xt*xe)}(c,_,x):D;return{base:D+(0===i)?-1:i,top:E?Math.max(B+s,D+i+2):D+s}}const vp=ce([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:$f}=vp,Xf=ce([{name:"a_packed",components:4,type:"Float32"}]),{members:Jf}=Xf,Kf=wl.types,bp=Math.cos(Math.PI/180*37.5);class td{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(i=>i.id),this.index=e.index,this.projection=e.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(i=>{this.gradients[i.id]={}}),this.layoutVertexArray=new Re,this.layoutVertexArray2=new Ze,this.indexArray=new Vt,this.programConfigurations=new lu(e.layers,e.zoom),this.segments=new Wn,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(i=>i.isStateDependent()).map(i=>i.id)}populate(e,i,s,c){this.hasPattern=uh("line",this.layers,i);const _=this.layers[0].layout.get("line-sort-key"),g=[];for(const{feature:B,id:H,index:G,sourceLayerIndex:ee}of e){const ne=this.layers[0]._featureFilter.needGeometry,le=Oo(B,ne);if(!this.layers[0]._featureFilter.filter(new V(this.zoom),le,s))continue;const me=_?_.evaluate(le,{},s):void 0,xe={id:H,properties:B.properties,type:B.type,sourceLayerIndex:ee,index:G,geometry:ne?le.geometry:Vl(B,s,c),patterns:{},sortKey:me};g.push(xe)}_&&g.sort((B,H)=>B.sortKey-H.sortKey);const{lineAtlas:x,featureIndex:D}=i,E=this.addConstantDashes(x);for(const B of g){const{geometry:H,index:G,sourceLayerIndex:ee}=B;if(E&&this.addFeatureDashes(B,x),this.hasPattern){const ne=dh("line",this.layers,B,this.zoom,i);this.patternFeatures.push(ne)}else this.addFeature(B,H,G,s,x.positions,i.availableImages);D.insert(e[G].feature,H,G,ee,this.index)}}addConstantDashes(e){let i=!1;for(const s of this.layers){const c=s.paint.get("line-dasharray").value,_=s.layout.get("line-cap").value;if("constant"!==c.kind||"constant"!==_.kind)i=!0;else{const g=_.value,x=c.value;if(!x)continue;e.addDash(x,g)}}return i}addFeatureDashes(e,i){const s=this.zoom;for(const c of this.layers){const _=c.paint.get("line-dasharray").value,g=c.layout.get("line-cap").value;if("constant"===_.kind&&"constant"===g.kind)continue;let x,D;if("constant"===_.kind){if(x=_.value,!x)continue}else x=_.evaluate({zoom:s},e);D="constant"===g.kind?g.value:g.evaluate({zoom:s},e),i.addDash(x,D),e.patterns[c.id]=i.getKey(x,D)}}update(e,i,s,c){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,i,this.stateDependentLayers,s,c)}addFeatures(e,i,s,c,_){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,i,s,c)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Jf)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,$f),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,i,s,c,_,g){const x=this.layers[0].layout,D=x.get("line-join").evaluate(e,{}),E=x.get("line-cap").evaluate(e,{}),B=x.get("line-miter-limit"),H=x.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const G of i)this.addLine(G,e,D,E,B,H);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,s,_,g,c)}addLine(e,i,s,c,_,g){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let xe=0;xe<e.length-1;xe++)this.totalDistance+=e[xe].dist(e[xe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const x="Polygon"===Kf[i.type];let D=e.length;for(;D>=2&&e[D-1].equals(e[D-2]);)D--;let E=0;for(;E<D-1&&e[E].equals(e[E+1]);)E++;if(D<(x?3:2))return;"bevel"===s&&(_=1.05);const B=this.overscaling<=16?15*Wt/(512*this.overscaling):0,H=this.segments.prepareSegment(10*D,this.layoutVertexArray,this.indexArray);let G,ee,ne,le,me;this.e1=this.e2=-1,x&&(G=e[D-2],me=e[E].sub(G)._unit()._perp());for(let xe=E;xe<D;xe++){if(ne=xe===D-1?x?e[E+1]:void 0:e[xe+1],ne&&e[xe].equals(ne))continue;me&&(le=me),G&&(ee=G),G=e[xe],me=ne?ne.sub(G)._unit()._perp():le,le=le||me;let Se=le.add(me);0===Se.x&&0===Se.y||Se._unit();const we=le.x*me.x+le.y*me.y,Le=Se.x*me.x+Se.y*me.y,Ie=0!==Le?1/Le:1/0,Ae=2*Math.sqrt(2-2*Le),Qe=Le<bp&&ee&&ne,Xe=le.x*me.y-le.y*me.x>0;if(Qe&&xe>E){const it=G.dist(ee);if(it>2*B){const _t=G.sub(G.sub(ee)._mult(B/it)._round());this.updateDistance(ee,_t),this.addCurrentVertex(_t,le,0,0,H),ee=_t}}const dt=ee&&ne;let kt=dt?s:x?"butt":c;if(dt&&"round"===kt&&(Ie<g?kt="miter":Ie<=2&&(kt="fakeround")),"miter"===kt&&Ie>_&&(kt="bevel"),"bevel"===kt&&(Ie>2&&(kt="flipbevel"),Ie<_&&(kt="miter")),ee&&this.updateDistance(ee,G),"miter"===kt)Se._mult(Ie),this.addCurrentVertex(G,Se,0,0,H);else if("flipbevel"===kt){if(Ie>100)Se=me.mult(-1);else{const it=Ie*le.add(me).mag()/le.sub(me).mag();Se._perp()._mult(it*(Xe?-1:1))}this.addCurrentVertex(G,Se,0,0,H),this.addCurrentVertex(G,Se.mult(-1),0,0,H)}else if("bevel"===kt||"fakeround"===kt){const it=-Math.sqrt(Ie*Ie-1),_t=Xe?it:0,mt=Xe?0:it;if(ee&&this.addCurrentVertex(G,le,_t,mt,H),"fakeround"===kt){const xt=Math.round(180*Ae/Math.PI/20);for(let Dt=1;Dt<xt;Dt++){let ct=Dt/xt;if(.5!==ct){const Ht=ct-.5;ct+=ct*Ht*(ct-1)*((1.0904+we*(we*(3.55645-1.43519*we)-3.2452))*Ht*Ht+(.848013+we*(.215638*we-1.06021)))}const zt=me.sub(le)._mult(ct)._add(le)._unit()._mult(Xe?-1:1);this.addHalfVertex(G,zt.x,zt.y,!1,Xe,0,H)}}ne&&this.addCurrentVertex(G,me,-_t,-mt,H)}else if("butt"===kt)this.addCurrentVertex(G,Se,0,0,H);else if("square"===kt){const it=ee?1:-1;ee||this.addCurrentVertex(G,Se,it,it,H),this.addCurrentVertex(G,Se,0,0,H),ee&&this.addCurrentVertex(G,Se,it,it,H)}else"round"===kt&&(ee&&(this.addCurrentVertex(G,le,0,0,H),this.addCurrentVertex(G,le,1,1,H,!0)),ne&&(this.addCurrentVertex(G,me,-1,-1,H,!0),this.addCurrentVertex(G,me,0,0,H)));if(Qe&&xe<D-1){const it=G.dist(ne);if(it>2*B){const _t=G.add(ne.sub(G)._mult(B/it)._round());this.updateDistance(G,_t),this.addCurrentVertex(_t,me,0,0,H),G=_t}}}}addCurrentVertex(e,i,s,c,_,g=!1){const x=i.y*c-i.x,D=-i.y-i.x*c;this.addHalfVertex(e,i.x+i.y*s,i.y-i.x*s,g,!1,s,_),this.addHalfVertex(e,x,D,g,!0,-c,_)}addHalfVertex({x:e,y:i},s,c,_,g,x,D){this.layoutVertexArray.emplaceBack((e<<1)+(_?1:0),(i<<1)+(g?1:0),Math.round(63*s)+128,Math.round(63*c)+128,1+(0===x?0:x<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const E=D.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,E),D.primitiveLength++),g?this.e2=E:this.e1=E}updateScaledDistance(){if(this.lineClips){const e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(e,i){this.distance+=e.dist(i),this.updateScaledDistance()}}Bt(td,"LineBucket",{omit:["layers","patternFeatures"]});const Cd=new C({"line-cap":new k(nt.layout_line["line-cap"]),"line-join":new k(nt.layout_line["line-join"]),"line-miter-limit":new b(nt.layout_line["line-miter-limit"]),"line-round-limit":new b(nt.layout_line["line-round-limit"]),"line-sort-key":new k(nt.layout_line["line-sort-key"])});var xp={paint:new C({"line-opacity":new k(nt.paint_line["line-opacity"]),"line-color":new k(nt.paint_line["line-color"]),"line-translate":new b(nt.paint_line["line-translate"]),"line-translate-anchor":new b(nt.paint_line["line-translate-anchor"]),"line-width":new k(nt.paint_line["line-width"]),"line-gap-width":new k(nt.paint_line["line-gap-width"]),"line-offset":new k(nt.paint_line["line-offset"]),"line-blur":new k(nt.paint_line["line-blur"]),"line-dasharray":new k(nt.paint_line["line-dasharray"]),"line-pattern":new k(nt.paint_line["line-pattern"]),"line-gradient":new I(nt.paint_line["line-gradient"]),"line-trim-offset":new b(nt.paint_line["line-trim-offset"])}),layout:Cd};const wp=new class extends k{possiblyEvaluate(t,e){return e=new V(Math.floor(e.zoom),{now:e.now,fadeDuration:e.fadeDuration,transition:e.transition}),super.possiblyEvaluate(t,e)}evaluate(t,e,i,s){return e=cn({},e,{zoom:Math.floor(e.zoom)}),super.evaluate(t,e,i,s)}}(xp.paint.properties["line-width"].specification);function Mp(t,e){return e>0?e+2*t:t}wp.useIntegerZoom=!0;const Qf=ce([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Ed=ce([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),e_=ce([{name:"a_projected_pos",components:4,type:"Float32"}],4);ce([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Tp=ce([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),W_=ce([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);ce([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const t_=ce([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),G_=ce([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);ce([{name:"triangle",components:3,type:"Uint16"}]),ce([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),ce([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),ce([{type:"Float32",name:"offsetX"}]),ce([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);const Nl=128;function kp(t,e){const{expression:i}=e;if("constant"===i.kind)return{kind:"constant",layoutSize:i.evaluate(new V(t+1))};if("source"===i.kind)return{kind:"source"};{const{zoomStops:s,interpolationType:c}=i;let _=0;for(;_<s.length&&s[_]<=t;)_++;_=Math.max(0,_-1);let g=_;for(;g<s.length&&s[g]<t+1;)g++;g=Math.min(s.length-1,g);const x=s[_],D=s[g];return"composite"===i.kind?{kind:"composite",minZoom:x,maxZoom:D,interpolationType:c}:{kind:"camera",minZoom:x,maxZoom:D,minSize:i.evaluate(new V(x)),maxSize:i.evaluate(new V(D)),interpolationType:c}}}function wh(t,{uSize:e,uSizeT:i},{lowerSize:s,upperSize:c}){return"source"===t.kind?s/Nl:"composite"===t.kind?Oi(s/Nl,c/Nl,i):e}function id(t,e){let i=0,s=0;if("constant"===t.kind)s=t.layoutSize;else if("source"!==t.kind){const{interpolationType:c,minZoom:_,maxZoom:g}=t,x=c?ti(ka.interpolationFactor(c,e,_,g),0,1):0;"camera"===t.kind?s=Oi(t.minSize,t.maxSize,x):i=x}return{uSizeT:i,uSize:s}}var Z_=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:Nl,evaluateSizeForFeature:wh,evaluateSizeForZoom:id,getSizeData:kp});function q_(t,e,i){return t.sections.forEach(s=>{s.text=function(c,_,g){const x=_.layout.get("text-transform").evaluate(g,{});return"uppercase"===x?c=c.toLocaleUpperCase():"lowercase"===x&&(c=c.toLocaleLowerCase()),O.applyArabicShaping&&(c=O.applyArabicShaping(c)),c}(s.text,e,i)}),t}const Ad={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42","\u2190":"\u2191","\u2192":"\u2193"};function i_(t){return"\ufe36"===t||"\ufe48"===t||"\ufe38"===t||"\ufe44"===t||"\ufe42"===t||"\ufe3e"===t||"\ufe3c"===t||"\ufe3a"===t||"\ufe18"===t||"\ufe40"===t||"\ufe10"===t||"\ufe13"===t||"\ufe14"===t||"\uff40"===t||"\uffe3"===t||"\ufe11"===t||"\ufe12"===t}function n_(t){return"\ufe35"===t||"\ufe47"===t||"\ufe37"===t||"\ufe43"===t||"\ufe41"===t||"\ufe3d"===t||"\ufe3b"===t||"\ufe39"===t||"\ufe17"===t||"\ufe3f"===t}var Dp=Cn,Lp=function(t,e,i,s,c){var _,g,x=8*c-s-1,D=(1<<x)-1,E=D>>1,B=-7,H=i?c-1:0,G=i?-1:1,ee=t[e+H];for(H+=G,_=ee&(1<<-B)-1,ee>>=-B,B+=x;B>0;_=256*_+t[e+H],H+=G,B-=8);for(g=_&(1<<-B)-1,_>>=-B,B+=s;B>0;g=256*g+t[e+H],H+=G,B-=8);if(0===_)_=1-E;else{if(_===D)return g?NaN:1/0*(ee?-1:1);g+=Math.pow(2,s),_-=E}return(ee?-1:1)*g*Math.pow(2,_-s)},Sp=function(t,e,i,s,c,_){var g,x,D,E=8*_-c-1,B=(1<<E)-1,H=B>>1,G=23===c?Math.pow(2,-24)-Math.pow(2,-77):0,ee=s?0:_-1,ne=s?1:-1,le=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(x=isNaN(e)?1:0,g=B):(g=Math.floor(Math.log(e)/Math.LN2),e*(D=Math.pow(2,-g))<1&&(g--,D*=2),(e+=g+H>=1?G/D:G*Math.pow(2,1-H))*D>=2&&(g++,D/=2),g+H>=B?(x=0,g=B):g+H>=1?(x=(e*D-1)*Math.pow(2,c),g+=H):(x=e*Math.pow(2,H-1)*Math.pow(2,c),g=0));c>=8;t[i+ee]=255&x,ee+=ne,x/=256,c-=8);for(g=g<<c|x,E+=c;E>0;t[i+ee]=255&g,ee+=ne,g/=256,E-=8);t[i+ee-ne]|=128*le};function Cn(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}Cn.Varint=0,Cn.Fixed64=1,Cn.Bytes=2,Cn.Fixed32=5;var Mh=4294967296,Pd=1/Mh,Cp="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Rc(t){return t.type===Cn.Bytes?t.readVarint()+t.pos:t.pos+1}function Ep(t,e,i){var s=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));i.realloc(s);for(var c=i.pos-1;c>=t;c--)i.buf[c+s]=i.buf[c]}function r_(t,e){for(var i=0;i<t.length;i++)e.writeVarint(t[i])}function Ap(t,e){for(var i=0;i<t.length;i++)e.writeSVarint(t[i])}function Pp(t,e){for(var i=0;i<t.length;i++)e.writeFloat(t[i])}function Ip(t,e){for(var i=0;i<t.length;i++)e.writeDouble(t[i])}function a_(t,e){for(var i=0;i<t.length;i++)e.writeBoolean(t[i])}function Op(t,e){for(var i=0;i<t.length;i++)e.writeFixed32(t[i])}function $_(t,e){for(var i=0;i<t.length;i++)e.writeSFixed32(t[i])}function s_(t,e){for(var i=0;i<t.length;i++)e.writeFixed64(t[i])}function o_(t,e){for(var i=0;i<t.length;i++)e.writeSFixed64(t[i])}function Id(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function nu(t,e,i){t[i]=e,t[i+1]=e>>>8,t[i+2]=e>>>16,t[i+3]=e>>>24}function Rp(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}Cn.prototype={destroy:function(){this.buf=null},readFields:function(t,e,i){for(i=i||this.length;this.pos<i;){var s=this.readVarint(),c=s>>3,_=this.pos;this.type=7&s,t(c,e,this),this.pos===_&&this.skip(s)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=Id(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=Rp(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=Id(this.buf,this.pos)+Id(this.buf,this.pos+4)*Mh;return this.pos+=8,t},readSFixed64:function(){var t=Id(this.buf,this.pos)+Rp(this.buf,this.pos+4)*Mh;return this.pos+=8,t},readFloat:function(){var t=Lp(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Lp(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,i,s=this.buf;return e=127&(i=s[this.pos++]),i<128?e:(e|=(127&(i=s[this.pos++]))<<7,i<128?e:(e|=(127&(i=s[this.pos++]))<<14,i<128?e:(e|=(127&(i=s[this.pos++]))<<21,i<128?e:function(c,_,g){var x,D,E=g.buf;if(x=(112&(D=E[g.pos++]))>>4,D<128||(x|=(127&(D=E[g.pos++]))<<3,D<128)||(x|=(127&(D=E[g.pos++]))<<10,D<128)||(x|=(127&(D=E[g.pos++]))<<17,D<128)||(x|=(127&(D=E[g.pos++]))<<24,D<128)||(x|=(1&(D=E[g.pos++]))<<31,D<128))return function xu(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}(c,x,_);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(i=s[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&Cp?Cp.decode(this.buf.subarray(e,t)):function(i,s,c){for(var _="",g=s;g<c;){var x,D,E,B=i[g],H=null,G=B>239?4:B>223?3:B>191?2:1;if(g+G>c)break;1===G?B<128&&(H=B):2===G?128==(192&(x=i[g+1]))&&(H=(31&B)<<6|63&x)<=127&&(H=null):3===G?(D=i[g+2],128==(192&(x=i[g+1]))&&128==(192&D)&&((H=(15&B)<<12|(63&x)<<6|63&D)<=2047||H>=55296&&H<=57343)&&(H=null)):4===G&&(D=i[g+2],E=i[g+3],128==(192&(x=i[g+1]))&&128==(192&D)&&128==(192&E)&&((H=(15&B)<<18|(63&x)<<12|(63&D)<<6|63&E)<=65535||H>=1114112)&&(H=null)),null===H?(H=65533,G=1):H>65535&&(H-=65536,_+=String.fromCharCode(H>>>10&1023|55296),H=56320|1023&H),_+=String.fromCharCode(H),g+=G}return _}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==Cn.Bytes)return t.push(this.readVarint(e));var i=Rc(this);for(t=t||[];this.pos<i;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==Cn.Bytes)return t.push(this.readSVarint());var e=Rc(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Cn.Bytes)return t.push(this.readBoolean());var e=Rc(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Cn.Bytes)return t.push(this.readFloat());var e=Rc(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Cn.Bytes)return t.push(this.readDouble());var e=Rc(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Cn.Bytes)return t.push(this.readFixed32());var e=Rc(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Cn.Bytes)return t.push(this.readSFixed32());var e=Rc(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Cn.Bytes)return t.push(this.readFixed64());var e=Rc(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==Cn.Bytes)return t.push(this.readSFixed64());var e=Rc(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===Cn.Varint)for(;this.buf[this.pos++]>127;);else if(e===Cn.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Cn.Fixed32)this.pos+=4;else{if(e!==Cn.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var i=new Uint8Array(e);i.set(this.buf),this.buf=i,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),nu(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),nu(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),nu(this.buf,-1&t,this.pos),nu(this.buf,Math.floor(t*Pd),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),nu(this.buf,-1&t,this.pos),nu(this.buf,Math.floor(t*Pd),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(e,i){var s,c,_,x;if(e>=0?(s=e%4294967296|0,c=e/4294967296|0):(c=~(-e/4294967296),4294967295^(s=~(-e%4294967296))?s=s+1|0:(s=0,c=c+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");i.realloc(10),_=s,(x=i).buf[x.pos++]=127&_|128,_>>>=7,x.buf[x.pos++]=127&_|128,_>>>=7,x.buf[x.pos++]=127&_|128,_>>>=7,x.buf[x.pos++]=127&_|128,x.buf[x.pos]=127&(_>>>=7),function(_,g){var x=(7&_)<<4;g.buf[g.pos++]|=x|((_>>>=3)?128:0),_&&(g.buf[g.pos++]=127&_|((_>>>=7)?128:0),_&&(g.buf[g.pos++]=127&_|((_>>>=7)?128:0),_&&(g.buf[g.pos++]=127&_|((_>>>=7)?128:0),_&&(g.buf[g.pos++]=127&_|((_>>>=7)?128:0),_&&(g.buf[g.pos++]=127&_)))))}(c,i)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(s,c,_){for(var g,x,D=0;D<c.length;D++){if((g=c.charCodeAt(D))>55295&&g<57344){if(!x){g>56319||D+1===c.length?(s[_++]=239,s[_++]=191,s[_++]=189):x=g;continue}if(g<56320){s[_++]=239,s[_++]=191,s[_++]=189,x=g;continue}g=x-55296<<10|g-56320|65536,x=null}else x&&(s[_++]=239,s[_++]=191,s[_++]=189,x=null);g<128?s[_++]=g:(g<2048?s[_++]=g>>6|192:(g<65536?s[_++]=g>>12|224:(s[_++]=g>>18|240,s[_++]=g>>12&63|128),s[_++]=g>>6&63|128),s[_++]=63&g|128)}return _}(this.buf,t,this.pos);var i=this.pos-e;i>=128&&Ep(e,i,this),this.pos=e-1,this.writeVarint(i),this.pos+=i},writeFloat:function(t){this.realloc(4),Sp(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),Sp(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var i=0;i<e;i++)this.buf[this.pos++]=t[i]},writeRawMessage:function(t,e){this.pos++;var i=this.pos;t(e,this);var s=this.pos-i;s>=128&&Ep(i,s,this),this.pos=i-1,this.writeVarint(s),this.pos+=s},writeMessage:function(t,e,i){this.writeTag(t,Cn.Bytes),this.writeRawMessage(e,i)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,r_,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,Ap,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,a_,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,Pp,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,Ip,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,Op,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,$_,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,s_,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,o_,e)},writeBytesField:function(t,e){this.writeTag(t,Cn.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Cn.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Cn.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Cn.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Cn.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Cn.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Cn.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Cn.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Cn.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Cn.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var Th=Me(Dp);function X_(t,e,i){e.glyphs=[],1===t&&i.readMessage(J_,e)}function J_(t,e,i){if(3===t){const{id:s,bitmap:c,width:_,height:g,left:x,top:D,advance:E}=i.readMessage(K_,{});e.glyphs.push({id:s,bitmap:new ho({width:_+6,height:g+6},c),metrics:{width:_,height:g,left:x,top:D,advance:E}})}else 4===t?e.ascender=i.readSVarint():5===t&&(e.descender=i.readSVarint())}function K_(t,e,i){1===t?e.id=i.readVarint():2===t?e.bitmap=i.readBytes():3===t?e.width=i.readVarint():4===t?e.height=i.readVarint():5===t?e.left=i.readSVarint():6===t?e.top=i.readSVarint():7===t&&(e.advance=i.readVarint())}function kh(t){let e=0,i=0;for(const g of t)e+=g.w*g.h,i=Math.max(i,g.w);t.sort((g,x)=>x.h-g.h);const s=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),i),h:1/0}];let c=0,_=0;for(const g of t)for(let x=s.length-1;x>=0;x--){const D=s[x];if(!(g.w>D.w||g.h>D.h)){if(g.x=D.x,g.y=D.y,_=Math.max(_,g.y+g.h),c=Math.max(c,g.x+g.w),g.w===D.w&&g.h===D.h){const E=s.pop();x<s.length&&(s[x]=E)}else g.h===D.h?(D.x+=g.w,D.w-=g.w):g.w===D.w?(D.y+=g.h,D.h-=g.h):(s.push({x:D.x+g.w,y:D.y,w:D.w-g.w,h:g.h}),D.y+=g.h,D.h-=g.h);break}}return{w:c,h:_,fill:e/(c*_)||0}}class Od{constructor(e,{pixelRatio:i,version:s,stretchX:c,stretchY:_,content:g}){this.paddedRect=e,this.pixelRatio=i,this.stretchX=c,this.stretchY=_,this.content=g,this.version=s}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class zp{constructor(e,i){const s={},c={};this.haveRenderCallbacks=[];const _=[];this.addImages(e,s,_),this.addImages(i,c,_);const{w:g,h:x}=kh(_),D=new Ns({width:g||1,height:x||1});for(const E in e){const B=e[E],H=s[E].paddedRect;Ns.copy(B.data,D,{x:0,y:0},{x:H.x+1,y:H.y+1},B.data)}for(const E in i){const B=i[E],H=c[E].paddedRect,G=H.x+1,ee=H.y+1,ne=B.data.width,le=B.data.height;Ns.copy(B.data,D,{x:0,y:0},{x:G,y:ee},B.data),Ns.copy(B.data,D,{x:0,y:le-1},{x:G,y:ee-1},{width:ne,height:1}),Ns.copy(B.data,D,{x:0,y:0},{x:G,y:ee+le},{width:ne,height:1}),Ns.copy(B.data,D,{x:ne-1,y:0},{x:G-1,y:ee},{width:1,height:le}),Ns.copy(B.data,D,{x:0,y:0},{x:G+ne,y:ee},{width:1,height:le})}this.image=D,this.iconPositions=s,this.patternPositions=c}addImages(e,i,s){for(const c in e){const _=e[c],g={x:0,y:0,w:_.data.width+2,h:_.data.height+2};s.push(g),i[c]=new Od(g,_),_.hasRenderCallback&&this.haveRenderCallbacks.push(c)}}patchUpdatedImages(e,i){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(s=>e.hasImage(s)),e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const s in e.updatedImages)this.patchUpdatedImage(this.iconPositions[s],e.getImage(s),i),this.patchUpdatedImage(this.patternPositions[s],e.getImage(s),i)}patchUpdatedImage(e,i,s){if(!e||!i||e.version===i.version)return;e.version=i.version;const[c,_]=e.tl;s.update(i.data,void 0,{x:c,y:_})}}Bt(Od,"ImagePosition"),Bt(zp,"ImageAtlas");const Ro={horizontal:1,vertical:2,horizontalOnly:3};class nd{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,i){const s=new nd;return s.scale=e||1,s.fontStack=i,s}static forImage(e){const i=new nd;return i.imageName=e,i}}class wu{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,i){const s=new wu;for(let c=0;c<e.sections.length;c++){const _=e.sections[c];_.image?s.addImageSection(_):s.addTextSection(_,i)}return s}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSections(){return this.sections}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(e){this.text=function(i,s){let c="";for(let _=0;_<i.length;_++){const g=i.charCodeAt(_+1)||null,x=i.charCodeAt(_-1)||null;c+=!s&&(g&&oc(g)&&!Ad[i[_+1]]||x&&oc(x)&&!Ad[i[_-1]])||!Ad[i[_]]?i[_]:Ad[i[_]]}return c}(this.text,e)}trim(){let e=0;for(let s=0;s<this.text.length&&Rd[this.text.charCodeAt(s)];s++)e++;let i=this.text.length;for(let s=this.text.length-1;s>=0&&s>=e&&Rd[this.text.charCodeAt(s)];s--)i--;this.text=this.text.substring(e,i),this.sectionIndex=this.sectionIndex.slice(e,i)}substring(e,i){const s=new wu;return s.text=this.text.substring(e,i),s.sectionIndex=this.sectionIndex.slice(e,i),s.sections=this.sections,s}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((e,i)=>Math.max(e,this.sections[i].scale),0)}addTextSection(e,i){this.text+=e.text,this.sections.push(nd.forText(e.scale,e.fontStack||i));const s=this.sections.length-1;for(let c=0;c<e.text.length;++c)this.sectionIndex.push(s)}addImageSection(e){const i=e.image?e.image.name:"";if(0===i.length)return void Ri("Can't add FormattedSection with an empty image.");const s=this.getNextImageSectionCharCode();s?(this.text+=String.fromCharCode(s),this.sections.push(nd.forImage(i)),this.sectionIndex.push(this.sections.length-1)):Ri("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Dh(t,e,i,s,c,_,g,x,D,E,B,H,G,ee,ne){const le=wu.fromFeature(t,c);H===Ro.vertical&&le.verticalizePunctuation(G);let me=[];const xe=function(Ae,Qe,Xe,dt,kt,it){if(!Ae)return[];const _t=[],mt=function(zt,Ht,Ft,bi,Lt,Kt){let xi=0;for(let hn=0;hn<zt.length();hn++){const wi=zt.getSection(hn);xi+=Bp(zt.getCharCode(hn),wi,bi,Lt,Ht,Kt)}return xi/Math.max(1,Math.ceil(xi/Ft))}(Ae,Qe,Xe,dt,kt,it),xt=Ae.text.indexOf("\u200b")>=0;let Dt=0;for(let zt=0;zt<Ae.length();zt++){const Ht=Ae.getSection(zt),Ft=Ae.getCharCode(zt);if(Rd[Ft]||(Dt+=Bp(Ft,Ht,dt,kt,Qe,it)),zt<Ae.length()-1){const bi=!((ct=Ft)<11904||!(It_Bopomofo_Extended(ct)||It_Bopomofo(ct)||It_CJK_Compatibility_Forms(ct)||It_CJK_Compatibility_Ideographs(ct)||It_CJK_Compatibility(ct)||It_CJK_Radicals_Supplement(ct)||It_CJK_Strokes(ct)||It_CJK_Symbols_and_Punctuation(ct)||It_CJK_Unified_Ideographs_Extension_A(ct)||It_CJK_Unified_Ideographs(ct)||It_Enclosed_CJK_Letters_and_Months(ct)||It_Halfwidth_and_Fullwidth_Forms(ct)||It_Hiragana(ct)||It_Ideographic_Description_Characters(ct)||It_Kangxi_Radicals(ct)||It_Katakana_Phonetic_Extensions(ct)||It_Katakana(ct)||It_Vertical_Forms(ct)||It_Yi_Radicals(ct)||It_Yi_Syllables(ct)));(Q_[Ft]||bi||Ht.imageName)&&_t.push(S(zt+1,Dt,mt,_t,c_(Ft,Ae.getCharCode(zt+1),bi&&xt),!1))}}var ct;return L(S(Ae.length(),Dt,mt,_t,0,!0))}(le,E,_,e,s,ee),{processBidirectionalText:Se,processStyledBidirectionalText:we}=O;if(Se&&1===le.sections.length){const Ae=Se(le.toString(),xe);for(const Qe of Ae){const Xe=new wu;Xe.text=Qe,Xe.sections=le.sections;for(let dt=0;dt<Qe.length;dt++)Xe.sectionIndex.push(0);me.push(Xe)}}else if(we){const Ae=we(le.text,le.sectionIndex,xe);for(const Qe of Ae){const Xe=new wu;Xe.text=Qe[0],Xe.sectionIndex=Qe[1],Xe.sections=le.sections,me.push(Xe)}}else me=function(Ae,Qe){const Xe=[],dt=Ae.text;let kt=0;for(const it of Qe)Xe.push(Ae.substring(kt,it)),kt=it;return kt<dt.length&&Xe.push(Ae.substring(kt,dt.length)),Xe}(le,xe);const Le=[],Ie={positionedLines:Le,text:le.toString(),top:B[1],bottom:B[1],left:B[0],right:B[0],writingMode:H,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(Ae,Qe,Xe,dt,kt,it,_t,mt,xt,Dt,ct,zt){let Ht=0,Ft=0,bi=0;const Lt="right"===mt?1:"left"===mt?0:.5;let Kt=!1;for(const Mi of kt){const Ti=Mi.getSections();for(const zn of Ti){if(zn.imageName)continue;const Hn=Qe[zn.fontStack];if(Hn&&(Kt=void 0!==Hn.ascender&&void 0!==Hn.descender,!Kt))break}if(!Kt)break}let xi=0;for(const Mi of kt){Mi.trim();const Ti=Mi.getMaxScale(),zn=24*(Ti-1),Hn={positionedGlyphs:[],lineOffset:0};Ae.positionedLines[xi]=Hn;const Nn=Hn.positionedGlyphs;let Fn=0;if(!Mi.length()){Ft+=it,++xi;continue}let ur=0,Lr=0;for(let Bn=0;Bn<Mi.length();Bn++){const sa=Mi.getSection(Bn),qr=Mi.getSectionIndex(Bn),yr=Mi.getCharCode(Bn);let gn=sa.scale,$r=null,Un=null,_o=null,Xr=24,os=0;const Ya=!(xt===Ro.horizontal||!ct&&!Et(yr)||ct&&(Rd[yr]||(hn=yr,It_Arabic(hn)||It_Arabic_Supplement(hn)||It_Arabic_Extended_A(hn)||It_Arabic_Presentation_Forms_A(hn)||It_Arabic_Presentation_Forms_B(hn))));if(sa.imageName){const mo=dt[sa.imageName];if(!mo)continue;_o=sa.imageName,Ae.iconsInText=Ae.iconsInText||!0,Un=mo.paddedRect;const za=mo.displaySize;gn=24*gn/zt,$r={width:za[0],height:za[1],left:1,top:-3,advance:Ya?za[1]:za[0],localGlyph:!1},os=Kt?-$r.height*gn:24*Ti-17-za[1]*gn,Xr=$r.advance;const yc=(Ya?za[0]:za[1])*gn-24*Ti;yc>0&&yc>Fn&&(Fn=yc)}else{const mo=Xe[sa.fontStack];if(!mo)continue;mo[yr]&&(Un=mo[yr]);const za=Qe[sa.fontStack];if(!za)continue;const yc=za.glyphs[yr];if(!yc)continue;if($r=yc.metrics,Xr=8203!==yr?24:0,Kt){const Bd=void 0!==za.ascender?Math.abs(za.ascender):0,Rh=void 0!==za.descender?Math.abs(za.descender):0,Yh=(Bd+Rh)*gn;ur<Yh&&(ur=Yh,Lr=(Bd-Rh)/2*gn),os=-Bd*gn}else os=24*(Ti-gn)-17}Ya?(Ae.verticalizable=!0,Nn.push({glyph:yr,imageName:_o,x:Ht,y:Ft+os,vertical:Ya,scale:gn,localGlyph:$r.localGlyph,fontStack:sa.fontStack,sectionIndex:qr,metrics:$r,rect:Un}),Ht+=Xr*gn+Dt):(Nn.push({glyph:yr,imageName:_o,x:Ht,y:Ft+os,vertical:Ya,scale:gn,localGlyph:$r.localGlyph,fontStack:sa.fontStack,sectionIndex:qr,metrics:$r,rect:Un}),Ht+=$r.advance*gn+Dt)}0!==Nn.length&&(bi=Math.max(Ht-Dt,bi),Kt?w(Nn,Lt,Fn,Lr,it*Ti/2):w(Nn,Lt,Fn,0,it/2)),Ht=0;const Zr=it*Ti+Fn;Hn.lineOffset=Math.max(Fn,zn),Ft+=Zr,++xi}var hn;const wi=Ft,{horizontalAlign:ni,verticalAlign:Gn}=u(_t);(function(Mi,Ti,zn,Hn,Nn,Fn){const ur=(Ti-zn)*Nn,Lr=-Fn*Hn;for(const Zr of Mi)for(const Bn of Zr.positionedGlyphs)Bn.x+=ur,Bn.y+=Lr})(Ae.positionedLines,Lt,ni,Gn,bi,wi),Ae.top+=-Gn*wi,Ae.bottom=Ae.top+wi,Ae.left+=-ni*bi,Ae.right=Ae.left+bi,Ae.hasBaseline=Kt}(Ie,e,i,s,me,g,x,D,H,E,G,ne),!function(Ae){for(const Qe of Ae)if(0!==Qe.positionedGlyphs.length)return!1;return!0}(Le)&&Ie}const Rd={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Q_={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Bp(t,e,i,s,c,_){if(e.imageName){const g=s[e.imageName];return g?g.displaySize[0]*e.scale*24/_+c:0}{const g=i[e.fontStack],x=g&&g.glyphs[t];return x?x.metrics.advance*e.scale+c:0}}function jp(t,e,i,s){const c=Math.pow(t-e,2);return s?t<e?c/2:2*c:c+Math.abs(i)*i}function c_(t,e,i){let s=0;return 10===t&&(s-=1e4),i&&(s+=150),40!==t&&65288!==t||(s+=50),41!==e&&65289!==e||(s+=50),s}function S(t,e,i,s,c,_){let g=null,x=jp(e,i,c,_);for(const D of s){const E=jp(e-D.x,i,c,_)+D.badness;E<=x&&(g=D,x=E)}return{index:t,x:e,priorBreak:g,badness:x}}function L(t){return t?L(t.priorBreak).concat(t.index):[]}function u(t){let e=.5,i=.5;switch(t){case"right":case"top-right":case"bottom-right":e=1;break;case"left":case"top-left":case"bottom-left":e=0}switch(t){case"bottom":case"bottom-right":case"bottom-left":i=1;break;case"top":case"top-right":case"top-left":i=0}return{horizontalAlign:e,verticalAlign:i}}function w(t,e,i,s,c){if(!(e||i||s||c))return;const _=t.length-1,g=t[_],x=(g.x+g.metrics.advance*g.scale)*e;for(let D=0;D<=_;D++)t[D].x-=x,t[D].y+=i+s+c}function z(t,e,i){const{horizontalAlign:s,verticalAlign:c}=u(i),_=e[0]-t.displaySize[0]*s,g=e[1]-t.displaySize[1]*c;return{image:t,top:g,bottom:g+t.displaySize[1],left:_,right:_+t.displaySize[0]}}function Z(t,e,i,s,c,_){const g=t.image;let x;if(g.content){const me=g.content,xe=g.pixelRatio||1;x=[me[0]/xe,me[1]/xe,g.displaySize[0]-me[2]/xe,g.displaySize[1]-me[3]/xe]}const D=e.left*_,E=e.right*_;let B,H,G,ee;"width"===i||"both"===i?(ee=c[0]+D-s[3],H=c[0]+E+s[1]):(ee=c[0]+(D+E-g.displaySize[0])/2,H=ee+g.displaySize[0]);const ne=e.top*_,le=e.bottom*_;return"height"===i||"both"===i?(B=c[1]+ne-s[0],G=c[1]+le+s[2]):(B=c[1]+(ne+le-g.displaySize[1])/2,G=B+g.displaySize[1]),{image:g,top:B,right:H,bottom:G,left:ee,collisionPadding:x}}class fe extends He{constructor(e,i,s,c,_){super(e,i),this.angle=c,this.z=s,void 0!==_&&(this.segment=_)}clone(){return new fe(this.x,this.y,this.z,this.angle,this.segment)}}function je(t,e,i,s,c){if(void 0===e.segment)return!0;let _=e,g=e.segment+1,x=0;for(;x>-i/2;){if(g--,g<0)return!1;x-=t[g].dist(_),_=t[g]}x+=t[g].dist(t[g+1]),g++;const D=[];let E=0;for(;x<i/2;){const B=t[g],H=t[g+1];if(!H)return!1;let G=t[g-1].angleTo(B)-B.angleTo(H);for(G=Math.abs((G+3*Math.PI)%(2*Math.PI)-Math.PI),D.push({distance:x,angleDelta:G}),E+=G;x-D[0].distance>s;)E-=D.shift().angleDelta;if(E>c)return!1;g++,x+=B.dist(H)}return!0}function Ne(t){let e=0;for(let i=0;i<t.length-1;i++)e+=t[i].dist(t[i+1]);return e}function st(t,e,i){return t?.6*e*i:0}function bt(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function Jt(t,e,i,s,c,_){const g=st(i,c,_),x=bt(i,s)*_;let D=0;const E=Ne(t)/2;for(let B=0;B<t.length-1;B++){const H=t[B],G=t[B+1],ee=H.dist(G);if(D+ee>E){const ne=(E-D)/ee,le=Oi(H.x,G.x,ne),me=Oi(H.y,G.y,ne),xe=new fe(le,me,0,G.angleTo(H),B);return!g||je(t,xe,x,g,e)?xe:void 0}D+=ee}}function di(t,e,i,s,c,_,g,x,D){const E=st(s,_,g),B=bt(s,c),H=B*g,G=0===t[0].x||t[0].x===D||0===t[0].y||t[0].y===D;return e-H<e/4&&(e=H+e/4),un(t,G?e/2*x%e:(B/2+2*_)*g*x%e,e,E,i,H,G,!1,D)}function un(t,e,i,s,c,_,g,x,D){const E=_/2,B=Ne(t);let H=0,G=e-i,ee=[];for(let ne=0;ne<t.length-1;ne++){const le=t[ne],me=t[ne+1],xe=le.dist(me),Se=me.angleTo(le);for(;G+i<H+xe;){G+=i;const we=(G-H)/xe,Le=Oi(le.x,me.x,we),Ie=Oi(le.y,me.y,we);if(Le>=0&&Le<D&&Ie>=0&&Ie<D&&G-E>=0&&G+E<=B){const Ae=new fe(Le,Ie,0,Se,ne);Ae._round(),s&&!je(t,Ae,_,s,c)||ee.push(Ae)}}H+=xe}return x||ee.length||g||(ee=un(t,H/2,i,s,c,_,g,!0,D)),ee}function ln(t,e,i,s,c){const _=[];for(let g=0;g<t.length;g++){const x=t[g];let D;for(let E=0;E<x.length-1;E++){let B=x[E],H=x[E+1];B.x<e&&H.x<e||(B.x<e?B=new He(e,B.y+(e-B.x)/(H.x-B.x)*(H.y-B.y))._round():H.x<e&&(H=new He(e,B.y+(e-B.x)/(H.x-B.x)*(H.y-B.y))._round()),B.y<i&&H.y<i||(B.y<i?B=new He(B.x+(i-B.y)/(H.y-B.y)*(H.x-B.x),i)._round():H.y<i&&(H=new He(B.x+(i-B.y)/(H.y-B.y)*(H.x-B.x),i)._round()),B.x>=s&&H.x>=s||(B.x>=s?B=new He(s,B.y+(s-B.x)/(H.x-B.x)*(H.y-B.y))._round():H.x>=s&&(H=new He(s,B.y+(s-B.x)/(H.x-B.x)*(H.y-B.y))._round()),B.y>=c&&H.y>=c||(B.y>=c?B=new He(B.x+(c-B.y)/(H.y-B.y)*(H.x-B.x),c)._round():H.y>=c&&(H=new He(B.x+(c-B.y)/(H.y-B.y)*(H.x-B.x),c)._round()),D&&B.equals(D[D.length-1])||(D=[B],_.push(D)),D.push(H)))))}}return _}Bt(fe,"Anchor");const xn=1e20;function an(t,e,i,s,c,_,g,x,D){for(let E=e;E<e+s;E++)nr(t,i*_+E,_,c,g,x,D);for(let E=i;E<i+c;E++)nr(t,E*_+e,1,s,g,x,D)}function nr(t,e,i,s,c,_,g){_[0]=0,g[0]=-xn,g[1]=xn,c[0]=t[e];for(let x=1,D=0,E=0;x<s;x++){c[x]=t[e+x*i];const B=x*x;do{const H=_[D];E=(c[x]-c[H]+B-H*H)/(x-H)/2}while(E<=g[D]&&--D>-1);D++,_[D]=x,g[D]=E,g[D+1]=xn}for(let x=0,D=0;x<s;x++){for(;g[D+1]<x;)D++;const E=_[D],B=x-E;t[e+x*i]=c[E]+B*B}}const Qn={none:0,ideographs:1,all:2};class vi{constructor(e,i,s){this.requestManager=e,this.localGlyphMode=i,this.localFontFamily=s,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(e){this.url=e}getGlyphs(e,i){const s=[];for(const c in e)for(const _ of e[c])s.push({stack:c,id:_});wn(s,({stack:c,id:_},g)=>{let x=this.entries[c];x||(x=this.entries[c]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let D=x.glyphs[_];if(void 0!==D)return void g(null,{stack:c,id:_,glyph:D});if(D=this._tinySDF(x,c,_),D)return x.glyphs[_]=D,void g(null,{stack:c,id:_,glyph:D});const E=Math.floor(_/256);if(256*E>65535)return void g(new Error("glyphs > 65535 not supported"));if(x.ranges[E])return void g(null,{stack:c,id:_,glyph:D});let B=x.requests[E];B||(B=x.requests[E]=[],vi.loadGlyphRange(c,E,this.url,this.requestManager,(H,G)=>{if(G){x.ascender=G.ascender,x.descender=G.descender;for(const ee in G.glyphs)this._doesCharSupportLocalGlyph(+ee)||(x.glyphs[+ee]=G.glyphs[+ee]);x.ranges[E]=!0}for(const ee of B)ee(H,G);delete x.requests[E]})),B.push((H,G)=>{H?g(H):G&&g(null,{stack:c,id:_,glyph:G.glyphs[_]||null})})},(c,_)=>{if(c)i(c);else if(_){const g={};for(const{stack:x,id:D,glyph:E}of _)void 0===g[x]&&(g[x]={}),void 0===g[x].glyphs&&(g[x].glyphs={}),g[x].glyphs[D]=E&&{id:E.id,bitmap:E.bitmap.clone(),metrics:E.metrics},g[x].ascender=this.entries[x].ascender,g[x].descender=this.entries[x].descender;i(null,g)}})}_doesCharSupportLocalGlyph(e){return this.localGlyphMode!==Qn.none&&(this.localGlyphMode===Qn.all?!!this.localFontFamily:!!this.localFontFamily&&(It_CJK_Unified_Ideographs(e)||It_Hangul_Syllables(e)||It_Hiragana(e)||It_Katakana(e)||It_CJK_Symbols_and_Punctuation(e)))}_tinySDF(e,i,s){const c=this.localFontFamily;if(!c||!this._doesCharSupportLocalGlyph(s))return;let _=e.tinySDF;if(!_){let le="400";/bold/i.test(i)?le="900":/medium/i.test(i)?le="500":/light/i.test(i)&&(le="200"),_=e.tinySDF=new vi.TinySDF({fontFamily:c,fontWeight:le,fontSize:48,buffer:6,radius:16}),_.fontWeight=le}if(this.localGlyphs[_.fontWeight][s])return this.localGlyphs[_.fontWeight][s];const g=String.fromCharCode(s),{data:x,width:D,height:E,glyphWidth:B,glyphHeight:H,glyphLeft:G,glyphTop:ee,glyphAdvance:ne}=_.draw(g);return this.localGlyphs[_.fontWeight][s]={id:s,bitmap:new ho({width:D,height:E},x),metrics:{width:B/2,height:H/2,left:G/2,top:ee/2-27,advance:ne/2,localGlyph:!0}}}}vi.loadGlyphRange=function(t,e,i,s,c){const _=256*e,g=_+255,x=s.transformRequest(s.normalizeGlyphsURL(i).replace("{fontstack}",t).replace("{range}",`${_}-${g}`),On.Glyphs);Fa(x,(D,E)=>{if(D)c(D);else if(E){const B={},H=new Th(E).readFields(X_,{});for(const G of H.glyphs)B[G.id]=G;c(null,{glyphs:B,ascender:H.ascender,descender:H.descender})}})},vi.TinySDF=class{constructor({fontSize:t=24,buffer:e=3,radius:i=8,cutoff:s=.25,fontFamily:c="sans-serif",fontWeight:_="normal",fontStyle:g="normal"}={}){this.buffer=e,this.cutoff=s,this.radius=i;const x=this.size=t+4*e,D=this._createCanvas(x),E=this.ctx=D.getContext("2d",{willReadFrequently:!0});E.font=`${g} ${_} ${t}px ${c}`,E.textBaseline="alphabetic",E.textAlign="left",E.fillStyle="black",this.gridOuter=new Float64Array(x*x),this.gridInner=new Float64Array(x*x),this.f=new Float64Array(x),this.z=new Float64Array(x+1),this.v=new Uint16Array(x)}_createCanvas(t){const e=document.createElement("canvas");return e.width=e.height=t,e}draw(t){const{width:e,actualBoundingBoxAscent:i,actualBoundingBoxDescent:s,actualBoundingBoxLeft:c,actualBoundingBoxRight:_}=this.ctx.measureText(t),g=Math.ceil(i),x=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(_-c))),D=Math.min(this.size-this.buffer,g+Math.ceil(s)),E=x+2*this.buffer,B=D+2*this.buffer,H=Math.max(E*B,0),G=new Uint8ClampedArray(H),ee={data:G,width:E,height:B,glyphWidth:x,glyphHeight:D,glyphTop:g,glyphLeft:0,glyphAdvance:e};if(0===x||0===D)return ee;const{ctx:ne,buffer:le,gridInner:me,gridOuter:xe}=this;ne.clearRect(le,le,x,D),ne.fillText(t,le,le+g);const Se=ne.getImageData(le,le,x,D);xe.fill(xn,0,H),me.fill(0,0,H);for(let we=0;we<D;we++)for(let Le=0;Le<x;Le++){const Ie=Se.data[4*(we*x+Le)+3]/255;if(0===Ie)continue;const Ae=(we+le)*E+Le+le;if(1===Ie)xe[Ae]=0,me[Ae]=xn;else{const Qe=.5-Ie;xe[Ae]=Qe>0?Qe*Qe:0,me[Ae]=Qe<0?Qe*Qe:0}}an(xe,0,0,E,B,E,this.f,this.v,this.z),an(me,le,le,x,D,E,this.f,this.v,this.z);for(let we=0;we<H;we++){const Le=Math.sqrt(xe[we])-Math.sqrt(me[we]);G[we]=Math.round(255-255*(Le/this.radius+this.cutoff))}return ee}};function Mu(t,e,i,s){const c=[],_=t.image,g=_.pixelRatio,x=_.paddedRect.w-2,D=_.paddedRect.h-2,E=t.right-t.left,B=t.bottom-t.top,H=_.stretchX||[[0,x]],G=_.stretchY||[[0,D]],ee=(it,_t)=>it+_t[1]-_t[0],ne=H.reduce(ee,0),le=G.reduce(ee,0),me=x-ne,xe=D-le;let Se=0,we=ne,Le=0,Ie=le,Ae=0,Qe=me,Xe=0,dt=xe;if(_.content&&s){const it=_.content;Se=as(H,0,it[0]),Le=as(G,0,it[1]),we=as(H,it[0],it[2]),Ie=as(G,it[1],it[3]),Ae=it[0]-Se,Xe=it[1]-Le,Qe=it[2]-it[0]-we,dt=it[3]-it[1]-Ie}const kt=(it,_t,mt,xt)=>{const Dt=fo(it.stretch-Se,we,E,t.left),ct=Ul(it.fixed-Ae,Qe,it.stretch,ne),zt=fo(_t.stretch-Le,Ie,B,t.top),Ht=Ul(_t.fixed-Xe,dt,_t.stretch,le),Ft=fo(mt.stretch-Se,we,E,t.left),bi=Ul(mt.fixed-Ae,Qe,mt.stretch,ne),Lt=fo(xt.stretch-Le,Ie,B,t.top),Kt=Ul(xt.fixed-Xe,dt,xt.stretch,le),xi=new He(Dt,zt),hn=new He(Ft,zt),wi=new He(Ft,Lt),ni=new He(Dt,Lt),Gn=new He(ct/g,Ht/g),Mi=new He(bi/g,Kt/g),Ti=e*Math.PI/180;if(Ti){const Nn=Math.sin(Ti),Fn=Math.cos(Ti),ur=[Fn,-Nn,Nn,Fn];xi._matMult(ur),hn._matMult(ur),ni._matMult(ur),wi._matMult(ur)}const zn=it.stretch+it.fixed,Hn=_t.stretch+_t.fixed;return{tl:xi,tr:hn,bl:ni,br:wi,tex:{x:_.paddedRect.x+1+zn,y:_.paddedRect.y+1+Hn,w:mt.stretch+mt.fixed-zn,h:xt.stretch+xt.fixed-Hn},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Gn,pixelOffsetBR:Mi,minFontScaleX:Qe/g/E,minFontScaleY:dt/g/B,isSDF:i}};if(s&&(_.stretchX||_.stretchY)){const it=Rr(H,me,ne),_t=Rr(G,xe,le);for(let mt=0;mt<it.length-1;mt++){const xt=it[mt],Dt=it[mt+1];for(let ct=0;ct<_t.length-1;ct++)c.push(kt(xt,_t[ct],Dt,_t[ct+1]))}}else c.push(kt({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:x+1},{fixed:0,stretch:D+1}));return c}function as(t,e,i){let s=0;for(const c of t)s+=Math.max(e,Math.min(i,c[1]))-Math.max(e,Math.min(i,c[0]));return s}function Rr(t,e,i){const s=[{fixed:-1,stretch:0}];for(const[c,_]of t){const g=s[s.length-1];s.push({fixed:c-g.stretch,stretch:g.stretch}),s.push({fixed:c-g.stretch,stretch:g.stretch+(_-c)})}return s.push({fixed:e+1,stretch:i}),s}function fo(t,e,i,s){return t/e*i+s}function Ul(t,e,i,s){return t-e*i/s}function _c(t,e,i,s){const c=e+t.positionedLines[s].lineOffset;return 0===s?i+c/2:i+(c+(e+t.positionedLines[s-1].lineOffset))/2}class ru{constructor(e=[],i=Yd){if(this.data=e,this.length=this.data.length,this.compare=i,this.length>0)for(let s=(this.length>>1)-1;s>=0;s--)this._down(s)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],i=this.data.pop();return this.length--,this.length>0&&(this.data[0]=i,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:i,compare:s}=this,c=i[e];for(;e>0;){const _=e-1>>1,g=i[_];if(s(c,g)>=0)break;i[e]=g,e=_}i[e]=c}_down(e){const{data:i,compare:s}=this,c=this.length>>1,_=i[e];for(;e<c;){let g=1+(e<<1),x=i[g];const D=g+1;if(D<this.length&&s(i[D],x)<0&&(g=D,x=i[D]),s(x,_)>=0)break;i[e]=x,e=g}i[e]=_}}function Yd(t,e){return t<e?-1:t>e?1:0}function ss(t,e=1,i=!1){let s=1/0,c=1/0,_=-1/0,g=-1/0;const x=t[0];for(let ee=0;ee<x.length;ee++){const ne=x[ee];(!ee||ne.x<s)&&(s=ne.x),(!ee||ne.y<c)&&(c=ne.y),(!ee||ne.x>_)&&(_=ne.x),(!ee||ne.y>g)&&(g=ne.y)}const D=Math.min(_-s,g-c);let E=D/2;const B=new ru([],Ss);if(0===D)return new He(s,c);for(let ee=s;ee<_;ee+=D)for(let ne=c;ne<g;ne+=D)B.push(new lr(ee+E,ne+E,E,t));let H=function(ee){let ne=0,le=0,me=0;const xe=ee[0];for(let Se=0,we=xe.length,Le=we-1;Se<we;Le=Se++){const Ie=xe[Se],Ae=xe[Le],Qe=Ie.x*Ae.y-Ae.x*Ie.y;le+=(Ie.x+Ae.x)*Qe,me+=(Ie.y+Ae.y)*Qe,ne+=3*Qe}return new lr(le/ne,me/ne,0,ee)}(t),G=B.length;for(;B.length;){const ee=B.pop();(ee.d>H.d||!H.d)&&(H=ee,i&&console.log("found best %d after %d probes",Math.round(1e4*ee.d)/1e4,G)),ee.max-H.d<=e||(E=ee.h/2,B.push(new lr(ee.p.x-E,ee.p.y-E,E,t)),B.push(new lr(ee.p.x+E,ee.p.y-E,E,t)),B.push(new lr(ee.p.x-E,ee.p.y+E,E,t)),B.push(new lr(ee.p.x+E,ee.p.y+E,E,t)),G+=4)}return i&&(console.log(`num probes: ${G}`),console.log(`best distance: ${H.d}`)),H.p}function Ss(t,e){return e.max-t.max}class lr{constructor(e,i,s,c){this.p=new He(e,i),this.h=s,this.d=function(_,g){let x=!1,D=1/0;for(let E=0;E<g.length;E++){const B=g[E];for(let H=0,G=B.length,ee=G-1;H<G;ee=H++){const ne=B[H],le=B[ee];ne.y>_.y!=le.y>_.y&&_.x<(le.x-ne.x)*(_.y-ne.y)/(le.y-ne.y)+ne.x&&(x=!x),D=Math.min(D,op(_,ne,le))}}return(x?1:-1)*Math.sqrt(D)}(this.p,c),this.max=this.d+this.h*Math.SQRT2}}const Yr=Number.POSITIVE_INFINITY,cr=Math.sqrt(2);function Yo(t,[e,i]){let s=0,c=0;if(i===Yr){e<0&&(e=0);const _=e/cr;switch(t){case"top-right":case"top-left":c=_-7;break;case"bottom-right":case"bottom-left":c=7-_;break;case"bottom":c=7-e;break;case"top":c=e-7}switch(t){case"top-right":case"bottom-right":s=-_;break;case"top-left":case"bottom-left":s=_;break;case"left":s=e;break;case"right":s=-e}}else{switch(e=Math.abs(e),i=Math.abs(i),t){case"top-right":case"top-left":case"top":c=i-7;break;case"bottom-right":case"bottom-left":case"bottom":c=7-i}switch(t){case"top-right":case"bottom-right":case"right":s=-e;break;case"top-left":case"bottom-left":case"left":s=e}}return[s,c]}function Yc(t,e,i,s,c,_,g,x,D,E){t.createArrays(),t.tilePixelRatio=Wt/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;const B=t.layers[0].layout,H=t.layers[0]._unevaluatedLayout._values,G={};if("composite"===t.textSizeData.kind){const{minZoom:le,maxZoom:me}=t.textSizeData;G.compositeTextSizes=[H["text-size"].possiblyEvaluate(new V(le),x),H["text-size"].possiblyEvaluate(new V(me),x)]}if("composite"===t.iconSizeData.kind){const{minZoom:le,maxZoom:me}=t.iconSizeData;G.compositeIconSizes=[H["icon-size"].possiblyEvaluate(new V(le),x),H["icon-size"].possiblyEvaluate(new V(me),x)]}G.layoutTextSize=H["text-size"].possiblyEvaluate(new V(D+1),x),G.layoutIconSize=H["icon-size"].possiblyEvaluate(new V(D+1),x),G.textMaxSize=H["text-size"].possiblyEvaluate(new V(18),x);const ee="map"===B.get("text-rotation-alignment")&&"point"!==B.get("symbol-placement"),ne=B.get("text-size");for(const le of t.features){const me=B.get("text-font").evaluate(le,{},x).join(","),xe=ne.evaluate(le,{},x),Se=G.layoutTextSize.evaluate(le,{},x),we=(G.layoutIconSize.evaluate(le,{},x),{horizontal:{},vertical:void 0}),Le=le.text;let Ie,Ae=[0,0];if(Le){const dt=Le.toString(),kt=24*B.get("text-letter-spacing").evaluate(le,{},x),it=24*B.get("text-line-height").evaluate(le,{},x),_t=Wc(dt)?kt:0,mt=B.get("text-anchor").evaluate(le,{},x),xt=B.get("text-variable-anchor");if(!xt){const Ft=B.get("text-radial-offset").evaluate(le,{},x);Ae=Ft?Yo(mt,[24*Ft,Yr]):B.get("text-offset").evaluate(le,{},x).map(bi=>24*bi)}let Dt=ee?"center":B.get("text-justify").evaluate(le,{},x);const ct="point"===B.get("symbol-placement"),zt=ct?24*B.get("text-max-width").evaluate(le,{},x):1/0,Ht=Ft=>{t.allowVerticalPlacement&&sc(dt)&&(we.vertical=Dh(Le,e,i,c,me,zt,it,mt,Ft,_t,Ae,Ro.vertical,!0,Se,xe))};if(!ee&&xt){const Ft="auto"===Dt?xt.map(Lt=>Wl(Lt)):[Dt];let bi=!1;for(let Lt=0;Lt<Ft.length;Lt++){const Kt=Ft[Lt];if(!we.horizontal[Kt])if(bi)we.horizontal[Kt]=we.horizontal[0];else{const xi=Dh(Le,e,i,c,me,zt,it,"center",Kt,_t,Ae,Ro.horizontal,!1,Se,xe);xi&&(we.horizontal[Kt]=xi,bi=1===xi.positionedLines.length)}}Ht("left")}else{if("auto"===Dt&&(Dt=Wl(mt)),ct||B.get("text-writing-mode").indexOf("horizontal")>=0||!sc(dt)){const Ft=Dh(Le,e,i,c,me,zt,it,mt,Dt,_t,Ae,Ro.horizontal,!1,Se,xe);Ft&&(we.horizontal[Dt]=Ft)}Ht(ct?"left":Dt)}}let Qe=!1;if(le.icon&&le.icon.name){const dt=s[le.icon.name];dt&&(Ie=z(c[le.icon.name],B.get("icon-offset").evaluate(le,{},x),B.get("icon-anchor").evaluate(le,{},x)),Qe=dt.sdf,void 0===t.sdfIcons?t.sdfIcons=dt.sdf:t.sdfIcons!==dt.sdf&&Ri("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(dt.pixelRatio!==t.pixelRatio||0!==B.get("icon-rotate").constantOr(1))&&(t.iconsNeedLinear=!0))}const Xe=Lh(we.horizontal)||we.vertical;t.iconsInText||(t.iconsInText=!!Xe&&Xe.iconsInText),(Xe||Ie)&&Gl(t,le,we,Ie,s,G,Se,0,Ae,Qe,g,x,E)}_&&t.generateCollisionDebugBuffers(D,t.collisionBoxArray)}function Wl(t){switch(t){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Gl(t,e,i,s,c,_,g,x,D,E,B,H,G){let ee=_.textMaxSize.evaluate(e,{},H);void 0===ee&&(ee=g);const ne=t.layers[0].layout,le=ne.get("icon-offset").evaluate(e,{},H),me=Lh(i.horizontal)||i.vertical,xe="globe"===G.name,we=g/24,Le=t.tilePixelRatio*ee/24,Ie=(mt=t.overscaling,t.zoom>18&&mt>2&&(mt>>=1),Math.max(Wt/(512*mt),1)*ne.get("symbol-spacing")),Ae=ne.get("text-padding")*t.tilePixelRatio,Qe=ne.get("icon-padding")*t.tilePixelRatio,Xe=Tt(ne.get("text-max-angle")),dt="map"===ne.get("text-rotation-alignment")&&"point"!==ne.get("symbol-placement"),kt="map"===ne.get("icon-rotation-alignment")&&"point"!==ne.get("symbol-placement"),it=ne.get("symbol-placement"),_t=Ie/2;var mt;const xt=ne.get("icon-text-fit");let Dt;s&&"none"!==xt&&(t.allowVerticalPlacement&&i.vertical&&(Dt=Z(s,i.vertical,xt,ne.get("icon-text-fit-padding"),le,we)),me&&(s=Z(s,me,xt,ne.get("icon-text-fit-padding"),le,we)));const ct=(zt,Ht,Ft)=>{if(Ht.x<0||Ht.x>=Wt||Ht.y<0||Ht.y>=Wt)return;let bi=null;if(xe){const{x:Lt,y:Kt,z:xi}=G.projectTilePoint(Ht.x,Ht.y,Ft);bi={anchor:new fe(Lt,Kt,xi,0,void 0),up:G.upVector(Ft,Ht.x,Ht.y)}}!function(Lt,Kt,xi,hn,wi,ni,Gn,Mi,Ti,zn,Hn,Nn,Fn,ur,Lr,Zr,Bn,sa,qr,yr,gn,$r,Un,_o,Xr){const os=Lt.addToLineVertexArray(Kt,hn);let Ya,mo,za,yc,Bd,Rh,Yh,Pm=0,Im=0,Om=0,Rm=0,T_=-1,k_=-1;const jc={};let Ym=Bh("");const sd=xi?xi.anchor:Kt;let D_=0,L_=0;if(void 0===Ti._unevaluatedLayout.getValue("text-radial-offset")?[D_,L_]=Ti.layout.get("text-offset").evaluate(gn,{},Xr).map(sl=>24*sl):(D_=24*Ti.layout.get("text-radial-offset").evaluate(gn,{},Xr),L_=Yr),Lt.allowVerticalPlacement&&wi.vertical){const sl=wi.vertical;if(Lr)Rh=u_(sl),Mi&&(Yh=u_(Mi));else{const ol=Ti.layout.get("text-rotate").evaluate(gn,{},Xr)+90;za=Vp(zn,sd,Kt,Hn,Nn,Fn,sl,ur,ol,Zr),Mi&&(yc=Vp(zn,sd,Kt,Hn,Nn,Fn,Mi,sa,ol))}}if(ni){const sl=Ti.layout.get("icon-rotate").evaluate(gn,{},Xr),ol="none"!==Ti.layout.get("icon-text-fit"),zh=Mu(ni,sl,Un,ol),C_=Mi?Mu(Mi,sl,Un,ol):void 0;mo=Vp(zn,sd,Kt,Hn,Nn,Fn,ni,sa,sl),Pm=4*zh.length;const zm=Lt.iconSizeData;let od=null;"source"===zm.kind?(od=[Nl*Ti.layout.get("icon-size").evaluate(gn,{},Xr)],od[0]>Ml&&Ri(`${Lt.layerIds[0]}: Value for "icon-size" is >= ${mc}. Reduce your "icon-size".`)):"composite"===zm.kind&&(od=[Nl*$r.compositeIconSizes[0].evaluate(gn,{},Xr),Nl*$r.compositeIconSizes[1].evaluate(gn,{},Xr)],(od[0]>Ml||od[1]>Ml)&&Ri(`${Lt.layerIds[0]}: Value for "icon-size" is >= ${mc}. Reduce your "icon-size".`)),Lt.addSymbols(Lt.icon,zh,od,yr,qr,gn,!1,xi,Kt,os.lineStartIndex,os.lineLength,-1,_o,Xr),T_=Lt.icon.placedSymbolArray.length-1,C_&&(Im=4*C_.length,Lt.addSymbols(Lt.icon,C_,od,yr,qr,gn,Ro.vertical,xi,Kt,os.lineStartIndex,os.lineLength,-1,_o,Xr),k_=Lt.icon.placedSymbolArray.length-1)}for(const sl in wi.horizontal){const ol=wi.horizontal[sl];Ya||(Ym=Bh(ol.text),Lr?Bd=u_(ol):Ya=Vp(zn,sd,Kt,Hn,Nn,Fn,ol,ur,Ti.layout.get("text-rotate").evaluate(gn,{},Xr),Zr));const zh=1===ol.positionedLines.length;if(Om+=au(Lt,xi,Kt,ol,Gn,Ti,Lr,gn,Zr,os,wi.vertical?Ro.horizontal:Ro.horizontalOnly,zh?Object.keys(wi.horizontal):[sl],jc,T_,$r,_o,Xr),zh)break}wi.vertical&&(Rm+=au(Lt,xi,Kt,wi.vertical,Gn,Ti,Lr,gn,Zr,os,Ro.vertical,["vertical"],jc,k_,$r,_o,Xr));let Cu=-1;const S_=(sl,ol)=>sl?Math.max(sl,ol):ol;Cu=S_(Bd,Cu),Cu=S_(Rh,Cu),Cu=S_(Yh,Cu);const hg=Cu>-1?1:0;Lt.glyphOffsetArray.length>=ku.MAX_GLYPHS&&Ri("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==gn.sortKey&&Lt.addToSortKeyRanges(Lt.symbolInstances.length,gn.sortKey),Lt.symbolInstances.emplaceBack(sd.x,sd.y,sd.z,Kt.x,Kt.y,jc.right>=0?jc.right:-1,jc.center>=0?jc.center:-1,jc.left>=0?jc.left:-1,jc.vertical>=0?jc.vertical:-1,T_,k_,Ym,void 0!==Ya?Ya:Lt.collisionBoxArray.length,void 0!==Ya?Ya+1:Lt.collisionBoxArray.length,void 0!==za?za:Lt.collisionBoxArray.length,void 0!==za?za+1:Lt.collisionBoxArray.length,void 0!==mo?mo:Lt.collisionBoxArray.length,void 0!==mo?mo+1:Lt.collisionBoxArray.length,yc||Lt.collisionBoxArray.length,yc?yc+1:Lt.collisionBoxArray.length,Hn,Om,Rm,Pm,Im,hg,0,D_,L_,Cu)}(t,Ht,bi,zt,i,s,c,Dt,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,Ae,dt,D,0,Qe,kt,le,e,_,E,B,H)};if("line"===it)for(const zt of ln(e.geometry,0,0,Wt,Wt)){const Ht=di(zt,Ie,Xe,i.vertical||me,s,24,Le,t.overscaling,Wt);for(const Ft of Ht)me&&Bm(t,me.text,_t,Ft)||ct(zt,Ft,H)}else if("line-center"===it){for(const zt of e.geometry)if(zt.length>1){const Ht=Jt(zt,Xe,i.vertical||me,s,24,Le);Ht&&ct(zt,Ht,H)}}else if("Polygon"===e.type)for(const zt of ch(e.geometry,0)){const Ht=ss(zt,16);ct(zt[0],new fe(Ht.x,Ht.y,0,0,void 0),H)}else if("LineString"===e.type)for(const zt of e.geometry)ct(zt,new fe(zt[0].x,zt[0].y,0,0,void 0),H);else if("Point"===e.type)for(const zt of e.geometry)for(const Ht of zt)ct([Ht],new fe(Ht.x,Ht.y,0,0,void 0),H)}const mc=255,Ml=mc*Nl;function au(t,e,i,s,c,_,g,x,D,E,B,H,G,ee,ne,le,me){const xe=function(Le,Ie,Ae,Qe,Xe,dt,kt,it){const _t=[];if(0===Ie.positionedLines.length)return _t;const mt=Qe.layout.get("text-rotate").evaluate(dt,{})*Math.PI/180,xt=function(Ft){const bi=Ft[0],Lt=Ft[1],Kt=bi*Lt;return Kt>0?[bi,-Lt]:Kt<0?[-bi,Lt]:0===bi?[Lt,bi]:[Lt,-bi]}(Ae);let Dt=Math.abs(Ie.top-Ie.bottom);for(const Ft of Ie.positionedLines)Dt-=Ft.lineOffset;const ct=Ie.positionedLines.length,zt=Dt/ct;let Ht=Ie.top-Ae[1];for(let Ft=0;Ft<ct;++Ft){const bi=Ie.positionedLines[Ft];Ht=_c(Ie,zt,Ht,Ft);for(const Lt of bi.positionedGlyphs){if(!Lt.rect)continue;const Kt=Lt.rect||{};let xi=4,hn=!0,wi=1,ni=0;if(Lt.imageName){const Un=kt[Lt.imageName];if(!Un)continue;if(Un.sdf){Ri("SDF images are not supported in formatted text and will be ignored.");continue}hn=!1,wi=Un.pixelRatio,xi=1/wi}const Gn=(Xe||it)&&Lt.vertical,Mi=Lt.metrics.advance*Lt.scale/2,Ti=Lt.metrics,zn=Lt.rect;if(null===zn)continue;it&&Ie.verticalizable&&(ni=Lt.imageName?Mi-Lt.metrics.width*Lt.scale/2:0);const Hn=Xe?[Lt.x+Mi,Lt.y]:[0,0];let Nn=[0,0],Fn=[0,0],ur=!1;Xe||(Gn?(Fn=[Lt.x+Mi+xt[0],Lt.y+xt[1]-ni],ur=!0):Nn=[Lt.x+Mi+Ae[0],Lt.y+Ae[1]-ni]);const Lr=zn.w*Lt.scale/(wi*(Lt.localGlyph?2:1)),Zr=zn.h*Lt.scale/(wi*(Lt.localGlyph?2:1));let Bn,sa,qr,yr;if(Gn){const Un=Lt.y-Ht,_o=new He(-Mi,Mi-Un),Xr=-Math.PI/2,os=new He(...Fn);Bn=new He(-Mi+Nn[0],Nn[1]),Bn._rotateAround(Xr,_o)._add(os),Bn.x+=-Un+Mi,Bn.y-=(Ti.left-xi)*Lt.scale;const Ya=Lt.imageName?Ti.advance*Lt.scale:24*Lt.scale,mo=String.fromCharCode(Lt.glyph);i_(mo)?Bn.x+=(1-xi)*Lt.scale:n_(mo)?Bn.x+=Ya-Ti.height*Lt.scale+(-xi-1)*Lt.scale:Bn.x+=Lt.imageName||Ti.width+2*xi===zn.w&&Ti.height+2*xi===zn.h?(Ya-Zr)/2:(Ya-(Ti.height+2*xi)*Lt.scale)/2,sa=new He(Bn.x,Bn.y-Lr),qr=new He(Bn.x+Zr,Bn.y),yr=new He(Bn.x+Zr,Bn.y-Lr)}else{const Un=(Ti.left-xi)*Lt.scale-Mi+Nn[0],_o=(-Ti.top-xi)*Lt.scale+Nn[1],Xr=Un+Lr,os=_o+Zr;Bn=new He(Un,_o),sa=new He(Xr,_o),qr=new He(Un,os),yr=new He(Xr,os)}if(mt){let Un;Un=Xe?new He(0,0):ur?new He(xt[0],xt[1]):new He(Ae[0],Ae[1]),Bn._rotateAround(mt,Un),sa._rotateAround(mt,Un),qr._rotateAround(mt,Un),yr._rotateAround(mt,Un)}const gn=new He(0,0),$r=new He(0,0);_t.push({tl:Bn,tr:sa,bl:qr,br:yr,tex:Kt,writingMode:Ie.writingMode,glyphOffset:Hn,sectionIndex:Lt.sectionIndex,isSDF:hn,pixelOffsetTL:gn,pixelOffsetBR:$r,minFontScaleX:0,minFontScaleY:0})}}return _t}(0,s,D,_,g,x,c,t.allowVerticalPlacement),Se=t.textSizeData;let we=null;"source"===Se.kind?(we=[Nl*_.layout.get("text-size").evaluate(x,{},me)],we[0]>Ml&&Ri(`${t.layerIds[0]}: Value for "text-size" is >= ${mc}. Reduce your "text-size".`)):"composite"===Se.kind&&(we=[Nl*ne.compositeTextSizes[0].evaluate(x,{},me),Nl*ne.compositeTextSizes[1].evaluate(x,{},me)],(we[0]>Ml||we[1]>Ml)&&Ri(`${t.layerIds[0]}: Value for "text-size" is >= ${mc}. Reduce your "text-size".`)),t.addSymbols(t.text,xe,we,D,g,x,B,e,i,E.lineStartIndex,E.lineLength,ee,le,me);for(const Le of H)G[Le]=t.text.placedSymbolArray.length-1;return 4*xe.length}function Lh(t){for(const e in t)return t[e];return null}function Vp(t,e,i,s,c,_,g,x,D,E){let B=g.top,H=g.bottom,G=g.left,ee=g.right;const ne=g.collisionPadding;if(ne&&(G-=ne[0],B-=ne[1],ee+=ne[2],H+=ne[3]),D){const le=new He(G,B),me=new He(ee,B),xe=new He(G,H),Se=new He(ee,H),we=Tt(D);let Le=new He(0,0);E&&(Le=new He(E[0],E[1])),le._rotateAround(we,Le),me._rotateAround(we,Le),xe._rotateAround(we,Le),Se._rotateAround(we,Le),G=Math.min(le.x,me.x,xe.x,Se.x),ee=Math.max(le.x,me.x,xe.x,Se.x),B=Math.min(le.y,me.y,xe.y,Se.y),H=Math.max(le.y,me.y,xe.y,Se.y)}return t.emplaceBack(e.x,e.y,e.z,i.x,i.y,G,B,ee,H,x,s,c,_),t.length-1}function u_(t){t.collisionPadding&&(t.top-=t.collisionPadding[1],t.bottom+=t.collisionPadding[3]);const e=t.bottom-t.top;return e>0?Math.max(10,e):null}function Bm(t,e,i,s){const c=t.compareText;if(e in c){const _=c[e];for(let g=_.length-1;g>=0;g--)if(s.dist(_[g])<i)return!0}else c[e]=[];return c[e].push(s),!1}function em(t,e){const i=t.fovAboveCenter,s=t.elevation?t.elevation.getMinElevationBelowMSL()*e:0,c=(t._camera.position[2]*t.worldSize-s)/Math.cos(t._pitch),_=Math.sin(i)*c/Math.sin(Math.max(Math.PI/2-t._pitch-i,.01)),g=Math.sin(t._pitch)*_+c;return Math.min(1.01*g,c*(1/t._horizonShift))}function rd(t,e){if(!e.isReprojectedInTileSpace)return{scale:1<<t.z,x:t.x,y:t.y,x2:t.x+1,y2:t.y+1,projection:e};const i=Math.pow(2,-t.z),s=t.x*i,c=(t.x+1)*i,_=t.y*i,g=(t.y+1)*i,x=uo(s),D=uo(c),E=Oa(_),B=Oa(g),H=e.project(x,E),G=e.project(D,E),ee=e.project(D,B),ne=e.project(x,B);let le=Math.min(H.x,G.x,ee.x,ne.x),me=Math.min(H.y,G.y,ee.y,ne.y),xe=Math.max(H.x,G.x,ee.x,ne.x),Se=Math.max(H.y,G.y,ee.y,ne.y);const we=i/16;function Le(Ae,Qe,Xe,dt,kt,it){const _t=(Xe+kt)/2,mt=(dt+it)/2,xt=e.project(uo(_t),Oa(mt)),Dt=Math.max(0,le-xt.x,me-xt.y,xt.x-xe,xt.y-Se);le=Math.min(le,xt.x),xe=Math.max(xe,xt.x),me=Math.min(me,xt.y),Se=Math.max(Se,xt.y),Dt>we&&(Le(Ae,xt,Xe,dt,_t,mt),Le(xt,Qe,_t,mt,kt,it))}Le(H,G,s,_,c,_),Le(G,ee,c,_,c,g),Le(ee,ne,c,g,s,g),Le(ne,H,s,g,s,_),le-=we,me-=we,xe+=we,Se+=we;const Ie=1/Math.max(xe-le,Se-me);return{scale:Ie,x:le*Ie,y:me*Ie,x2:xe*Ie,y2:Se*Ie,projection:e}}const jm=Vs(new Float32Array(16));class Tu{constructor(e){this.spec=e,this.name=e.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(e,i){return{x:0,y:0,z:0}}unproject(e,i){return new kn(0,0)}projectTilePoint(e,i,s){return{x:e,y:i,z:0}}locationPoint(e,i,s=!0){return e._coordinatePoint(e.locationCoordinate(i),s)}pixelsPerMeter(e,i){return Io(1,e)*i}pixelSpaceConversion(e,i,s){return 1}farthestPixelDistance(e){return em(e,e.pixelsPerMeter)}pointCoordinate(e,i,s,c){const _=e.horizonLineFromTop(!1),g=new He(i,Math.max(_,s));return e.rayIntersectionCoordinate(e.pointRayIntersection(g,c))}pointCoordinate3D(e,i,s){const c=new He(i,s);if(e.elevation)return e.elevation.pointCoordinate(c);{const _=this.pointCoordinate(e,c.x,c.y,0);return[_.x,_.y,_.z]}}isPointAboveHorizon(e,i){if(e.elevation)return!this.pointCoordinate3D(e,i.x,i.y);const s=e.horizonLineFromTop();return i.y<s}createInversionMatrix(e,i){return jm}createTileMatrix(e,i,s){let c,_,g;const x=s.canonical,D=Vs(new Float64Array(16));if(this.isReprojectedInTileSpace){const E=rd(x,this);c=1,_=E.x+s.wrap*E.scale,g=E.y,Xc(D,D,[c/E.scale,c/E.scale,e.pixelsPerMeter/i])}else c=i/e.zoomScale(x.z),_=(x.x+Math.pow(2,x.z)*s.wrap)*c,g=x.y*c;return Ou(D,D,[_,g,0]),Xc(D,D,[c/Wt,c/Wt,1]),D}upVector(e,i,s){return[0,0,1]}upVectorScale(e,i,s){return{metersToTile:1}}}class Vm extends Tu{constructor(e){super(e),this.range=[4,7],this.center=e.center||[-96,37.5];const[i,s]=this.parallels=e.parallels||[29.5,45.5],c=Math.sin(Tt(i));this.n=(c+Math.sin(Tt(s)))/2,this.c=1+c*(2*this.n-c),this.r0=Math.sqrt(this.c)/this.n}project(e,i){const{n:s,c,r0:_}=this,g=Tt(e-this.center[0]),x=Tt(i),D=Math.sqrt(c-2*s*Math.sin(x))/s;return{x:D*Math.sin(g*s),y:D*Math.cos(g*s)-_,z:0}}unproject(e,i){const{n:s,c,r0:_}=this,g=_+i;let x=Math.atan2(e,Math.abs(g))*Math.sign(g);g*s<0&&(x-=Math.PI*Math.sign(e)*Math.sign(g));const D=Tt(this.center[0])*s;x=pn(x,-Math.PI-D,Math.PI-D);const E=ti(Gt(x/s)+this.center[0],-180,180),B=Math.asin(ti((c-(e*e+g*g)*s*s)/(2*s),-1,1)),H=ti(Gt(B),-Gr,Gr);return new kn(E,H)}}const Sh=1.340264,Ch=-.081106,Eh=893e-6,Ah=.003796,Hp=Math.sqrt(3)/2;class Hm extends Tu{project(e,i){i=i/180*Math.PI,e=e/180*Math.PI;const s=Math.asin(Hp*Math.sin(i)),c=s*s,_=c*c*c;return{x:.5*(e*Math.cos(s)/(Hp*(Sh+3*Ch*c+_*(7*Eh+9*Ah*c)))/Math.PI+.5),y:1-.5*(s*(Sh+Ch*c+_*(Eh+Ah*c))/Math.PI+1),z:0}}unproject(e,i){e=(2*e-.5)*Math.PI;let s=i=(2*(1-i)-1)*Math.PI,c=s*s,_=c*c*c;for(let B,H,G,ee=0;ee<12&&(H=s*(Sh+Ch*c+_*(Eh+Ah*c))-i,G=Sh+3*Ch*c+_*(7*Eh+9*Ah*c),B=H/G,s=ti(s-B,-Math.PI/3,Math.PI/3),c=s*s,_=c*c*c,!(Math.abs(B)<1e-12));++ee);const g=Hp*e*(Sh+3*Ch*c+_*(7*Eh+9*Ah*c))/Math.cos(s),x=Math.asin(Math.sin(s)/Hp),D=ti(180*g/Math.PI,-180,180),E=ti(180*x/Math.PI,-Gr,Gr);return new kn(D,E)}}class Nm extends Tu{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0}project(e,i){return{x:.5+e/360,y:.5-i/360,z:0}}unproject(e,i){const s=360*(e-.5),c=ti(360*(.5-i),-Gr,Gr);return new kn(s,c)}}const zd=Math.PI/2;function Np(t){return Math.tan((zd+t)/2)}class Um extends Tu{constructor(e){super(e),this.center=e.center||[0,30];const[i,s]=this.parallels=e.parallels||[30,30];let c=Tt(i),_=Tt(s);this.southernCenter=c+_<0,this.southernCenter&&(c=-c,_=-_);const g=Math.cos(c),x=Np(c);this.n=c===_?Math.sin(c):Math.log(g/Math.cos(_))/Math.log(Np(_)/x),this.f=g*Math.pow(Np(c),this.n)/this.n}project(e,i){i=Tt(i),this.southernCenter&&(i=-i),e=Tt(e-this.center[0]);const s=1e-6,{n:c,f:_}=this;_>0?i<-zd+s&&(i=-zd+s):i>zd-s&&(i=zd-s);const g=_/Math.pow(Np(i),c);let x=g*Math.sin(c*e),D=_-g*Math.cos(c*e);return x=.5*(x/Math.PI+.5),D=.5*(D/Math.PI+.5),{x,y:this.southernCenter?D:1-D,z:0}}unproject(e,i){e=(2*e-.5)*Math.PI,this.southernCenter&&(i=1-i),i=(2*(1-i)-.5)*Math.PI;const{n:s,f:c}=this,_=c-i,g=Math.sign(_),x=Math.sign(s)*Math.sqrt(e*e+_*_);let D=Math.atan2(e,Math.abs(_))*g;_*s<0&&(D-=Math.PI*Math.sign(e)*g);const E=ti(Gt(D/s)+this.center[0],-180,180),B=ti(Gt(2*Math.atan(Math.pow(c/x,1/s))-zd),-Gr,Gr);return new kn(E,this.southernCenter?-B:B)}}class tm extends Tu{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(e,i){return{x:jl(e),y:xl(i),z:0}}unproject(e,i){const s=uo(e),c=Oa(i);return new kn(s,c)}}const im=Tt(Gr);class Wm extends Tu{project(e,i){const s=(i=Tt(i))*i,c=s*s;return{x:.5*((e=Tt(e))*(.8707-.131979*s+c*(c*(.003971*s-.001529*c)-.013791))/Math.PI+.5),y:1-.5*(i*(1.007226+s*(.015085+c*(.028874*s-.044475-.005916*c)))/Math.PI+1),z:0}}unproject(e,i){e=(2*e-.5)*Math.PI;let s=i=(2*(1-i)-1)*Math.PI,c=25,_=0,g=s*s;do{g=s*s;const E=g*g;_=(s*(1.007226+g*(.015085+E*(.028874*g-.044475-.005916*E)))-i)/(1.007226+g*(.045255+E*(.259866*g-.311325-.005916*11*E))),s=ti(s-_,-im,im)}while(Math.abs(_)>1e-6&&--c>0);g=s*s;const x=ti(Gt(e/(.8707+g*(g*(g*g*g*(.003971-.001529*g)-.013791)-.131979))),-180,180),D=Gt(s);return new kn(x,D)}}const nm=Tt(Gr);class Gm extends Tu{project(e,i){i=Tt(i),e=Tt(e);const s=Math.cos(i),c=2/Math.PI,_=Math.acos(s*Math.cos(e/2)),g=Math.sin(_)/_,x=.5*(e*c+2*s*Math.sin(e/2)/g)||0,D=.5*(i+Math.sin(i)/g)||0;return{x:.5*(x/Math.PI+.5),y:1-.5*(D/Math.PI+1),z:0}}unproject(e,i){let s=e=(2*e-.5)*Math.PI,c=i=(2*(1-i)-1)*Math.PI,_=25;const g=1e-6;let x=0,D=0;do{const E=Math.cos(c),B=Math.sin(c),H=2*B*E,G=B*B,ee=E*E,ne=Math.cos(s/2),le=Math.sin(s/2),me=2*ne*le,xe=le*le,Se=1-ee*ne*ne,we=Se?1/Se:0,Le=Se?Math.acos(E*ne)*Math.sqrt(1/Se):0,Ie=.5*(2*Le*E*le+2*s/Math.PI)-e,Ae=.5*(Le*B+c)-i,Qe=.5*we*(ee*xe+Le*E*ne*G)+1/Math.PI,Xe=we*(me*H/4-Le*B*le),dt=.125*we*(H*le-Le*B*ee*me),kt=.5*we*(G*ne+Le*xe*E)+.5,it=Xe*dt-kt*Qe;x=(Ae*Xe-Ie*kt)/it,D=(Ie*dt-Ae*Qe)/it,s=ti(s-x,-Math.PI,Math.PI),c=ti(c-D,-nm,nm)}while((Math.abs(x)>g||Math.abs(D)>g)&&--_>0);return new kn(Gt(s),Gt(c))}}class rm extends Tu{constructor(e){super(e),this.center=e.center||[0,0],this.parallels=e.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(Tt(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(e,i){const{scale:s,cosPhi:c}=this;return{x:Tt(e)*c*s+.5,y:-Math.sin(Tt(i))/c*s+.5,z:0}}unproject(e,i){const{scale:s,cosPhi:c}=this,_=-(i-.5)/s,g=ti(Gt((e-.5)/s)/c,-180,180),x=Math.asin(ti(_*c,-1,1)),D=ti(Gt(x),-Gr,Gr);return new kn(g,D)}}class Zm extends tm{constructor(e){super(e),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(e,i,s){const c=Vu(e,i,s);return mr(c,c,md(hc(s))),{x:c[0],y:c[1],z:c[2]}}locationPoint(e,i){const s=ju(i.lat,i.lng),c=is([],s),_=e.elevation?e.elevation.getAtPointOrZero(e.locationCoordinate(i),e._centerAltitude):e._centerAltitude;Sc(s,s,c,Io(1,0)*Wt*_);const g=Vs(new Float64Array(16));return $c(g,e.pixelMatrix,e.globeMatrix),mr(s,s,g),new He(s[0],s[1])}pixelsPerMeter(e,i){return Io(1,0)*i}pixelSpaceConversion(e,i,s){const c=Io(1,e)*i,_=Oi(Io(1,45)*i,c,s);return this.pixelsPerMeter(e,i)/_}createTileMatrix(e,i,s){const c=fu(hc(s.canonical));return $c(new Float64Array(16),e.globeMatrix,c)}createInversionMatrix(e,i){const{center:s}=e,c=md(hc(i));return ud(c,c,Tt(s.lng)),Wd(c,c,Tt(s.lat)),Xc(c,c,[e._pixelsPerMercatorPixel,e._pixelsPerMercatorPixel,1]),Float32Array.from(c)}pointCoordinate(e,i,s,c){return lf(e,i,s,!0)||new Nu(0,0)}pointCoordinate3D(e,i,s){const c=this.pointCoordinate(e,i,s,0);return[c.x,c.y,c.z]}isPointAboveHorizon(e,i){return!lf(e,i.x,i.y,!1)}farthestPixelDistance(e){const i=function(c,_){const g=c.cameraToCenterDistance,x=c._centerAltitude*_,D=c._camera,E=c._camera.forward(),B=zl([],Ao([],E,-g),[0,0,x]),H=c.worldSize/(2*Math.PI),G=[0,0,-H],ee=c.width/c.height,ne=Math.tan(c.fovAboveCenter),le=Ao([],D.up(),ne),me=Ao([],D.right(),ne*ee),xe=is([],zl([],zl([],E,le),me)),Se=[];let we;if(new Kh(B,xe).closestPointOnSphere(G,H,Se)){const Le=zl([],Se,G),Ie=Fl([],Le,B);we=Math.cos(c.fovAboveCenter)*cu(Ie)}else{const Le=Fl([],B,G),Ie=Fl([],G,B);is(Ie,Ie);const Ae=cu(Le)-H;we=Math.sqrt(Ae*(Ae+2*H));const Qe=Math.acos(we/(H+Ae))-Math.acos(Po(E,Ie));we*=Math.cos(Qe)}return 1.01*we}(e,this.pixelsPerMeter(e.center.lat,e.worldSize)),s=Ec(e.zoom);if(s>0){const c=em(e,Io(1,e.center.lat)*e.worldSize),_=e.worldSize/(2*Math.PI),g=Math.max(e.width,e.height)/e.worldSize*Math.PI;return Oi(i,c+_*(1-Math.cos(g)),Math.pow(s,10))}return i}upVector(e,i,s){return Vu(i,s,e,1)}upVectorScale(e){return{metersToTile:Fu(Kd(hc(e)))}}}function am(t){const e=t.parallels,i=!!e&&Math.abs(e[0]+e[1])<.01;switch(t.name){case"mercator":return new tm(t);case"equirectangular":return new Nm(t);case"naturalEarth":return new Wm(t);case"equalEarth":return new Hm(t);case"winkelTripel":return new Gm(t);case"albers":return i?new rm(t):new Vm(t);case"lambertConformalConic":return i?new rm(t):new Um(t);case"globe":return new Zm(t)}throw new Error(`Invalid projection name: ${t.name}`)}const qm=wl.types,$m=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Up(t,e,i,s,c,_,g,x,D,E,B,H,G){const ee=x?Math.min(Ml,Math.round(x[0])):0,ne=x?Math.min(Ml,Math.round(x[1])):0;t.emplaceBack(e,i,Math.round(32*s),Math.round(32*c),_,g,(ee<<1)+(D?1:0),ne,16*E,16*B,256*H,256*G)}function Wp(t,e,i,s,c,_,g){t.emplaceBack(e,i,s,c,_,g)}function Gp(t,e,i,s,c){t.emplaceBack(e,i,s,c),t.emplaceBack(e,i,s,c),t.emplaceBack(e,i,s,c),t.emplaceBack(e,i,s,c)}function Xm(t){for(const e of t.sections)if(nn(e.text))return!0;return!1}class d_{constructor(e){this.layoutVertexArray=new tt,this.indexArray=new Vt,this.programConfigurations=e,this.segments=new Wn,this.dynamicLayoutVertexArray=new Ze,this.opacityVertexArray=new Ct,this.placedSymbolArray=new Xt,this.globeExtVertexArray=new ot}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,i,s,c){this.isEmpty()||(s&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Qf.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,i),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,e_.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,$m,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,Ed.members,!0)),this.opacityVertexBuffer.itemSize=1),(s||c)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Bt(d_,"SymbolBuffers");class h_{constructor(e,i,s){this.layoutVertexArray=new e,this.layoutAttributes=i,this.indexArray=new s,this.segments=new Wn,this.collisionVertexArray=new Yt,this.collisionVertexArrayExt=new ai}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Tp.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,W_.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Bt(h_,"CollisionBuffers");class ku{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(g=>g.id),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Vs([]),this.placementViewportMatrix=Vs([]);const i=this.layers[0]._unevaluatedLayout._values;this.textSizeData=kp(this.zoom,i["text-size"]),this.iconSizeData=kp(this.zoom,i["icon-size"]);const s=this.layers[0].layout,c=s.get("symbol-sort-key"),_=s.get("symbol-z-order");this.canOverlap=s.get("text-allow-overlap")||s.get("icon-allow-overlap")||s.get("text-ignore-placement")||s.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==_&&void 0!==c.constantOr(1),this.sortFeaturesByY=("viewport-y"===_||"auto"===_&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=s.get("text-writing-mode").map(g=>Ro[g]),this.stateDependentLayerIds=this.layers.filter(g=>g.isStateDependent()).map(g=>g.id),this.sourceID=e.sourceID,this.projection=e.projection}createArrays(){this.text=new d_(new lu(this.layers,this.zoom,e=>/^text/.test(e))),this.icon=new d_(new lu(this.layers,this.zoom,e=>/^icon/.test(e))),this.glyphOffsetArray=new Kn,this.lineVertexArray=new Ia,this.symbolInstances=new Pi}calculateGlyphDependencies(e,i,s,c,_){for(let g=0;g<e.length;g++)if(i[e.charCodeAt(g)]=!0,c&&_){const x=Ad[e.charAt(g)];x&&(i[x.charCodeAt(0)]=!0)}}populate(e,i,s,c){const _=this.layers[0],g=_.layout,x="globe"===this.projection.name,D=g.get("text-font"),E=g.get("text-field"),B=g.get("icon-image"),H=("constant"!==E.value.kind||E.value.value instanceof pr&&!E.value.value.isEmpty()||E.value.value.toString().length>0)&&("constant"!==D.value.kind||D.value.value.length>0),G="constant"!==B.value.kind||!!B.value.value||Object.keys(B.parameters).length>0,ee=g.get("symbol-sort-key");if(this.features=[],!H&&!G)return;const ne=i.iconDependencies,le=i.glyphDependencies,me=i.availableImages,xe=new V(this.zoom);for(const{feature:Se,id:we,index:Le,sourceLayerIndex:Ie}of e){const Ae=_._featureFilter.needGeometry,Qe=Oo(Se,Ae);if(!_._featureFilter.filter(xe,Qe,s))continue;if(Ae||(Qe.geometry=Vl(Se,s,c)),x&&1!==Se.type&&s.z<=5){const it=Qe.geometry,_t=.98078528056,mt=(xt,Dt)=>Po(Vu(xt.x,xt.y,s,1),Vu(Dt.x,Dt.y,s,1))<_t;for(let xt=0;xt<it.length;xt++)it[xt]=_f(it[xt],mt)}let Xe,dt;if(H){const it=_.getValueAndResolveTokens("text-field",Qe,s,me),_t=pr.factory(it);Xm(_t)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===M()||this.hasRTLText&&O.isParsed())&&(Xe=q_(_t,_,Qe))}if(G){const it=_.getValueAndResolveTokens("icon-image",Qe,s,me);dt=it instanceof jr?it:jr.fromString(it)}if(!Xe&&!dt)continue;const kt=this.sortFeaturesByKey?ee.evaluate(Qe,{},s):void 0;if(this.features.push({id:we,text:Xe,icon:dt,index:Le,sourceLayerIndex:Ie,geometry:Qe.geometry,properties:Se.properties,type:qm[Se.type],sortKey:kt}),dt&&(ne[dt.name]=!0),Xe){const it=D.evaluate(Qe,{},s).join(","),_t="map"===g.get("text-rotation-alignment")&&"point"!==g.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Ro.vertical)>=0;for(const mt of Xe.sections)if(mt.image)ne[mt.image.name]=!0;else{const xt=sc(Xe.toString()),Dt=mt.fontStack||it,ct=le[Dt]=le[Dt]||{};this.calculateGlyphDependencies(mt.text,ct,_t,this.allowVerticalPlacement,xt)}}}"line"===g.get("symbol-placement")&&(this.features=function(Se){const we={},Le={},Ie=[];let Ae=0;function Qe(it){Ie.push(Se[it]),Ae++}function Xe(it,_t,mt){const xt=Le[it];return delete Le[it],Le[_t]=xt,Ie[xt].geometry[0].pop(),Ie[xt].geometry[0]=Ie[xt].geometry[0].concat(mt[0]),xt}function dt(it,_t,mt){const xt=we[_t];return delete we[_t],we[it]=xt,Ie[xt].geometry[0].shift(),Ie[xt].geometry[0]=mt[0].concat(Ie[xt].geometry[0]),xt}function kt(it,_t,mt){const xt=mt?_t[0][_t[0].length-1]:_t[0][0];return`${it}:${xt.x}:${xt.y}`}for(let it=0;it<Se.length;it++){const _t=Se[it],mt=_t.geometry,xt=_t.text?_t.text.toString():null;if(!xt){Qe(it);continue}const Dt=kt(xt,mt),ct=kt(xt,mt,!0);if(Dt in Le&&ct in we&&Le[Dt]!==we[ct]){const zt=dt(Dt,ct,mt),Ht=Xe(Dt,ct,Ie[zt].geometry);delete we[Dt],delete Le[ct],Le[kt(xt,Ie[Ht].geometry,!0)]=Ht,Ie[zt].geometry=null}else Dt in Le?Xe(Dt,ct,mt):ct in we?dt(Dt,ct,mt):(Qe(it),we[Dt]=Ae-1,Le[ct]=Ae-1)}return Ie.filter(it=>it.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Se,we)=>Se.sortKey-we.sortKey)}update(e,i,s,c){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,i,this.layers,s,c),this.icon.programConfigurations.updatePaintArrays(e,i,this.layers,s,c))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=am(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,i){const s=this.lineVertexArray.length;if(void 0!==e.segment)for(const{x:c,y:_}of i)this.lineVertexArray.emplaceBack(c,_);return{lineStartIndex:s,lineLength:this.lineVertexArray.length-s}}addSymbols(e,i,s,c,_,g,x,D,E,B,H,G,ee,ne){const le=e.indexArray,me=e.layoutVertexArray,xe=e.globeExtVertexArray,Se=e.segments.prepareSegment(4*i.length,me,le,this.canOverlap?g.sortKey:void 0),we=this.glyphOffsetArray.length,Le=Se.vertexLength,Ie=this.allowVerticalPlacement&&x===Ro.vertical?Math.PI/2:0,Ae=g.text&&g.text.sections;for(let Xe=0;Xe<i.length;Xe++){const{tl:dt,tr:kt,bl:it,br:_t,tex:mt,pixelOffsetTL:xt,pixelOffsetBR:Dt,minFontScaleX:ct,minFontScaleY:zt,glyphOffset:Ht,isSDF:Ft,sectionIndex:bi}=i[Xe],Lt=Se.vertexLength,Kt=Ht[1];if(Up(me,E.x,E.y,dt.x,Kt+dt.y,mt.x,mt.y,s,Ft,xt.x,xt.y,ct,zt),Up(me,E.x,E.y,kt.x,Kt+kt.y,mt.x+mt.w,mt.y,s,Ft,Dt.x,xt.y,ct,zt),Up(me,E.x,E.y,it.x,Kt+it.y,mt.x,mt.y+mt.h,s,Ft,xt.x,Dt.y,ct,zt),Up(me,E.x,E.y,_t.x,Kt+_t.y,mt.x+mt.w,mt.y+mt.h,s,Ft,Dt.x,Dt.y,ct,zt),D){const{x:xi,y:hn,z:wi}=D.anchor,[ni,Gn,Mi]=D.up;Wp(xe,xi,hn,wi,ni,Gn,Mi),Wp(xe,xi,hn,wi,ni,Gn,Mi),Wp(xe,xi,hn,wi,ni,Gn,Mi),Wp(xe,xi,hn,wi,ni,Gn,Mi),Gp(e.dynamicLayoutVertexArray,xi,hn,wi,Ie)}else Gp(e.dynamicLayoutVertexArray,E.x,E.y,E.z,Ie);le.emplaceBack(Lt,Lt+1,Lt+2),le.emplaceBack(Lt+1,Lt+2,Lt+3),Se.vertexLength+=4,Se.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Ht[0]),Xe!==i.length-1&&bi===i[Xe+1].sectionIndex||e.programConfigurations.populatePaintArrays(me.length,g,g.index,{},ee,ne,Ae&&Ae[bi])}const Qe=D?D.anchor:E;e.placedSymbolArray.emplaceBack(Qe.x,Qe.y,Qe.z,E.x,E.y,we,this.glyphOffsetArray.length-we,Le,B,H,E.segment,s?s[0]:0,s?s[1]:0,c[0],c[1],x,0,!1,0,G,0)}_commitLayoutVertex(e,i,s,c,_,g,x){e.emplaceBack(i,s,c,_,g,Math.round(x.x),Math.round(x.y))}_addCollisionDebugVertices(e,i,s,c,_,g,x){const D=s.segments.prepareSegment(4,s.layoutVertexArray,s.indexArray),E=D.vertexLength,B=x.tileAnchorX,H=x.tileAnchorY;for(let ee=0;ee<4;ee++)s.collisionVertexArray.emplaceBack(0,0,0,0);s.collisionVertexArrayExt.emplaceBack(i,-e.padding,-e.padding),s.collisionVertexArrayExt.emplaceBack(i,e.padding,-e.padding),s.collisionVertexArrayExt.emplaceBack(i,e.padding,e.padding),s.collisionVertexArrayExt.emplaceBack(i,-e.padding,e.padding),this._commitLayoutVertex(s.layoutVertexArray,c,_,g,B,H,new He(e.x1,e.y1)),this._commitLayoutVertex(s.layoutVertexArray,c,_,g,B,H,new He(e.x2,e.y1)),this._commitLayoutVertex(s.layoutVertexArray,c,_,g,B,H,new He(e.x2,e.y2)),this._commitLayoutVertex(s.layoutVertexArray,c,_,g,B,H,new He(e.x1,e.y2)),D.vertexLength+=4;const G=s.indexArray;G.emplaceBack(E,E+1),G.emplaceBack(E+1,E+2),G.emplaceBack(E+2,E+3),G.emplaceBack(E+3,E),D.primitiveLength+=4}_addTextDebugCollisionBoxes(e,i,s,c,_,g){for(let x=c;x<_;x++){const D=s.get(x),E=this.getSymbolInstanceTextSize(e,g,i,x);this._addCollisionDebugVertices(D,E,this.textCollisionBox,D.projectedAnchorX,D.projectedAnchorY,D.projectedAnchorZ,g)}}_addIconDebugCollisionBoxes(e,i,s,c,_,g){for(let x=c;x<_;x++){const D=s.get(x),E=this.getSymbolInstanceIconSize(e,i,g.placedIconSymbolIndex);this._addCollisionDebugVertices(D,E,this.iconCollisionBox,D.projectedAnchorX,D.projectedAnchorY,D.projectedAnchorZ,g)}}generateCollisionDebugBuffers(e,i){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new h_(At,t_.members,K),this.iconCollisionBox=new h_(At,t_.members,K);const s=id(this.iconSizeData,e),c=id(this.textSizeData,e);for(let _=0;_<this.symbolInstances.length;_++){const g=this.symbolInstances.get(_);this._addTextDebugCollisionBoxes(c,e,i,g.textBoxStartIndex,g.textBoxEndIndex,g),this._addTextDebugCollisionBoxes(c,e,i,g.verticalTextBoxStartIndex,g.verticalTextBoxEndIndex,g),this._addIconDebugCollisionBoxes(s,e,i,g.iconBoxStartIndex,g.iconBoxEndIndex,g),this._addIconDebugCollisionBoxes(s,e,i,g.verticalIconBoxStartIndex,g.verticalIconBoxEndIndex,g)}}getSymbolInstanceTextSize(e,i,s,c){const _=this.text.placedSymbolArray.get(i.rightJustifiedTextSymbolIndex>=0?i.rightJustifiedTextSymbolIndex:i.centerJustifiedTextSymbolIndex>=0?i.centerJustifiedTextSymbolIndex:i.leftJustifiedTextSymbolIndex>=0?i.leftJustifiedTextSymbolIndex:i.verticalPlacedTextSymbolIndex>=0?i.verticalPlacedTextSymbolIndex:c),g=wh(this.textSizeData,e,_)/24;return this.tilePixelRatio*g}getSymbolInstanceIconSize(e,i,s){const c=this.icon.placedSymbolArray.get(s),_=wh(this.iconSizeData,e,c);return this.tilePixelRatio*_}_commitDebugCollisionVertexUpdate(e,i,s){e.emplaceBack(i,-s,-s),e.emplaceBack(i,s,-s),e.emplaceBack(i,s,s),e.emplaceBack(i,-s,s)}_updateTextDebugCollisionBoxes(e,i,s,c,_,g){for(let x=c;x<_;x++){const D=s.get(x),E=this.getSymbolInstanceTextSize(e,g,i,x);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,E,D.padding)}}_updateIconDebugCollisionBoxes(e,i,s,c,_,g){for(let x=c;x<_;x++){const D=s.get(x),E=this.getSymbolInstanceIconSize(e,i,g);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,E,D.padding)}}updateCollisionDebugBuffers(e,i){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const s=id(this.iconSizeData,e),c=id(this.textSizeData,e);for(let _=0;_<this.symbolInstances.length;_++){const g=this.symbolInstances.get(_);this._updateTextDebugCollisionBoxes(c,e,i,g.textBoxStartIndex,g.textBoxEndIndex,g),this._updateTextDebugCollisionBoxes(c,e,i,g.verticalTextBoxStartIndex,g.verticalTextBoxEndIndex,g),this._updateIconDebugCollisionBoxes(s,e,i,g.iconBoxStartIndex,g.iconBoxEndIndex,g.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(s,e,i,g.verticalIconBoxStartIndex,g.verticalIconBoxEndIndex,g.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(e,i,s,c,_,g,x,D,E){const B={};if(i<s){const{x1:H,y1:G,x2:ee,y2:ne,padding:le,projectedAnchorX:me,projectedAnchorY:xe,projectedAnchorZ:Se,tileAnchorX:we,tileAnchorY:Le,featureIndex:Ie}=e.get(i);B.textBox={x1:H,y1:G,x2:ee,y2:ne,padding:le,projectedAnchorX:me,projectedAnchorY:xe,projectedAnchorZ:Se,tileAnchorX:we,tileAnchorY:Le},B.textFeatureIndex=Ie}if(c<_){const{x1:H,y1:G,x2:ee,y2:ne,padding:le,projectedAnchorX:me,projectedAnchorY:xe,projectedAnchorZ:Se,tileAnchorX:we,tileAnchorY:Le,featureIndex:Ie}=e.get(c);B.verticalTextBox={x1:H,y1:G,x2:ee,y2:ne,padding:le,projectedAnchorX:me,projectedAnchorY:xe,projectedAnchorZ:Se,tileAnchorX:we,tileAnchorY:Le},B.verticalTextFeatureIndex=Ie}if(g<x){const{x1:H,y1:G,x2:ee,y2:ne,padding:le,projectedAnchorX:me,projectedAnchorY:xe,projectedAnchorZ:Se,tileAnchorX:we,tileAnchorY:Le,featureIndex:Ie}=e.get(g);B.iconBox={x1:H,y1:G,x2:ee,y2:ne,padding:le,projectedAnchorX:me,projectedAnchorY:xe,projectedAnchorZ:Se,tileAnchorX:we,tileAnchorY:Le},B.iconFeatureIndex=Ie}if(D<E){const{x1:H,y1:G,x2:ee,y2:ne,padding:le,projectedAnchorX:me,projectedAnchorY:xe,projectedAnchorZ:Se,tileAnchorX:we,tileAnchorY:Le,featureIndex:Ie}=e.get(D);B.verticalIconBox={x1:H,y1:G,x2:ee,y2:ne,padding:le,projectedAnchorX:me,projectedAnchorY:xe,projectedAnchorZ:Se,tileAnchorX:we,tileAnchorY:Le},B.verticalIconFeatureIndex=Ie}return B}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let i=0;i<this.symbolInstances.length;i++){const s=this.symbolInstances.get(i);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,s.textBoxStartIndex,s.textBoxEndIndex,s.verticalTextBoxStartIndex,s.verticalTextBoxEndIndex,s.iconBoxStartIndex,s.iconBoxEndIndex,s.verticalIconBoxStartIndex,s.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,i){const s=e.placedSymbolArray.get(i),c=s.vertexStartIndex+4*s.numGlyphs;for(let _=s.vertexStartIndex;_<c;_+=4)e.indexArray.emplaceBack(_,_+1,_+2),e.indexArray.emplaceBack(_+1,_+2,_+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const i=Math.sin(e),s=Math.cos(e),c=[],_=[],g=[];for(let x=0;x<this.symbolInstances.length;++x){g.push(x);const D=this.symbolInstances.get(x);c.push(0|Math.round(i*D.tileAnchorX+s*D.tileAnchorY)),_.push(D.featureIndex)}return g.sort((x,D)=>c[x]-c[D]||_[D]-_[x]),g}addToSortKeyRanges(e,i){const s=this.sortKeyRanges[this.sortKeyRanges.length-1];s&&s.sortKey===i?s.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:i,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const i of this.symbolInstanceIndexes){const s=this.symbolInstances.get(i);this.featureSortOrder.push(s.featureIndex);const{rightJustifiedTextSymbolIndex:c,centerJustifiedTextSymbolIndex:_,leftJustifiedTextSymbolIndex:g,verticalPlacedTextSymbolIndex:x,placedIconSymbolIndex:D,verticalPlacedIconSymbolIndex:E}=s;c>=0&&this.addIndicesForPlacedSymbol(this.text,c),_>=0&&_!==c&&this.addIndicesForPlacedSymbol(this.text,_),g>=0&&g!==_&&g!==c&&this.addIndicesForPlacedSymbol(this.text,g),x>=0&&this.addIndicesForPlacedSymbol(this.text,x),D>=0&&this.addIndicesForPlacedSymbol(this.icon,D),E>=0&&this.addIndicesForPlacedSymbol(this.icon,E)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Bt(ku,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),ku.MAX_GLYPHS=65535,ku.addDynamicAttributes=Gp;const Jm=new C({"symbol-placement":new b(nt.layout_symbol["symbol-placement"]),"symbol-spacing":new b(nt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new b(nt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new k(nt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new b(nt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new b(nt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new b(nt.layout_symbol["icon-ignore-placement"]),"icon-optional":new b(nt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new b(nt.layout_symbol["icon-rotation-alignment"]),"icon-size":new k(nt.layout_symbol["icon-size"]),"icon-text-fit":new b(nt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new b(nt.layout_symbol["icon-text-fit-padding"]),"icon-image":new k(nt.layout_symbol["icon-image"]),"icon-rotate":new k(nt.layout_symbol["icon-rotate"]),"icon-padding":new b(nt.layout_symbol["icon-padding"]),"icon-keep-upright":new b(nt.layout_symbol["icon-keep-upright"]),"icon-offset":new k(nt.layout_symbol["icon-offset"]),"icon-anchor":new k(nt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new b(nt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new b(nt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new b(nt.layout_symbol["text-rotation-alignment"]),"text-field":new k(nt.layout_symbol["text-field"]),"text-font":new k(nt.layout_symbol["text-font"]),"text-size":new k(nt.layout_symbol["text-size"]),"text-max-width":new k(nt.layout_symbol["text-max-width"]),"text-line-height":new k(nt.layout_symbol["text-line-height"]),"text-letter-spacing":new k(nt.layout_symbol["text-letter-spacing"]),"text-justify":new k(nt.layout_symbol["text-justify"]),"text-radial-offset":new k(nt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new b(nt.layout_symbol["text-variable-anchor"]),"text-anchor":new k(nt.layout_symbol["text-anchor"]),"text-max-angle":new b(nt.layout_symbol["text-max-angle"]),"text-writing-mode":new b(nt.layout_symbol["text-writing-mode"]),"text-rotate":new k(nt.layout_symbol["text-rotate"]),"text-padding":new b(nt.layout_symbol["text-padding"]),"text-keep-upright":new b(nt.layout_symbol["text-keep-upright"]),"text-transform":new k(nt.layout_symbol["text-transform"]),"text-offset":new k(nt.layout_symbol["text-offset"]),"text-allow-overlap":new b(nt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new b(nt.layout_symbol["text-ignore-placement"]),"text-optional":new b(nt.layout_symbol["text-optional"])});var p_={paint:new C({"icon-opacity":new k(nt.paint_symbol["icon-opacity"]),"icon-color":new k(nt.paint_symbol["icon-color"]),"icon-halo-color":new k(nt.paint_symbol["icon-halo-color"]),"icon-halo-width":new k(nt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new k(nt.paint_symbol["icon-halo-blur"]),"icon-translate":new b(nt.paint_symbol["icon-translate"]),"icon-translate-anchor":new b(nt.paint_symbol["icon-translate-anchor"]),"text-opacity":new k(nt.paint_symbol["text-opacity"]),"text-color":new k(nt.paint_symbol["text-color"],{runtimeType:Er,getOverride:t=>t.textColor,hasOverride:t=>!!t.textColor}),"text-halo-color":new k(nt.paint_symbol["text-halo-color"]),"text-halo-width":new k(nt.paint_symbol["text-halo-width"]),"text-halo-blur":new k(nt.paint_symbol["text-halo-blur"]),"text-translate":new b(nt.paint_symbol["text-translate"]),"text-translate-anchor":new b(nt.paint_symbol["text-translate-anchor"])}),layout:Jm};class sm{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:Xn,this.defaultValue=e}evaluate(e){if(e.formattedSection){const i=this.defaultValue.property.overrides;if(i&&i.hasOverride(e.formattedSection))return i.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Bt(sm,"FormatSectionOverride",{omit:["defaultValue"]});class Zp extends yl{constructor(e){super(e,p_)}recalculate(e,i){super.recalculate(e,i),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const s=this.layout.get("text-writing-mode");if(s){const c=[];for(const _ of s)c.indexOf(_)<0&&c.push(_);this.layout._values["text-writing-mode"]=c}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(e,i,s,c){const _=this.layout.get(e).evaluate(i,{},s,c),g=this._unevaluatedLayout._values[e];return g.isDataDriven()||ao(g.value)||!_?_:(x=i.properties,_.replace(/{([^{}]+)}/g,(E,B)=>B in x?String(x[B]):""));var x}createBucket(e){return new ku(e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const e of p_.paint.overridableProperties){if(!Zp.hasPaintOverride(this.layout,e))continue;const i=this.paint.get(e),s=new sm(i),c=new $o(s,i.property.specification);let _=null;_="constant"===i.value.kind||"source"===i.value.kind?new j("source",c):new W("composite",c,i.value.zoomStops,i.value._interpolationType),this.paint._values[e]=new f(i.property,_,i.parameters)}}_handleOverridablePaintPropertyUpdate(e,i,s){return!(!this.layout||i.isDataDriven()||s.isDataDriven())&&Zp.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,i){const s=e.get("text-field"),c=p_.paint.properties[i];let _=!1;const g=x=>{for(const D of x)if(c.overrides&&c.overrides.hasOverride(D))return void(_=!0)};if("constant"===s.value.kind&&s.value.value instanceof pr)g(s.value.value.sections);else if("source"===s.value.kind){const x=E=>{_||(E instanceof ha&&Gi(E.value)===Br?g(E.value.sections):E instanceof fr?g(E.sections):E.eachChild(x))},D=s.value;D._styleExpression&&x(D._styleExpression.expression)}return _}getProgramConfiguration(e){return new Zc(this,e)}}var Km={paint:new C({"background-color":new b(nt.paint_background["background-color"]),"background-pattern":new b(nt.paint_background["background-pattern"]),"background-opacity":new b(nt.paint_background["background-opacity"])})},Qm={paint:new C({"raster-opacity":new b(nt.paint_raster["raster-opacity"]),"raster-hue-rotate":new b(nt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new b(nt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new b(nt.paint_raster["raster-brightness-max"]),"raster-saturation":new b(nt.paint_raster["raster-saturation"]),"raster-contrast":new b(nt.paint_raster["raster-contrast"]),"raster-resampling":new b(nt.paint_raster["raster-resampling"]),"raster-fade-duration":new b(nt.paint_raster["raster-fade-duration"])})};class eg extends yl{constructor(e){super(e,{}),this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}isLayerDraped(){return void 0!==this.implementation.renderToTile}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}onRemove(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}var tg={paint:new C({"sky-type":new b(nt.paint_sky["sky-type"]),"sky-atmosphere-sun":new b(nt.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new b(nt.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new b(nt.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new b(nt.paint_sky["sky-gradient-radius"]),"sky-gradient":new I(nt.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new b(nt.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new b(nt.paint_sky["sky-atmosphere-color"]),"sky-opacity":new b(nt.paint_sky["sky-opacity"])})};function f_(t,e,i){const s=[0,0,1],c=$d([]);return Hs(c,c,i?-Tt(t)+Math.PI:Tt(t)),dc(c,c,-Tt(e)),qh(s,s,c),is(s,s)}const ig={circle:class extends yl{constructor(t){super(t,z_)}createBucket(t){return new gd(t)}queryRadius(t){const e=t;return _u("circle-radius",this,e)+_u("circle-stroke-width",this,e)+mu(this.paint.get("circle-translate"))}queryIntersectsFeature(t,e,i,s,c,_,g,x){const D=ji(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),_.angle,t.pixelToTileUnitsFactor),E=this.paint.get("circle-radius").evaluate(e,i)+this.paint.get("circle-stroke-width").evaluate(e,i);return wf(t,s,_,g,x,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),D,E)}getProgramIds(){return["circle"]}getProgramConfiguration(t){return new Zc(this,t)}},heatmap:class extends yl{createBucket(t){return new kf(t)}constructor(t){super(t,lp),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){"heatmap-color"===t&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=ah({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(t){return _u("heatmap-radius",this,t)}queryIntersectsFeature(t,e,i,s,c,_,g,x){const D=this.paint.get("heatmap-radius").evaluate(e,i);return wf(t,s,_,g,x,!0,!0,new He(0,0),D)}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(t){return new Zc(this,t)}},hillshade:class extends yl{constructor(t){super(t,ui)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends yl{constructor(t){super(t,zf)}getProgramIds(){const t=this.paint.get("fill-pattern"),e=t&&t.constantOr(1),i=[e?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&i.push(e&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),i}getProgramConfiguration(t){return new Zc(this,t)}recalculate(t,e){super.recalculate(t,e);const i=this.paint._values["fill-outline-color"];"constant"===i.value.kind&&void 0===i.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(t){return new Md(t)}queryRadius(){return mu(this.paint.get("fill-translate"))}queryIntersectsFeature(t,e,i,s,c,_){return!t.queryGeometry.isAboveHorizon&&th(xf(t.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),_.angle,t.pixelToTileUnitsFactor),s)}isTileClipped(){return!0}},"fill-extrusion":class extends yl{constructor(t){super(t,Qu)}createBucket(t){return new Oc(t)}queryRadius(){return mu(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(t){return new Zc(this,t)}queryIntersectsFeature(t,e,i,s,c,_,g,x,D){const E=ji(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),_.angle,t.pixelToTileUnitsFactor),B=this.paint.get("fill-extrusion-height").evaluate(e,i),H=this.paint.get("fill-extrusion-base").evaluate(e,i),G=[0,0],ee=x&&_.elevation,ne=_.elevation?_.elevation.exaggeration():1,le=t.tile.getBucket(this);if(ee&&le instanceof Oc){const Le=le.centroidVertexArray,Ie=D+1;Ie<Le.length&&(G[0]=Le.geta_centroid_pos0(Ie),G[1]=Le.geta_centroid_pos1(Ie))}if(0===G[0]&&1===G[1])return!1;"globe"===_.projection.name&&(s=yh([s],[new He(0,0),new He(Wt,Wt)],t.tileID.canonical).map(Le=>Le.polygon).flat());const me=ee?x:null,[xe,Se]=(Ie=s,Ae=H,Qe=B,Xe=E,dt=g,kt=me,it=G,_t=ne,mt=_.center.lat,"globe"===(Le=_).projection.name?function(Dt,ct,zt,Ht,Ft,bi,Lt,Kt,xi,hn,wi){const ni=[],Gn=[],Mi=Dt.projection.upVectorScale(wi,Dt.center.lat,Dt.worldSize).metersToTile,Ti=[0,0,0,1],zn=[0,0,0,1],Hn=(Fn,ur,Lr,Zr)=>{Fn[0]=ur,Fn[1]=Lr,Fn[2]=Zr,Fn[3]=1},Nn=Ld();zt>0&&(zt+=Nn),Ht+=Nn;for(const Fn of ct){const ur=[],Lr=[];for(const Zr of Fn){const Bn=Zr.x+Ft.x,sa=Zr.y+Ft.y,qr=Dt.projection.projectTilePoint(Bn,sa,wi),yr=Dt.projection.upVector(wi,Zr.x,Zr.y);let gn=zt,$r=Ht;if(Lt){const Un=yp(Bn,sa,zt,Ht,Lt,Kt,xi,hn);gn+=Un.base,$r+=Un.top}0!==zt?Hn(Ti,qr.x+yr[0]*Mi*gn,qr.y+yr[1]*Mi*gn,qr.z+yr[2]*Mi*gn):Hn(Ti,qr.x,qr.y,qr.z),Hn(zn,qr.x+yr[0]*Mi*$r,qr.y+yr[1]*Mi*$r,qr.z+yr[2]*Mi*$r),mr(Ti,Ti,bi),mr(zn,zn,bi),ur.push(new bu(Ti[0],Ti[1],Ti[2])),Lr.push(new bu(zn[0],zn[1],zn[2]))}ni.push(ur),Gn.push(Lr)}return[ni,Gn]}(Le,Ie,Ae,Qe,Xe,dt,kt,it,_t,mt,t.tileID.canonical):kt?function(Dt,ct,zt,Ht,Ft,bi,Lt,Kt,xi){const hn=[],wi=[],ni=[0,0,0,1];for(const Gn of Dt){const Mi=[],Ti=[];for(const zn of Gn){const Hn=zn.x+Ht.x,Nn=zn.y+Ht.y,Fn=yp(Hn,Nn,ct,zt,bi,Lt,Kt,xi);ni[0]=Hn,ni[1]=Nn,ni[2]=Fn.base,ni[3]=1,Jc(ni,ni,Ft),ni[3]=Math.max(ni[3],1e-5);const ur=new bu(ni[0]/ni[3],ni[1]/ni[3],ni[2]/ni[3]);ni[0]=Hn,ni[1]=Nn,ni[2]=Fn.top,ni[3]=1,Jc(ni,ni,Ft),ni[3]=Math.max(ni[3],1e-5);const Lr=new bu(ni[0]/ni[3],ni[1]/ni[3],ni[2]/ni[3]);Mi.push(ur),Ti.push(Lr)}hn.push(Mi),wi.push(Ti)}return[hn,wi]}(Ie,Ae,Qe,Xe,dt,kt,it,_t,mt):function(Dt,ct,zt,Ht,Ft){const bi=[],Lt=[],Kt=Ft[8]*ct,xi=Ft[9]*ct,hn=Ft[10]*ct,wi=Ft[11]*ct,ni=Ft[8]*zt,Gn=Ft[9]*zt,Mi=Ft[10]*zt,Ti=Ft[11]*zt;for(const zn of Dt){const Hn=[],Nn=[];for(const Fn of zn){const ur=Fn.x+Ht.x,Lr=Fn.y+Ht.y,Zr=Ft[0]*ur+Ft[4]*Lr+Ft[12],Bn=Ft[1]*ur+Ft[5]*Lr+Ft[13],sa=Ft[2]*ur+Ft[6]*Lr+Ft[14],qr=Ft[3]*ur+Ft[7]*Lr+Ft[15],yr=Zr+Kt,gn=Bn+xi,$r=sa+hn,Un=Math.max(qr+wi,1e-5),_o=Zr+ni,Xr=Bn+Gn,os=sa+Mi,Ya=Math.max(qr+Ti,1e-5);Hn.push(new bu(yr/Un,gn/Un,$r/Un)),Nn.push(new bu(_o/Ya,Xr/Ya,os/Ya))}bi.push(Hn),Lt.push(Nn)}return[bi,Lt]}(Ie,Ae,Qe,Xe,dt)),we=t.queryGeometry;var Le,Ie,Ae,Qe,Xe,dt,kt,it,_t,mt;return function(Le,Ie,Ae){let Qe=1/0;th(Ae,Ie)&&(Qe=xh(Ae,Ie[0]));for(let Xe=0;Xe<Ie.length;Xe++){const dt=Ie[Xe],kt=Le[Xe];for(let it=0;it<dt.length-1;it++){const _t=dt[it],mt=[_t,dt[it+1],kt[it+1],kt[it],_t];sp(Ae,mt)&&(Qe=Math.min(Qe,xh(Ae,mt)))}}return Qe!==1/0&&Qe}(xe,Se,we.isPointQuery()?we.screenBounds:we.screenGeometry)}},line:class extends yl{constructor(t){super(t,xp),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(t){if("line-gradient"===t){const e=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=e._styleExpression&&e._styleExpression.expression instanceof Za,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(t,e){super.recalculate(t,e),this.paint._values["line-floorwidth"]=wp.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,t)}createBucket(t){return new td(t)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(t){return new Zc(this,t)}queryRadius(t){const e=t,i=Mp(_u("line-width",this,e),_u("line-gap-width",this,e)),s=_u("line-offset",this,e);return i/2+Math.abs(s)+mu(this.paint.get("line-translate"))}queryIntersectsFeature(t,e,i,s,c,_){if(t.queryGeometry.isAboveHorizon)return!1;const g=xf(t.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),_.angle,t.pixelToTileUnitsFactor),x=t.pixelToTileUnitsFactor/2*Mp(this.paint.get("line-width").evaluate(e,i),this.paint.get("line-gap-width").evaluate(e,i)),D=this.paint.get("line-offset").evaluate(e,i);return D&&(s=function(E,B){const H=[],G=new He(0,0);for(let ee=0;ee<E.length;ee++){const ne=E[ee],le=[];for(let me=0;me<ne.length;me++){const xe=ne[me],Se=ne[me+1],we=0===me?G:xe.sub(ne[me-1])._unit()._perp(),Le=me===ne.length-1?G:Se.sub(xe)._unit()._perp(),Ie=we._add(Le)._unit();Ie._mult(1/(Ie.x*Le.x+Ie.y*Le.y)),le.push(Ie._mult(B)._add(xe))}H.push(le)}return H}(s,D*t.pixelToTileUnitsFactor)),function(E,B,H){for(let G=0;G<B.length;G++){const ee=B[G];if(E.length>=3)for(let ne=0;ne<ee.length;ne++)if(Pc(E,ee[ne]))return!0;if(yf(E,ee,H))return!0}return!1}(g,s,x)}isTileClipped(){return!0}},symbol:Zp,background:class extends yl{constructor(t){super(t,Km)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends yl{constructor(t){super(t,Qm)}getProgramIds(){return["raster"]}},sky:class extends yl{constructor(t){super(t,tg),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(t){"sky-gradient"===t?this._updateColorRamp():"sky-atmosphere-sun"!==t&&"sky-atmosphere-halo-color"!==t&&"sky-atmosphere-color"!==t&&"sky-atmosphere-sun-intensity"!==t||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=ah({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(t){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const e=t.style.light.properties.get("position");return this._lightPosition.azimuthal!==e.azimuthal||this._lightPosition.polar!==e.polar}return!1}getCenter(t,e){if("atmosphere"===this.paint.get("sky-type")){const s=this.paint.get("sky-atmosphere-sun"),c=!s,_=t.style.light,g=_.properties.get("position");return c&&"viewport"===_.properties.get("anchor")&&Ri("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),c?f_(g.azimuthal,90-g.polar,e):f_(s[0],90-s[1],e)}const i=this.paint.get("sky-gradient-center");return f_(i[0],90-i[1],e)}is3D(){return!1}isSky(){return!0}markSkyboxValid(t){this._skyboxInvalidated=!1,this._lightPosition=t.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const t=this.paint.get("sky-type");return"atmosphere"===t?["skyboxCapture","skybox"]:"gradient"===t?["skyboxGradient"]:null}}};class Ph{constructor(e,i,s,c){this.context=e,this.format=s,this.texture=e.gl.createTexture(),this.update(i,c)}update(e,i,s){const{width:c,height:_}=e,{context:g}=this,{gl:x}=g,{HTMLImageElement:D,HTMLCanvasElement:E,HTMLVideoElement:B,ImageData:H,ImageBitmap:G}=d;if(x.bindTexture(x.TEXTURE_2D,this.texture),g.pixelStoreUnpackFlipY.set(!1),g.pixelStoreUnpack.set(1),g.pixelStoreUnpackPremultiplyAlpha.set(this.format===x.RGBA&&(!i||!1!==i.premultiply)),s||this.size&&this.size[0]===c&&this.size[1]===_){const{x:ee,y:ne}=s||{x:0,y:0};e instanceof D||e instanceof E||e instanceof B||e instanceof H||G&&e instanceof G?x.texSubImage2D(x.TEXTURE_2D,0,ee,ne,x.RGBA,x.UNSIGNED_BYTE,e):x.texSubImage2D(x.TEXTURE_2D,0,ee,ne,c,_,x.RGBA,x.UNSIGNED_BYTE,e.data)}else this.size=[c,_],e instanceof D||e instanceof E||e instanceof B||e instanceof H||G&&e instanceof G?x.texImage2D(x.TEXTURE_2D,0,this.format,this.format,x.UNSIGNED_BYTE,e):x.texImage2D(x.TEXTURE_2D,0,this.format,c,_,0,this.format,x.UNSIGNED_BYTE,e.data);this.useMipmap=Boolean(i&&i.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&x.generateMipmap(x.TEXTURE_2D)}bind(e,i){const{context:s}=this,{gl:c}=s;c.bindTexture(c.TEXTURE_2D,this.texture),e!==this.filter&&(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,e),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,this.useMipmap?e===c.NEAREST?c.NEAREST_MIPMAP_NEAREST:c.LINEAR_MIPMAP_NEAREST:e),this.filter=e),i!==this.wrap&&(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,i),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,i),this.wrap=i)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}class ng{constructor(e){this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class rg{constructor(){this.tasks={},this.taskQueue=[],en(["process"],this),this.invoker=new ng(this.process),this.nextId=0}add(e,i){const s=this.nextId++,c=function({type:_,isSymbolTile:g,zoom:x}){return x=x||0,"message"===_?0:"maybePrepare"!==_||g?"parseTile"!==_||g?"parseTile"===_&&g?300-x:"maybePrepare"===_&&g?400-x:500:200-x:100-x}(i);if(0===c){An();try{e()}finally{}return{cancel:()=>{}}}return this.tasks[s]={fn:e,metadata:i,priority:c,id:s},this.taskQueue.push(s),this.invoker.trigger(),{cancel:()=>{delete this.tasks[s]}}}process(){An();try{if(this.taskQueue=this.taskQueue.filter(s=>!!this.tasks[s]),!this.taskQueue.length)return;const e=this.pick();if(null===e)return;const i=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),!i)return;i.fn()}finally{}}pick(){let e=null,i=1/0;for(let c=0;c<this.taskQueue.length;c++){const _=this.tasks[this.taskQueue[c]];_.priority<i&&(i=_.priority,e=c)}if(null===e)return null;const s=this.taskQueue[e];return this.taskQueue.splice(e,1),s}remove(){this.invoker.remove()}}class om{constructor(e){this._stringToNumber={},this._numberToString=[];for(let i=0;i<e.length;i++){const s=e[i];this._stringToNumber[s]=i,this._numberToString[i]=s}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}const ag=["tile","layer","source","sourceLayer","state"];class lm{constructor(e,i,s,c,_){this.type="Feature",this._vectorTileFeature=e,this._z=i,this._x=s,this._y=c,this.properties=e.properties,this.id=_}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};void 0!==this.id&&(e.id=this.id);for(const i of ag)void 0!==this[i]&&(e[i]=this[i]);return e}}const Du=new Uint16Array(8184);for(let t=0;t<2046;t++){let e=t+2,i=0,s=0,c=0,_=0,g=0,x=0;for(1&e?c=_=g=32:i=s=x=32;(e>>=1)>1;){const E=i+c>>1,B=s+_>>1;1&e?(c=i,_=s,i=g,s=x):(i=c,s=_,c=g,_=x),g=E,x=B}const D=4*t;Du[D+0]=i,Du[D+1]=s,Du[D+2]=c,Du[D+3]=_}const Fc=new Uint16Array(2178),Lu=new Uint8Array(1089),qp=new Uint16Array(1089);function cm(t){return 0===t?-.03125:32===t?.03125:0}var um=ce([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const dm={type:2,extent:Wt,loadGeometry:()=>[[new He(0,0),new He(8193,0),new He(8193,8193),new He(0,8193),new He(0,0)]]};class __{constructor(e,i,s,c,_){this.tileID=e,this.uid=dr(),this.uses=0,this.tileSize=i,this.tileZoom=s,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=_,this.expiredRequestCount=0,this.state="loading",c&&c.transform&&(this.projection=c.transform.projection)}registerFadeDuration(e){const i=e+this.timeAdded;i<on.now()||this.fadeEndTime&&i<this.fadeEndTime||(this.fadeEndTime=i)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=rd(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(e,i,s){if(this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(c,_){const g={};if(!_)return g;for(const x of c){const D=x.layerIds.map(E=>_.getLayer(E)).filter(Boolean);if(0!==D.length){x.layers=D,x.stateDependentLayerIds&&(x.stateDependentLayers=x.stateDependentLayerIds.map(E=>D.filter(B=>B.id===E)[0]));for(const E of D)g[E.id]=x}}return g}(e.buckets,i.style),this.hasSymbolBuckets=!1;for(const c in this.buckets){const _=this.buckets[c];if(_ instanceof ku){if(this.hasSymbolBuckets=!0,!s)break;_.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const c in this.buckets){const _=this.buckets[c];if(_ instanceof ku&&_.hasRTLText){this.hasRTLText=!0,O.isLoading()||O.isLoaded()||"deferred"!==M()||P();break}}this.queryPadding=0;for(const c in this.buckets){const _=this.buckets[c];this.queryPadding=Math.max(this.queryPadding,i.style.getLayer(c).queryRadius(_))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas)}else this.collisionBoxArray=new et}unloadVectorData(){if(this.hasData()){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(e){return this.buckets[e.id]}upload(e){for(const s in this.buckets){const c=this.buckets[s];c.uploadPending()&&c.upload(e)}const i=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ph(e,this.imageAtlas.image,i.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ph(e,this.glyphAtlasImage,i.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new Ph(e,this.lineAtlas.image,i.ALPHA),this.lineAtlas.uploaded=!0)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,i,s,c,_,g,x,D){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:c,pixelPosMatrix:x,transform:g,params:_,tileTransform:this.tileTransform},e,i,s):{}}querySourceFeatures(e,i){const s=this.latestFeatureIndex;if(!s||!s.rawTileData)return;const c=s.loadVTLayers(),_=i?i.sourceLayer:"",g=c._geojsonTileLayer||c[_];if(!g)return;const x=so(i&&i.filter),{z:D,x:E,y:B}=this.tileID.canonical,H={z:D,x:E,y:B};for(let G=0;G<g.length;G++){const ee=g.feature(G);if(x.needGeometry){const me=Oo(ee,!0);if(!x.filter(new V(this.tileID.overscaledZ),me,this.tileID.canonical))continue}else if(!x.filter(new V(this.tileID.overscaledZ),ee))continue;const ne=s.getId(ee,_),le=new lm(ee,D,E,B,ne);le.tile=H,e.push(le)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const i=this.expirationTime;if(e.cacheControl){const s=Ui(e.cacheControl);s["max-age"]&&(this.expirationTime=Date.now()+1e3*s["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const s=Date.now();let c=!1;if(this.expirationTime>s)c=!1;else if(i)if(this.expirationTime<i)c=!0;else{const _=this.expirationTime-i;_?this.expirationTime=s+Math.max(_,3e4):c=!0}else c=!0;c?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,i){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length||!i)return;const s=this.latestFeatureIndex.loadVTLayers(),c=i.style.listImages();for(const _ in this.buckets){if(!i.style.hasLayer(_))continue;const g=this.buckets[_],x=g.layers[0].sourceLayer||"_geojsonTileLayer",D=s[x],E=e[x];if(!D||!E||0===Object.keys(E).length)continue;if(g.update(E,D,c,this.imageAtlas&&this.imageAtlas.patternPositions||{}),g instanceof td||g instanceof Md){const H=i.style._getSourceCache(g.layers[0].source);i._terrain&&i._terrain.enabled&&H&&g.programConfigurations.needsUpload&&i._terrain._clearRenderCacheForTile(H.id,this.tileID)}const B=i&&i.style&&i.style.getLayer(_);B&&(this.queryPadding=Math.max(this.queryPadding,B.queryRadius(g)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<on.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=on.now()+e}setTexture(e,i){const s=i.context,c=s.gl;this.texture=this.texture||i.getTileTexture(e.width),this.texture?this.texture.update(e,{useMipmap:!0}):(this.texture=new Ph(s,e,c.RGBA,{useMipmap:!0}),this.texture.bind(c.LINEAR,c.CLAMP_TO_EDGE))}setDependencies(e,i){const s={};for(const c of i)s[c]=!0;this.dependencies[e]=s}hasDependency(e,i){for(const s of e){const c=this.dependencies[s];if(c)for(const _ of i)if(c[_])return!0}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(e,i){if(!i||"mercator"===i.name||this._tileDebugBuffer)return;const s=Vl(dm,this.tileID.canonical,this.tileTransform)[0],c=new ve,_=new se;for(let g=0;g<s.length;g++){const{x,y:D}=s[g];c.emplaceBack(x,D),_.emplaceBack(g)}_.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(_),this._tileDebugBuffer=e.createVertexBuffer(c,hd.members),this._tileDebugSegments=Wn.simpleSegment(0,0,c.length,_.length)}_makeTileBoundsBuffers(e,i){if(this._tileBoundsBuffer||!i||"mercator"===i.name)return;const s=Vl(dm,this.tileID.canonical,this.tileTransform)[0];let c,_;if(this.isRaster){const g=function(x,D){const E=rd(x,D),B=Math.pow(2,x.z);for(let me=0;me<33;me++)for(let xe=0;xe<33;xe++){const Se=uo((x.x+(xe+cm(xe))/32)/B),we=Oa((x.y+(me+cm(me))/32)/B),Le=D.project(Se,we),Ie=33*me+xe;Fc[2*Ie+0]=Math.round((Le.x*E.scale-E.x)*Wt),Fc[2*Ie+1]=Math.round((Le.y*E.scale-E.y)*Wt)}Lu.fill(0),qp.fill(0);for(let me=2045;me>=0;me--){const xe=4*me,Se=Du[xe+0],we=Du[xe+1],Le=Du[xe+2],Ie=Du[xe+3],Ae=Se+Le>>1,Qe=we+Ie>>1,Xe=Ae+Qe-we,dt=Qe+Se-Ae,kt=33*we+Se,it=33*Ie+Le,_t=33*Qe+Ae,mt=Math.hypot((Fc[2*kt+0]+Fc[2*it+0])/2-Fc[2*_t+0],(Fc[2*kt+1]+Fc[2*it+1])/2-Fc[2*_t+1])>=16;Lu[_t]=Lu[_t]||(mt?1:0),me<1022&&(Lu[_t]=Lu[_t]||Lu[33*(we+dt>>1)+(Se+Xe>>1)]||Lu[33*(Ie+dt>>1)+(Le+Xe>>1)])}const H=new Ce,G=new Vt;let ee=0;function ne(me,xe){const Se=33*xe+me;return 0===qp[Se]&&(H.emplaceBack(Fc[2*Se+0],Fc[2*Se+1],me*Wt/32,xe*Wt/32),qp[Se]=++ee),qp[Se]-1}function le(me,xe,Se,we,Le,Ie){const Ae=me+Se>>1,Qe=xe+we>>1;if(Math.abs(me-Le)+Math.abs(xe-Ie)>1&&Lu[33*Qe+Ae])le(Le,Ie,me,xe,Ae,Qe),le(Se,we,Le,Ie,Ae,Qe);else{const Xe=ne(me,xe),dt=ne(Se,we),kt=ne(Le,Ie);G.emplaceBack(Xe,dt,kt)}}return le(0,0,32,32,32,0),le(32,32,0,0,0,32),{vertices:H,indices:G}}(this.tileID.canonical,i);c=g.vertices,_=g.indices}else{c=new Ce,_=new Vt;for(const{x,y:D}of s)c.emplaceBack(x,D,0,0);const g=wd(c.int16,void 0,4);for(let x=0;x<g.length;x+=3)_.emplaceBack(g[x],g[x+1],g[x+2])}this._tileBoundsBuffer=e.createVertexBuffer(c,um.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(_),this._tileBoundsSegments=Wn.simpleSegment(0,0,c.length,_.length)}_makeGlobeTileDebugBuffers(e,i){const s=i.projection;if(!s||"globe"!==s.name||i.freezeTileCoverage)return;const c=this.tileID.canonical,_=md(cf(c,i)),g=Ec(i.zoom);let x;g>0&&(x=Ud(new Float64Array(16),i.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(e,c,i,_,x,g),this._makeGlobeTileDebugTextBuffer(e,c,i,_,x,g)}_globePoint(e,i,s,c,_,g,x){let D=Vu(e,i,s);if(g){const E=1<<s.z,B=jl(c.center.lng),H=xl(c.center.lat),G=(s.x+.5)/E-B;let ee=0;G>.5?ee=-1:G<-.5&&(ee=1);let ne=(e/Wt+s.x)/E+ee,le=(i/Wt+s.y)/E;ne=(ne-B)*c._pixelsPerMercatorPixel+B,le=(le-H)*c._pixelsPerMercatorPixel+H;const me=[ne*c.worldSize,le*c.worldSize,0];mr(me,me,g),D=hu(D,me,x)}return mr(D,D,_)}_makeGlobeTileDebugBorderBuffer(e,i,s,c,_,g){const x=new ve,D=new se,E=new ge,B=(G,ee,ne,le,me)=>{const xe=(ne-G)/(me-1),Se=(le-ee)/(me-1),we=x.length;for(let Le=0;Le<me;Le++){const Ie=G+Le*xe,Ae=ee+Le*Se;x.emplaceBack(Ie,Ae);const Qe=this._globePoint(Ie,Ae,i,s,c,_,g);E.emplaceBack(Qe[0],Qe[1],Qe[2]),D.emplaceBack(we+Le)}},H=Wt;B(0,0,H,0,16),B(H,0,H,H,16),B(H,H,0,H,16),B(0,H,0,0,16),this._tileDebugIndexBuffer=e.createIndexBuffer(D),this._tileDebugBuffer=e.createVertexBuffer(x,hd.members),this._globeTileDebugBorderBuffer=e.createVertexBuffer(E,sf.members),this._tileDebugSegments=Wn.simpleSegment(0,0,x.length,D.length)}_makeGlobeTileDebugTextBuffer(e,i,s,c,_,g){const D=new ve,E=new Vt,B=new ge,H=25;E.reserve(32),D.reserve(H),B.reserve(H);const G=(ee,ne)=>H*ee+ne;for(let ee=0;ee<H;ee++){const ne=2048*ee;for(let le=0;le<H;le++){const me=2048*le;D.emplaceBack(me,ne);const xe=this._globePoint(me,ne,i,s,c,_,g);B.emplaceBack(xe[0],xe[1],xe[2])}}for(let ee=0;ee<4;ee++)for(let ne=0;ne<4;ne++){const le=G(ee,ne),me=G(ee,ne+1),xe=G(ee+1,ne),Se=G(ee+1,ne+1);E.emplaceBack(le,me,xe),E.emplaceBack(xe,me,Se)}this._tileDebugTextIndexBuffer=e.createIndexBuffer(E),this._tileDebugTextBuffer=e.createVertexBuffer(D,hd.members),this._globeTileDebugTextBuffer=e.createVertexBuffer(B,sf.members),this._tileDebugTextSegments=Wn.simpleSegment(0,0,H,32)}}class sg{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,i,s){const c=String(i);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][c]=this.stateChanges[e][c]||{},cn(this.stateChanges[e][c],s),null===this.deletedStates[e]){this.deletedStates[e]={};for(const _ in this.state[e])_!==c&&(this.deletedStates[e][_]=null)}else if(this.deletedStates[e]&&null===this.deletedStates[e][c]){this.deletedStates[e][c]={};for(const _ in this.state[e][c])s[_]||(this.deletedStates[e][c][_]=null)}else for(const _ in s)this.deletedStates[e]&&this.deletedStates[e][c]&&null===this.deletedStates[e][c][_]&&delete this.deletedStates[e][c][_]}removeFeatureState(e,i,s){if(null===this.deletedStates[e])return;const c=String(i);if(this.deletedStates[e]=this.deletedStates[e]||{},s&&void 0!==i)null!==this.deletedStates[e][c]&&(this.deletedStates[e][c]=this.deletedStates[e][c]||{},this.deletedStates[e][c][s]=null);else if(void 0!==i)if(this.stateChanges[e]&&this.stateChanges[e][c])for(s in this.deletedStates[e][c]={},this.stateChanges[e][c])this.deletedStates[e][c][s]=null;else this.deletedStates[e][c]=null;else this.deletedStates[e]=null}getState(e,i){const s=String(i),c=cn({},(this.state[e]||{})[s],(this.stateChanges[e]||{})[s]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){const _=this.deletedStates[e][i];if(null===_)return{};for(const g in _)delete c[g]}return c}initializeTileState(e,i){e.setFeatureState(this.state,i)}coalesceChanges(e,i){const s={};for(const c in this.stateChanges){this.state[c]=this.state[c]||{};const _={};for(const g in this.stateChanges[c])this.state[c][g]||(this.state[c][g]={}),cn(this.state[c][g],this.stateChanges[c][g]),_[g]=this.state[c][g];s[c]=_}for(const c in this.deletedStates){this.state[c]=this.state[c]||{};const _={};if(null===this.deletedStates[c])for(const g in this.state[c])_[g]={},this.state[c][g]={};else for(const g in this.deletedStates[c]){if(null===this.deletedStates[c][g])this.state[c][g]={};else if(this.state[c][g])for(const x of Object.keys(this.deletedStates[c][g]))delete this.state[c][g][x];_[g]=this.state[c][g]}s[c]=s[c]||{},cn(s[c],_)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(s).length)for(const c in e)e[c].setFeatureState(s,i)}}class hm{constructor(e){this.size=e,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(e,i){const s=this.toIdx(e,i);return{min:this.minimums[s],max:this.maximums[s]}}isLeaf(e,i){return this.leaves[this.toIdx(e,i)]}toIdx(e,i){return i*this.size+e}}function pm(t,e,i,s){let c=0,_=Number.MAX_VALUE;for(let g=0;g<3;g++)if(Math.abs(s[g])<1e-15){if(i[g]<t[g]||i[g]>e[g])return null}else{const x=1/s[g];let D=(t[g]-i[g])*x,E=(e[g]-i[g])*x;if(D>E){const B=D;D=E,E=B}if(D>c&&(c=D),E<_&&(_=E),c>_)return null}return c}function fm(t,e,i,s,c,_,g,x,D,E,B){const H=s-t,G=c-e,ee=_-i,ne=g-t,le=x-e,me=D-i,xe=B[1]*me-B[2]*le,Se=B[2]*ne-B[0]*me,we=B[0]*le-B[1]*ne,Le=H*xe+G*Se+ee*we;if(Math.abs(Le)<1e-15)return null;const Ie=1/Le,Ae=E[0]-t,Qe=E[1]-e,Xe=E[2]-i,dt=(Ae*xe+Qe*Se+Xe*we)*Ie;if(dt<0||dt>1)return null;const kt=Qe*ee-Xe*G,it=Xe*H-Ae*ee,_t=Ae*G-Qe*H,mt=(B[0]*kt+B[1]*it+B[2]*_t)*Ie;return mt<0||dt+mt>1?null:(ne*kt+le*it+me*_t)*Ie}function _m(t,e,i){return(t-e)/(i-e)}function mm(t,e,i,s,c,_,g,x,D){const E=1<<i,B=_-s,H=g-c,G=(t+1)/E*B+s,ee=(e+0)/E*H+c,ne=(e+1)/E*H+c;x[0]=(t+0)/E*B+s,x[1]=ee,D[0]=G,D[1]=ne}class gm{constructor(e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const i=function(_){const g=Math.ceil(Math.log2(_.dim/8)),x=[];let D=Math.ceil(Math.pow(2,g));const E=1/D,B=(ee,ne,le,me,xe)=>{const Se=me?1:0,we=(ee+1)*le-Se,Le=ne*le,Ie=(ne+1)*le-Se;xe[0]=ee*le,xe[1]=Le,xe[2]=we,xe[3]=Ie};let H=new hm(D);const G=[];for(let ee=0;ee<D*D;ee++){B(ee%D,Math.floor(ee/D),E,!1,G);const ne=Su(G[0],G[1],_),le=Su(G[2],G[1],_),me=Su(G[2],G[3],_),xe=Su(G[0],G[3],_);H.minimums.push(Math.min(ne,le,me,xe)),H.maximums.push(Math.max(ne,le,me,xe)),H.leaves.push(1)}for(x.push(H),D/=2;D>=1;D/=2){const ee=x[x.length-1];H=new hm(D);for(let ne=0;ne<D*D;ne++){B(ne%D,Math.floor(ne/D),2,!0,G);const le=ee.getElevation(G[0],G[1]),me=ee.getElevation(G[2],G[1]),xe=ee.getElevation(G[2],G[3]),Se=ee.getElevation(G[0],G[3]),we=ee.isLeaf(G[0],G[1]),Le=ee.isLeaf(G[2],G[1]),Ie=ee.isLeaf(G[2],G[3]),Ae=ee.isLeaf(G[0],G[3]),Qe=Math.min(le.min,me.min,xe.min,Se.min),Xe=Math.max(le.max,me.max,xe.max,Se.max),dt=we&&Le&&Ie&&Ae;H.maximums.push(Xe),H.minimums.push(Qe),H.leaves.push(Xe-Qe<=5&&dt?1:0)}x.push(H)}return x}(this.dem),s=i.length-1,c=i[s];this._addNode(c.minimums[0],c.maximums[0],c.leaves[0]),this._construct(i,0,0,s,0)}raycastRoot(e,i,s,c,_,g,x=1){return pm([e,i,-100],[s,c,this.maximums[0]*x],_,g)}raycast(e,i,s,c,_,g,x=1){if(!this.nodeCount)return null;const D=this.raycastRoot(e,i,s,c,_,g,x);if(null==D)return null;const E=[],B=[],H=[],G=[],ee=[{idx:0,t:D,nodex:0,nodey:0,depth:0}];for(;ee.length>0;){const{idx:ne,t:le,nodex:me,nodey:xe,depth:Se}=ee.pop();if(this.leaves[ne]){mm(me,xe,Se,e,i,s,c,H,G);const Le=1<<Se,Ie=(me+0)/Le,Ae=(me+1)/Le,Qe=(xe+0)/Le,Xe=(xe+1)/Le,dt=Su(Ie,Qe,this.dem)*x,kt=Su(Ae,Qe,this.dem)*x,it=Su(Ae,Xe,this.dem)*x,_t=Su(Ie,Xe,this.dem)*x,mt=fm(H[0],H[1],dt,G[0],H[1],kt,G[0],G[1],it,_,g),xt=fm(G[0],G[1],it,H[0],G[1],_t,H[0],H[1],dt,_,g),Dt=Math.min(null!==mt?mt:Number.MAX_VALUE,null!==xt?xt:Number.MAX_VALUE);if(Dt!==Number.MAX_VALUE)return Dt;{const ct=Sc([],_,g,le);if(ym(dt,kt,_t,it,_m(ct[0],H[0],G[0]),_m(ct[1],H[1],G[1]))>=ct[2])return le}continue}let we=0;for(let Le=0;Le<this._siblingOffset.length;Le++){mm((me<<1)+this._siblingOffset[Le][0],(xe<<1)+this._siblingOffset[Le][1],Se+1,e,i,s,c,H,G),H[2]=-100,G[2]=this.maximums[this.childOffsets[ne]+Le]*x;const Ie=pm(H,G,_,g);if(null!=Ie){const Ae=Ie;E[Le]=Ae;let Qe=!1;for(let Xe=0;Xe<we&&!Qe;Xe++)Ae>=E[B[Xe]]&&(B.splice(Xe,0,Le),Qe=!0);Qe||(B[we]=Le),we++}}for(let Le=0;Le<we;Le++){const Ie=B[Le];ee.push({idx:this.childOffsets[ne]+Ie,t:E[Ie],nodex:(me<<1)+this._siblingOffset[Ie][0],nodey:(xe<<1)+this._siblingOffset[Ie][1],depth:Se+1})}}return null}_addNode(e,i,s){return this.minimums.push(e),this.maximums.push(i),this.leaves.push(s),this.childOffsets.push(0),this.nodeCount++}_construct(e,i,s,c,_){if(1===e[c].isLeaf(i,s))return;this.childOffsets[_]||(this.childOffsets[_]=this.nodeCount);const g=c-1,x=e[g];let D=0,E=0;for(let B=0;B<this._siblingOffset.length;B++){const H=2*i+this._siblingOffset[B][0],G=2*s+this._siblingOffset[B][1],ee=x.getElevation(H,G),ne=x.isLeaf(H,G),le=this._addNode(ee.min,ee.max,ne);ne&&(D|=1<<B),E||(E=le)}for(let B=0;B<this._siblingOffset.length;B++)D&1<<B||this._construct(e,2*i+this._siblingOffset[B][0],2*s+this._siblingOffset[B][1],g,E+B)}}function ym(t,e,i,s,c,_){return Oi(Oi(t,i,_),Oi(e,s,_),c)}function Su(t,e,i){const s=i.dim,c=ti(t*s-.5,0,s-1),_=ti(e*s-.5,0,s-1),g=Math.floor(c),x=Math.floor(_),D=Math.min(g+1,s-1),E=Math.min(x+1,s-1);return ym(i.get(g,x),i.get(D,x),i.get(g,E),i.get(D,E),c-g,_-x)}const vm={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function og(t,e,i){return(256*t*256+256*e+i)/10-1e4}function lg(t,e,i){return 256*t+e+i/256-32768}class $p{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(e,i,s,c=!1,_=!1){if(this.uid=e,i.height!==i.width)throw new RangeError("DEM tiles must be square");if(s&&"mapbox"!==s&&"terrarium"!==s)return Ri(`"${s}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=i.height;const g=this.dim=i.height-2,x=new Uint32Array(i.data.buffer);if(this.pixels=new Uint8Array(i.data.buffer),this.encoding=s||"mapbox",this.borderReady=c,!c){for(let D=0;D<g;D++)x[this._idx(-1,D)]=x[this._idx(0,D)],x[this._idx(g,D)]=x[this._idx(g-1,D)],x[this._idx(D,-1)]=x[this._idx(D,0)],x[this._idx(D,g)]=x[this._idx(D,g-1)];x[this._idx(-1,-1)]=x[this._idx(0,0)],x[this._idx(g,-1)]=x[this._idx(g-1,0)],x[this._idx(-1,g)]=x[this._idx(0,g-1)],x[this._idx(g,g)]=x[this._idx(g-1,g-1)],_&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new gm(this)}get(e,i,s=!1){s&&(e=ti(e,-1,this.dim),i=ti(i,-1,this.dim));const c=4*this._idx(e,i);return("terrarium"===this.encoding?lg:og)(this.pixels[c],this.pixels[c+1],this.pixels[c+2])}static getUnpackVector(e){return vm[e]}get unpackVector(){return vm[this.encoding]}_idx(e,i){if(e<-1||e>=this.dim+1||i<-1||i>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(i+1)*this.stride+(e+1)}static pack(e,i){const s=[0,0,0,0],c=$p.getUnpackVector(i);let _=Math.floor((e+c[3])/c[2]);return s[2]=_%256,_=Math.floor(_/256),s[1]=_%256,_=Math.floor(_/256),s[0]=_,s}getPixels(){return new Ns({width:this.stride,height:this.stride},this.pixels)}backfillBorder(e,i,s){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let c=i*this.dim,_=i*this.dim+this.dim,g=s*this.dim,x=s*this.dim+this.dim;switch(i){case-1:c=_-1;break;case 1:_=c+1}switch(s){case-1:g=x-1;break;case 1:x=g+1}const D=-i*this.dim,E=-s*this.dim;for(let B=g;B<x;B++)for(let H=c;H<_;H++){const G=4*this._idx(H,B),ee=4*this._idx(H+D,B+E);this.pixels[G+0]=e.pixels[ee+0],this.pixels[G+1]=e.pixels[ee+1],this.pixels[G+2]=e.pixels[ee+2],this.pixels[G+3]=e.pixels[ee+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Bt($p,"DEMData"),Bt(gm,"DemMinMaxQuadTree",{omit:["dem"]});class cg{constructor(e,i){this.max=e,this.onRemove=i,this.reset()}reset(){for(const e in this.data)for(const i of this.data[e])i.timeout&&clearTimeout(i.timeout),this.onRemove(i.value);return this.data={},this.order=[],this}add(e,i,s){const c=e.wrapped().key;void 0===this.data[c]&&(this.data[c]=[]);const _={value:i,timeout:void 0};if(void 0!==s&&(_.timeout=setTimeout(()=>{this.remove(e,_)},s)),this.data[c].push(_),this.order.push(c),this.order.length>this.max){const g=this._getAndRemoveByKey(this.order[0]);g&&this.onRemove(g)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const i=this.data[e].shift();return i.timeout&&clearTimeout(i.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),i.value}getByKey(e){const i=this.data[e];return i?i[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,i){if(!this.has(e))return this;const s=e.wrapped().key,c=void 0===i?0:this.data[s].indexOf(i),_=this.data[s][c];return this.data[s].splice(c,1),_.timeout&&clearTimeout(_.timeout),0===this.data[s].length&&delete this.data[s],this.onRemove(_.value),this.order.splice(this.order.indexOf(s),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const i=this._getAndRemoveByKey(this.order[0]);i&&this.onRemove(i)}return this}filter(e){const i=[];for(const s in this.data)for(const c of this.data[s])e(c.value)||i.push(c);for(const s of i)this.remove(s.value.tileID,s)}}class Fd{constructor(e,i,s){this.func=e,this.mask=i,this.range=s}}Fd.ReadOnly=!1,Fd.ReadWrite=!0,Fd.disabled=new Fd(519,Fd.ReadOnly,[0,1]);class g_{constructor(e,i,s,c,_,g){this.test=e,this.ref=i,this.mask=s,this.fail=c,this.depthFail=_,this.pass=g}}g_.disabled=new g_({func:519,mask:0},0,0,7680,7680,7680);class Bc{constructor(e,i,s){this.blendFunction=e,this.blendColor=i,this.mask=s}}Bc.Replace=[1,0],Bc.disabled=new Bc(Bc.Replace,mn.transparent,[!1,!1,!1,!1]),Bc.unblended=new Bc(Bc.Replace,mn.transparent,[!0,!0,!0,!0]),Bc.alphaBlended=new Bc([1,771],mn.transparent,[!0,!0,!0,!0]);class gc{constructor(e,i,s){this.enable=e,this.mode=i,this.frontFace=s}}gc.disabled=new gc(!1,1029,2305),gc.backCCW=new gc(!0,1029,2305),gc.backCW=new gc(!0,1029,2304),gc.frontCW=new gc(!0,1028,2304),gc.frontCCW=new gc(!0,1028,2305);class ad extends Ws{constructor(e,i,s){super(),this.id=e,this._onlySymbols=s,i.on("data",c=>{"source"===c.dataType&&"metadata"===c.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===c.dataType&&"content"===c.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),i.on("error",()=>{this._sourceErrored=!0}),this._source=i,this._tiles={},this._cache=new cg(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=i.minTileCacheSize,this._maxTileCacheSize=i.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new sg,this._isRaster="raster"===this._source.type||"raster-dem"===this._source.type||"custom"===this._source.type&&"raster"===this._source._dataType}onAdd(e){this.map=e,this._minTileCacheSize=void 0===this._minTileCacheSize&&e?e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&e?e._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const e in this._tiles){const i=this._tiles[e];if("loaded"!==i.state&&"errored"!==i.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(e,i){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,i)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,()=>{})}_abortTile(e){if(this._source.abortTile)return this._source.abortTile(e,()=>{})}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const i in this._tiles){const s=this._tiles[i];s.upload(e),s.prepare(this.map.style.imageManager)}}getIds(){return En(this._tiles).map(e=>e.tileID).sort(bm).map(e=>e.key)}getRenderableIds(e){const i=[];for(const s in this._tiles)this._isIdRenderable(+s,e)&&i.push(this._tiles[s]);return e?i.sort((s,c)=>{const _=s.tileID,g=c.tileID,x=new He(_.canonical.x,_.canonical.y)._rotate(this.transform.angle),D=new He(g.canonical.x,g.canonical.y)._rotate(this.transform.angle);return _.overscaledZ-g.overscaledZ||D.y-x.y||D.x-x.x}).map(s=>s.tileID.key):i.map(s=>s.tileID).sort(bm).map(s=>s.key)}hasRenderableParent(e){const i=this.findLoadedParent(e,0);return!!i&&this._isIdRenderable(i.tileID.key)}_isIdRenderable(e,i){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(i||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(+e,"reloading")}}_reloadTile(e,i){const s=this._tiles[e];s&&("loading"!==s.state&&(s.state=i),this._loadTile(s,this._tileLoaded.bind(this,s,e,i)))}_tileLoaded(e,i,s,c){if(c)if(e.state="errored",404!==c.status)this._source.fire(new ba(c,{tile:e}));else if("raster-dem"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){const _=this.map.painter.terrain;this.update(this.transform,_.getScaledDemTileSize(),!0),_.resetTileLookupCache(this.id)}else this.update(this.transform);else e.timeAdded=on.now(),"expired"===s&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(i,e),"raster-dem"===this._source.type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new Ba("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}_backfillDEM(e){const i=this.getRenderableIds();for(let c=0;c<i.length;c++){const _=i[c];if(e.neighboringTiles&&e.neighboringTiles[_]){const g=this.getTileByID(_);s(e,g),s(g,e)}}function s(c,_){if(!c.dem||c.dem.borderReady)return;c.needsHillshadePrepare=!0,c.needsDEMTextureUpload=!0;let g=_.tileID.canonical.x-c.tileID.canonical.x;const x=_.tileID.canonical.y-c.tileID.canonical.y,D=Math.pow(2,c.tileID.canonical.z),E=_.tileID.key;0===g&&0===x||Math.abs(x)>1||(Math.abs(g)>1&&(1===Math.abs(g+D)?g+=D:1===Math.abs(g-D)&&(g-=D)),_.dem&&c.dem&&(c.dem.backfillBorder(_.dem,g,x),c.neighboringTiles&&c.neighboringTiles[E]&&(c.neighboringTiles[E].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,i,s,c){for(const _ in this._tiles){let g=this._tiles[_];if(c[_]||!g.hasData()||g.tileID.overscaledZ<=i||g.tileID.overscaledZ>s)continue;let x=g.tileID;for(;g&&g.tileID.overscaledZ>i+1;){const E=g.tileID.scaledTo(g.tileID.overscaledZ-1);g=this._tiles[E.key],g&&g.hasData()&&(x=E)}let D=x;for(;D.overscaledZ>i;)if(D=D.scaledTo(D.overscaledZ-1),e[D.key]){c[x.key]=x;break}}}findLoadedParent(e,i){if(e.key in this._loadedParentTiles){const s=this._loadedParentTiles[e.key];return s&&s.tileID.overscaledZ>=i?s:null}for(let s=e.overscaledZ-1;s>=i;s--){const c=e.scaledTo(s),_=this._getLoadedTile(c);if(_)return _}}_getLoadedTile(e){const i=this._tiles[e.key];return i&&i.hasData()?i:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}updateCacheSize(e,i){i=i||this._source.tileSize;const s=Math.ceil(e.width/i)+1,c=Math.ceil(e.height/i)+1,_=Math.floor(s*c*5),g="number"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,_):_,x="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,g):g;this._cache.setMaxSize(x)}handleWrapJump(e){const i=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,i){const s={};for(const c in this._tiles){const _=this._tiles[c];_.tileID=_.tileID.unwrapTo(_.tileID.wrap+i),s[_.tileID.key]=_}this._tiles=s;for(const c in this._timers)clearTimeout(this._timers[c]),delete this._timers[c];for(const c in this._tiles)this._setTileReloadTimer(+c,this._tiles[c])}}update(e,i,s){if(this.transform=e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!s)return;let c;this.updateCacheSize(e,i),"globe"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?c=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(x=>new aa(x.canonical.z,x.wrap,x.canonical.z,x.canonical.x,x.canonical.y)):(c=e.coveringTiles({tileSize:i||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!s,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(c=c.filter(x=>this._source.hasTile(x)))):c=[];const _=this._updateRetainedTiles(c);if(xm(this._source.type)&&0!==c.length){const x={},D={},E=Object.keys(_);for(const H of E){const G=_[H],ee=this._tiles[H];if(!ee||ee.fadeEndTime&&ee.fadeEndTime<=on.now())continue;const ne=this.findLoadedParent(G,Math.max(G.overscaledZ-ad.maxOverzooming,this._source.minzoom));ne&&(this._addTile(ne.tileID),x[ne.tileID.key]=ne.tileID),D[H]=G}const B=c[c.length-1].overscaledZ;for(const H in this._tiles){const G=this._tiles[H];if(_[H]||!G.hasData())continue;let ee=G.tileID;for(;ee.overscaledZ>B;){ee=ee.scaledTo(ee.overscaledZ-1);const ne=this._tiles[ee.key];if(ne&&ne.hasData()&&D[ee.key]){_[H]=G.tileID;break}}}for(const H in x)_[H]||(this._coveredTiles[H]=!0,_[H]=x[H])}for(const x in _)this._tiles[x].clearFadeHold();const g=function(x,D){const E=[];for(const B in x)B in D||E.push(B);return E}(this._tiles,_);for(const x of g){const D=this._tiles[x];D.hasSymbolBuckets&&!D.holdingForFade()?D.setHoldDuration(this.map._fadeDuration):D.hasSymbolBuckets&&!D.symbolFadeFinished()||this._removeTile(+x)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}_updateRetainedTiles(e){const i={};if(0===e.length)return i;const s={},c=e.reduce((E,B)=>Math.min(E,B.overscaledZ),1/0),_=e[0].overscaledZ,g=Math.max(_-ad.maxOverzooming,this._source.minzoom),x=Math.max(_+ad.maxUnderzooming,this._source.minzoom),D={};for(const E of e){const B=this._addTile(E);i[E.key]=E,B.hasData()||c<this._source.maxzoom&&(D[E.key]=E)}this._retainLoadedChildren(D,c,x,i);for(const E of e){let B=this._tiles[E.key];if(B.hasData())continue;if(E.canonical.z>=this._source.maxzoom){const G=E.children(this._source.maxzoom)[0],ee=this.getTile(G);if(ee&&ee.hasData()){i[G.key]=G;continue}}else{const G=E.children(this._source.maxzoom);if(i[G[0].key]&&i[G[1].key]&&i[G[2].key]&&i[G[3].key])continue}let H=B.wasRequested();for(let G=E.overscaledZ-1;G>=g;--G){const ee=E.scaledTo(G);if(s[ee.key]||(s[ee.key]=!0,B=this.getTile(ee),!B&&H&&(B=this._addTile(ee)),B&&(i[ee.key]=ee,H=B.wasRequested(),B.hasData())))break}}return i}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const i=[];let s,c=this._tiles[e].tileID;for(;c.overscaledZ>0;){if(c.key in this._loadedParentTiles){s=this._loadedParentTiles[c.key];break}i.push(c.key);const _=c.scaledTo(c.overscaledZ-1);if(s=this._getLoadedTile(_),s)break;c=_}for(const _ of i)this._loadedParentTiles[_]=s}}_addTile(e){let i=this._tiles[e.key];if(i)return i;i=this._cache.getAndRemove(e),i&&(this._setTileReloadTimer(e.key,i),i.tileID=e,this._state.initializeTileState(i,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,i)));const s=Boolean(i);if(!s){const c=this.map?this.map.painter:null;i=new __(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,c,this._isRaster),this._loadTile(i,this._tileLoaded.bind(this,i,e.key,i.state))}return i?(i.uses++,this._tiles[e.key]=i,s||this._source.fire(new Ba("dataloading",{tile:i,coord:i.tileID,dataType:"source"})),i):null}_setTileReloadTimer(e,i){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const s=i.getExpiryTimeout();s&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},s))}_removeTile(e){const i=this._tiles[e];i&&(i.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),i.uses>0||(i.hasData()&&"reloading"!==i.state?this._cache.add(i.tileID,i,i.getExpiryTimeout()):(i.aborted=!0,this._abortTile(i),this._unloadTile(i))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(e,i,s){const c=[],_=this.transform;if(!_)return c;const g="globe"===_.projection.name,x=jl(_.center.lng);for(const D in this._tiles){const E=this._tiles[D];if(s&&E.clearQueryDebugViz(),E.holdingForFade())continue;let B;if(g){const H=E.tileID.canonical;if(0===H.z){const G=[Math.abs(ti(x,...Ih(H,-1))-x),Math.abs(ti(x,...Ih(H,1))-x)];B=[0,2*G.indexOf(Math.min(...G))-1]}else{const G=[Math.abs(ti(x,...Ih(H,-1))-x),Math.abs(ti(x,...Ih(H,0))-x),Math.abs(ti(x,...Ih(H,1))-x)];B=[G.indexOf(Math.min(...G))-1]}}else B=[0];for(const H of B){const G=e.containsTile(E,_,i,H);G&&c.push(G)}}return c}getVisibleCoordinates(e){const i=this.getRenderableIds(e).map(s=>this._tiles[s].tileID);for(const s of i)s.projMatrix=this.transform.calculateProjMatrix(s.toUnwrapped());return i}hasTransition(){if(this._source.hasTransition())return!0;if(xm(this._source.type))for(const e in this._tiles){const i=this._tiles[e];if(void 0!==i.fadeEndTime&&i.fadeEndTime>=on.now())return!0}return!1}setFeatureState(e,i,s){this._state.updateState(e=e||"_geojsonTileLayer",i,s)}removeFeatureState(e,i,s){this._state.removeFeatureState(e=e||"_geojsonTileLayer",i,s)}getFeatureState(e,i){return this._state.getState(e=e||"_geojsonTileLayer",i)}setDependencies(e,i,s){const c=this._tiles[e];c&&c.setDependencies(i,s)}reloadTilesForDependencies(e,i){for(const s in this._tiles)this._tiles[s].hasDependency(e,i)&&this._reloadTile(+s,"reloading");this._cache.filter(s=>!s.hasDependency(e,i))}_preloadTiles(e,i){if(!this._sourceLoaded){const x=()=>{this._sourceLoaded&&(this._source.off("data",x),this._preloadTiles(e,i))};return void this._source.on("data",x)}const s=new Map,c=Array.isArray(e)?e:[e],_=this.map.painter.terrain,g=this.usedForTerrain&&_?_.getScaledDemTileSize():this._source.tileSize;for(const x of c){const D=x.coveringTiles({tileSize:g,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const E of D)s.set(E.key,E);this.usedForTerrain&&x.updateElevation(!1)}wn(Array.from(s.values()),(x,D)=>{const E=new __(x,this._source.tileSize*x.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(E,B=>{"raster-dem"===this._source.type&&E.dem&&this._backfillDEM(E),D(B,E)})},i)}}function bm(t,e){const i=Math.abs(2*t.wrap)-+(t.wrap<0),s=Math.abs(2*e.wrap)-+(e.wrap<0);return t.overscaledZ-e.overscaledZ||s-i||e.canonical.y-t.canonical.y||e.canonical.x-t.canonical.x}function xm(t){return"raster"===t||"image"===t||"video"===t||"custom"===t}function Ih(t,e){const i=1<<t.z;return[t.x/i+e,(t.x+1)/i+e]}ad.maxOverzooming=10,ad.maxUnderzooming=3;class Xp{constructor(e,i,s){this._demTile=e,this._dem=this._demTile.dem,this._scale=i,this._offset=s}static create(e,i,s){const c=s||e.findDEMTileFor(i);if(!c||!c.dem)return;const _=c.dem,g=c.tileID,x=1<<i.canonical.z-g.canonical.z;return new Xp(c,c.tileSize/Wt/x,[(i.canonical.x/x-g.canonical.x)*_.dim,(i.canonical.y/x-g.canonical.y)*_.dim])}tileCoordToPixel(e,i){const s=i*this._scale+this._offset[1],c=Math.floor(e*this._scale+this._offset[0]),_=Math.floor(s);return new He(c,_)}getElevationAt(e,i,s,c){const _=e*this._scale+this._offset[0],g=i*this._scale+this._offset[1],x=Math.floor(_),D=Math.floor(g),E=this._dem;return c=!!c,s?Oi(Oi(E.get(x,D,c),E.get(x,D+1,c),g-D),Oi(E.get(x+1,D,c),E.get(x+1,D+1,c),g-D),_-x):E.get(x,D,c)}getElevationAtPixel(e,i,s){return this._dem.get(e,i,!!s)}getMeterToDEM(e){return(1<<this._demTile.tileID.canonical.z)*Io(1,e)*this._dem.stride}}class wm{constructor(e,i){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new lo(Wt,16,0),this.featureIndexArray=new su,this.promoteId=i}insert(e,i,s,c,_,g=0){const x=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(s,c,_,g);const D=this.grid;for(let E=0;E<i.length;E++){const B=i[E],H=[1/0,1/0,-1/0,-1/0];for(let G=0;G<B.length;G++){const ee=B[G];H[0]=Math.min(H[0],ee.x),H[1]=Math.min(H[1],ee.y),H[2]=Math.max(H[2],ee.x),H[3]=Math.max(H[3],ee.y)}H[0]<Wt&&H[1]<Wt&&H[2]>=0&&H[3]>=0&&D.insert(x,H[0],H[1],H[2],H[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Ls(new Th(this.rawTileData)).layers,this.sourceLayerCoder=new om(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const e in this.vtLayers)this.vtFeatures[e]=[]}return this.vtLayers}query(e,i,s,c){this.loadVTLayers();const _=e.params||{},g=so(_.filter),x=e.tileResult,D=e.transform,E=x.bufferedTilespaceBounds,B=this.grid.query(E.min.x,E.min.y,E.max.x,E.max.y,(ne,le,me,xe)=>rh(x.bufferedTilespaceGeometry,ne,le,me,xe));B.sort(ug);let H=null;D.elevation&&B.length>0&&(H=Xp.create(D.elevation,this.tileID));const G={};let ee;for(let ne=0;ne<B.length;ne++){const le=B[ne];if(le===ee)continue;ee=le;const me=this.featureIndexArray.get(le);let xe=null;this.loadMatchingFeature(G,me,g,_.layers,_.availableImages,i,s,c,(Se,we,Le,Ie=0)=>(xe||(xe=Vl(Se,this.tileID.canonical,e.tileTransform)),we.queryIntersectsFeature(x,Se,Le,xe,this.z,e.transform,e.pixelPosMatrix,H,Ie)))}return G}loadMatchingFeature(e,i,s,c,_,g,x,D,E){const{featureIndex:B,bucketIndex:H,sourceLayerIndex:G,layoutVertexArrayOffset:ee}=i,ne=this.bucketLayerIDs[H];if(c&&!function(Se,we){for(let Le=0;Le<Se.length;Le++)if(we.indexOf(Se[Le])>=0)return!0;return!1}(c,ne))return;const le=this.sourceLayerCoder.decode(G),me=this.vtLayers[le].feature(B);if(s.needGeometry){const Se=Oo(me,!0);if(!s.filter(new V(this.tileID.overscaledZ),Se,this.tileID.canonical))return}else if(!s.filter(new V(this.tileID.overscaledZ),me))return;const xe=this.getId(me,le);for(let Se=0;Se<ne.length;Se++){const we=ne[Se];if(c&&c.indexOf(we)<0)continue;const Le=g[we];if(!Le)continue;let Ie={};void 0!==xe&&D&&(Ie=D.getState(Le.sourceLayer||"_geojsonTileLayer",xe));const Ae=cn({},x[we]);Ae.paint=Mm(Ae.paint,Le.paint,me,Ie,_),Ae.layout=Mm(Ae.layout,Le.layout,me,Ie,_);const Qe=!E||E(me,Le,Ie,ee);if(!Qe)continue;const Xe=new lm(me,this.z,this.x,this.y,xe);Xe.layer=Ae;let dt=e[we];void 0===dt&&(dt=e[we]=[]),dt.push({featureIndex:B,feature:Xe,intersectionZ:Qe})}}lookupSymbolFeatures(e,i,s,c,_,g,x,D){const E={};this.loadVTLayers();const B=so(_);for(const H of e)this.loadMatchingFeature(E,{bucketIndex:s,sourceLayerIndex:c,featureIndex:H,layoutVertexArrayOffset:0},B,g,x,D,i);return E}loadFeature(e){const{featureIndex:i,sourceLayerIndex:s}=e;this.loadVTLayers();const c=this.sourceLayerCoder.decode(s),_=this.vtFeatures[c];if(_[i])return _[i];const g=this.vtLayers[c].feature(i);return _[i]=g,g}hasLayer(e){for(const i of this.bucketLayerIDs)for(const s of i)if(e===s)return!0;return!1}getId(e,i){let s=e.id;if(this.promoteId){const c="string"==typeof this.promoteId?this.promoteId:this.promoteId[i];null!=c&&(s=e.properties[c]),"boolean"==typeof s&&(s=Number(s))}return s}}function Mm(t,e,i,s,c){return ri(t,(_,g)=>{const x=e instanceof y?e.get(g):null;return x&&x.evaluate?x.evaluate(i,s,c):x})}function ug(t,e){return e-t}Bt(wm,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class Tm{constructor(e,i){this.width=e,this.height=i,this.nextRow=0,this.image=new ho({width:e,height:i}),this.positions={},this.uploaded=!1}getDash(e,i){const s=this.getKey(e,i);return this.positions[s]}trim(){const e=this.width,i=this.height=Ut(this.nextRow);this.image.resize({width:e,height:i})}getKey(e,i){return e.join(",")+i}getDashRanges(e,i,s){const c=[];let _=e.length%2==1?-e[e.length-1]*s:0,g=e[0]*s,x=!0;c.push({left:_,right:g,isDash:x,zeroLength:0===e[0]});let D=e[0];for(let E=1;E<e.length;E++){x=!x;const B=e[E];_=D*s,D+=B,g=D*s,c.push({left:_,right:g,isDash:x,zeroLength:0===B})}return c}addRoundDash(e,i,s){const c=i/2;for(let _=-s;_<=s;_++){const g=this.width*(this.nextRow+s+_);let x=0,D=e[x];for(let E=0;E<this.width;E++){E/D.right>1&&(D=e[++x]);const B=Math.abs(E-D.left),H=Math.abs(E-D.right),G=Math.min(B,H);let ee;const ne=_/s*(c+1);if(D.isDash){const le=c-Math.abs(ne);ee=Math.sqrt(G*G+le*le)}else ee=c-Math.sqrt(G*G+ne*ne);this.image.data[g+E]=Math.max(0,Math.min(255,ee+128))}}}addRegularDash(e,i){for(let D=e.length-1;D>=0;--D){const E=e[D],B=e[D+1];E.zeroLength?e.splice(D,1):B&&B.isDash===E.isDash&&(B.left=E.left,e.splice(D,1))}const s=e[0],c=e[e.length-1];s.isDash===c.isDash&&(s.left=c.left-this.width,c.right=s.right+this.width);const _=this.width*this.nextRow;let g=0,x=e[g];for(let D=0;D<this.width;D++){D/x.right>1&&(x=e[++g]);const E=Math.abs(D-x.left),B=Math.abs(D-x.right),H=Math.min(E,B);this.image.data[_+D]=Math.max(0,Math.min(255,(x.isDash?H:-H)+i+128))}}addDash(e,i){const s=this.getKey(e,i);if(this.positions[s])return this.positions[s];const c="round"===i,_=c?7:0,g=2*_+1;if(this.nextRow+g>this.height)return Ri("LineAtlas out of space"),null;0===e.length&&e.push(1);let x=0;for(let B=0;B<e.length;B++)e[B]<0&&(Ri("Negative value is found in line dasharray, replacing values with 0"),e[B]=0),x+=e[B];if(0!==x){const B=this.width/x,H=this.getDashRanges(e,this.width,B);c?this.addRoundDash(H,B,_):this.addRegularDash(H,"square"===i?.5*B:0)}const D=this.nextRow+_;this.nextRow+=g;const E={tl:[D,_],br:[x,0]};return this.positions[s]=E,E}}Bt(Tm,"LineAtlas");class Dm{constructor(e){const i={},s=[];for(const x in e){const D=e[x],E=i[x]={};for(const B in D.glyphs){const H=D.glyphs[+B];if(!H||0===H.bitmap.width||0===H.bitmap.height)continue;const G=H.metrics.localGlyph?2:1,ee={x:0,y:0,w:H.bitmap.width+2*G,h:H.bitmap.height+2*G};s.push(ee),E[B]=ee}}const{w:c,h:_}=kh(s),g=new ho({width:c||1,height:_||1});for(const x in e){const D=e[x];for(const E in D.glyphs){const B=D.glyphs[+E];if(!B||0===B.bitmap.width||0===B.bitmap.height)continue;const H=i[x][E],G=B.metrics.localGlyph?2:1;ho.copy(B.bitmap,g,{x:0,y:0},{x:H.x+G,y:H.y+G},B.bitmap)}}this.image=g,this.positions=i}}Bt(Dm,"GlyphAtlas");class dg{constructor(e){this.tileID=new aa(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.tileZoom=e.tileZoom,this.uid=e.uid,this.zoom=e.zoom,this.canonical=e.tileID.canonical,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId,this.enableTerrain=!!e.enableTerrain,this.isSymbolTile=e.isSymbolTile,this.tileTransform=rd(e.tileID.canonical,e.projection),this.projection=e.projection}parse(e,i,s,c,_){this.status="parsing",this.data=e,this.collisionBoxArray=new et;const g=new om(Object.keys(e.layers).sort()),x=new wm(this.tileID,this.promoteId);x.bucketLayerIDs=[];const D={},E=new Tm(256,256),B={featureIndex:x,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:E,availableImages:s},H=i.familiesBySource[this.source];for(const Ie in H){const Ae=e.layers[Ie];if(!Ae)continue;let Qe=!1,Xe=!1;for(const it of H[Ie])"symbol"===it[0].type?Qe=!0:Xe=!0;if(!0===this.isSymbolTile&&!Qe||!1===this.isSymbolTile&&!Xe)continue;1===Ae.version&&Ri(`Vector tile source "${this.source}" layer "${Ie}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const dt=g.encode(Ie),kt=[];for(let it=0;it<Ae.length;it++){const _t=Ae.feature(it),mt=x.getId(_t,Ie);kt.push({feature:_t,id:mt,index:it,sourceLayerIndex:dt})}for(const it of H[Ie]){const _t=it[0];void 0!==this.isSymbolTile&&"symbol"===_t.type!==this.isSymbolTile||_t.minzoom&&this.zoom<Math.floor(_t.minzoom)||_t.maxzoom&&this.zoom>=_t.maxzoom||"none"!==_t.visibility&&(b_(it,this.zoom,s),(D[_t.id]=_t.createBucket({index:x.bucketLayerIDs.length,layers:it,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:dt,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:s})).populate(kt,B,this.tileID.canonical,this.tileTransform),x.bucketLayerIDs.push(it.map(mt=>mt.id)))}}let G,ee,ne,le;E.trim();const me={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},xe=()=>{if(G)return _(G);if(ee&&ne&&le){const Ie=new Dm(ee),Ae=new zp(ne,le);for(const Qe in D){const Xe=D[Qe];Xe instanceof ku?(b_(Xe.layers,this.zoom,s),Yc(Xe,ee,Ie.positions,ne,Ae.iconPositions,this.showCollisionBoxes,s,this.tileID.canonical,this.tileZoom,this.projection)):Xe.hasPattern&&(Xe instanceof td||Xe instanceof Md||Xe instanceof Oc)&&(b_(Xe.layers,this.zoom,s),Xe.addFeatures(B,this.tileID.canonical,Ae.patternPositions,s,this.tileTransform))}this.status="done",_(null,{buckets:En(D).filter(Qe=>!Qe.isEmpty()),featureIndex:x,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Ie.image,lineAtlas:E,imageAtlas:Ae,glyphMap:this.returnDependencies?ee:null,iconMap:this.returnDependencies?ne:null,glyphPositions:this.returnDependencies?Ie.positions:null})}},Se=ri(B.glyphDependencies,Ie=>Object.keys(Ie).map(Number));Object.keys(Se).length?c.send("getGlyphs",{uid:this.uid,stacks:Se},(Ie,Ae)=>{G||(G=Ie,ee=Ae,xe())},void 0,!1,me):ee={};const we=Object.keys(B.iconDependencies);we.length?c.send("getImages",{icons:we,source:this.source,tileID:this.tileID,type:"icons"},(Ie,Ae)=>{G||(G=Ie,ne=Ae,xe())},void 0,!1,me):ne={};const Le=Object.keys(B.patternDependencies);Le.length?c.send("getImages",{icons:Le,source:this.source,tileID:this.tileID,type:"patterns"},(Ie,Ae)=>{G||(G=Ie,le=Ae,xe())},void 0,!1,me):le={},xe()}}function b_(t,e,i){const s=new V(e);for(const c of t)c.recalculate(s,i)}class Lm{constructor(e){this.entries={},this.scheduler=e}request(e,i,s,c){const _=this.entries[e]=this.entries[e]||{callbacks:[]};if(_.result){const[g,x]=_.result;return this.scheduler?this.scheduler.add(()=>{c(g,x)},i):c(g,x),()=>{}}return _.callbacks.push(c),_.cancel||(_.cancel=s((g,x)=>{_.result=[g,x];for(const D of _.callbacks)this.scheduler?this.scheduler.add(()=>{D(g,x)},i):D(g,x);setTimeout(()=>delete this.entries[e],3e3)})),()=>{_.result||(_.callbacks=_.callbacks.filter(g=>g!==c),_.callbacks.length||(_.cancel(),delete this.entries[e]))}}}function Sm(t,e,i){const s=JSON.stringify(t.request);return t.data&&(this.deduped.entries[s]={result:[null,t.data]}),this.deduped.request(s,{type:"parseTile",isSymbolTile:t.isSymbolTile,zoom:t.tileZoom},c=>{const _=Fa(t.request,(g,x,D,E)=>{g?c(g):x&&c(null,{vectorTile:i?void 0:new Ls(new Th(x)),rawData:x,cacheControl:D,expires:E})});return()=>{_.cancel(),c()}},e)}const Cm=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class x_{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[i,s]=new Uint8Array(e,0,2);if(219!==i)throw new Error("Data does not appear to be in a KDBush format.");const c=s>>4;if(1!==c)throw new Error(`Got v${c} data when expected v1.`);const _=Cm[15&s];if(!_)throw new Error("Unrecognized array type.");const[g]=new Uint16Array(e,2,1),[x]=new Uint32Array(e,4,1);return new x_(x,g,_,e)}constructor(e,i=64,s=Float64Array,c){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+i,2),65535),this.ArrayType=s,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const _=Cm.indexOf(this.ArrayType),g=2*e*this.ArrayType.BYTES_PER_ELEMENT,x=e*this.IndexArrayType.BYTES_PER_ELEMENT,D=(8-x%8)%8;if(_<0)throw new Error(`Unexpected typed array class: ${s}.`);c&&c instanceof ArrayBuffer?(this.data=c,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+x+D,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+g+x+D),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+x+D,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+_]),new Uint16Array(this.data,2,1)[0]=i,new Uint32Array(this.data,4,1)[0]=e)}add(e,i){const s=this._pos>>1;return this.ids[s]=s,this.coords[this._pos++]=e,this.coords[this._pos++]=i,s}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return w_(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,i,s,c){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:_,coords:g,nodeSize:x}=this,D=[0,_.length-1,0],E=[];for(;D.length;){const B=D.pop()||0,H=D.pop()||0,G=D.pop()||0;if(H-G<=x){for(let me=G;me<=H;me++){const xe=g[2*me],Se=g[2*me+1];xe>=e&&xe<=s&&Se>=i&&Se<=c&&E.push(_[me])}continue}const ee=G+H>>1,ne=g[2*ee],le=g[2*ee+1];ne>=e&&ne<=s&&le>=i&&le<=c&&E.push(_[ee]),(0===B?e<=ne:i<=le)&&(D.push(G),D.push(ee-1),D.push(1-B)),(0===B?s>=ne:c>=le)&&(D.push(ee+1),D.push(H),D.push(1-B))}return E}within(e,i,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:c,coords:_,nodeSize:g}=this,x=[0,c.length-1,0],D=[],E=s*s;for(;x.length;){const B=x.pop()||0,H=x.pop()||0,G=x.pop()||0;if(H-G<=g){for(let me=G;me<=H;me++)Am(_[2*me],_[2*me+1],e,i)<=E&&D.push(c[me]);continue}const ee=G+H>>1,ne=_[2*ee],le=_[2*ee+1];Am(ne,le,e,i)<=E&&D.push(c[ee]),(0===B?e-s<=ne:i-s<=le)&&(x.push(G),x.push(ee-1),x.push(1-B)),(0===B?e+s>=ne:i+s>=le)&&(x.push(ee+1),x.push(H),x.push(1-B))}return D}}function w_(t,e,i,s,c,_){if(c-s<=i)return;const g=s+c>>1;Em(t,e,g,s,c,_),w_(t,e,i,s,g-1,1-_),w_(t,e,i,g+1,c,1-_)}function Em(t,e,i,s,c,_){for(;c>s;){if(c-s>600){const E=c-s+1,B=i-s+1,H=Math.log(E),G=.5*Math.exp(2*H/3),ee=.5*Math.sqrt(H*G*(E-G)/E)*(B-E/2<0?-1:1);Em(t,e,i,Math.max(s,Math.floor(i-B*G/E+ee)),Math.min(c,Math.floor(i+(E-B)*G/E+ee)),_)}const g=e[2*i+_];let x=s,D=c;for(Oh(t,e,s,i),e[2*c+_]>g&&Oh(t,e,s,c);x<D;){for(Oh(t,e,x,D),x++,D--;e[2*x+_]<g;)x++;for(;e[2*D+_]>g;)D--}e[2*s+_]===g?Oh(t,e,s,D):(D++,Oh(t,e,D,c)),D<=i&&(s=D+1),i<=D&&(c=D-1)}}function Oh(t,e,i,s){M_(t,i,s),M_(e,2*i,2*s),M_(e,2*i+1,2*s+1)}function M_(t,e,i){const s=t[e];t[e]=t[i],t[i]=s}function Am(t,e,i,s){const c=t-i,_=e-s;return c*c+_*_}a.ARRAY_TYPE=co,a.AUTH_ERR_MSG=Ee,a.Aabb=Ds,a.Actor=class{constructor(t,e,i){this.target=t,this.parent=e,this.mapId=i,this.callbacks={},this.cancelCallbacks={},en(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=An()?t:d,this.scheduler=new rg}send(t,e,i,s,c=!1,_){const g=Math.round(1e18*Math.random()).toString(36).substring(0,10);i&&(i.metadata=_,this.callbacks[g]=i);const x=Pn(this.globalScope)?void 0:[];return this.target.postMessage({id:g,type:t,hasCallback:!!i,targetMapId:s,mustQueue:c,sourceMapId:this.mapId,data:il(e,x)},x),{cancel:()=>{i&&delete this.callbacks[g],this.target.postMessage({id:g,type:"<cancel>",targetMapId:s,sourceMapId:this.mapId})}}}receive(t){const e=t.data,i=e.id;if(i&&(!e.targetMapId||this.mapId===e.targetMapId))if("<cancel>"===e.type){const s=this.cancelCallbacks[i];delete this.cancelCallbacks[i],s&&s.cancel()}else if(e.mustQueue||An()){const s=this.callbacks[i];this.cancelCallbacks[i]=this.scheduler.add(()=>this.processTask(i,e),s&&s.metadata||{type:"message"})}else this.processTask(i,e)}processTask(t,e){if("<response>"===e.type){const i=this.callbacks[t];delete this.callbacks[t],i&&(e.error?i(na(e.error)):i(null,na(e.data)))}else{const i=Pn(this.globalScope)?void 0:[],s=e.hasCallback?(_,g)=>{delete this.cancelCallbacks[t],this.target.postMessage({id:t,type:"<response>",sourceMapId:this.mapId,error:_?il(_):null,data:il(g,i)},i)}:_=>{},c=na(e.data);if(this.parent[e.type])this.parent[e.type](e.sourceMapId,c,s);else if(this.parent.getWorkerSource){const _=e.type.split(".");this.parent.getWorkerSource(e.sourceMapId,_[0],c.source)[_[1]](c,s)}else s(new Error(`Could not find function ${e.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.CanonicalTileID=Sd,a.Color=mn,a.ColorMode=Bc,a.CullFaceMode=gc,a.DEMData=$p,a.DataConstantProperty=b,a.DedupedRequest=Lm,a.DepthMode=Fd,a.EXTENT=Wt,a.Elevation=class{isDataAvailableAtPoint(t){const e=this._source();if(this.isUsingMockSource()||!e||t.y<0||t.y>1)return!1;const i=e.getSource().maxzoom,s=1<<i,c=Math.floor(t.x),_=Math.floor((t.x-c)*s),g=Math.floor(t.y*s),x=this.findDEMTileFor(new aa(i,c,i,_,g));return!(!x||!x.dem)}getAtPointOrZero(t,e=0){return this.getAtPoint(t,e)||0}getAtPoint(t,e,i=!0){if(this.isUsingMockSource())return null;null==e&&(e=null);const s=this._source();if(!s||t.y<0||t.y>1)return e;const c=s.getSource().maxzoom,_=1<<c,g=Math.floor(t.x),x=t.x-g,D=new aa(c,g,c,Math.floor(x*_),Math.floor(t.y*_)),E=this.findDEMTileFor(D);if(!E||!E.dem)return e;const B=E.dem,H=1<<E.tileID.canonical.z,G=(x*H-E.tileID.canonical.x)*B.dim,ee=(t.y*H-E.tileID.canonical.y)*B.dim,ne=Math.floor(G),le=Math.floor(ee);return(i?this.exaggeration():1)*Oi(Oi(B.get(ne,le),B.get(ne,le+1),ee-le),Oi(B.get(ne+1,le),B.get(ne+1,le+1),ee-le),G-ne)}getAtTileOffset(t,e,i){const s=1<<t.canonical.z;return this.getAtPointOrZero(new Nu(t.wrap+(t.canonical.x+e/Wt)/s,(t.canonical.y+i/Wt)/s))}getAtTileOffsetFunc(t,e,i,s){return c=>{const _=this.getAtTileOffset(t,c.x,c.y),g=s.upVector(t.canonical,c.x,c.y);return Ao(g,g,_*s.upVectorScale(t.canonical,e,i).metersToTile),g}}getForTilePoints(t,e,i,s){if(this.isUsingMockSource())return!1;const c=Xp.create(this,t,s);return!!c&&(e.forEach(_=>{_[2]=this.exaggeration()*c.getElevationAt(_[0],_[1],i)}),!0)}getMinMaxForTile(t){if(this.isUsingMockSource())return null;const e=this.findDEMTileFor(t);if(!e||!e.dem)return null;const i=e.dem.tree,s=e.tileID,c=1<<t.canonical.z-s.canonical.z;let _=t.canonical.x/c-s.canonical.x,g=t.canonical.y/c-s.canonical.y,x=0;for(let D=0;D<t.canonical.z-s.canonical.z&&!i.leaves[x];D++){_*=2,g*=2;const E=2*Math.floor(g)+Math.floor(_);x=i.childOffsets[x]+E,_%=1,g%=1}return{min:this.exaggeration()*i.minimums[x],max:this.exaggeration()*i.maximums[x]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(t,e,i){throw new Error("Pure virtual method called.")}pointCoordinate(t){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(t){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},a.ErrorEvent=ba,a.EvaluationParameters=V,a.Event=Ba,a.Evented=Ws,a.FillExtrusionBucket=Oc,a.Frustum=Xd,a.FrustumCorners=Qh,a.GLOBE_RADIUS=al,a.GLOBE_SCALE_MATCH_LATITUDE=45,a.GLOBE_ZOOM_THRESHOLD_MAX=6,a.GLOBE_ZOOM_THRESHOLD_MIN=5,a.GlobeSharedBuffers=class{constructor(t){this._createGrid(t),this._createPoles(t)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const t of this._poleSegments)t.destroy();for(const t of this._gridSegments)t.withSkirts.destroy(),t.withoutSkirts.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const t of this._wireframeSegments)t.destroy()}}_fillGridMeshWithLods(t,e){const i=new ve,s=new Vt,c=[],_=t+1+2,g=e[0]+1,x=e[0]+1+(1+e.length),D=(E,B,H)=>{let G=E===_-1?E-2:0===E?E:E-1;return G+=H?24575:0,[G,B]};for(let E=0;E<_;++E)i.emplaceBack(...D(E,0,!0));for(let E=0;E<g;++E)for(let B=0;B<_;++B)i.emplaceBack(...D(B,E,(0===B||B===_-1)&&!0));for(let E=0;E<e.length;++E){const B=e[E];for(let H=0;H<_;++H)i.emplaceBack(...D(H,B,!0))}for(let E=0;E<e.length;++E){const B=s.length,H=e[E]+1+2,G=new Vt;for(let le=0;le<H-1;le++){const me=le===H-2,xe=me?_*(x-e.length+E-le):_;for(let Se=0;Se<_-1;Se++){const we=le*_+Se;0===le||me||0===Se||Se===_-2?(G.emplaceBack(we+1,we,we+xe),G.emplaceBack(we+xe,we+xe+1,we+1)):(s.emplaceBack(we+1,we,we+xe),s.emplaceBack(we+xe,we+xe+1,we+1))}}const ee=Wn.simpleSegment(0,B,i.length,s.length-B);for(let le=0;le<G.uint16.length;le+=3)s.emplaceBack(G.uint16[le],G.uint16[le+1],G.uint16[le+2]);const ne=Wn.simpleSegment(0,B,i.length,s.length-B);c.push({withoutSkirts:ee,withSkirts:ne})}return{vertices:i,indices:s,segments:c}}_createGrid(t){const e=this._fillGridMeshWithLods(64,pd);this._gridSegments=e.segments,this._gridBuffer=t.createVertexBuffer(e.vertices,hd.members),this._gridIndexBuffer=t.createIndexBuffer(e.indices,!0)}_createPoles(t){const e=new Vt;for(let c=0;c<=64;c++)e.emplaceBack(0,c+1,c+2);this._poleIndexBuffer=t.createIndexBuffer(e,!0);const i=new T,s=new T;this._poleSegments=[];for(let c=0,_=0;c<5;c++){const g=360/(1<<c);i.emplaceBack(0,-al,0,.5,0),s.emplaceBack(0,-al,0,.5,1);for(let x=0;x<=64;x++){const D=x/64,E=Oi(0,g,D),[B,H,G]=Cc(Bl,pc,E,al);i.emplaceBack(B,H,G,D,0),s.emplaceBack(B,H,G,D,1)}this._poleSegments.push(Wn.simpleSegment(_,0,66,64)),_+=66}this._poleNorthVertexBuffer=t.createVertexBuffer(i,af,!1),this._poleSouthVertexBuffer=t.createVertexBuffer(s,af,!1)}getGridBuffers(t,e){return[this._gridBuffer,this._gridIndexBuffer,e?this._gridSegments[t].withSkirts:this._gridSegments[t].withoutSkirts]}getPoleBuffers(t){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[t]]}getWirefameBuffers(t,e){if(!this._wireframeSegments){const i=new K,s=64,c=s+1+2,_=1;this._wireframeSegments=[];for(let g=0,x=0;g<pd.length;g++){const D=pd[g];for(let B=_;B<D+_;B++)for(let H=_;H<s+_;H++){const G=B*c+H;i.emplaceBack(G,G+1),i.emplaceBack(G,G+c),i.emplaceBack(G,G+c+1)}const E=D*s*3;this._wireframeSegments.push(Wn.simpleSegment(0,x,(D+1)*c,E)),x+=E}this._wireframeIndexBuffer=t.createIndexBuffer(i)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[e]]}},a.GlyphManager=vi,a.ImagePosition=Od,a.KDBush=x_,a.LivePerformanceUtils=qn,a.LngLat=kn,a.LngLatBounds=ra,a.LocalGlyphMode=Qn,a.MAX_MERCATOR_LATITUDE=Gr,a.MercatorCoordinate=Nu,a.ONE_EM=24,a.OverscaledTileID=aa,a.PerformanceMarkers=bn,a.Point=He,a.Properties=C,a.RGBAImage=Ns,a.Ray=Kh,a.RequestManager=class{constructor(t,e,i){this._transformRequestFn=t,this._customAccessToken=e,this._silenceAuthErrors=!!i,this._createSkuToken()}_createSkuToken(){const t=function(){let e="";for(let i=0;i<10;i++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",qe,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(t,e){return this._transformRequestFn&&this._transformRequestFn(t,e)||{url:t}}normalizeStyleURL(t,e){if(!Fe(t))return t;const i=St(t);return i.path=`/styles/v1${i.path}`,this._makeAPIURL(i,this._customAccessToken||e)}normalizeGlyphsURL(t,e){if(!Fe(t))return t;const i=St(t);return i.path=`/fonts/v1${i.path}`,this._makeAPIURL(i,this._customAccessToken||e)}normalizeSourceURL(t,e,i,s){if(!Fe(t))return t;const c=St(t);return c.path=`/v4/${c.authority}.json`,c.params.push("secure"),i&&c.params.push(`language=${i}`),s&&c.params.push(`worldview=${s}`),this._makeAPIURL(c,this._customAccessToken||e)}normalizeSpriteURL(t,e,i,s){const c=St(t);return Fe(t)?(c.path=`/styles/v1${c.path}/sprite${e}${i}`,this._makeAPIURL(c,this._customAccessToken||s)):(c.path+=`${e}${i}`,ft(c))}normalizeTileURL(t,e,i){if(this._isSkuTokenExpired()&&this._createSkuToken(),t&&!Fe(t))return t;const s=St(t);s.path=s.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${e||i&&"raster"!==s.authority&&512===i?"@2x":""}${ye.supported?".webp":"$1"}`),"raster"===s.authority?s.path=`/${oe.RASTER_URL_PREFIX}${s.path}`:(s.path=s.path.replace(/^.+\/v4\//,"/"),s.path=`/${oe.TILE_URL_VERSION}${s.path}`);const c=this._customAccessToken||function(_){for(const g of _){const x=g.match(/^access_token=(.*)$/);if(x)return x[1]}return null}(s.params)||oe.ACCESS_TOKEN;return oe.REQUIRE_ACCESS_TOKEN&&c&&this._skuToken&&s.params.push(`sku=${this._skuToken}`),this._makeAPIURL(s,c)}canonicalizeTileURL(t,e){const i=St(t);if(!i.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!i.path.match(/\.[\w]+$/))return t;let s="mapbox://";i.path.match(/^\/raster\/v1\//)?s+=`raster/${i.path.replace(`/${oe.RASTER_URL_PREFIX}/`,"")}`:s+=`tiles/${i.path.replace(`/${oe.TILE_URL_VERSION}/`,"")}`;let c=i.params;return e&&(c=c.filter(_=>!_.match(/^access_token=/))),c.length&&(s+=`?${c.join("&")}`),s}canonicalizeTileset(t,e){const i=!!e&&Fe(e),s=[];for(const c of t.tiles||[])We(c)?s.push(this.canonicalizeTileURL(c,i)):s.push(c);return s}_makeAPIURL(t,e){const i="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",s=St(oe.API_URL);if(t.protocol=s.protocol,t.authority=s.authority,"http"===t.protocol){const c=t.params.indexOf("secure");c>=0&&t.params.splice(c,1)}if("/"!==s.path&&(t.path=`${s.path}${t.path}`),!oe.REQUIRE_ACCESS_TOKEN)return ft(t);if(e=e||oe.ACCESS_TOKEN,!this._silenceAuthErrors){if(!e)throw new Error(`An API access token is required to use Mapbox GL. ${i}`);if("s"===e[0])throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${i}`)}return t.params=t.params.filter(c=>-1===c.indexOf("access_token")),t.params.push(`access_token=${e||""}`),ft(t)}},a.ResourceType=On,a.SegmentVector=Wn,a.SourceCache=ad,a.StencilMode=g_,a.StructArrayLayout1ui2=se,a.StructArrayLayout2f1f2i16=jt,a.StructArrayLayout2i4=ve,a.StructArrayLayout2ui4=K,a.StructArrayLayout3f12=ai,a.StructArrayLayout3ui6=Vt,a.StructArrayLayout4i8=Ce,a.StructArrayLayout5f20=T,a.Texture=Ph,a.Tile=__,a.Transitionable=re,a.Uniform1f=Hd,a.Uniform1i=class extends Dc{constructor(t){super(t),this.current=0}set(t,e,i){this.fetchUniformLocation(t,e)&&this.current!==i&&(this.current=i,this.gl.uniform1i(this.location,i))}},a.Uniform2f=class extends Dc{constructor(t){super(t),this.current=[0,0]}set(t,e,i){this.fetchUniformLocation(t,e)&&(i[0]===this.current[0]&&i[1]===this.current[1]||(this.current=i,this.gl.uniform2f(this.location,i[0],i[1])))}},a.Uniform3f=class extends Dc{constructor(t){super(t),this.current=[0,0,0]}set(t,e,i){this.fetchUniformLocation(t,e)&&(i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]||(this.current=i,this.gl.uniform3f(this.location,i[0],i[1],i[2])))}},a.Uniform4f=Kp,a.UniformColor=Nd,a.UniformMatrix2f=class extends Dc{constructor(t){super(t),this.current=Qp}set(t,e,i){if(this.fetchUniformLocation(t,e))for(let s=0;s<4;s++)if(i[s]!==this.current[s]){this.current=i,this.gl.uniformMatrix2fv(this.location,!1,i);break}}},a.UniformMatrix3f=class extends Dc{constructor(t){super(t),this.current=Vh}set(t,e,i){if(this.fetchUniformLocation(t,e))for(let s=0;s<9;s++)if(i[s]!==this.current[s]){this.current=i,this.gl.uniformMatrix3fv(this.location,!1,i);break}}},a.UniformMatrix4f=class extends Dc{constructor(t){super(t),this.current=E_}set(t,e,i){if(this.fetchUniformLocation(t,e)){if(i[12]!==this.current[12]||i[0]!==this.current[0])return this.current=i,void this.gl.uniformMatrix4fv(this.location,!1,i);for(let s=1;s<16;s++)if(i[s]!==this.current[s]){this.current=i,this.gl.uniformMatrix4fv(this.location,!1,i);break}}}},a.UnwrappedTileID=bh,a.ValidationError=at,a.VectorTileFeature=wl,a.VectorTileWorkerSource=class extends Ws{constructor(t,e,i,s,c){super(),this.actor=t,this.layerIndex=e,this.availableImages=i,this.loadVectorData=c||Sm,this.loading={},this.loaded={},this.deduped=new Lm(t.scheduler),this.isSpriteLoaded=s,this.scheduler=t.scheduler}loadTile(t,e){const i=t.uid,s=t&&t.request,c=s&&s.collectResourceTiming,_=this.loading[i]=new dg(t);_.abort=this.loadVectorData(t,(g,x)=>{const D=!this.loading[i];if(delete this.loading[i],D||g||!x)return _.status="done",D||(this.loaded[i]=_),e(g);const E=x.rawData,B={};x.expires&&(B.expires=x.expires),x.cacheControl&&(B.cacheControl=x.cacheControl),_.vectorTile=x.vectorTile||new Ls(new Th(E));const H=()=>{_.parse(_.vectorTile,this.layerIndex,this.availableImages,this.actor,(G,ee)=>{if(G||!ee)return e(G);const ne={};if(c){const le=Fr(s);le.length>0&&(ne.resourceTiming=JSON.parse(JSON.stringify(le)))}e(null,cn({rawTileData:E.slice(0)},ee,B,ne))})};this.isSpriteLoaded?H():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(H,{type:"parseTile",isSymbolTile:t.isSymbolTile,zoom:t.tileZoom}):H()}),this.loaded=this.loaded||{},this.loaded[i]=_})}reloadTile(t,e){const i=this.loaded,s=t.uid,c=this;if(i&&i[s]){const _=i[s];_.showCollisionBoxes=t.showCollisionBoxes,_.enableTerrain=!!t.enableTerrain,_.projection=t.projection,_.tileTransform=rd(t.tileID.canonical,t.projection);const g=(x,D)=>{const E=_.reloadCallback;E&&(delete _.reloadCallback,_.parse(_.vectorTile,c.layerIndex,this.availableImages,c.actor,E)),e(x,D)};"parsing"===_.status?_.reloadCallback=g:"done"===_.status&&(_.vectorTile?_.parse(_.vectorTile,this.layerIndex,this.availableImages,this.actor,g):g())}}abortTile(t,e){const i=t.uid,s=this.loading[i];s&&(s.abort&&s.abort(),delete this.loading[i]),e()}removeTile(t,e){const i=this.loaded,s=t.uid;i&&i[s]&&delete i[s],e()}},a.WritingMode=Ro,a.ZoomDependentExpression=W,a.add=zl,a.addDynamicAttributes=Gp,a.adjoint=function(t,e){var i=e[0],s=e[1],c=e[2],_=e[3],g=e[4],x=e[5],D=e[6],E=e[7],B=e[8];return t[0]=g*B-x*E,t[1]=c*E-s*B,t[2]=s*x-c*g,t[3]=x*D-_*B,t[4]=i*B-c*D,t[5]=c*_-i*x,t[6]=_*E-g*D,t[7]=s*D-i*E,t[8]=i*g-s*_,t},a.asyncAll=wn,a.bezier=fi,a.bindAll=en,a.boundsAttributes=um,a.bufferConvexPolygon=function(t,e){const i=[];for(let s=0;s<t.length;s++){const c=pn(s-1,-1,t.length-1),_=pn(s+1,-1,t.length-1),g=t[s],x=t[_],D=t[c].sub(g).unit(),E=x.sub(g).unit(),B=E.angleWithSep(D.x,D.y),H=D.add(E).unit().mult(-1*e/Math.sin(B/2));i.push(g.add(H))}return i},a.cacheEntryPossiblyAdded=function(t){rr++,rr>fn&&(t.getActor().send("enforceCacheSizeLimit",Ci),rr=0)},a.calculateGlobeLabelMatrix=function(t,e){const{x:i,y:s}=t.point,c=df(i,s,t.worldSize/t._pixelsPerMercatorPixel,0,0);return $c(c,c,fu(hc(e)))},a.calculateGlobeMatrix=function(t){const{x:e,y:i}=t.point,{lng:s,lat:c}=t._center;return df(e,i,t.worldSize,s,c)},a.calculateGlobeMercatorMatrix=function(t){const e=t.pixelsPerMeter,i=e/Io(1,t.center.lat),s=Vs(new Float64Array(16));return Ou(s,s,[t.point.x,t.point.y,0]),Xc(s,s,[i,i,e]),Float32Array.from(s)},a.circumferenceAtLatitude=np,a.clamp=ti,a.clearTileCache=function(t){if(!Yi())return;const e=d.caches.delete(In);t&&e.catch(t).then(()=>t())},a.clipLine=ln,a.clone=function(t){var e=new co(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},a.clone$1=zr,a.collisionCircleLayout=G_,a.config=oe,a.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},a.create=function(){var t=new co(16);return co!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},a.create$1=Nh,a.createExpression=Ca,a.createLayout=ce,a.createStyleLayer=function(t){return"custom"===t.type?new eg(t):new ig[t.type](t)},a.cross=Zh,a.degToRad=Tt,a.distance=function(t,e){return Math.hypot(e[0]-t[0],e[1]-t[1],e[2]-t[2])},a.div=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t},a.dot=Po,a.earthRadius=Hu,a.ease=vr,a.easeCubicInOut=ki,a.ecefToLatLng=function([t,e,i]){const s=Math.hypot(t,e,i),c=Math.atan2(t,i),_=.5*Math.PI-Math.acos(-e/s);return new kn(Gt(c),Gt(_))},a.emitValidationErrors=wc,a.endsWith=Mn,a.enforceCacheSizeLimit=function(t){Ii(),Wi&&Wi.then(e=>{e.keys().then(i=>{for(let s=0;s<i.length-t;s++)e.delete(i[s])})})},a.evaluateSizeForFeature=wh,a.evaluateSizeForZoom=id,a.evaluateVariableOffset=Yo,a.evented=v,a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},a.exactEquals$1=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},a.exported=on,a.exported$1=ye,a.extend=cn,a.extend$1=la,a.fillExtrusionHeightLift=Ld,a.filterObject=Jr,a.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},a.fromQuat=function(t,e){var i=e[0],s=e[1],c=e[2],_=e[3],g=i+i,x=s+s,D=c+c,E=i*g,B=s*g,H=s*x,G=c*g,ee=c*x,ne=c*D,le=_*g,me=_*x,xe=_*D;return t[0]=1-H-ne,t[1]=B+xe,t[2]=G-me,t[3]=0,t[4]=B-xe,t[5]=1-E-ne,t[6]=ee+le,t[7]=0,t[8]=G+me,t[9]=ee-le,t[10]=1-E-H,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromRotation=function(t,e){var i=Math.sin(e),s=Math.cos(e);return t[0]=s,t[1]=i,t[2]=0,t[3]=-i,t[4]=s,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.fromScaling=Qi,a.furthestTileCorner=function(t){const e=Math.round((t+45+360)%360/90)%4;return sn[e]},a.getAABBPointSquareDist=function(t,e,i){let s=0;for(let c=0;c<2;++c){const _=i?i[c]:0;t[c]>_&&(s+=(t[c]-_)*(t[c]-_)),e[c]<_&&(s+=(_-e[c])*(_-e[c]))}return s},a.getAnchorAlignment=u,a.getAnchorJustification=Wl,a.getBounds=function(t){let e=1/0,i=1/0,s=-1/0,c=-1/0;for(const _ of t)e=Math.min(e,_.x),i=Math.min(i,_.y),s=Math.max(s,_.x),c=Math.max(c,_.y);return{min:new He(e,i),max:new He(s,c)}},a.getColumn=Di,a.getDefaultExportFromCjs=Me,a.getGridMatrix=function(t,e,i,s){const c=e.getNorth(),_=e.getSouth(),g=e.getWest(),x=e.getEast(),D=1<<t.z,E=x-g,B=c-_,H=E/64,G=-B/pd[i],ee=[0,H,0,G,0,0,c,g,0];if(t.z>0){const ne=180/s;Uh(ee,ee,[ne/E+1,0,0,0,ne/B+1,0,-.5*ne/H,.5*ne/G,1])}return ee[2]=D,ee[5]=t.x,ee[8]=t.y,ee},a.getImage=be,a.getJSON=function(t,e){return oa(cn(t,{type:"json"}),e)},a.getLatitudinalLod=function(t){const e=Gr-5;t=ti(t,-e,e)/e*90;const i=Math.pow(Math.abs(Math.sin(Tt(t))),3);return Math.round(i*(pd.length-1))},a.getMapSessionAPI=Zn,a.getPerformanceMeasurement=Fr,a.getProjection=am,a.getRTLTextPluginStatus=M,a.getReferrer=Zt,a.getTilePoint=function(t,{x:e,y:i},s=0){return new He(((e-s)*t.scale-t.x)*Wt,(i*t.scale-t.y)*Wt)},a.getTileVec3=function(t,e,i=0){return uu(((e.x-i)*t.scale-t.x)*Wt,(e.y*t.scale-t.y)*Wt,rp(e.z,e.y))},a.getVideo=function(t,e){const i=d.document.createElement("video");i.muted=!0,i.onloadstart=function(){e(null,i)};for(let s=0;s<t.length;s++){const c=d.document.createElement("source");Rn(t[s])||(i.crossOrigin="Anonymous"),c.src=t[s],i.appendChild(c)}return{cancel:()=>{}}},a.globeCenterToScreenPoint=function(t){const e=[0,0,0],i=Vs(new Float64Array(16));return $c(i,t.pixelMatrix,t.globeMatrix),mr(e,e,i),new He(e[0],e[1])},a.globeDenormalizeECEF=fu,a.globeECEFOrigin=function(t,e){const i=[0,0,0];return mr(i,i,md(hc(e.canonical))),mr(i,i,t),i},a.globeMetersToEcef=Fu,a.globeNormalizeECEF=md,a.globePixelsToTileUnits=function(t,e){return Wt/(512*Math.pow(2,t))*Kd(hc(e))},a.globePoleMatrixForTile=function(t,e,i){const s=Vs(new Float64Array(16)),c=(e/(1<<t)-.5)*Math.PI*2;return ud(s,i.globeMatrix,c),Float32Array.from(s)},a.globeTileBounds=hc,a.globeTiltAtLngLat=hf,a.globeToMercatorTransition=Ec,a.globeUseCustomAntiAliasing=function(t,e,i){const s=Ec(i.zoom),c=t.style.map._antialias,_=!!e.extStandardDerivatives,g=e.extStandardDerivativesForceOff||t.terrain&&t.terrain.exaggeration()>0;return 0===s&&!c&&!g&&_},a.identity=Vs,a.identity$1=$d,a.invert=Ud,a.isFullscreen=function(){return!!d.document.fullscreenElement||!!d.document.webkitFullscreenElement},a.isLngLatBehindGlobe=ns,a.isMapAuthenticated=function(t){return $i.has(t)},a.isMapboxURL=Fe,a.isSafariWithAntialiasingBug=function(t){const e=t.navigator?t.navigator.userAgent:null;return!!Pn(t)&&e&&(e.match("Version/15.4")||e.match("Version/15.5")||e.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},a.latFromMercatorY=Oa,a.latLngToECEF=ju,a.len=qd,a.length=cu,a.length$1=function(t){return Math.hypot(t[0],t[1],t[2],t[3])},a.lngFromMercatorX=uo,a.loadVectorTile=Sm,a.makeRequest=oa,a.mapValue=function(t,e,i,s,c){return ti((t-e)/(i-e)*(c-s)+s,s,c)},a.mercatorScale=pf,a.mercatorXfromLng=jl,a.mercatorYfromLat=xl,a.mercatorZfromAltitude=Io,a.mul=Ru,a.mul$1=rf,a.multiply=$c,a.multiply$1=Uh,a.multiply$2=Gh,a.nextPowerOfTwo=Ut,a.normalize=is,a.normalize$1=rl,a.normalize$2=Xh,a.number=Oi,a.ortho=function(t,e,i,s,c,_,g){var x=1/(e-i),D=1/(s-c),E=1/(_-g);return t[0]=-2*x,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*D,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*E,t[11]=0,t[12]=(e+i)*x,t[13]=(c+s)*D,t[14]=(g+_)*E,t[15]=1,t},a.pbf=Dp,a.perspective=function(t,e,i,s,c){var _,g=1/Math.tan(e/2);return t[0]=g/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=g,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=c&&c!==1/0?(t[10]=(c+s)*(_=1/(s-c)),t[14]=2*c*s*_):(t[10]=-1,t[14]=-2*s),t},a.pick=function(t,e){const i={};for(let s=0;s<e.length;s++){const c=e[s];c in t&&(i[c]=t[c])}return i},a.plugin=O,a.pointGeometry=Ve,a.polesInViewport=function(t){const e=Vs(new Float64Array(16));$c(e,t.pixelMatrix,t.globeMatrix);const i=[0,vl,0],s=[0,bl,0];return mr(i,i,e),mr(s,s,e),[i[0]>0&&i[0]<=t.width&&i[1]>0&&i[1]<=t.height&&!ns(t,new kn(t.center.lat,90)),s[0]>0&&s[0]<=t.width&&s[1]>0&&s[1]<=t.height&&!ns(t,new kn(t.center.lat,-90))]},a.polygonContainsPoint=Pc,a.polygonIntersectsBox=rh,a.polygonIntersectsPolygon=sp,a.polygonizeBounds=function(t,e,i=0,s=!0){const c=new He(i,i),_=t.sub(c),g=e.add(c),x=[_,new He(g.x,_.y),g,new He(_.x,g.y)];return s&&x.push(_.clone()),x},a.posAttributes=hd,a.postMapLoadEvent=Vi,a.postPerformanceEvent=oi,a.postTurnstileEvent=_i,a.potpack=kh,a.prevPowerOfTwo=function(t){return t<=1?1:Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},a.radToDeg=Gt,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.registerForPluginStateChange=function(t){return t({pluginStatus:p,pluginURL:n}),v.on("pluginStateChange",t),t},a.removeAuthState=function(t){$i.delete(t)},a.renderColorRamp=ah,a.resample=ff,a.rotateX=Wd,a.rotateX$1=dc,a.rotateY=ud,a.rotateY$1=Hs,a.rotateZ=function(t,e,i){var s=Math.sin(i),c=Math.cos(i),_=e[0],g=e[1],x=e[2],D=e[3],E=e[4],B=e[5],H=e[6],G=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=_*c+E*s,t[1]=g*c+B*s,t[2]=x*c+H*s,t[3]=D*c+G*s,t[4]=E*c-_*s,t[5]=B*c-g*s,t[6]=H*c-x*s,t[7]=G*c-D*s,t},a.rotateZ$1=function(t,e,i){i*=.5;var s=e[0],c=e[1],_=e[2],g=e[3],x=Math.sin(i),D=Math.cos(i);return t[0]=s*D+c*x,t[1]=c*D-s*x,t[2]=_*D+g*x,t[3]=g*D-_*x,t},a.scale=Xc,a.scale$1=$h,a.scale$2=Ao,a.scaleAndAdd=Sc,a.set=function(t,e,i,s){return t[0]=e,t[1]=i,t[2]=s,t},a.setCacheLimits=function(t,e){Ci=t,fn=e},a.setColumn=function(t,e,i){t[4*e+0]=i[0],t[4*e+1]=i[1],t[4*e+2]=i[2],t[4*e+3]=i[3]},a.setRTLTextPlugin=function(t,e,i=!1){if(p===ya||p===ts||p===Co)throw new Error("setRTLTextPlugin cannot be called multiple times.");n=on.resolveURL(t),p=ya,Eo=e,m(),i||P()},a.smoothstep=Dn,a.spec=nt,a.squaredLength=function(t){var e=t[0],i=t[1],s=t[2];return e*e+i*i+s*s},a.storeAuthState=function(t,e){e?$i.add(t):$i.delete(t)},a.sub=Fl,a.subtract=Zd,a.symbolSize=Z_,a.tileAABB=function(t,e,i,s,c,_,g,x,D){if("globe"===D.name)return function Bu(t,e,i){const s=e/t.worldSize,c=t.globeMatrix;if(i.z<=1){const Xe=hc(i).getCorners();return _d(Xe,c,s),Ds.fromPoints(Xe)}const _=pu(i),g=Jd(_);_d(g,c,s);const x=Number.MAX_VALUE,D=[-x,-x,-x],E=[x,x,x];if(_.contains(t.center)){for(const kt of g)dd(E,E,kt),Yu(D,D,kt);D[2]=0;const Xe=t.point,dt=[Xe.x*s,Xe.y*s,0];return dd(E,E,dt),Yu(D,D,dt),new Ds(E,D)}const B=[c[12]*s,c[13]*s,c[14]*s],H=_.getCenter(),G=ti(t.center.lat,-Gr,Gr),ee=ti(H.lat,-Gr,Gr),ne=jl(t.center.lng),le=xl(G);let me=ne-jl(H.lng);const xe=le-xl(ee);me>.5?me-=1:me<-.5&&(me+=1);let Se=0;Math.abs(me)>Math.abs(xe)?Se=me>=0?1:3:(Se=xe>=0?0:2,Sc(B,B,[c[4]*s,c[5]*s,c[6]*s],-Math.sin(Tt(xe>=0?_.getSouth():_.getNorth()))*al));const we=g[Se],Le=g[(Se+1)%4],Ie=new Y_(we,Le,B),Ae=[ip(Ie,0)||we[0],ip(Ie,1)||we[1],ip(Ie,2)||we[2]],Qe=Ec(t.zoom);if(Qe>0){const Xe=function({x:kt,y:it,z:_t},mt,xt,Dt,ct){const zt=1/(1<<_t);let Ht=kt*zt,Ft=Ht+zt,bi=it*zt,Lt=bi+zt,Kt=0;const xi=(Ht+Ft)/2-Dt;return xi>.5?Kt=-1:xi<-.5&&(Kt=1),Ht=((Ht+Kt)*mt-(Dt*=mt))*xt+Dt,Ft=((Ft+Kt)*mt-Dt)*xt+Dt,bi=(bi*mt-(ct*=mt))*xt+ct,Lt=(Lt*mt-ct)*xt+ct,[[Ht,Lt,0],[Ft,Lt,0],[Ft,bi,0],[Ht,bi,0]]}(i,e,t._pixelsPerMercatorPixel,ne,le);for(let kt=0;kt<g.length;kt++)hu(g[kt],Xe[kt],Qe);const dt=zl([],Xe[Se],Xe[(Se+1)%4]);Ao(dt,dt,.5),hu(Ae,dt,Qe)}for(const Xe of g)dd(E,E,Xe),Yu(D,D,Xe);return E[2]=Math.min(we[2],Le[2]),dd(E,E,Ae),Yu(D,D,Ae),new Ds(E,D)}(t,e,new Sd(i,s,c));const E=rd({z:i,x:s,y:c},D);return new Ds([(_+E.x/E.scale)*e,e*(E.y/E.scale),g],[(_+E.x2/E.scale)*e,e*(E.y2/E.scale),x])},a.tileCornersToBounds=pu,a.tileTransform=rd,a.transformMat3=function(t,e,i){var s=e[0],c=e[1],_=e[2];return t[0]=s*i[0]+c*i[3]+_*i[6],t[1]=s*i[1]+c*i[4]+_*i[7],t[2]=s*i[2]+c*i[5]+_*i[8],t},a.transformMat4=mr,a.transformMat4$1=Jc,a.transformQuat=qh,a.transitionTileAABBinECEF=cf,a.translate=Ou,a.transpose=function(t,e){if(t===e){var i=e[1],s=e[2],c=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=s,t[7]=c}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},a.triggerPluginCompletionEvent=l,a.uniqueId=dr,a.updateGlobeVertexNormal=function(t,e,i,s,c){const _=5*e+2;t.float32[_+0]=i,t.float32[_+1]=s,t.float32[_+2]=c},a.validateCustomStyleLayer=function(t){const e=[],i=t.id;return void 0===i&&e.push({message:`layers.${i}: missing required property "id"`}),void 0===t.render&&e.push({message:`layers.${i}: missing required method "render"`}),t.renderingMode&&"2d"!==t.renderingMode&&"3d"!==t.renderingMode&&e.push({message:`layers.${i}: property "renderingMode" must be either "2d" or "3d"`}),e},a.validateFilter=t=>Aa(So(t)),a.validateFog=t=>Aa(nc(t)),a.validateLayer=t=>Aa(ml(t)),a.validateLight=t=>Aa(ic(t)),a.validateSource=t=>Aa(bc(t)),a.validateStyle=tl,a.validateTerrain=t=>Aa(gl(t)),a.values=En,a.vectorTile=Td,a.version=J,a.warnOnce=Ri,a.window=d,a.wrap=pn}),A(0,function(a){function d(ke){if("number"==typeof ke||"boolean"==typeof ke||"string"==typeof ke||null==ke)return JSON.stringify(ke);if(Array.isArray(ke)){let pe="[";for(const be of ke)pe+=`${d(be)},`;return`${pe}]`}let de="{";for(const pe of Object.keys(ke).sort())de+=`${pe}:${d(ke[pe])},`;return`${de}}`}function J(ke){let de="";for(const pe of a.refProperties)de+=`/${d(ke[pe])}`;return de}class Q{constructor(de){this.keyCache={},de&&this.replace(de)}replace(de){this._layerConfigs={},this._layers={},this.update(de,[])}update(de,pe){for(const Ee of de)this._layerConfigs[Ee.id]=Ee,(this._layers[Ee.id]=a.createStyleLayer(Ee)).compileFilter(),this.keyCache[Ee.id]&&delete this.keyCache[Ee.id];for(const Ee of pe)delete this.keyCache[Ee],delete this._layerConfigs[Ee],delete this._layers[Ee];this.familiesBySource={};const be=function(Ee,Fe){const We={};for(let X=0;X<Ee.length;X++){const $e=Fe&&Fe[Ee[X].id]||J(Ee[X]);Fe&&(Fe[Ee[X].id]=$e);let wt=We[$e];wt||(wt=We[$e]=[]),wt.push(Ee[X])}const Ue=[];for(const X in We)Ue.push(We[X]);return Ue}(a.values(this._layerConfigs),this.keyCache);for(const Ee of be){const Fe=Ee.map(St=>this._layers[St.id]),We=Fe[0];if("none"===We.visibility)continue;const Ue=We.source||"";let X=this.familiesBySource[Ue];X||(X=this.familiesBySource[Ue]={});const $e=We.sourceLayer||"_geojsonTileLayer";let wt=X[$e];wt||(wt=X[$e]=[]),wt.push(Fe)}}}class oe{loadTile(de,pe){const{uid:be,encoding:Ee,rawImageData:Fe,padding:We,buildQuadTree:Ue}=de,X=a.window.ImageBitmap&&Fe instanceof a.window.ImageBitmap?this.getImageData(Fe,We):Fe;pe(null,new a.DEMData(be,X,Ee,We<1,Ue))}getImageData(de,pe){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(de.width,de.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=de.width,this.offscreenCanvas.height=de.height,this.offscreenCanvasContext.drawImage(de,0,0,de.width,de.height);const be=this.offscreenCanvasContext.getImageData(-pe,-pe,de.width+2*pe,de.height+2*pe);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),be}}function ye(ke,de){if(0!==ke.length){Oe(ke[0],de);for(var pe=1;pe<ke.length;pe++)Oe(ke[pe],!de)}}function Oe(ke,de){for(var pe=0,be=0,Ee=0,Fe=ke.length,We=Fe-1;Ee<Fe;We=Ee++){var Ue=(ke[Ee][0]-ke[We][0])*(ke[We][1]+ke[Ee][1]),X=pe+Ue;be+=Math.abs(pe)>=Math.abs(Ue)?pe-X+Ue:Ue-X+pe,pe=X}pe+be>=0!=!!de&&ke.reverse()}var ht=a.getDefaultExportFromCjs(function ke(de,pe){var be,Ee=de&&de.type;if("FeatureCollection"===Ee)for(be=0;be<de.features.length;be++)ke(de.features[be],pe);else if("GeometryCollection"===Ee)for(be=0;be<de.geometries.length;be++)ke(de.geometries[be],pe);else if("Feature"===Ee)ke(de.geometry,pe);else if("Polygon"===Ee)ye(de.coordinates,pe);else if("MultiPolygon"===Ee)for(be=0;be<de.coordinates.length;be++)ye(de.coordinates[be],pe);return de});const Te=a.VectorTileFeature.prototype.toGeoJSON;var gt={exports:{}},Mt=a.pointGeometry,qe=a.vectorTile.VectorTileFeature,Me=Je;function Je(ke,de){this.options=de||{},this.features=ke,this.length=ke.length}function yt(ke,de){this.id="number"==typeof ke.id?ke.id:void 0,this.type=ke.type,this.rawGeometry=1===ke.type?[ke.geometry]:ke.geometry,this.properties=ke.tags,this.extent=de||4096}Je.prototype.feature=function(ke){return new yt(this.features[ke],this.options.extent)},yt.prototype.loadGeometry=function(){var ke=this.rawGeometry;this.geometry=[];for(var de=0;de<ke.length;de++){for(var pe=ke[de],be=[],Ee=0;Ee<pe.length;Ee++)be.push(new Mt(pe[Ee][0],pe[Ee][1]));this.geometry.push(be)}return this.geometry},yt.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ke=this.geometry,de=1/0,pe=-1/0,be=1/0,Ee=-1/0,Fe=0;Fe<ke.length;Fe++)for(var We=ke[Fe],Ue=0;Ue<We.length;Ue++){var X=We[Ue];de=Math.min(de,X.x),pe=Math.max(pe,X.x),be=Math.min(be,X.y),Ee=Math.max(Ee,X.y)}return[de,be,pe,Ee]},yt.prototype.toGeoJSON=qe.prototype.toGeoJSON;var Ke=a.pbf,Ve=Me;function ut(ke){var de=new Ke;return function(pe,be){for(var Ee in pe.layers)be.writeMessage(3,He,pe.layers[Ee])}(ke,de),de.finish()}function He(ke,de){var pe;de.writeVarintField(15,ke.version||1),de.writeStringField(1,ke.name||""),de.writeVarintField(5,ke.extent||4096);var be={keys:[],values:[],keycache:{},valuecache:{}};for(pe=0;pe<ke.length;pe++)be.feature=ke.feature(pe),de.writeMessage(2,vt,be);var Ee=be.keys;for(pe=0;pe<Ee.length;pe++)de.writeStringField(3,Ee[pe]);var Fe=be.values;for(pe=0;pe<Fe.length;pe++)de.writeMessage(4,ki,Fe[pe])}function vt(ke,de){var pe=ke.feature;void 0!==pe.id&&de.writeVarintField(1,pe.id),de.writeMessage(2,Rt,ke),de.writeVarintField(3,pe.type),de.writeMessage(4,sn,pe)}function Rt(ke,de){var pe=ke.feature,be=ke.keys,Ee=ke.values,Fe=ke.keycache,We=ke.valuecache;for(var Ue in pe.properties){var X=pe.properties[Ue],$e=Fe[Ue];if(null!==X){void 0===$e&&(be.push(Ue),Fe[Ue]=$e=be.length-1),de.writeVarint($e);var wt=typeof X;"string"!==wt&&"boolean"!==wt&&"number"!==wt&&(X=JSON.stringify(X));var St=wt+":"+X,ft=We[St];void 0===ft&&(Ee.push(X),We[St]=ft=Ee.length-1),de.writeVarint(ft)}}}function Tt(ke,de){return(de<<3)+(7&ke)}function Gt(ke){return ke<<1^ke>>31}function sn(ke,de){for(var pe=ke.loadGeometry(),be=ke.type,Ee=0,Fe=0,We=pe.length,Ue=0;Ue<We;Ue++){var X=pe[Ue],$e=1;1===be&&($e=X.length),de.writeVarint(Tt(1,$e));for(var wt=3===be?X.length-1:X.length,St=0;St<wt;St++){1===St&&1!==be&&de.writeVarint(Tt(2,wt-1));var ft=X[St].x-Ee,si=X[St].y-Fe;de.writeVarint(Gt(ft)),de.writeVarint(Gt(si)),Ee+=ft,Fe+=si}3===be&&de.writeVarint(Tt(7,1))}}function ki(ke,de){var pe=typeof ke;"string"===pe?de.writeStringField(1,ke):"boolean"===pe?de.writeBooleanField(7,ke):"number"===pe&&(ke%1!=0?de.writeDoubleField(3,ke):ke<0?de.writeSVarintField(6,ke):de.writeVarintField(5,ke))}gt.exports=ut,gt.exports.fromVectorTileJs=ut,gt.exports.fromGeojsonVt=function(ke,de){de=de||{};var pe={};for(var be in ke)pe[be]=new Ve(ke[be].features,de),pe[be].name=be,pe[be].version=de.version,pe[be].extent=de.extent;return ut({layers:pe})},gt.exports.GeoJSONWrapper=Ve;var fi=a.getDefaultExportFromCjs(gt.exports);const vr={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:ke=>ke},ti=Math.fround||(Dn=new Float32Array(1),ke=>(Dn[0]=+ke,Dn[0]));var Dn;class cn{constructor(de){this.options=Object.assign(Object.create(vr),de),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(de){const{log:pe,minZoom:be,maxZoom:Ee}=this.options;pe&&console.time("total time");const Fe=`prepare ${de.length} points`;pe&&console.time(Fe),this.points=de;const We=[];for(let X=0;X<de.length;X++){const $e=de[X];if(!$e.geometry)continue;const[wt,St]=$e.geometry.coordinates,ft=ti(yn(wt)),si=ti(Ut(St));We.push(ft,si,1/0,X,-1,1),this.options.reduce&&We.push(0)}let Ue=this.trees[Ee+1]=this._createTree(We);pe&&console.timeEnd(Fe);for(let X=Ee;X>=be;X--){const $e=+Date.now();Ue=this.trees[X]=this._createTree(this._cluster(Ue,X)),pe&&console.log("z%d: %d clusters in %dms",X,Ue.numItems,+Date.now()-$e)}return pe&&console.timeEnd("total time"),this}getClusters(de,pe){let be=((de[0]+180)%360+360)%360-180;const Ee=Math.max(-90,Math.min(90,de[1]));let Fe=180===de[2]?180:((de[2]+180)%360+360)%360-180;const We=Math.max(-90,Math.min(90,de[3]));if(de[2]-de[0]>=360)be=-180,Fe=180;else if(be>Fe){const St=this.getClusters([be,Ee,180,We],pe),ft=this.getClusters([-180,Ee,Fe,We],pe);return St.concat(ft)}const Ue=this.trees[this._limitZoom(pe)],X=Ue.range(yn(be),Ut(We),yn(Fe),Ut(Ee)),$e=Ue.data,wt=[];for(const St of X){const ft=this.stride*St;wt.push($e[ft+5]>1?Ni($e,ft,this.clusterProps):this.points[$e[ft+3]])}return wt}getChildren(de){const pe=this._getOriginId(de),be=this._getOriginZoom(de),Ee="No cluster with the specified id.",Fe=this.trees[be];if(!Fe)throw new Error(Ee);const We=Fe.data;if(pe*this.stride>=We.length)throw new Error(Ee);const Ue=this.options.radius/(this.options.extent*Math.pow(2,be-1)),X=Fe.within(We[pe*this.stride],We[pe*this.stride+1],Ue),$e=[];for(const wt of X){const St=wt*this.stride;We[St+4]===de&&$e.push(We[St+5]>1?Ni(We,St,this.clusterProps):this.points[We[St+3]])}if(0===$e.length)throw new Error(Ee);return $e}getLeaves(de,pe,be){const Ee=[];return this._appendLeaves(Ee,de,pe=pe||10,be=be||0,0),Ee}getTile(de,pe,be){const Ee=this.trees[this._limitZoom(de)],Fe=Math.pow(2,de),{extent:We,radius:Ue}=this.options,X=Ue/We,$e=(be-X)/Fe,wt=(be+1+X)/Fe,St={features:[]};return this._addTileFeatures(Ee.range((pe-X)/Fe,$e,(pe+1+X)/Fe,wt),Ee.data,pe,be,Fe,St),0===pe&&this._addTileFeatures(Ee.range(1-X/Fe,$e,1,wt),Ee.data,Fe,be,Fe,St),pe===Fe-1&&this._addTileFeatures(Ee.range(0,$e,X/Fe,wt),Ee.data,-1,be,Fe,St),St.features.length?St:null}getClusterExpansionZoom(de){let pe=this._getOriginZoom(de)-1;for(;pe<=this.options.maxZoom;){const be=this.getChildren(de);if(pe++,1!==be.length)break;de=be[0].properties.cluster_id}return pe}_appendLeaves(de,pe,be,Ee,Fe){const We=this.getChildren(pe);for(const Ue of We){const X=Ue.properties;if(X&&X.cluster?Fe+X.point_count<=Ee?Fe+=X.point_count:Fe=this._appendLeaves(de,X.cluster_id,be,Ee,Fe):Fe<Ee?Fe++:de.push(Ue),de.length===be)break}return Fe}_createTree(de){const pe=new a.KDBush(de.length/this.stride|0,this.options.nodeSize,Float32Array);for(let be=0;be<de.length;be+=this.stride)pe.add(de[be],de[be+1]);return pe.finish(),pe.data=de,pe}_addTileFeatures(de,pe,be,Ee,Fe,We){for(const Ue of de){const X=Ue*this.stride,$e=pe[X+5]>1;let wt,St,ft;if($e)wt=dr(pe,X,this.clusterProps),St=pe[X],ft=pe[X+1];else{const Qt=this.points[pe[X+3]];wt=Qt.properties;const[pt,_i]=Qt.geometry.coordinates;St=yn(pt),ft=Ut(_i)}const si={type:1,geometry:[[Math.round(this.options.extent*(St*Fe-be)),Math.round(this.options.extent*(ft*Fe-Ee))]],tags:wt};let ii;ii=$e||this.options.generateId?pe[X+3]:this.points[pe[X+3]].id,void 0!==ii&&(si.id=ii),We.features.push(si)}}_limitZoom(de){return Math.max(this.options.minZoom,Math.min(Math.floor(+de),this.options.maxZoom+1))}_cluster(de,pe){const{radius:be,extent:Ee,reduce:Fe,minPoints:We}=this.options,Ue=be/(Ee*Math.pow(2,pe)),X=de.data,$e=[],wt=this.stride;for(let St=0;St<X.length;St+=wt){if(X[St+2]<=pe)continue;X[St+2]=pe;const ft=X[St],si=X[St+1],ii=de.within(X[St],X[St+1],Ue),Qt=X[St+5];let pt=Qt;for(const _i of ii){const _n=_i*wt;X[_n+2]>pe&&(pt+=X[_n+5])}if(pt>Qt&&pt>=We){let _i,_n=ft*Qt,Vi=si*Qt,Ln=-1;const oi=((St/wt|0)<<5)+(pe+1)+this.points.length;for(const Li of ii){const Zn=Li*wt;if(X[Zn+2]<=pe)continue;X[Zn+2]=pe;const $i=X[Zn+5];_n+=X[Zn]*$i,Vi+=X[Zn+1]*$i,X[Zn+4]=oi,Fe&&(_i||(_i=this._map(X,St,!0),Ln=this.clusterProps.length,this.clusterProps.push(_i)),Fe(_i,this._map(X,Zn)))}X[St+4]=oi,$e.push(_n/pt,Vi/pt,1/0,oi,-1,pt),Fe&&$e.push(Ln)}else{for(let _i=0;_i<wt;_i++)$e.push(X[St+_i]);if(pt>1)for(const _i of ii){const _n=_i*wt;if(!(X[_n+2]<=pe)){X[_n+2]=pe;for(let Vi=0;Vi<wt;Vi++)$e.push(X[_n+Vi])}}}}return $e}_getOriginId(de){return de-this.points.length>>5}_getOriginZoom(de){return(de-this.points.length)%32}_map(de,pe,be){if(de[pe+5]>1){const We=this.clusterProps[de[pe+6]];return be?Object.assign({},We):We}const Ee=this.points[de[pe+3]].properties,Fe=this.options.map(Ee);return be&&Fe===Ee?Object.assign({},Fe):Fe}}function Ni(ke,de,pe){return{type:"Feature",id:ke[de+3],properties:dr(ke,de,pe),geometry:{type:"Point",coordinates:[(be=ke[de],360*(be-.5)),Sr(ke[de+1])]}};var be}function dr(ke,de,pe){const be=ke[de+5],Ee=be>=1e4?`${Math.round(be/1e3)}k`:be>=1e3?Math.round(be/100)/10+"k":be,Fe=ke[de+6],We=-1===Fe?{}:Object.assign({},pe[Fe]);return Object.assign(We,{cluster:!0,cluster_id:ke[de+3],point_count:be,point_count_abbreviated:Ee})}function yn(ke){return ke/360+.5}function Ut(ke){const de=Math.sin(ke*Math.PI/180),pe=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return pe<0?0:pe>1?1:pe}function Sr(ke){const de=(180-360*ke)*Math.PI/180;return 360*Math.atan(Math.exp(de))/Math.PI-90}function en(ke,de,pe,be){for(var Ee,Fe=be,We=pe-de>>1,Ue=pe-de,X=ke[de],$e=ke[de+1],wt=ke[pe],St=ke[pe+1],ft=de+3;ft<pe;ft+=3){var si=Mn(ke[ft],ke[ft+1],X,$e,wt,St);if(si>Fe)Ee=ft,Fe=si;else if(si===Fe){var ii=Math.abs(ft-We);ii<Ue&&(Ee=ft,Ue=ii)}}Fe>be&&(Ee-de>3&&en(ke,de,Ee,be),ke[Ee+2]=Fe,pe-Ee>3&&en(ke,Ee,pe,be))}function Mn(ke,de,pe,be,Ee,Fe){var We=Ee-pe,Ue=Fe-be;if(0!==We||0!==Ue){var X=((ke-pe)*We+(de-be)*Ue)/(We*We+Ue*Ue);X>1?(pe=Ee,be=Fe):X>0&&(pe+=We*X,be+=Ue*X)}return(We=ke-pe)*We+(Ue=de-be)*Ue}function ri(ke,de,pe,be){var Ee={id:void 0===ke?null:ke,type:de,geometry:pe,tags:be,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Fe){var We=Fe.geometry,Ue=Fe.type;if("Point"===Ue||"MultiPoint"===Ue||"LineString"===Ue)Jr(Fe,We);else if("Polygon"===Ue||"MultiLineString"===Ue)for(var X=0;X<We.length;X++)Jr(Fe,We[X]);else if("MultiPolygon"===Ue)for(X=0;X<We.length;X++)for(var $e=0;$e<We[X].length;$e++)Jr(Fe,We[X][$e])}(Ee),Ee}function Jr(ke,de){for(var pe=0;pe<de.length;pe+=3)ke.minX=Math.min(ke.minX,de[pe]),ke.minY=Math.min(ke.minY,de[pe+1]),ke.maxX=Math.max(ke.maxX,de[pe]),ke.maxY=Math.max(ke.maxY,de[pe+1])}function zr(ke,de,pe,be){if(de.geometry){var Ee=de.geometry.coordinates,Fe=de.geometry.type,We=Math.pow(pe.tolerance/((1<<pe.maxZoom)*pe.extent),2),Ue=[],X=de.id;if(pe.promoteId?X=de.properties[pe.promoteId]:pe.generateId&&(X=be||0),"Point"===Fe)Cs(Ee,Ue);else if("MultiPoint"===Fe)for(var $e=0;$e<Ee.length;$e++)Cs(Ee[$e],Ue);else if("LineString"===Fe)Ri(Ee,Ue,We,!1);else if("MultiLineString"===Fe){if(pe.lineMetrics){for($e=0;$e<Ee.length;$e++)Ri(Ee[$e],Ue=[],We,!1),ke.push(ri(X,"LineString",Ue,de.properties));return}er(Ee,Ue,We,!1)}else if("Polygon"===Fe)er(Ee,Ue,We,!0);else{if("MultiPolygon"!==Fe){if("GeometryCollection"===Fe){for($e=0;$e<de.geometry.geometries.length;$e++)zr(ke,{id:X,geometry:de.geometry.geometries[$e],properties:de.properties},pe,be);return}throw new Error("Input data is not a valid GeoJSON object.")}for($e=0;$e<Ee.length;$e++){var wt=[];er(Ee[$e],wt,We,!0),Ue.push(wt)}}ke.push(ri(X,Fe,Ue,de.properties))}}function Cs(ke,de){de.push(go(ke[0])),de.push(An(ke[1])),de.push(0)}function Ri(ke,de,pe,be){for(var Ee,Fe,We=0,Ue=0;Ue<ke.length;Ue++){var X=go(ke[Ue][0]),$e=An(ke[Ue][1]);de.push(X),de.push($e),de.push(0),Ue>0&&(We+=be?(Ee*$e-X*Fe)/2:Math.sqrt(Math.pow(X-Ee,2)+Math.pow($e-Fe,2))),Ee=X,Fe=$e}var wt=de.length-3;de[2]=1,en(de,0,wt,pe),de[wt+2]=1,de.size=Math.abs(We),de.start=0,de.end=de.size}function er(ke,de,pe,be){for(var Ee=0;Ee<ke.length;Ee++){var Fe=[];Ri(ke[Ee],Fe,pe,be),de.push(Fe)}}function go(ke){return ke/360+.5}function An(ke){var de=Math.sin(ke*Math.PI/180),pe=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return pe<0?0:pe>1?1:pe}function Ui(ke,de,pe,be,Ee,Fe,We,Ue){if(be/=de,Fe>=(pe/=de)&&We<be)return ke;if(We<pe||Fe>=be)return null;for(var X=[],$e=0;$e<ke.length;$e++){var wt=ke[$e],St=wt.geometry,ft=wt.type,si=0===Ee?wt.minX:wt.minY,ii=0===Ee?wt.maxX:wt.maxY;if(si>=pe&&ii<be)X.push(wt);else if(!(ii<pe||si>=be)){var Qt=[];if("Point"===ft||"MultiPoint"===ft)ls(St,Qt,pe,be,Ee);else if("LineString"===ft)Pn(St,Qt,pe,be,Ee,!1,Ue.lineMetrics);else if("MultiLineString"===ft)Di(St,Qt,pe,be,Ee,!1);else if("Polygon"===ft)Di(St,Qt,pe,be,Ee,!0);else if("MultiPolygon"===ft)for(var pt=0;pt<St.length;pt++){var _i=[];Di(St[pt],_i,pe,be,Ee,!0),_i.length&&Qt.push(_i)}if(Qt.length){if(Ue.lineMetrics&&"LineString"===ft){for(pt=0;pt<Qt.length;pt++)X.push(ri(wt.id,ft,Qt[pt],wt.tags));continue}"LineString"!==ft&&"MultiLineString"!==ft||(1===Qt.length?(ft="LineString",Qt=Qt[0]):ft="MultiLineString"),"Point"!==ft&&"MultiPoint"!==ft||(ft=3===Qt.length?"Point":"MultiPoint"),X.push(ri(wt.id,ft,Qt,wt.tags))}}}return X.length?X:null}function ls(ke,de,pe,be,Ee){for(var Fe=0;Fe<ke.length;Fe+=3){var We=ke[Fe+Ee];We>=pe&&We<=be&&(de.push(ke[Fe]),de.push(ke[Fe+1]),de.push(ke[Fe+2]))}}function Pn(ke,de,pe,be,Ee,Fe,We){for(var Ue,X,$e=hi(ke),wt=0===Ee?Ci:fn,St=ke.start,ft=0;ft<ke.length-3;ft+=3){var si=ke[ft],ii=ke[ft+1],Qt=ke[ft+2],pt=ke[ft+3],_i=ke[ft+4],_n=0===Ee?si:ii,Vi=0===Ee?pt:_i,Ln=!1;We&&(Ue=Math.sqrt(Math.pow(si-pt,2)+Math.pow(ii-_i,2))),_n<pe?Vi>pe&&(X=wt($e,si,ii,pt,_i,pe),We&&($e.start=St+Ue*X)):_n>be?Vi<be&&(X=wt($e,si,ii,pt,_i,be),We&&($e.start=St+Ue*X)):In($e,si,ii,Qt),Vi<pe&&_n>=pe&&(X=wt($e,si,ii,pt,_i,pe),Ln=!0),Vi>be&&_n<=be&&(X=wt($e,si,ii,pt,_i,be),Ln=!0),!Fe&&Ln&&(We&&($e.end=St+Ue*X),de.push($e),$e=hi(ke)),We&&(St+=Ue)}var oi=ke.length-3;si=ke[oi],ii=ke[oi+1],Qt=ke[oi+2],(_n=0===Ee?si:ii)>=pe&&_n<=be&&In($e,si,ii,Qt),oi=$e.length-3,Fe&&oi>=3&&($e[oi]!==$e[0]||$e[oi+1]!==$e[1])&&In($e,$e[0],$e[1],$e[2]),$e.length&&de.push($e)}function hi(ke){var de=[];return de.size=ke.size,de.start=ke.start,de.end=ke.end,de}function Di(ke,de,pe,be,Ee,Fe){for(var We=0;We<ke.length;We++)Pn(ke[We],de,pe,be,Ee,Fe,!1)}function In(ke,de,pe,be){ke.push(de),ke.push(pe),ke.push(be)}function Ci(ke,de,pe,be,Ee,Fe){var We=(Fe-de)/(be-de);return ke.push(Fe),ke.push(pe+(Ee-pe)*We),ke.push(1),We}function fn(ke,de,pe,be,Ee,Fe){var We=(Fe-pe)/(Ee-pe);return ke.push(de+(be-de)*We),ke.push(Fe),ke.push(1),We}function Wi(ke,de){for(var pe=[],be=0;be<ke.length;be++){var Ee,Fe=ke[be],We=Fe.type;if("Point"===We||"MultiPoint"===We||"LineString"===We)Ee=Cr(Fe.geometry,de);else if("MultiLineString"===We||"Polygon"===We){Ee=[];for(var Ue=0;Ue<Fe.geometry.length;Ue++)Ee.push(Cr(Fe.geometry[Ue],de))}else if("MultiPolygon"===We)for(Ee=[],Ue=0;Ue<Fe.geometry.length;Ue++){for(var X=[],$e=0;$e<Fe.geometry[Ue].length;$e++)X.push(Cr(Fe.geometry[Ue][$e],de));Ee.push(X)}pe.push(ri(Fe.id,We,Ee,Fe.tags))}return pe}function Cr(ke,de){var pe=[];pe.size=ke.size,void 0!==ke.start&&(pe.start=ke.start,pe.end=ke.end);for(var be=0;be<ke.length;be+=3)pe.push(ke[be]+de,ke[be+1],ke[be+2]);return pe}function Yi(ke,de){if(ke.transformed)return ke;var pe,be,Ee,Fe=1<<ke.z,We=ke.x,Ue=ke.y;for(pe=0;pe<ke.features.length;pe++){var X=ke.features[pe],$e=X.geometry,wt=X.type;if(X.geometry=[],1===wt)for(be=0;be<$e.length;be+=2)X.geometry.push(Ii($e[be],$e[be+1],de,Fe,We,Ue));else for(be=0;be<$e.length;be++){var St=[];for(Ee=0;Ee<$e[be].length;Ee+=2)St.push(Ii($e[be][Ee],$e[be][Ee+1],de,Fe,We,Ue));X.geometry.push(St)}}return ke.transformed=!0,ke}function Ii(ke,de,pe,be,Ee,Fe){return[Math.round(pe*(ke*be-Ee)),Math.round(pe*(de*be-Fe))]}function ci(ke,de,pe,be,Ee){for(var Fe=de===Ee.maxZoom?0:Ee.tolerance/((1<<de)*Ee.extent),We={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:pe,y:be,z:de,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ue=0;Ue<ke.length;Ue++){We.numFeatures++,rr(We,ke[Ue],Fe,Ee);var X=ke[Ue].minX,$e=ke[Ue].minY,wt=ke[Ue].maxX,St=ke[Ue].maxY;X<We.minX&&(We.minX=X),$e<We.minY&&(We.minY=$e),wt>We.maxX&&(We.maxX=wt),St>We.maxY&&(We.maxY=St)}return We}function rr(ke,de,pe,be){var Ee=de.geometry,Fe=de.type,We=[];if("Point"===Fe||"MultiPoint"===Fe)for(var Ue=0;Ue<Ee.length;Ue+=3)We.push(Ee[Ue]),We.push(Ee[Ue+1]),ke.numPoints++,ke.numSimplified++;else if("LineString"===Fe)On(We,Ee,ke,pe,!1,!1);else if("MultiLineString"===Fe||"Polygon"===Fe)for(Ue=0;Ue<Ee.length;Ue++)On(We,Ee[Ue],ke,pe,"Polygon"===Fe,0===Ue);else if("MultiPolygon"===Fe)for(var X=0;X<Ee.length;X++){var $e=Ee[X];for(Ue=0;Ue<$e.length;Ue++)On(We,$e[Ue],ke,pe,!0,0===Ue)}if(We.length){var wt=de.tags||null;if("LineString"===Fe&&be.lineMetrics){for(var St in wt={},de.tags)wt[St]=de.tags[St];wt.mapbox_clip_start=Ee.start/Ee.size,wt.mapbox_clip_end=Ee.end/Ee.size}var ft={geometry:We,type:"Polygon"===Fe||"MultiPolygon"===Fe?3:"LineString"===Fe||"MultiLineString"===Fe?2:1,tags:wt};null!==de.id&&(ft.id=de.id),ke.features.push(ft)}}function On(ke,de,pe,be,Ee,Fe){var We=be*be;if(be>0&&de.size<(Ee?We:be))pe.numPoints+=de.length/3;else{for(var Ue=[],X=0;X<de.length;X+=3)(0===be||de[X+2]>We)&&(pe.numSimplified++,Ue.push(de[X]),Ue.push(de[X+1])),pe.numPoints++;Ee&&function($e,wt){for(var St=0,ft=0,si=$e.length,ii=si-2;ft<si;ii=ft,ft+=2)St+=($e[ft]-$e[ii])*($e[ft+1]+$e[ii+1]);if(St>0===wt)for(ft=0,si=$e.length;ft<si/2;ft+=2){var Qt=$e[ft],pt=$e[ft+1];$e[ft]=$e[si-2-ft],$e[ft+1]=$e[si-1-ft],$e[si-2-ft]=Qt,$e[si-1-ft]=pt}}(Ue,Fe),ke.push(Ue)}}function va(ke,de){var pe=(de=this.options=function(Ee,Fe){for(var We in Fe)Ee[We]=Fe[We];return Ee}(Object.create(this.options),de)).debug;if(pe&&console.time("preprocess data"),de.maxZoom<0||de.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(de.promoteId&&de.generateId)throw new Error("promoteId and generateId cannot be used together.");var Ee,Fe,We,Ue,X,$e,be=function(Ee,Fe){var We=[];if("FeatureCollection"===Ee.type)for(var Ue=0;Ue<Ee.features.length;Ue++)zr(We,Ee.features[Ue],Fe,Ue);else zr(We,"Feature"===Ee.type?Ee:{geometry:Ee},Fe);return We}(ke,de);this.tiles={},this.tileCoords=[],pe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",de.indexMaxZoom,de.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Ue=Ee=be,X=Ui(Ee,1,-1-(We=(Fe=de).buffer/Fe.extent),We,0,-1,2,Fe),$e=Ui(Ee,1,1-We,2+We,0,-1,2,Fe),(X||$e)&&(Ue=Ui(Ee,1,-We,1+We,0,-1,2,Fe)||[],X&&(Ue=Wi(X,1).concat(Ue)),$e&&(Ue=Ue.concat(Wi($e,-1)))),(be=Ue).length&&this.splitTile(be,0,0,0),pe&&(be.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Zt(ke,de,pe){return 32*((1<<ke)*pe+de)+ke}function oa(ke,de){const pe=ke.tileID.canonical;if(!this._geoJSONIndex)return de(null,null);const be=this._geoJSONIndex.getTile(pe.z,pe.x,pe.y);if(!be)return de(null,null);const Ee=new class{constructor(We){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=We.length,this._features=We}feature(We){return new class{constructor(Ue){this._feature=Ue,this.extent=a.EXTENT,this.type=Ue.type,this.properties=Ue.tags,"id"in Ue&&!isNaN(Ue.id)&&(this.id=parseInt(Ue.id,10))}loadGeometry(){if(1===this._feature.type){const Ue=[];for(const X of this._feature.geometry)Ue.push([new a.Point(X[0],X[1])]);return Ue}{const Ue=[];for(const X of this._feature.geometry){const $e=[];for(const wt of X)$e.push(new a.Point(wt[0],wt[1]));Ue.push($e)}return Ue}}toGeoJSON(Ue,X,$e){return Te.call(this,Ue,X,$e)}}(this._features[We])}}(be.features);let Fe=fi(Ee);0===Fe.byteOffset&&Fe.byteLength===Fe.buffer.byteLength||(Fe=new Uint8Array(Fe)),de(null,{vectorTile:Ee,rawData:Fe.buffer})}va.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},va.prototype.splitTile=function(ke,de,pe,be,Ee,Fe,We){for(var Ue=[ke,de,pe,be],X=this.options,$e=X.debug;Ue.length;){be=Ue.pop(),pe=Ue.pop(),de=Ue.pop(),ke=Ue.pop();var wt=1<<de,St=Zt(de,pe,be),ft=this.tiles[St];if(!ft&&($e>1&&console.time("creation"),ft=this.tiles[St]=ci(ke,de,pe,be,X),this.tileCoords.push({z:de,x:pe,y:be}),$e)){$e>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",de,pe,be,ft.numFeatures,ft.numPoints,ft.numSimplified),console.timeEnd("creation"));var si="z"+de;this.stats[si]=(this.stats[si]||0)+1,this.total++}if(ft.source=ke,Ee){if(de===X.maxZoom||de===Ee)continue;var ii=1<<Ee-de;if(pe!==Math.floor(Fe/ii)||be!==Math.floor(We/ii))continue}else if(de===X.indexMaxZoom||ft.numPoints<=X.indexMaxPoints)continue;if(ft.source=null,0!==ke.length){$e>1&&console.time("clipping");var Qt,pt,_i,_n,Vi,Ln,oi=.5*X.buffer/X.extent,Li=.5-oi,Zn=.5+oi,$i=1+oi;Qt=pt=_i=_n=null,Vi=Ui(ke,wt,pe-oi,pe+Zn,0,ft.minX,ft.maxX,X),Ln=Ui(ke,wt,pe+Li,pe+$i,0,ft.minX,ft.maxX,X),ke=null,Vi&&(Qt=Ui(Vi,wt,be-oi,be+Zn,1,ft.minY,ft.maxY,X),pt=Ui(Vi,wt,be+Li,be+$i,1,ft.minY,ft.maxY,X),Vi=null),Ln&&(_i=Ui(Ln,wt,be-oi,be+Zn,1,ft.minY,ft.maxY,X),_n=Ui(Ln,wt,be+Li,be+$i,1,ft.minY,ft.maxY,X),Ln=null),$e>1&&console.timeEnd("clipping"),Ue.push(Qt||[],de+1,2*pe,2*be),Ue.push(pt||[],de+1,2*pe,2*be+1),Ue.push(_i||[],de+1,2*pe+1,2*be),Ue.push(_n||[],de+1,2*pe+1,2*be+1)}}},va.prototype.getTile=function(ke,de,pe){var be=this.options,Ee=be.extent,Fe=be.debug;if(ke<0||ke>24)return null;var We=1<<ke,Ue=Zt(ke,de=(de%We+We)%We,pe);if(this.tiles[Ue])return Yi(this.tiles[Ue],Ee);Fe>1&&console.log("drilling down to z%d-%d-%d",ke,de,pe);for(var X,$e=ke,wt=de,St=pe;!X&&$e>0;)$e--,wt=Math.floor(wt/2),St=Math.floor(St/2),X=this.tiles[Zt($e,wt,St)];return X&&X.source?(Fe>1&&console.log("found parent tile z%d-%d-%d",$e,wt,St),Fe>1&&console.time("drilling down"),this.splitTile(X.source,$e,wt,St,ke,de,pe),Fe>1&&console.timeEnd("drilling down"),this.tiles[Ue]?Yi(this.tiles[Ue],Ee):null):null};class Fa extends a.VectorTileWorkerSource{constructor(de,pe,be,Ee,Fe){super(de,pe,be,Ee,oa),Fe&&(this.loadGeoJSON=Fe)}loadData(de,pe){const be=de&&de.request,Ee=be&&be.collectResourceTiming;this.loadGeoJSON(de,(Fe,We)=>{if(Fe||!We)return pe(Fe);if("object"!=typeof We)return pe(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`));{ht(We,!0);try{if(de.filter){const X=a.createExpression(de.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===X.result)throw new Error(X.value.map(wt=>`${wt.key}: ${wt.message}`).join(", "));const $e=We.features.filter(wt=>X.value.evaluate({zoom:0},wt));We={type:"FeatureCollection",features:$e}}this._geoJSONIndex=de.cluster?new cn(function({superclusterOptions:X,clusterProperties:$e}){if(!$e||!X)return X;const wt={},St={},ft={accumulated:null,zoom:0},si={properties:null},ii=Object.keys($e);for(const Qt of ii){const[pt,_i]=$e[Qt],_n=a.createExpression(_i),Vi=a.createExpression("string"==typeof pt?[pt,["accumulated"],["get",Qt]]:pt);wt[Qt]=_n.value,St[Qt]=Vi.value}return X.map=Qt=>{si.properties=Qt;const pt={};for(const _i of ii)pt[_i]=wt[_i].evaluate(ft,si);return pt},X.reduce=(Qt,pt)=>{si.properties=pt;for(const _i of ii)ft.accumulated=Qt[_i],Qt[_i]=St[_i].evaluate(ft,si)},X}(de)).load(We.features):new va(X=We,de.geojsonVtOptions)}catch(X){return pe(X)}this.loaded={};const Ue={};if(Ee){const X=a.getPerformanceMeasurement(be);X&&(Ue.resourceTiming={},Ue.resourceTiming[de.source]=JSON.parse(JSON.stringify(X)))}pe(null,Ue)}var X})}reloadTile(de,pe){const be=this.loaded;return be&&be[de.uid]?super.reloadTile(de,pe):this.loadTile(de,pe)}loadGeoJSON(de,pe){if(de.request)a.getJSON(de.request,pe);else{if("string"!=typeof de.data)return pe(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`));try{return pe(null,JSON.parse(de.data))}catch(be){return pe(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(de,pe){try{pe(null,this._geoJSONIndex.getClusterExpansionZoom(de.clusterId))}catch(be){pe(be)}}getClusterChildren(de,pe){try{pe(null,this._geoJSONIndex.getChildren(de.clusterId))}catch(be){pe(be)}}getClusterLeaves(de,pe){try{pe(null,this._geoJSONIndex.getLeaves(de.clusterId,de.limit,de.offset))}catch(be){pe(be)}}}class Rn{constructor(de){this.self=de,this.actor=new a.Actor(de,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=a.getProjection({name:"mercator"}),this.workerSourceTypes={vector:a.VectorTileWorkerSource,geojson:Fa},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(pe,be)=>{if(this.workerSourceTypes[pe])throw new Error(`Worker source with name "${pe}" already registered.`);this.workerSourceTypes[pe]=be},this.self.registerRTLTextPlugin=pe=>{if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=pe.applyArabicShaping,a.plugin.processBidirectionalText=pe.processBidirectionalText,a.plugin.processStyledBidirectionalText=pe.processStyledBidirectionalText}}clearCaches(de,pe,be){delete this.layerIndexes[de],delete this.availableImages[de],delete this.workerSources[de],delete this.demWorkerSources[de],be()}checkIfReady(de,pe,be){be()}setReferrer(de,pe){this.referrer=pe}spriteLoaded(de,pe){this.isSpriteLoaded[de]=pe;for(const be in this.workerSources[de]){const Ee=this.workerSources[de][be];for(const Fe in Ee)Ee[Fe]instanceof a.VectorTileWorkerSource&&(Ee[Fe].isSpriteLoaded=pe,Ee[Fe].fire(new a.Event("isSpriteLoaded")))}}setImages(de,pe,be){this.availableImages[de]=pe;for(const Ee in this.workerSources[de]){const Fe=this.workerSources[de][Ee];for(const We in Fe)Fe[We].availableImages=pe}be()}enableTerrain(de,pe,be){this.terrain=pe,be()}setProjection(de,pe){this.projections[de]=a.getProjection(pe)}setLayers(de,pe,be){this.getLayerIndex(de).replace(pe),be()}updateLayers(de,pe,be){this.getLayerIndex(de).update(pe.layers,pe.removedIds),be()}loadTile(de,pe,be){const Ee=this.enableTerrain?a.extend({enableTerrain:this.terrain},pe):pe;Ee.projection=this.projections[de]||this.defaultProjection,this.getWorkerSource(de,pe.type,pe.source).loadTile(Ee,be)}loadDEMTile(de,pe,be){const Ee=this.enableTerrain?a.extend({buildQuadTree:this.terrain},pe):pe;this.getDEMWorkerSource(de,pe.source).loadTile(Ee,be)}reloadTile(de,pe,be){const Ee=this.enableTerrain?a.extend({enableTerrain:this.terrain},pe):pe;Ee.projection=this.projections[de]||this.defaultProjection,this.getWorkerSource(de,pe.type,pe.source).reloadTile(Ee,be)}abortTile(de,pe,be){this.getWorkerSource(de,pe.type,pe.source).abortTile(pe,be)}removeTile(de,pe,be){this.getWorkerSource(de,pe.type,pe.source).removeTile(pe,be)}removeSource(de,pe,be){if(!this.workerSources[de]||!this.workerSources[de][pe.type]||!this.workerSources[de][pe.type][pe.source])return;const Ee=this.workerSources[de][pe.type][pe.source];delete this.workerSources[de][pe.type][pe.source],void 0!==Ee.removeSource?Ee.removeSource(pe,be):be()}loadWorkerSource(de,pe,be){try{this.self.importScripts(pe.url),be()}catch(Ee){be(Ee.toString())}}syncRTLPluginState(de,pe,be){try{a.plugin.setState(pe);const Ee=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&null!=Ee){this.self.importScripts(Ee);const Fe=a.plugin.isParsed();be(Fe?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Ee}`),Fe)}}catch(Ee){be(Ee.toString())}}getAvailableImages(de){let pe=this.availableImages[de];return pe||(pe=[]),pe}getLayerIndex(de){let pe=this.layerIndexes[de];return pe||(pe=this.layerIndexes[de]=new Q),pe}getWorkerSource(de,pe,be){return this.workerSources[de]||(this.workerSources[de]={}),this.workerSources[de][pe]||(this.workerSources[de][pe]={}),this.workerSources[de][pe][be]||(this.workerSources[de][pe][be]=new this.workerSourceTypes[pe]({send:(Fe,We,Ue,X,$e,wt)=>{this.actor.send(Fe,We,Ue,de,$e,wt)},scheduler:this.actor.scheduler},this.getLayerIndex(de),this.getAvailableImages(de),this.isSpriteLoaded[de])),this.workerSources[de][pe][be]}getDEMWorkerSource(de,pe){return this.demWorkerSources[de]||(this.demWorkerSources[de]={}),this.demWorkerSources[de][pe]||(this.demWorkerSources[de][pe]=new oe),this.demWorkerSources[de][pe]}enforceCacheSizeLimit(de,pe){a.enforceCacheSizeLimit(pe)}getWorkerPerformanceMetrics(de,pe,be){be(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new Rn(self)),Rn}),A(0,function(a){function d(p,n){if(Array.isArray(p)){if(!Array.isArray(n)||p.length!==n.length)return!1;for(let l=0;l<p.length;l++)if(!d(p[l],n[l]))return!1;return!0}if("object"==typeof p&&null!==p&&null!==n){if("object"!=typeof n||Object.keys(p).length!==Object.keys(n).length)return!1;for(const l in p)if(!d(p[l],n[l]))return!1;return!0}return p===n}var J=Q;function Q(p){return n=p,!("undefined"==typeof window||"undefined"==typeof document||!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)||!Function.prototype||!Function.prototype.bind||!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions)||!("JSON"in window&&"parse"in JSON&&"stringify"in JSON)||!function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var m,v,M=new Blob([""],{type:"text/javascript"}),P=URL.createObjectURL(M);try{v=new Worker(P),m=!0}catch(O){m=!1}return v&&v.terminate(),URL.revokeObjectURL(P),m}()||!("Uint8ClampedArray"in window)||!ArrayBuffer.isView||!function(){var m=document.createElement("canvas");m.width=m.height=1;var v=m.getContext("2d");if(!v)return!1;var M=v.getImageData(0,0,1,1);return M&&M.width===m.width}()||(void 0===oe[l=n&&n.failIfMajorPerformanceCaveat]&&(oe[l]=function(m){var v,P,O,V,M=(P=m,O=document.createElement("canvas"),(V=Object.create(Q.webGLContextAttributes)).failIfMajorPerformanceCaveat=P,O.getContext("webgl",V)||O.getContext("experimental-webgl",V));if(!M)return!1;try{v=M.createShader(M.VERTEX_SHADER)}catch(P){return!1}return!(!v||M.isContextLost())&&(M.shaderSource(v,"void main() {}"),M.compileShader(v),!0===M.getShaderParameter(v,M.COMPILE_STATUS))}(l)),!oe[l]||document.documentMode));var n,l}var oe={};function ye(p,n,l){const m=a.window.document.createElement(p);return void 0!==n&&(m.className=n),l&&l.appendChild(m),m}function Oe(p,n,l){const m=a.window.document.createElementNS("http://www.w3.org/2000/svg",p);for(const v of Object.keys(n))m.setAttributeNS(null,v,n[v]);return l&&l.appendChild(m),m}Q.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const ht=a.window.document&&a.window.document.documentElement.style,Te=ht&&void 0!==ht.userSelect?"userSelect":"WebkitUserSelect";let gt;function Mt(){ht&&Te&&(gt=ht[Te],ht[Te]="none")}function qe(){ht&&Te&&(ht[Te]=gt)}function Me(p){p.preventDefault(),p.stopPropagation(),a.window.removeEventListener("click",Me,!0)}function Je(){a.window.addEventListener("click",Me,!0),a.window.setTimeout(()=>{a.window.removeEventListener("click",Me,!0)},0)}function yt(p,n){const l=p.getBoundingClientRect();return ut(p,l,n)}function Ke(p,n){const l=p.getBoundingClientRect(),m=[];for(let v=0;v<n.length;v++)m.push(ut(p,l,n[v]));return m}function Ve(p){return void 0!==a.window.InstallTrigger&&2===p.button&&p.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:p.button}function ut(p,n,l){const m=p.offsetWidth===n.width?1:p.offsetWidth/n.width;return new a.Point((l.clientX-n.left)*m,(l.clientY-n.top)*m)}function He(p,n){var l=n[0],m=n[1],v=n[2],M=n[3],P=l*M-v*m;return P?(p[0]=M*(P=1/P),p[1]=-m*P,p[2]=-v*P,p[3]=l*P,p):null}function vt(p){const{userImage:n}=p;return!!(n&&n.render&&n.render())&&(p.data.replace(new Uint8Array(n.data.buffer)),!0)}class Rt extends a.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(n){if(this.loaded!==n&&(this.loaded=n,n)){for(const{ids:l,callback:m}of this.requestors)this._notify(l,m);this.requestors=[]}}hasImage(n){return!!this.getImage(n)}getImage(n){return this.images[n]}addImage(n,l){this._validate(n,l)&&(this.images[n]=l)}_validate(n,l){let m=!0;return this._validateStretch(l.stretchX,l.data&&l.data.width)||(this.fire(new a.ErrorEvent(new Error(`Image "${n}" has invalid "stretchX" value`))),m=!1),this._validateStretch(l.stretchY,l.data&&l.data.height)||(this.fire(new a.ErrorEvent(new Error(`Image "${n}" has invalid "stretchY" value`))),m=!1),this._validateContent(l.content,l)||(this.fire(new a.ErrorEvent(new Error(`Image "${n}" has invalid "content" value`))),m=!1),m}_validateStretch(n,l){if(!n)return!0;let m=0;for(const v of n){if(v[0]<m||v[1]<v[0]||l<v[1])return!1;m=v[1]}return!0}_validateContent(n,l){return!(n&&(4!==n.length||n[0]<0||l.data.width<n[0]||n[1]<0||l.data.height<n[1]||n[2]<0||l.data.width<n[2]||n[3]<0||l.data.height<n[3]||n[2]<n[0]||n[3]<n[1]))}updateImage(n,l){l.version=this.images[n].version+1,this.images[n]=l,this.updatedImages[n]=!0}removeImage(n){const l=this.images[n];delete this.images[n],delete this.patterns[n],l.userImage&&l.userImage.onRemove&&l.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(n,l){let m=!0;if(!this.isLoaded())for(const v of n)this.images[v]||(m=!1);this.isLoaded()||m?this._notify(n,l):this.requestors.push({ids:n,callback:l})}_notify(n,l){const m={};for(const v of n){this.images[v]||this.fire(new a.Event("styleimagemissing",{id:v}));const M=this.images[v];M?m[v]={data:M.data.clone(),pixelRatio:M.pixelRatio,sdf:M.sdf,version:M.version,stretchX:M.stretchX,stretchY:M.stretchY,content:M.content,hasRenderCallback:Boolean(M.userImage&&M.userImage.render)}:a.warnOnce(`Image "${v}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}l(null,m)}getPixelSize(){const{width:n,height:l}=this.atlasImage;return{width:n,height:l}}getPattern(n){const l=this.patterns[n],m=this.getImage(n);if(!m)return null;if(l&&l.position.version===m.version)return l.position;if(l)l.position.version=m.version;else{const v={w:m.data.width+2,h:m.data.height+2,x:0,y:0},M=new a.ImagePosition(v,m);this.patterns[n]={bin:v,position:M}}return this._updatePatternAtlas(),this.patterns[n].position}bind(n){const l=n.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(n,this.atlasImage,l.RGBA),this.atlasTexture&&this.atlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE)}_updatePatternAtlas(){const n=[];for(const M in this.patterns)n.push(this.patterns[M].bin);const{w:l,h:m}=a.potpack(n),v=this.atlasImage;v.resize({width:l||1,height:m||1});for(const M in this.patterns){const{bin:P}=this.patterns[M],O=P.x+1,V=P.y+1,$=this.images[M].data,q=$.width,re=$.height;a.RGBAImage.copy($,v,{x:0,y:0},{x:O,y:V},{width:q,height:re}),a.RGBAImage.copy($,v,{x:0,y:re-1},{x:O,y:V-1},{width:q,height:1}),a.RGBAImage.copy($,v,{x:0,y:0},{x:O,y:V+re},{width:q,height:1}),a.RGBAImage.copy($,v,{x:q-1,y:0},{x:O-1,y:V},{width:1,height:re}),a.RGBAImage.copy($,v,{x:0,y:0},{x:O+q,y:V},{width:1,height:re})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(n){for(const l of n){if(this.callbackDispatchedThisFrame[l])continue;this.callbackDispatchedThisFrame[l]=!0;const m=this.images[l];vt(m)&&this.updateImage(l,m)}}}const Tt=new a.Properties({anchor:new a.DataConstantProperty(a.spec.light.anchor),position:new class{constructor(){this.specification=a.spec.light.position}possiblyEvaluate(p,n){return function([l,m,v]){const M=a.degToRad(m+90),P=a.degToRad(v);return{x:l*Math.cos(M)*Math.sin(P),y:l*Math.sin(M)*Math.sin(P),z:l*Math.cos(P),azimuthal:m,polar:v}}(p.expression.evaluate(n))}interpolate(p,n,l){return{x:a.number(p.x,n.x,l),y:a.number(p.y,n.y,l),z:a.number(p.z,n.z,l),azimuthal:a.number(p.azimuthal,n.azimuthal,l),polar:a.number(p.polar,n.polar,l)}}},color:new a.DataConstantProperty(a.spec.light.color),intensity:new a.DataConstantProperty(a.spec.light.intensity)});class Gt extends a.Evented{constructor(n){super(),this._transitionable=new a.Transitionable(Tt),this.setLight(n),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(n,l={}){if(!this._validate(a.validateLight,n,l))for(const m in n){const v=n[m];a.endsWith(m,"-transition")?this._transitionable.setTransition(m.slice(0,-11),v):this._transitionable.setValue(m,v)}}updateTransitions(n){this._transitioning=this._transitionable.transitioned(n,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(n){this.properties=this._transitioning.possiblyEvaluate(n)}_validate(n,l,m){return(!m||!1!==m.validate)&&a.emitValidationErrors(this,n.call(a.validateStyle,a.extend({value:l,style:{glyphs:!0,sprite:!0},styleSpec:a.spec})))}}const sn=new a.Properties({source:new a.DataConstantProperty(a.spec.terrain.source),exaggeration:new a.DataConstantProperty(a.spec.terrain.exaggeration)});let ki=class extends a.Evented{constructor(p,n){super(),this._transitionable=new a.Transitionable(sn),this.set(p),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=n}get(){return this._transitionable.serialize()}set(p){for(const n in p){const l=p[n];a.endsWith(n,"-transition")?this._transitionable.setTransition(n.slice(0,-11),l):this._transitionable.setValue(n,l)}}updateTransitions(p){this._transitioning=this._transitionable.transitioned(p,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(p){this.properties=this._transitioning.possiblyEvaluate(p)}};function fi(p,n,l,m){const v=a.smoothstep(45,65,l),[M,P]=vr(p,m),O=a.length(n);let V=1-Math.min(1,Math.exp((O-M)/(P-M)*-6));return V*=V*V,V=Math.min(1,1.00747*V),V*v*p.alpha}function vr(p,n){const l=.5/Math.tan(.5*n);return[p.range[0]+l,p.range[1]+l]}const ti=new a.Properties({range:new a.DataConstantProperty(a.spec.fog.range),color:new a.DataConstantProperty(a.spec.fog.color),"high-color":new a.DataConstantProperty(a.spec.fog["high-color"]),"space-color":new a.DataConstantProperty(a.spec.fog["space-color"]),"horizon-blend":new a.DataConstantProperty(a.spec.fog["horizon-blend"]),"star-intensity":new a.DataConstantProperty(a.spec.fog["star-intensity"])});class Dn extends a.Evented{constructor(n,l){super(),this._transitionable=new a.Transitionable(ti),this.set(n),this._transitioning=this._transitionable.untransitioned(),this._transform=l}get state(){const n=this._transform,l="globe"===n.projection.name,m=a.globeToMercatorTransition(n.zoom),v=this.properties.get("range"),M=[.5,3];return{range:l?[a.number(M[0],v[0],m),a.number(M[1],v[1],m)]:v,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(n,l={}){if(!this._validate(a.validateFog,n,l)){for(const m of Object.keys(a.spec.fog))n&&void 0===n[m]&&(n[m]=a.spec.fog[m].default);for(const m in n){const v=n[m];a.endsWith(m,"-transition")?this._transitionable.setTransition(m.slice(0,-11),v):this._transitionable.setValue(m,v)}}}getOpacity(n){if(!this._transform.projection.supportsFog)return 0;const l=this.properties&&this.properties.get("color")||1;return("globe"===this._transform.projection.name?1:a.smoothstep(45,65,n))*l.a}getOpacityAtLatLng(n,l){return this._transform.projection.supportsFog?function(m,v,M){const P=a.MercatorCoordinate.fromLngLat(v),O=M.elevation?M.elevation.getAtPointOrZero(P):0,V=[P.x,P.y,O];return a.transformMat4(V,V,M.mercatorFogMatrix),fi(m,V,M.pitch,M._fov)}(this.state,n,l):0}getFovAdjustedRange(n){return this._transform.projection.supportsFog?vr(this.state,n):[0,1]}updateTransitions(n){this._transitioning=this._transitionable.transitioned(n,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(n){this.properties=this._transitioning.possiblyEvaluate(n)}_validate(n,l,m){return(!m||!1!==m.validate)&&a.emitValidationErrors(this,n.call(a.validateStyle,a.extend({value:l,style:{glyphs:!0,sprite:!0},styleSpec:a.spec})))}}class pn{constructor(n,l){this.workerPool=n,this.actors=[],this.currentActor=0,this.id=a.uniqueId();const m=this.workerPool.acquire(this.id);for(let v=0;v<m.length;v++){const M=new pn.Actor(m[v],l,this.id);M.name=`Worker ${v}`,this.actors.push(M)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(n,l,m){a.asyncAll(this.actors,(v,M)=>{v.send(n,l,M)},m=m||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(n=>{n.remove()}),this.actors=[],this.workerPool.release(this.id)}}function wn(p,n,l){return n*(a.EXTENT/(p.tileSize*Math.pow(2,l-p.tileID.overscaledZ)))}pn.Actor=a.Actor;class En{constructor(n,l,m,v){this.screenBounds=n,this.cameraPoint=l,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=m,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,v)}static createFromScreenPoints(n,l){let m,v;if(n instanceof a.Point||"number"==typeof n[0]){const M=a.Point.convert(n);m=[M],v=l.isPointAboveHorizon(M)}else{const M=a.Point.convert(n[0]),P=a.Point.convert(n[1]);m=[M,P],v=a.polygonizeBounds(M,P).every(O=>l.isPointAboveHorizon(O))}return new En(m,l.getCameraPoint(),v,l)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(n){return a.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],n)}bufferedCameraGeometry(n){const l=this.screenBounds[0],m=1===this.screenBounds.length?this.screenBounds[0].add(new a.Point(1,1)):this.screenBounds[1],v=a.polygonizeBounds(l,m,0,!1);return this.cameraPoint.y>m.y&&(this.cameraPoint.x>l.x&&this.cameraPoint.x<m.x?v.splice(3,0,this.cameraPoint):this.cameraPoint.x>=m.x?v[2]=this.cameraPoint:this.cameraPoint.x<=l.x&&(v[3]=this.cameraPoint)),a.bufferConvexPolygon(v,n)}bufferedCameraGeometryGlobe(n){const l=this.screenBounds[0],m=1===this.screenBounds.length?this.screenBounds[0].add(new a.Point(1,1)):this.screenBounds[1],v=a.polygonizeBounds(l,m,n),M=this.cameraPoint.clone();switch(3*((M.y>l.y)+(M.y>m.y))+((M.x>l.x)+(M.x>m.x))){case 0:v[0]=M,v[4]=M.clone();break;case 1:v.splice(1,0,M);break;case 2:v[1]=M;break;case 3:v.splice(4,0,M);break;case 5:v.splice(2,0,M);break;case 6:v[3]=M;break;case 7:v.splice(3,0,M);break;case 8:v[2]=M}return v}containsTile(n,l,m,v=0){const M=n.queryPadding/l._pixelsPerMercatorPixel+1,P=m?this._bufferedCameraMercator(M,l):this._bufferedScreenMercator(M,l);let O=n.tileID.wrap+(P.unwrapped?v:0);const V=P.polygon.map(y=>a.getTilePoint(n.tileTransform,y,O));if(!a.polygonIntersectsBox(V,0,0,a.EXTENT,a.EXTENT))return;O=n.tileID.wrap+(this.screenGeometryMercator.unwrapped?v:0);const $=this.screenGeometryMercator.polygon.map(y=>a.getTileVec3(n.tileTransform,y,O)),q=$.map(y=>new a.Point(y[0],y[1])),re=l.getFreeCameraOptions().position||new a.MercatorCoordinate(0,0,0),r=a.getTileVec3(n.tileTransform,re,O),o=$.map(y=>{const b=a.sub(y,y,r);return a.normalize(b,b),new a.Ray(r,b)}),h=wn(n,1,l.zoom)*l._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:q,tilespaceRays:o,bufferedTilespaceGeometry:V,bufferedTilespaceBounds:(f=a.getBounds(V),f.min.x=a.clamp(f.min.x,0,a.EXTENT),f.min.y=a.clamp(f.min.y,0,a.EXTENT),f.max.x=a.clamp(f.max.x,0,a.EXTENT),f.max.y=a.clamp(f.max.y,0,a.EXTENT),f),tile:n,tileID:n.tileID,pixelToTileUnitsFactor:h};var f}_bufferedScreenMercator(n,l){const m=dr(n);if(this._screenRaycastCache[m])return this._screenRaycastCache[m];{let v;return v="globe"===l.projection.name?this._projectAndResample(this.bufferedScreenGeometry(n),l):{polygon:this.bufferedScreenGeometry(n).map(M=>l.pointCoordinate3D(M)),unwrapped:!0},this._screenRaycastCache[m]=v,v}}_bufferedCameraMercator(n,l){const m=dr(n);if(this._cameraRaycastCache[m])return this._cameraRaycastCache[m];{let v;return v="globe"===l.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(n),l):{polygon:this.bufferedCameraGeometry(n).map(M=>l.pointCoordinate3D(M)),unwrapped:!0},this._cameraRaycastCache[m]=v,v}}_projectAndResample(n,l){const m=function(M,P){const O=a.multiply([],P.pixelMatrix,P.globeMatrix),V=[0,-a.GLOBE_RADIUS,0,1],$=[0,a.GLOBE_RADIUS,0,1],q=[0,0,0,1];a.transformMat4$1(V,V,O),a.transformMat4$1($,$,O),a.transformMat4$1(q,q,O);const re=new a.Point(V[0]/V[3],V[1]/V[3]),r=new a.Point($[0]/$[3],$[1]/$[3]),o=a.polygonContainsPoint(M,re)&&V[3]<q[3],h=a.polygonContainsPoint(M,r)&&$[3]<q[3];if(!o&&!h)return null;const f=function(U,ie,ce){for(let he=1;he<U.length;he++){const ve=Ni(ie.pointCoordinate3D(U[he-1]).x),ge=Ni(ie.pointCoordinate3D(U[he]).x);if(ce<0){if(ve<ge)return{idx:he,t:-ve/(ge-1-ve)}}else if(ge<ve)return{idx:he,t:(1-ve)/(ge+1-ve)}}return null}(M,P,o?-1:1);if(!f)return null;const{idx:y,t:b}=f;let k=y>1?cn(M.slice(0,y),P):[],I=y<M.length?cn(M.slice(y),P):[];k=k.map(U=>new a.Point(Ni(U.x),U.y)),I=I.map(U=>new a.Point(Ni(U.x),U.y));const C=[...k];0===C.length&&C.push(I[I.length-1]);const F=a.number(C[C.length-1].y,(0===I.length?k[0]:I[0]).y,b);let N;return N=o?[new a.Point(0,F),new a.Point(0,0),new a.Point(1,0),new a.Point(1,F)]:[new a.Point(1,F),new a.Point(1,1),new a.Point(0,1),new a.Point(0,F)],C.push(...N),0===I.length?C.push(k[0]):C.push(...I),{polygon:C.map(U=>new a.MercatorCoordinate(U.x,U.y)),unwrapped:!1}}(n,l);if(m)return m;const v=function(M,P){let O=!1,V=-1/0,$=0;for(let re=0;re<M.length-1;re++)M[re].x>V&&(V=M[re].x,$=re);for(let re=0;re<M.length-1;re++){const r=($+re)%(M.length-1),o=M[r],h=M[r+1];Math.abs(o.x-h.x)>.5&&(o.x<h.x?(o.x+=1,0===r&&(M[M.length-1].x+=1)):(h.x+=1,r+1===M.length-1&&(M[0].x+=1)),O=!0)}const q=a.mercatorXfromLng(P.center.lng);return O&&q<Math.abs(q-1)&&M.forEach(re=>{re.x-=1}),{polygon:M,unwrapped:O}}(cn(n,l).map(M=>new a.Point(Ni(M.x),M.y)),l);return{polygon:v.polygon.map(M=>new a.MercatorCoordinate(M.x,M.y)),unwrapped:v.unwrapped}}}function cn(p,n){return a.resample(p,l=>{const m=n.pointCoordinate3D(l);l.x=m.x,l.y=m.y},1/256)}function Ni(p){return p<0?1+p%1:p%1}function dr(p){return 100*p|0}function yn(p,n,l,m,v){const M=function(P,O){if(P)return v(P);if(O){p.url&&O.tiles&&p.tiles&&delete p.tiles;const V=a.pick(a.extend(O,p),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);O.vector_layers&&(V.vectorLayers=O.vector_layers,V.vectorLayerIds=V.vectorLayers.map($=>$.id)),V.tiles=n.canonicalizeTileset(V,p.url),v(null,V)}};return p.url?a.getJSON(n.transformRequest(n.normalizeSourceURL(p.url,null,l,m),a.ResourceType.Source),M):a.exported.frame(()=>M(null,p))}class Ut{constructor(n,l,m){this.bounds=a.LngLatBounds.convert(this.validateBounds(n)),this.minzoom=l||0,this.maxzoom=m||24}validateBounds(n){return Array.isArray(n)&&4===n.length?[Math.max(-180,n[0]),Math.max(-90,n[1]),Math.min(180,n[2]),Math.min(90,n[3])]:[-180,-90,180,90]}contains(n){const l=Math.pow(2,n.z),m=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*l),v=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*l),M=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*l),P=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*l);return n.x>=m&&n.x<M&&n.y>=v&&n.y<P}}class Sr{constructor(n,l,m){this.context=n;const v=n.gl;this.buffer=v.createBuffer(),this.dynamicDraw=Boolean(m),this.context.unbindVAO(),n.bindElementBuffer.set(this.buffer),v.bufferData(v.ELEMENT_ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||l.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(n){const l=this.context.gl;this.context.unbindVAO(),this.bind(),l.bufferSubData(l.ELEMENT_ARRAY_BUFFER,0,n.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const en={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Mn{constructor(n,l,m,v){this.length=l.length,this.attributes=m,this.itemSize=l.bytesPerElement,this.dynamicDraw=v,this.context=n;const M=n.gl;this.buffer=M.createBuffer(),n.bindVertexBuffer.set(this.buffer),M.bufferData(M.ARRAY_BUFFER,l.arrayBuffer,this.dynamicDraw?M.DYNAMIC_DRAW:M.STATIC_DRAW),this.dynamicDraw||l.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(n){const l=this.context.gl;this.bind(),l.bufferSubData(l.ARRAY_BUFFER,0,n.arrayBuffer)}enableAttributes(n,l){for(let m=0;m<this.attributes.length;m++){const v=l.attributes[this.attributes[m].name];void 0!==v&&n.enableVertexAttribArray(v)}}setVertexAttribPointers(n,l,m){for(let v=0;v<this.attributes.length;v++){const M=this.attributes[v],P=l.attributes[M.name];void 0!==P&&n.vertexAttribPointer(P,M.components,n[en[M.type]],!1,this.itemSize,M.offset+this.itemSize*(m||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class ri{constructor(n){this.gl=n.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(n){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Jr extends ri{getDefault(){return a.Color.transparent}set(n){const l=this.current;(n.r!==l.r||n.g!==l.g||n.b!==l.b||n.a!==l.a||this.dirty)&&(this.gl.clearColor(n.r,n.g,n.b,n.a),this.current=n,this.dirty=!1)}}class zr extends ri{getDefault(){return 1}set(n){(n!==this.current||this.dirty)&&(this.gl.clearDepth(n),this.current=n,this.dirty=!1)}}class Cs extends ri{getDefault(){return 0}set(n){(n!==this.current||this.dirty)&&(this.gl.clearStencil(n),this.current=n,this.dirty=!1)}}class Ri extends ri{getDefault(){return[!0,!0,!0,!0]}set(n){const l=this.current;(n[0]!==l[0]||n[1]!==l[1]||n[2]!==l[2]||n[3]!==l[3]||this.dirty)&&(this.gl.colorMask(n[0],n[1],n[2],n[3]),this.current=n,this.dirty=!1)}}class er extends ri{getDefault(){return!0}set(n){(n!==this.current||this.dirty)&&(this.gl.depthMask(n),this.current=n,this.dirty=!1)}}class go extends ri{getDefault(){return 255}set(n){(n!==this.current||this.dirty)&&(this.gl.stencilMask(n),this.current=n,this.dirty=!1)}}class An extends ri{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(n){const l=this.current;(n.func!==l.func||n.ref!==l.ref||n.mask!==l.mask||this.dirty)&&(this.gl.stencilFunc(n.func,n.ref,n.mask),this.current=n,this.dirty=!1)}}class Ui extends ri{getDefault(){const n=this.gl;return[n.KEEP,n.KEEP,n.KEEP]}set(n){const l=this.current;(n[0]!==l[0]||n[1]!==l[1]||n[2]!==l[2]||this.dirty)&&(this.gl.stencilOp(n[0],n[1],n[2]),this.current=n,this.dirty=!1)}}class ls extends ri{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;n?l.enable(l.STENCIL_TEST):l.disable(l.STENCIL_TEST),this.current=n,this.dirty=!1}}class Pn extends ri{getDefault(){return[0,1]}set(n){const l=this.current;(n[0]!==l[0]||n[1]!==l[1]||this.dirty)&&(this.gl.depthRange(n[0],n[1]),this.current=n,this.dirty=!1)}}class hi extends ri{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;n?l.enable(l.DEPTH_TEST):l.disable(l.DEPTH_TEST),this.current=n,this.dirty=!1}}class Di extends ri{getDefault(){return this.gl.LESS}set(n){(n!==this.current||this.dirty)&&(this.gl.depthFunc(n),this.current=n,this.dirty=!1)}}class In extends ri{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;n?l.enable(l.BLEND):l.disable(l.BLEND),this.current=n,this.dirty=!1}}class Ci extends ri{getDefault(){const n=this.gl;return[n.ONE,n.ZERO]}set(n){const l=this.current;(n[0]!==l[0]||n[1]!==l[1]||this.dirty)&&(this.gl.blendFunc(n[0],n[1]),this.current=n,this.dirty=!1)}}class fn extends ri{getDefault(){return a.Color.transparent}set(n){const l=this.current;(n.r!==l.r||n.g!==l.g||n.b!==l.b||n.a!==l.a||this.dirty)&&(this.gl.blendColor(n.r,n.g,n.b,n.a),this.current=n,this.dirty=!1)}}class Wi extends ri{getDefault(){return this.gl.FUNC_ADD}set(n){(n!==this.current||this.dirty)&&(this.gl.blendEquation(n),this.current=n,this.dirty=!1)}}class Cr extends ri{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;n?l.enable(l.CULL_FACE):l.disable(l.CULL_FACE),this.current=n,this.dirty=!1}}class Yi extends ri{getDefault(){return this.gl.BACK}set(n){(n!==this.current||this.dirty)&&(this.gl.cullFace(n),this.current=n,this.dirty=!1)}}class Ii extends ri{getDefault(){return this.gl.CCW}set(n){(n!==this.current||this.dirty)&&(this.gl.frontFace(n),this.current=n,this.dirty=!1)}}let ci,rr=class extends ri{getDefault(){return null}set(p){(p!==this.current||this.dirty)&&(this.gl.useProgram(p),this.current=p,this.dirty=!1)}};class On extends ri{getDefault(){return this.gl.TEXTURE0}set(n){(n!==this.current||this.dirty)&&(this.gl.activeTexture(n),this.current=n,this.dirty=!1)}}class va extends ri{getDefault(){const n=this.gl;return[0,0,n.drawingBufferWidth,n.drawingBufferHeight]}set(n){const l=this.current;(n[0]!==l[0]||n[1]!==l[1]||n[2]!==l[2]||n[3]!==l[3]||this.dirty)&&(this.gl.viewport(n[0],n[1],n[2],n[3]),this.current=n,this.dirty=!1)}}class Zt extends ri{getDefault(){return null}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;l.bindFramebuffer(l.FRAMEBUFFER,n),this.current=n,this.dirty=!1}}class oa extends ri{getDefault(){return null}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;l.bindRenderbuffer(l.RENDERBUFFER,n),this.current=n,this.dirty=!1}}class Fa extends ri{getDefault(){return null}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;l.bindTexture(l.TEXTURE_2D,n),this.current=n,this.dirty=!1}}class Rn extends ri{getDefault(){return null}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;l.bindBuffer(l.ARRAY_BUFFER,n),this.current=n,this.dirty=!1}}class ke extends ri{getDefault(){return null}set(n){const l=this.gl;l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,n),this.current=n,this.dirty=!1}}class de extends ri{constructor(n){super(n),this.vao=n.extVertexArrayObject}getDefault(){return null}set(n){this.vao&&(n!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(n),this.current=n,this.dirty=!1)}}class pe extends ri{getDefault(){return 4}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_ALIGNMENT,n),this.current=n,this.dirty=!1}}class be extends ri{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n),this.current=n,this.dirty=!1}}class Ee extends ri{getDefault(){return!1}set(n){if(n===this.current&&!this.dirty)return;const l=this.gl;l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,n),this.current=n,this.dirty=!1}}class Fe extends ri{constructor(n,l){super(n),this.context=n,this.parent=l}getDefault(){return null}}class We extends Fe{setDirty(){this.dirty=!0}set(n){if(n===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,n,0),this.current=n,this.dirty=!1}}class Ue extends Fe{attachment(){return this.gl.DEPTH_ATTACHMENT}set(n){if(n===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const l=this.gl;l.framebufferRenderbuffer(l.FRAMEBUFFER,this.attachment(),l.RENDERBUFFER,n),this.current=n,this.dirty=!1}}class X extends Ue{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class $e{constructor(n,l,m,v){this.context=n,this.width=l,this.height=m;const M=this.framebuffer=n.gl.createFramebuffer();this.colorAttachment=new We(n,M),v&&(this.depthAttachment=new Ue(n,M))}destroy(){const n=this.context.gl,l=this.colorAttachment.get();if(l&&n.deleteTexture(l),this.depthAttachment){const m=this.depthAttachment.get();m&&n.deleteRenderbuffer(m)}n.deleteFramebuffer(this.framebuffer)}}class wt{constructor(n,l=!1){if(this.gl=n,this.isWebGL2=l,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),l){const m=n;this.extVertexArrayObject={createVertexArrayOES:m.createVertexArray.bind(n),deleteVertexArrayOES:m.deleteVertexArray.bind(n),bindVertexArrayOES:m.bindVertexArray.bind(n)}}this.clearColor=new Jr(this),this.clearDepth=new zr(this),this.clearStencil=new Cs(this),this.colorMask=new Ri(this),this.depthMask=new er(this),this.stencilMask=new go(this),this.stencilFunc=new An(this),this.stencilOp=new Ui(this),this.stencilTest=new ls(this),this.depthRange=new Pn(this),this.depthTest=new hi(this),this.depthFunc=new Di(this),this.blend=new In(this),this.blendFunc=new Ci(this),this.blendColor=new fn(this),this.blendEquation=new Wi(this),this.cullFace=new Cr(this),this.cullFaceSide=new Yi(this),this.frontFace=new Ii(this),this.program=new rr(this),this.activeTexture=new On(this),this.viewport=new va(this),this.bindFramebuffer=new Zt(this),this.bindRenderbuffer=new oa(this),this.bindTexture=new Fa(this),this.bindVertexBuffer=new Rn(this),this.bindElementBuffer=new ke(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new de(this),this.pixelStoreUnpack=new pe(this),this.pixelStoreUnpackPremultiplyAlpha=new be(this),this.pixelStoreUnpackFlipY=new Ee(this),this.extTextureFilterAnisotropic=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=n.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=n.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=n.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=n.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),l||(this.extTextureHalfFloat=n.getExtension("OES_texture_half_float")),(l||this.extTextureHalfFloat&&n.getExtension("OES_texture_half_float_linear"))&&(this.extRenderToTextureHalfFloat=n.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=l||n.getExtension("OES_standard_derivatives"),this.extTimerQuery=n.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(n,l){return new Sr(this,n,l)}createVertexBuffer(n,l,m){return new Mn(this,n,l,m)}createRenderbuffer(n,l,m){const v=this.gl,M=v.createRenderbuffer();return this.bindRenderbuffer.set(M),v.renderbufferStorage(v.RENDERBUFFER,n,l,m),this.bindRenderbuffer.set(null),M}createFramebuffer(n,l,m){return new $e(this,n,l,m)}clear({color:n,depth:l,stencil:m}){const v=this.gl;let M=0;n&&(M|=v.COLOR_BUFFER_BIT,this.clearColor.set(n),this.colorMask.set([!0,!0,!0,!0])),void 0!==l&&(M|=v.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(l),this.depthMask.set(!0)),void 0!==m&&(M|=v.STENCIL_BUFFER_BIT,this.clearStencil.set(m),this.stencilMask.set(255)),v.clear(M)}setCullFace(n){!1===n.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(n.mode),this.frontFace.set(n.frontFace))}setDepthMode(n){n.func!==this.gl.ALWAYS||n.mask?(this.depthTest.set(!0),this.depthFunc.set(n.func),this.depthMask.set(n.mask),this.depthRange.set(n.range)):this.depthTest.set(!1)}setStencilMode(n){n.test.func!==this.gl.ALWAYS||n.mask?(this.stencilTest.set(!0),this.stencilMask.set(n.mask),this.stencilOp.set([n.fail,n.depthFail,n.pass]),this.stencilFunc.set({func:n.test.func,ref:n.ref,mask:n.test.mask})):this.stencilTest.set(!1)}setColorMode(n){d(n.blendFunction,a.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(n.blendFunction),this.blendColor.set(n.blendColor)),this.colorMask.set(n.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class St extends a.Evented{constructor(n,l,m,v){if(super(),this.id=n,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(l,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},l),this._collectResourceTiming=l.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(v),this._tileWorkers={},this._deduped=new a.DedupedRequest}load(n){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"}));const l=Array.isArray(this.map._language)?this.map._language.join():this.map._language,m=this.map._worldview;this._tileJSONRequest=yn(this._options,this.map._requestManager,l,m,(v,M)=>{this._tileJSONRequest=null,this._loaded=!0,v?(l&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${l}`),m&&2!==m.length&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${m}`),this.fire(new a.ErrorEvent(v))):M&&(a.extend(this,M),M.bounds&&(this.tileBounds=new Ut(M.bounds,this.minzoom,this.maxzoom)),a.postTurnstileEvent(M.tiles,this.map._requestManager._customAccessToken),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))),n&&n(v)})}loaded(){return this._loaded}hasTile(n){return!this.tileBounds||this.tileBounds.contains(n.canonical)}onAdd(n){this.map=n,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(n){return this._options.tiles=n,this.reload(),this}setUrl(n){return this.url=n,this._options.url=n,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return a.extend({},this._options)}loadTile(n,l){const m=this.map._requestManager.normalizeTileURL(n.tileID.canonical.url(this.tiles,this.scheme)),v={request:this.map._requestManager.transformRequest(m,a.ResourceType.Tile),data:void 0,uid:n.uid,tileID:n.tileID,tileZoom:n.tileZoom,zoom:n.tileID.overscaledZ,tileSize:this.tileSize*n.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:n.isSymbolTile};if(v.request.collectResourceTiming=this._collectResourceTiming,n.actor&&"expired"!==n.state)"loading"===n.state?n.reloadCallback=l:n.request=n.actor.send("reloadTile",v,M.bind(this));else if(n.actor=this._tileWorkers[m]=this._tileWorkers[m]||this.dispatcher.getActor(),this.dispatcher.ready)n.request=n.actor.send("loadTile",v,M.bind(this),void 0,!0);else{const P=a.loadVectorTile.call({deduped:this._deduped},v,(O,V)=>{O||!V?M.call(this,O):(v.data={cacheControl:V.cacheControl,expires:V.expires,rawData:V.rawData.slice(0)},n.actor&&n.actor.send("loadTile",v,M.bind(this),void 0,!0))},!0);n.request={cancel:P}}function M(P,O){return delete n.request,n.aborted?l(null):P&&404!==P.status?l(P):(O&&O.resourceTiming&&(n.resourceTiming=O.resourceTiming),this.map._refreshExpiredTiles&&O&&n.setExpiryData(O),n.loadVectorData(O,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),l(null),void(n.reloadCallback&&(this.loadTile(n,n.reloadCallback),n.reloadCallback=null)))}}abortTile(n){n.request&&(n.request.cancel(),delete n.request),n.actor&&n.actor.send("abortTile",{uid:n.uid,type:this.type,source:this.id})}unloadTile(n){n.unloadVectorData(),n.actor&&n.actor.send("removeTile",{uid:n.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class ft extends a.Evented{constructor(n,l,m,v){super(),this.id=n,this.dispatcher=m,this.setEventedParent(v),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},l),a.extend(this,a.pick(l,["url","scheme","tileSize"]))}load(n){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=yn(this._options,this.map._requestManager,null,null,(l,m)=>{this._tileJSONRequest=null,this._loaded=!0,l?this.fire(new a.ErrorEvent(l)):m&&(a.extend(this,m),m.bounds&&(this.tileBounds=new Ut(m.bounds,this.minzoom,this.maxzoom)),a.postTurnstileEvent(m.tiles),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))),n&&n(l)})}loaded(){return this._loaded}onAdd(n){this.map=n,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(n){return this._options.tiles=n,this.reload(),this}setUrl(n){return this.url=n,this._options.url=n,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return a.extend({},this._options)}hasTile(n){return!this.tileBounds||this.tileBounds.contains(n.canonical)}loadTile(n,l){const m=a.exported.devicePixelRatio>=2,v=this.map._requestManager.normalizeTileURL(n.tileID.canonical.url(this.tiles,this.scheme),m,this.tileSize);n.request=a.getImage(this.map._requestManager.transformRequest(v,a.ResourceType.Tile),(M,P,O,V)=>(delete n.request,n.aborted?(n.state="unloaded",l(null)):M?(n.state="errored",l(M)):P?(this.map._refreshExpiredTiles&&n.setExpiryData({cacheControl:O,expires:V}),n.setTexture(P,this.map.painter),n.state="loaded",a.cacheEntryPossiblyAdded(this.dispatcher),void l(null)):l(null)))}static loadTileData(n,l,m){n.setTexture(l,m)}static unloadTileData(n,l){n.texture&&l.saveTileTexture(n.texture)}abortTile(n,l){n.request&&(n.request.cancel(),delete n.request),l()}unloadTile(n,l){n.texture&&this.map.painter.saveTileTexture(n.texture),l()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}function si(p,n,l,m,v,M,P,O){const V=[p,l,v,n,m,M,1,1,1],$=[P,O,1],q=a.adjoint([],V),[re,r,o]=a.transformMat3($,$,a.transpose(q,q));return a.multiply$1(V,[re,0,0,0,r,0,0,0,o],V)}class ii extends a.Evented{constructor(n,l,m,v){super(),this.id=n,this.dispatcher=m,this.coordinates=l.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(v),this.options=l,this._dirty=!1}load(n,l){this._loaded=l||!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),(m,v)=>{if(this._imageRequest=null,this._loaded=!0,m)this.fire(new a.ErrorEvent(m));else if(v){const{HTMLImageElement:M}=a.window;this.image=v instanceof M?a.exported.getImageData(v):v,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,n&&(this.coordinates=n),this._finishLoading()}})}loaded(){return this._loaded}updateImage(n){return this.image&&n.url?(this._imageRequest&&n.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=n.url,this.load(n.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(n){this.map=n,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(n){this.coordinates=n,this._boundsArray=void 0;const l=n.map(a.MercatorCoordinate.fromLngLat);return this.tileID=function(m){let v=1/0,M=1/0,P=-1/0,O=-1/0;for(const re of m)v=Math.min(v,re.x),M=Math.min(M,re.y),P=Math.max(P,re.x),O=Math.max(O,re.y);const V=Math.max(P-v,O-M),$=Math.max(0,Math.floor(-Math.log(V)/Math.LN2)),q=Math.pow(2,$);return new a.CanonicalTileID($,Math.floor((v+P)/2*q),Math.floor((M+O)/2*q))}(l),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(n){for(const V in this.tiles){const $=this.tiles[V];"loaded"!==$.state&&($.state="loaded",$.texture=this.texture)}if(this._boundsArray)return;const l=a.tileTransform(this.tileID,this.map.transform.projection),[m,v,M,P]=this.coordinates.map(V=>{const $=l.projection.project(V[0],V[1]);return a.getTilePoint(l,$)._round()});this.perspectiveTransform=function(V,$,q,re,r,o,h,f,y,b){const k=si(0,0,V,0,0,$,V,$),I=si(q,re,r,o,h,f,y,b);return a.multiply$1(I,a.adjoint(k,k),I),[I[6]/I[8]*V/a.EXTENT,I[7]/I[8]*$/a.EXTENT]}(this.width,this.height,m.x,m.y,v.x,v.y,P.x,P.y,M.x,M.y);const O=this._boundsArray=new a.StructArrayLayout4i8;O.emplaceBack(m.x,m.y,0,0),O.emplaceBack(v.x,v.y,a.EXTENT,0),O.emplaceBack(P.x,P.y,0,a.EXTENT),O.emplaceBack(M.x,M.y,a.EXTENT,a.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=n.createVertexBuffer(O,a.boundsAttributes.members),this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const n=this.map.painter.context,l=n.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new a.Texture(n,this.image,l.RGBA),this.texture.bind(l.LINEAR,l.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(n)}loadTile(n,l){this.tileID&&this.tileID.equals(n.tileID.canonical)?(this.tiles[String(n.tileID.wrap)]=n,n.buckets={},l(null)):(n.state="errored",l(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Qt={vector:St,raster:ft,"raster-dem":class extends ft{constructor(p,n,l,m){super(p,n,l,m),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox"}loadTile(p,n){const l=this.map._requestManager.normalizeTileURL(p.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function m(v,M){v&&(p.state="errored",n(v)),M&&(p.dem=M,p.dem.onDeserialize(),p.needsHillshadePrepare=!0,p.needsDEMTextureUpload=!0,p.state="loaded",n(null))}p.request=a.getImage(this.map._requestManager.transformRequest(l,a.ResourceType.Tile),function(v,M,P,O){if(delete p.request,p.aborted)p.state="unloaded",n(null);else if(v)p.state="errored",n(v);else if(M){this.map._refreshExpiredTiles&&p.setExpiryData({cacheControl:P,expires:O});const V=a.window.ImageBitmap&&M instanceof a.window.ImageBitmap&&(null==ci&&(ci=a.window.OffscreenCanvas&&new a.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof a.window.createImageBitmap),ci),$=1-(M.width-a.prevPowerOfTwo(M.width))/2;$<1||p.neighboringTiles||(p.neighboringTiles=this._getNeighboringTiles(p.tileID));const q=V?M:a.exported.getImageData(M,$),re={uid:p.uid,coord:p.tileID,source:this.id,rawImageData:q,encoding:this.encoding,padding:$};p.actor&&"expired"!==p.state||(p.actor=this.dispatcher.getActor(),p.actor.send("loadDEMTile",re,m.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(p){const n=p.canonical,l=Math.pow(2,n.z),m=(n.x-1+l)%l,v=0===n.x?p.wrap-1:p.wrap,M=(n.x+1+l)%l,P=n.x+1===l?p.wrap+1:p.wrap,O={};return O[new a.OverscaledTileID(p.overscaledZ,v,n.z,m,n.y).key]={backfilled:!1},O[new a.OverscaledTileID(p.overscaledZ,P,n.z,M,n.y).key]={backfilled:!1},n.y>0&&(O[new a.OverscaledTileID(p.overscaledZ,v,n.z,m,n.y-1).key]={backfilled:!1},O[new a.OverscaledTileID(p.overscaledZ,p.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},O[new a.OverscaledTileID(p.overscaledZ,P,n.z,M,n.y-1).key]={backfilled:!1}),n.y+1<l&&(O[new a.OverscaledTileID(p.overscaledZ,v,n.z,m,n.y+1).key]={backfilled:!1},O[new a.OverscaledTileID(p.overscaledZ,p.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},O[new a.OverscaledTileID(p.overscaledZ,P,n.z,M,n.y+1).key]={backfilled:!1}),O}unloadTile(p){p.demTexture&&this.map.painter.saveTileTexture(p.demTexture),p.fbo&&(p.fbo.destroy(),delete p.fbo),p.dem&&delete p.dem,delete p.neighboringTiles,p.state="unloaded"}},geojson:class extends a.Evented{constructor(p,n,l,m){super(),this.id=p,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=l.getActor(),this.setEventedParent(m),this._data=n.data,this._options=a.extend({},n),this._collectResourceTiming=n.collectResourceTiming,void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId;const v=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*v,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*v,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?n.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,n.clusterMinPoints||2),extent:a.EXTENT,radius:(void 0!==n.clusterRadius?n.clusterRadius:50)*v,log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties,filter:n.filter},n.workerOptions)}onAdd(p){this.map=p,this.setData(this._data)}setData(p){return this._data=p,this._updateWorkerData(),this}getClusterExpansionZoom(p,n){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:p,source:this.id},n),this}getClusterChildren(p,n){return this.actor.send("geojson.getClusterChildren",{clusterId:p,source:this.id},n),this}getClusterLeaves(p,n,l,m){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:p,limit:n,offset:l},m),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new a.Event("dataloading",{dataType:"source"})),this._loaded=!1;const p=a.extend({},this.workerOptions),n=this._data;"string"==typeof n?(p.request=this.map._requestManager.transformRequest(a.exported.resolveURL(n),a.ResourceType.Source),p.request.collectResourceTiming=this._collectResourceTiming):p.data=JSON.stringify(n),this._pendingLoad=this.actor.send(`${this.type}.loadData`,p,(l,m)=>{if(this._loaded=!0,this._pendingLoad=null,l)this.fire(new a.ErrorEvent(l));else{const v={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&m&&m.resourceTiming&&m.resourceTiming[this.id]&&(v.resourceTiming=m.resourceTiming[this.id]),this.fire(new a.Event("data",v)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(p,n){const l=p.actor?"reloadTile":"loadTile";p.actor=this.actor,p.request=this.actor.send(l,{type:this.type,uid:p.uid,tileID:p.tileID,tileZoom:p.tileZoom,zoom:p.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(m,v)=>(delete p.request,p.unloadVectorData(),p.aborted?n(null):m?n(m):(p.loadVectorData(v,this.map.painter,"reloadTile"===l),n(null))),void 0,"loadTile"===l)}abortTile(p){p.request&&(p.request.cancel(),delete p.request),p.aborted=!0}unloadTile(p){p.unloadVectorData(),this.actor.send("removeTile",{uid:p.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return a.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends ii{constructor(p,n,l,m){super(p,n,l,m),this.roundZoom=!0,this.type="video",this.options=n}load(){this._loaded=!1;const p=this.options;this.urls=[];for(const n of p.urls)this.urls.push(this.map._requestManager.transformRequest(n,a.ResourceType.Source).url);a.getVideo(this.urls,(n,l)=>{this._loaded=!0,n?this.fire(new a.ErrorEvent(n)):l&&(this.video=l,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(p){if(this.video){const n=this.video.seekable;p<n.start(0)||p>n.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${n.start(0)} and ${n.end(0)}-second mark.`))):this.video.currentTime=p}}getVideo(){return this.video}onAdd(p){this.map||(this.map=p,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const p=this.map.painter.context,n=p.gl;this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(p,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(p)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:ii,canvas:class extends ii{constructor(p,n,l,m){super(p,n,l,m),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some(v=>!Array.isArray(v)||2!==v.length||v.some(M=>"number"!=typeof M))||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${p}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${p}`,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${p}`,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${p}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${p}`,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(p){this.map=p,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let p=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,p=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,p=!0),this._hasInvalidDimensions()||0===Object.keys(this.tiles).length)return;const n=this.map.painter.context;this.texture?(p||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(n,this.canvas,n.gl.RGBA,{premultiply:!0}),this._prepareData(n)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const p of[this.canvas.width,this.canvas.height])if(isNaN(p)||p<=0)return!0;return!1}},custom:class extends a.Evented{constructor(p,n,l,m){super(),this.id=p,this.type="custom",this._dataType="raster",this._dispatcher=l,this._implementation=n,this.setEventedParent(m),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new a.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new a.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new Ut(this._implementation.bounds,this.minzoom,this.maxzoom)),n.update=this._update.bind(this),n.clearTiles=this._clearTiles.bind(this),n.coveringTiles=this._coveringTiles.bind(this),a.extend(this,a.pick(n,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return a.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(p){this._map=p,this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(p),this.load()}onRemove(p){this._implementation.onRemove&&this._implementation.onRemove(p)}hasTile(p){if(this._implementation.hasTile){const{x:n,y:l,z:m}=p.canonical;return this._implementation.hasTile({x:n,y:l,z:m})}return!this.tileBounds||this.tileBounds.contains(p.canonical)}loadTile(p,n){const{x:l,y:m,z:v}=p.tileID.canonical,M=new a.window.AbortController;p.request=Promise.resolve(this._implementation.loadTile({x:l,y:m,z:v},{signal:M.signal})).then(function(P){return delete p.request,p.aborted?(p.state="unloaded",n(null)):void 0===P?(p.state="errored",n(null)):null===P?(this.loadTileData(p,{width:this.tileSize,height:this.tileSize,data:null}),p.state="loaded",n(null)):(O=P)instanceof a.window.ImageData||O instanceof a.window.HTMLCanvasElement||O instanceof a.window.ImageBitmap||O instanceof a.window.HTMLImageElement?(this.loadTileData(p,P),p.state="loaded",void n(null)):(p.state="errored",n(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)));var O}.bind(this)).catch(P=>{20!==P.code&&(p.state="errored",n(P))}),p.request.cancel=()=>M.abort()}loadTileData(p,n){ft.loadTileData(p,n,this._map.painter)}unloadTileData(p){ft.unloadTileData(p,this._map.painter)}unloadTile(p,n){if(this.unloadTileData(p),this._implementation.unloadTile){const{x:l,y:m,z:v}=p.tileID.canonical;this._implementation.unloadTile({x:l,y:m,z:v})}n()}abortTile(p,n){p.request&&p.request.cancel&&(p.request.cancel(),delete p.request),n()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(p=>({x:p.canonical.x,y:p.canonical.y,z:p.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))}}},pt=function(p,n,l,m){const v=new Qt[n.type](p,n,l,m);if(v.id!==p)throw new Error(`Expected Source id to be ${p} instead of ${v.id}`);return a.bindAll(["load","abort","unload","serialize","prepare"],v),v};function _i(p,n){const l=a.identity([]);return a.scale(l,l,[.5*p.width,.5*-p.height,1]),a.translate(l,l,[1,-1,0]),a.multiply(l,l,p.calculateProjMatrix(n.toUnwrapped())),Float32Array.from(l)}function _n(p,n,l,m,v,M,P,O=!1){const V=p.tilesIn(m,P,O);V.sort(Ln);const $=[];for(const re of V)$.push({wrappedTileID:re.tile.tileID.wrapped().key,queryResults:re.tile.queryRenderedFeatures(n,l,p._state,re,v,M,_i(p.transform,re.tile.tileID),O)});const q=function(re){const r={},o={};for(const h of re){const f=h.queryResults,y=h.wrappedTileID,b=o[y]=o[y]||{};for(const k in f){const I=f[k],C=b[k]=b[k]||{},F=r[k]=r[k]||[];for(const N of I)C[N.featureIndex]||(C[N.featureIndex]=!0,F.push(N))}}return r}($);for(const re in q)q[re].forEach(r=>{const o=r.feature,h=o.layer;h&&"background"!==h.type&&"sky"!==h.type&&(o.source=h.source,h["source-layer"]&&(o.sourceLayer=h["source-layer"]),o.state=void 0!==o.id?p.getFeatureState(h["source-layer"],o.id):{})});return q}function Vi(p,n){const l=p.getRenderableIds().map(M=>p.getTileByID(M)),m=[],v={};for(let M=0;M<l.length;M++){const P=l[M],O=P.tileID.canonical.key;v[O]||(v[O]=!0,P.querySourceFeatures(m,n))}return m}function Ln(p,n){const l=p.tileID,m=n.tileID;return l.overscaledZ-m.overscaledZ||l.canonical.y-m.canonical.y||l.wrap-m.wrap||l.canonical.x-m.canonical.x}function oi(){return null!=Eo.workerClass?new Eo.workerClass:new a.window.Worker(Eo.workerUrl)}const Li="mapboxgl_preloaded_worker_pool";class Zn{constructor(){this.active={}}acquire(n){if(!this.workers)for(this.workers=[];this.workers.length<Zn.workerCount;)this.workers.push(new oi);return this.active[n]=!0,this.workers.slice()}release(n){delete this.active[n],0===this.numActive()&&(this.workers.forEach(l=>{l.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Li]}numActive(){return Object.keys(this.active).length}}let $i;function bn(){return $i||($i=new Zn),$i}function qn(p,n){const l={};for(const m in p)"ref"!==m&&(l[m]=p[m]);return a.refProperties.forEach(m=>{m in n&&(l[m]=n[m])}),l}function jn(p){p=p.slice();const n=Object.create(null);for(let l=0;l<p.length;l++)n[p[l].id]=p[l];for(let l=0;l<p.length;l++)"ref"in p[l]&&(p[l]=qn(p[l],n[p[l].ref]));return p}Zn.workerCount=2;const pi={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Fr(p,n,l){l.push({command:pi.addSource,args:[p,n[p]]})}function br(p,n,l){n.push({command:pi.removeSource,args:[p]}),l[p]=!0}function yo(p,n,l,m){br(p,l,m),Fr(p,n,l)}function cs(p,n,l){let m;for(m in p[l])if(p[l].hasOwnProperty(m)&&"data"!==m&&!d(p[l][m],n[l][m]))return!1;for(m in n[l])if(n[l].hasOwnProperty(m)&&"data"!==m&&!d(p[l][m],n[l][m]))return!1;return!0}function dn(p,n,l,m,v,M){let P;for(P in n=n||{},p=p||{})p.hasOwnProperty(P)&&(d(p[P],n[P])||l.push({command:M,args:[m,P,n[P],v]}));for(P in n)n.hasOwnProperty(P)&&!p.hasOwnProperty(P)&&(d(p[P],n[P])||l.push({command:M,args:[m,P,n[P],v]}))}function on(p){return p.id}function Es(p,n){return p[n.id]=n,p}class zo{constructor(n,l){this.reset(n,l)}reset(n,l){this.points=n||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(l||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(n){if(1===this.points.length)return this.points[0];n=a.clamp(n,0,1);let l=1,m=this._distances[l];const v=n*this.paddedLength+this.padding;for(;m<v&&l<this._distances.length;)m=this._distances[++l];const M=l-1,P=this._distances[M],O=m-P,V=O>0?(v-P)/O:0;return this.points[M].mult(1-V).add(this.points[l].mult(V))}}class Ba{constructor(n,l,m){const v=this.boxCells=[],M=this.circleCells=[];this.xCellCount=Math.ceil(n/m),this.yCellCount=Math.ceil(l/m);for(let P=0;P<this.xCellCount*this.yCellCount;P++)v.push([]),M.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=n,this.height=l,this.xScale=this.xCellCount/n,this.yScale=this.yCellCount/l,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(n,l,m,v,M){this._forEachCell(l,m,v,M,this._insertBoxCell,this.boxUid++),this.boxKeys.push(n),this.bboxes.push(l),this.bboxes.push(m),this.bboxes.push(v),this.bboxes.push(M)}insertCircle(n,l,m,v){this._forEachCell(l-v,m-v,l+v,m+v,this._insertCircleCell,this.circleUid++),this.circleKeys.push(n),this.circles.push(l),this.circles.push(m),this.circles.push(v)}_insertBoxCell(n,l,m,v,M,P){this.boxCells[M].push(P)}_insertCircleCell(n,l,m,v,M,P){this.circleCells[M].push(P)}_query(n,l,m,v,M,P){if(m<0||n>this.width||v<0||l>this.height)return!M&&[];const O=[];if(n<=0&&l<=0&&this.width<=m&&this.height<=v){if(M)return!0;for(let V=0;V<this.boxKeys.length;V++)O.push({key:this.boxKeys[V],x1:this.bboxes[4*V],y1:this.bboxes[4*V+1],x2:this.bboxes[4*V+2],y2:this.bboxes[4*V+3]});for(let V=0;V<this.circleKeys.length;V++){const $=this.circles[3*V],q=this.circles[3*V+1],re=this.circles[3*V+2];O.push({key:this.circleKeys[V],x1:$-re,y1:q-re,x2:$+re,y2:q+re})}return P?O.filter(P):O}return this._forEachCell(n,l,m,v,this._queryCell,O,{hitTest:M,seenUids:{box:{},circle:{}}},P),M?O.length>0:O}_queryCircle(n,l,m,v,M){const P=n-m,O=n+m,V=l-m,$=l+m;if(O<0||P>this.width||$<0||V>this.height)return!v&&[];const q=[];return this._forEachCell(P,V,O,$,this._queryCellCircle,q,{hitTest:v,circle:{x:n,y:l,radius:m},seenUids:{box:{},circle:{}}},M),v?q.length>0:q}query(n,l,m,v,M){return this._query(n,l,m,v,!1,M)}hitTest(n,l,m,v,M){return this._query(n,l,m,v,!0,M)}hitTestCircle(n,l,m,v){return this._queryCircle(n,l,m,!0,v)}_queryCell(n,l,m,v,M,P,O,V){const $=O.seenUids,q=this.boxCells[M];if(null!==q){const r=this.bboxes;for(const o of q)if(!$.box[o]){$.box[o]=!0;const h=4*o;if(n<=r[h+2]&&l<=r[h+3]&&m>=r[h+0]&&v>=r[h+1]&&(!V||V(this.boxKeys[o]))){if(O.hitTest)return P.push(!0),!0;P.push({key:this.boxKeys[o],x1:r[h],y1:r[h+1],x2:r[h+2],y2:r[h+3]})}}}const re=this.circleCells[M];if(null!==re){const r=this.circles;for(const o of re)if(!$.circle[o]){$.circle[o]=!0;const h=3*o;if(this._circleAndRectCollide(r[h],r[h+1],r[h+2],n,l,m,v)&&(!V||V(this.circleKeys[o]))){if(O.hitTest)return P.push(!0),!0;{const f=r[h],y=r[h+1],b=r[h+2];P.push({key:this.circleKeys[o],x1:f-b,y1:y-b,x2:f+b,y2:y+b})}}}}}_queryCellCircle(n,l,m,v,M,P,O,V){const $=O.circle,q=O.seenUids,re=this.boxCells[M];if(null!==re){const o=this.bboxes;for(const h of re)if(!q.box[h]){q.box[h]=!0;const f=4*h;if(this._circleAndRectCollide($.x,$.y,$.radius,o[f+0],o[f+1],o[f+2],o[f+3])&&(!V||V(this.boxKeys[h])))return P.push(!0),!0}}const r=this.circleCells[M];if(null!==r){const o=this.circles;for(const h of r)if(!q.circle[h]){q.circle[h]=!0;const f=3*h;if(this._circlesCollide(o[f],o[f+1],o[f+2],$.x,$.y,$.radius)&&(!V||V(this.circleKeys[h])))return P.push(!0),!0}}}_forEachCell(n,l,m,v,M,P,O,V){const $=this._convertToXCellCoord(n),q=this._convertToYCellCoord(l),re=this._convertToXCellCoord(m),r=this._convertToYCellCoord(v);for(let o=$;o<=re;o++)for(let h=q;h<=r;h++)if(M.call(this,n,l,m,v,this.xCellCount*h+o,P,O,V))return}_convertToXCellCoord(n){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(n*this.xScale)))}_convertToYCellCoord(n){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(n*this.yScale)))}_circlesCollide(n,l,m,v,M,P){const O=v-n,V=M-l,$=m+P;return $*$>O*O+V*V}_circleAndRectCollide(n,l,m,v,M,P,O){const V=(P-v)/2,$=Math.abs(n-(v+V));if($>V+m)return!1;const q=(O-M)/2,re=Math.abs(l-(M+q));if(re>q+m)return!1;if($<=V||re<=q)return!0;const r=$-V,o=re-q;return r*r+o*o<=m*m}}const ba_unknown=0,ba_flipRequired=1,ba_flipNotRequired=2,Ws=Math.tan(85*Math.PI/180);function nt(p,n,l,m,v,M,P){const O=a.create();if(l)if("globe"===M.name){const V=a.calculateGlobeLabelMatrix(v,n);a.multiply(O,O,V)}else{const V=He([],P);O[0]=V[0],O[1]=V[1],O[4]=V[2],O[5]=V[3],m||a.rotateZ(O,O,v.angle)}else a.multiply(O,v.labelPlaneMatrix,p);return O}function la(p,n,l,m,v,M,P){const O=nt(p,n,l,m,v,M,P);return"globe"===M.name&&l||(O[2]=O[6]=O[10]=O[14]=0),O}function Yn(p,n,l,m,v,M,P){if(l){if("globe"===M.name){const O=nt(p,n,l,m,v,M,P);return a.invert(O,O),a.multiply(O,p,O),O}{const O=a.clone(p),V=a.identity([]);return V[0]=P[0],V[1]=P[1],V[4]=P[2],V[5]=P[3],a.multiply(O,O,V),m||a.rotateZ(O,O,-v.angle),O}}return v.glCoordMatrix}function $n(p,n,l,m){const v=[p,n,l,1];l?a.transformMat4$1(v,v,m):ei(v,v,m);const M=v[3];return v[0]/=M,v[1]/=M,v[2]/=M,v}function Tl(p,n){return Math.min(.5+p/n*.5,1.5)}function ca(p,n){const l=p[0]/p[3],m=p[1]/p[3];return l>=-n[0]&&l<=n[0]&&m>=-n[1]&&m<=n[1]}function us(p,n,l,m,v,M,P,O,V,$){const q=l.transform,re=m?p.textSizeData:p.iconSizeData,r=a.evaluateSizeForZoom(re,l.transform.zoom),o="globe"===q.projection.name,h=[256/l.width*2+1,256/l.height*2+1],f=m?p.text.dynamicLayoutVertexArray:p.icon.dynamicLayoutVertexArray;f.clear();let y=null;o&&(y=m?p.text.globeExtVertexArray:p.icon.globeExtVertexArray);const b=p.lineVertexArray,k=m?p.text.placedSymbolArray:p.icon.placedSymbolArray,I=l.transform.width/l.transform.height;let C,F=!1;for(let N=0;N<k.length;N++){const U=k.get(N),{numGlyphs:ie,writingMode:ce}=U;if(ce!==a.WritingMode.vertical||F||C===a.WritingMode.horizontal||(F=!0),C=ce,(U.hidden||ce===a.WritingMode.vertical)&&!F){hr(ie,f);continue}F=!1;const he=new a.Point(U.tileAnchorX,U.tileAnchorY);let{x:ve,y:ge,z:Ce}=q.projection.projectTilePoint(he.x,he.y,$.canonical);if(V){const[Nt,At,jt]=V(he);ve+=Nt,ge+=At,Ce+=jt}const Re=[ve,ge,Ce,1];if(a.transformMat4$1(Re,Re,n),!ca(Re,h)){hr(ie,f);continue}const Ze=Tl(l.transform.cameraToCenterDistance,Re[3]),Be=a.evaluateSizeForFeature(re,r,U),Ge=P?Be/Ze:Be*Ze,lt=$n(ve,ge,Ce,v);if(lt[3]<=0){hr(ie,f);continue}let tt={};const ot=P?null:V,Ct=Pt(U,Ge,!1,O,n,v,M,p.glyphOffsetArray,b,f,y,lt,he,tt,I,ot,q.projection,$,P);F=Ct.useVertical,ot&&Ct.needsFlipping&&(tt={}),(Ct.notEnoughRoom||F||Ct.needsFlipping&&Pt(U,Ge,!0,O,n,v,M,p.glyphOffsetArray,b,f,y,lt,he,tt,I,ot,q.projection,$,P).notEnoughRoom)&&hr(ie,f)}m?(p.text.dynamicLayoutVertexBuffer.updateData(f),y&&p.text.globeExtVertexBuffer.updateData(y)):(p.icon.dynamicLayoutVertexBuffer.updateData(f),y&&p.icon.globeExtVertexBuffer.updateData(y))}function kl(p,n,l,m,v,M,P,O,V,$,q,re,r,o,h,f){const{lineStartIndex:y,glyphStartIndex:b,segment:k}=O,I=b+O.numGlyphs,C=y+O.lineLength,F=n.getoffsetX(b),N=n.getoffsetX(I-1),U=Er(p*F,l,m,v,M,P,k,y,C,V,$,q,re,r,!0,o,h,f);if(!U)return null;const ie=Er(p*N,l,m,v,M,P,k,y,C,V,$,q,re,r,!0,o,h,f);return ie?{first:U,last:ie}:null}function Xn(p,n,l,m){return p===a.WritingMode.horizontal&&Math.abs(m)>Math.abs(l)?{useVertical:!0}:p===a.WritingMode.vertical?m>0?{needsFlipping:!0}:null:n!==ba_unknown&&(0===(v=l)||Math.abs(m/v)>Ws)?n===ba_flipRequired?{needsFlipping:!0}:null:l<0?{needsFlipping:!0}:null;var v}function Pt(p,n,l,m,v,M,P,O,V,$,q,re,r,o,h,f,y,b,k){const I=n/24,C=p.lineOffsetX*I,F=p.lineOffsetY*I,{lineStartIndex:N,glyphStartIndex:U,numGlyphs:ie,segment:ce,writingMode:he,flipState:ve}=p,ge=N+p.lineLength,Ce=Re=>{if(q){const[lt,tt,ot]=Re.up,Ct=$.length;a.updateGlobeVertexNormal(q,Ct+0,lt,tt,ot),a.updateGlobeVertexNormal(q,Ct+1,lt,tt,ot),a.updateGlobeVertexNormal(q,Ct+2,lt,tt,ot),a.updateGlobeVertexNormal(q,Ct+3,lt,tt,ot)}const[Ze,Be,Ge]=Re.point;a.addDynamicAttributes($,Ze,Be,Ge,Re.angle)};if(ie>1){const Re=kl(I,O,C,F,l,re,r,p,V,M,o,f,!1,y,b,k);if(!Re)return{notEnoughRoom:!0};if(m&&!l){let[Ze,Be,Ge]=Re.first.point,[lt,tt,ot]=Re.last.point;[Ze,Be]=$n(Ze,Be,Ge,P),[lt,tt]=$n(lt,tt,ot,P);const Ct=Xn(he,ve,(lt-Ze)*h,tt-Be);if(p.flipState=Ct&&Ct.needsFlipping?ba_flipRequired:ba_flipNotRequired,Ct)return Ct}Ce(Re.first);for(let Ze=U+1;Ze<U+ie-1;Ze++){const Be=Er(I*O.getoffsetX(Ze),C,F,l,re,r,ce,N,ge,V,M,o,f,!1,!1,y,b,k);if(!Be)return $.length-=4*(Ze-U),{notEnoughRoom:!0};Ce(Be)}Ce(Re.last)}else{if(m&&!l){const Ze=$n(r.x,r.y,0,v),Be=N+ce+1,Ge=new a.Point(V.getx(Be),V.gety(Be)),lt=$n(Ge.x,Ge.y,0,v),tt=lt[3]>0?lt:li(r,Ge,Ze,1,v,void 0,y,b.canonical),ot=Xn(he,ve,(tt[0]-Ze[0])*h,tt[1]-Ze[1]);if(p.flipState=ot&&ot.needsFlipping?ba_flipRequired:ba_flipNotRequired,ot)return ot}const Re=Er(I*O.getoffsetX(U),C,F,l,re,r,ce,N,ge,V,M,o,f,!1,!1,y,b,k);if(!Re)return{notEnoughRoom:!0};Ce(Re)}return{}}function mi(p,n,l,m,v){const{x:M,y:P,z:O}=m.projectTilePoint(p.x,p.y,n);if(!v)return $n(M,P,O,l);const[V,$,q]=v(p);return $n(M+V,P+$,O+q,l)}function li(p,n,l,m,v,M,P,O){const V=mi(p.sub(n)._unit()._add(p),O,v,P,M);return a.sub(V,l,V),a.normalize(V,V),a.scaleAndAdd(V,l,V,m)}function Er(p,n,l,m,v,M,P,O,V,$,q,re,r,o,h,f,y,b){const k=m?p-n:p+n;let I=k>0?1:-1,C=0;m&&(I*=-1,C=Math.PI),I<0&&(C+=Math.PI);let F=O+P+(I>0?0:1)|0,N=v,U=v,ie=0,ce=0;const he=Math.abs(k),ve=[],ge=[];let Ce=M,Re=Ce;const Ze=()=>li(Re,Ce,U,he-ie+1,q,r,f,y.canonical);for(;ie+ce<=he;){if(F+=I,F<O||F>=V)return null;if(U=N,Re=Ce,ve.push(U),o&&ge.push(Re),Ce=new a.Point($.getx(F),$.gety(F)),N=re[F],!N){const jt=mi(Ce,y.canonical,q,f,r);N=jt[3]>0?re[F]=jt:Ze()}ie+=ce,ce=a.distance(U,N)}h&&r&&(re[F]&&(N=Ze(),ce=a.distance(U,N)),re[F]=N);const Be=(he-ie)/ce,Ge=Ce.sub(Re)._mult(Be)._add(Re),lt=a.sub([],N,U),tt=a.scaleAndAdd([],U,lt,Be);let ot=[0,0,1],Ct=lt[0],Nt=lt[1];if(b&&(ot=f.upVector(y.canonical,Ge.x,Ge.y),0!==ot[0]||0!==ot[1]||1!==ot[2])){const jt=[ot[2],0,-ot[0]],Yt=a.cross([],ot,jt);a.normalize(jt,jt),a.normalize(Yt,Yt),Ct=a.dot(lt,jt),Nt=a.dot(lt,Yt)}if(l){const jt=a.cross([],ot,lt);a.normalize(jt,jt),a.scaleAndAdd(tt,tt,jt,l*I)}const At=C+Math.atan2(Nt,Ct);return ve.push(tt),o&&ge.push(Ge),{point:tt,angle:At,path:ve,tilePath:ge,up:ot}}function hr(p,n){const l=n.length,m=l+4*p;n.resize(m),n.float32.fill(-1/0,4*l,4*m)}function ei(p,n,l){const m=n[0],v=n[1];return p[0]=l[0]*m+l[4]*v+l[12],p[1]=l[1]*m+l[5]*v+l[13],p[3]=l[3]*m+l[7]*v+l[15],p}const ar=100;class Br{constructor(n,l,m=new Ba(n.width+200,n.height+200,25),v=new Ba(n.width+200,n.height+200,25)){this.transform=n,this.grid=m,this.ignoredGrid=v,this.pitchfactor=Math.cos(n._pitch)*n.cameraToCenterDistance,this.screenRightBoundary=n.width+ar,this.screenBottomBoundary=n.height+ar,this.gridRightBoundary=n.width+200,this.gridBottomBoundary=n.height+200,this.fogState=l}placeCollisionBox(n,l,m,v,M,P,O,V){let $=m.projectedAnchorX,q=m.projectedAnchorY,re=m.projectedAnchorZ;const r=m.elevation,o=m.tileID,h=n.getProjection();if(r&&o){const[N,U,ie]=h.upVector(o.canonical,m.tileAnchorX,m.tileAnchorY),ce=h.upVectorScale(o.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;$+=N*r*ce,q+=U*r*ce,re+=ie*r*ce}const f=this.projectAndGetPerspectiveRatio(O,$,q,re,m.tileID,"globe"===h.name||!!r||this.transform.pitch>0,h),y=P*f.perspectiveRatio,b=(m.x1*l+v.x-m.padding)*y+f.point.x,k=(m.y1*l+v.y-m.padding)*y+f.point.y,I=(m.x2*l+v.x+m.padding)*y+f.point.x,C=(m.y2*l+v.y+m.padding)*y+f.point.y,F=f.perspectiveRatio<=.55||f.occluded;return!this.isInsideGrid(b,k,I,C)||!M&&this.grid.hitTest(b,k,I,C,V)||F?{box:[],offscreen:!1,occluded:f.occluded}:{box:[b,k,I,C],offscreen:this.isOffscreen(b,k,I,C),occluded:!1}}placeCollisionCircles(n,l,m,v,M,P,O,V,$,q,re,r,o,h,f){const y=[],b=this.transform.elevation,k=n.getProjection(),I=b?b.getAtTileOffsetFunc(f,this.transform.center.lat,this.transform.worldSize,k):null,C=new a.Point(m.tileAnchorX,m.tileAnchorY);let{x:F,y:N,z:U}=k.projectTilePoint(C.x,C.y,f.canonical);if(I){const[Ge,lt,tt]=I(C);F+=Ge,N+=lt,U+=tt}const ie="globe"===k.name,ce=this.projectAndGetPerspectiveRatio(O,F,N,U,f,ie||!!b||this.transform.pitch>0,k),{perspectiveRatio:he}=ce,ve=(re?P/he:P*he)/a.ONE_EM,ge=$n(F,N,U,V),Ce=ce.signedDistanceFromCamera>0?kl(ve,M,m.lineOffsetX*ve,m.lineOffsetY*ve,!1,ge,C,m,v,V,{},b&&!re?I:null,re&&!!b,k,f,re):null;let Re=!1,Ze=!1,Be=!0;if(Ce&&!ce.occluded){const Ge=.5*o*he+h,lt=new a.Point(-100,-100),tt=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),ot=new zo,{first:Ct,last:Nt}=Ce,At=Ct.path.length;let jt=[];for(let Vt=At-1;Vt>=1;Vt--)jt.push(Ct.path[Vt]);for(let Vt=1;Vt<Nt.path.length;Vt++)jt.push(Nt.path[Vt]);const Yt=2.5*Ge;$&&(jt=jt.map(([Vt,Ei,rn],qt)=>(I&&!ie&&(rn=I(qt<At-1?Ct.tilePath[At-1-qt]:Nt.tilePath[qt-At+2])[2]),$n(Vt,Ei,rn,$))),jt.some(Vt=>Vt[3]<=0)&&(jt=[]));let ai=[];if(jt.length>0){let Vt=1/0,Ei=-1/0,rn=1/0,qt=-1/0;for(const T of jt)Vt=Math.min(Vt,T[0]),rn=Math.min(rn,T[1]),Ei=Math.max(Ei,T[0]),qt=Math.max(qt,T[1]);Ei>=lt.x&&Vt<=tt.x&&qt>=lt.y&&rn<=tt.y&&(ai=[jt.map(T=>new a.Point(T[0],T[1]))],(Vt<lt.x||Ei>tt.x||rn<lt.y||qt>tt.y)&&(ai=a.clipLine(ai,lt.x,lt.y,tt.x,tt.y)))}for(const Vt of ai){ot.reset(Vt,.25*Ge);let Ei=0;Ei=ot.length<=.5*Ge?1:Math.ceil(ot.paddedLength/Yt)+1;for(let rn=0;rn<Ei;rn++){const qt=rn/Math.max(Ei-1,1),T=ot.lerp(qt),R=T.x+ar,K=T.y+ar;y.push(R,K,Ge,0);const se=R-Ge,_e=K-Ge,Pe=R+Ge,et=K+Ge;if(Be=Be&&this.isOffscreen(se,_e,Pe,et),Ze=Ze||this.isInsideGrid(se,_e,Pe,et),!l&&this.grid.hitTestCircle(R,K,Ge,r)&&(Re=!0,!q))return{circles:[],offscreen:!1,collisionDetected:Re,occluded:!1}}}}return{circles:!q&&Re||!Ze?[]:y,offscreen:Be,collisionDetected:Re,occluded:ce.occluded}}queryRenderedSymbols(n){if(0===n.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const l=[];let m=1/0,v=1/0,M=-1/0,P=-1/0;for(const q of n){const re=new a.Point(q.x+ar,q.y+ar);m=Math.min(m,re.x),v=Math.min(v,re.y),M=Math.max(M,re.x),P=Math.max(P,re.y),l.push(re)}const O=this.grid.query(m,v,M,P).concat(this.ignoredGrid.query(m,v,M,P)),V={},$={};for(const q of O){const re=q.key;if(void 0===V[re.bucketInstanceId]&&(V[re.bucketInstanceId]={}),V[re.bucketInstanceId][re.featureIndex])continue;const r=[new a.Point(q.x1,q.y1),new a.Point(q.x2,q.y1),new a.Point(q.x2,q.y2),new a.Point(q.x1,q.y2)];a.polygonIntersectsPolygon(l,r)&&(V[re.bucketInstanceId][re.featureIndex]=!0,void 0===$[re.bucketInstanceId]&&($[re.bucketInstanceId]=[]),$[re.bucketInstanceId].push(re.featureIndex))}return $}insertCollisionBox(n,l,m,v,M){(l?this.ignoredGrid:this.grid).insert({bucketInstanceId:m,featureIndex:v,collisionGroupID:M},n[0],n[1],n[2],n[3])}insertCollisionCircles(n,l,m,v,M){const P=l?this.ignoredGrid:this.grid,O={bucketInstanceId:m,featureIndex:v,collisionGroupID:M};for(let V=0;V<n.length;V+=4)P.insertCircle(O,n[V],n[V+1],n[V+2])}projectAndGetPerspectiveRatio(n,l,m,v,M,P,O){const V=[l,m,v,1];let $=!1;v||this.transform.pitch>0?(a.transformMat4$1(V,V,n),this.fogState&&M&&"globe"!==O.name&&($=function(r,o,h,f,y,b){const k=b.calculateFogTileMatrix(y),I=[o,h,f];return a.transformMat4(I,I,k),fi(r,I,b.pitch,b._fov)}(this.fogState,l,m,v,M.toUnwrapped(),this.transform)>.9)):ei(V,V,n);const q=V[3];return{point:new a.Point((V[0]/q+1)/2*this.transform.width+ar,(-V[1]/q+1)/2*this.transform.height+ar),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(O)/q*.5,1.5),signedDistanceFromCamera:q,occluded:P&&V[2]>q||$}}isOffscreen(n,l,m,v){return m<ar||n>=this.screenRightBoundary||v<ar||l>this.screenBottomBoundary}isInsideGrid(n,l,m,v){return m>=0&&n<this.gridRightBoundary&&v>=0&&l<this.gridBottomBoundary}getViewportMatrix(){const n=a.identity([]);return a.translate(n,n,[-100,-100,0]),n}}function ja(p,n,l){const m=n.createTileMatrix(p,p.worldSize,l.toUnwrapped());return a.multiply(new Float32Array(16),p.projMatrix,m)}function sr(p,n,l){if(n.projection.name===l.projection.name)return p.projMatrix;const m=l.clone();return m.setProjection(n.projection),ja(m,n.getProjection(),p)}function Si(p,n,l){return n.name===l.projection.name?p.projMatrix:ja(l,n,p)}class ll{constructor(n,l,m,v){this.opacity=n?Math.max(0,Math.min(1,n.opacity+(n.placed?l:-l))):v&&m?1:0,this.placed=m}isHidden(){return 0===this.opacity&&!this.placed}}class xa{constructor(n,l,m,v,M,P=!1){this.text=new ll(n?n.text:null,l,m,M),this.icon=new ll(n?n.icon:null,l,v,M),this.clipped=P}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class ds{constructor(n,l,m,v=!1){this.text=n,this.icon=l,this.skipFade=m,this.clipped=v}}class ua{constructor(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]}}class da{constructor(n,l,m,v,M){this.bucketInstanceId=n,this.featureIndex=l,this.sourceLayerIndex=m,this.bucketIndex=v,this.tileID=M}}class Va{constructor(n){this.crossSourceCollisions=n,this.maxGroupID=0,this.collisionGroups={}}get(n){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[n]){const l=++this.maxGroupID;this.collisionGroups[n]={ID:l,predicate:m=>m.collisionGroupID===l}}return this.collisionGroups[n]}}function Gs(p,n,l,m,v){const{horizontalAlign:M,verticalAlign:P}=a.getAnchorAlignment(p),O=-(M-.5)*n,V=-(P-.5)*l,$=a.evaluateVariableOffset(p,m);return new a.Point(O+$[0]*v,V+$[1]*v)}function Kr(p,n,l,m,v){const M=new a.Point(p,n);return l&&M._rotate(m?v:-v),M}class Ar{constructor(n,l,m,v,M){this.transform=n.clone(),this.projection=n.projection.name,this.collisionIndex=new Br(this.transform,M),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=l,this.retainedQueryData={},this.collisionGroups=new Va(m),this.collisionCircleArrays={},this.prevPlacement=v,v&&(v.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(n,l,m,v){const M=m.getBucket(l),P=m.latestFeatureIndex;if(!M||!P||l.id!==M.layerIds[0])return;const O=M.layers[0].layout,V=m.collisionBoxArray,$=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),q=m.tileSize/a.EXTENT,re=m.tileID.toUnwrapped();this.transform.setProjection(M.projection);const r=(o=m.tileID,h=M.getProjection(),f=this.transform,h.name===this.projection?f.calculateProjMatrix(o.toUnwrapped()):ja(f,h,o));var o,h,f;const y="map"===O.get("text-pitch-alignment"),b="map"===O.get("text-rotation-alignment");l.compileFilter();const k=l.dynamicFilter(),I=l.dynamicFilterNeedsFeature(),C=this.transform.calculatePixelsToTileUnitsMatrix(m),F=la(r,m.tileID.canonical,y,b,this.transform,M.getProjection(),C);let N=null;if(y){const ce=Yn(r,m.tileID.canonical,y,b,this.transform,M.getProjection(),C);N=a.multiply([],this.transform.labelPlaneMatrix,ce)}let U=null;k&&m.latestFeatureIndex&&(U={unwrappedTileID:re,dynamicFilter:k,dynamicFilterNeedsFeature:I,featureIndex:m.latestFeatureIndex}),this.retainedQueryData[M.bucketInstanceId]=new da(M.bucketInstanceId,P,M.sourceLayerIndex,M.index,m.tileID);const ie={bucket:M,layout:O,posMatrix:r,textLabelPlaneMatrix:F,labelToScreenMatrix:N,clippingData:U,scale:$,textPixelRatio:q,holdingForFade:m.holdingForFade(),collisionBoxArray:V,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(M.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:a.evaluateSizeForZoom(M.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(M.sourceID)};if(v)for(const ce of M.sortKeyRanges){const{sortKey:he,symbolInstanceStart:ve,symbolInstanceEnd:ge}=ce;n.push({sortKey:he,symbolInstanceStart:ve,symbolInstanceEnd:ge,parameters:ie})}else n.push({symbolInstanceStart:0,symbolInstanceEnd:M.symbolInstances.length,parameters:ie})}attemptAnchorPlacement(n,l,m,v,M,P,O,V,$,q,re,r,o,h,f,y,b,k){const{textOffset0:I,textOffset1:C,crossTileID:F}=r,N=[I,C],U=Gs(n,m,v,N,M),ie=this.collisionIndex.placeCollisionBox(h,M,l,Kr(U.x,U.y,P,O,this.transform.angle),re,V,$,q.predicate);if(y){const ce=h.getSymbolInstanceIconSize(k,this.transform.zoom,r.placedIconSymbolIndex);if(0===this.collisionIndex.placeCollisionBox(h,ce,y,Kr(U.x,U.y,P,O,this.transform.angle),re,V,$,q.predicate).box.length)return}if(ie.box.length>0){let ce;return this.prevPlacement&&this.prevPlacement.variableOffsets[F]&&this.prevPlacement.placements[F]&&this.prevPlacement.placements[F].text&&(ce=this.prevPlacement.variableOffsets[F].anchor),this.variableOffsets[F]={textOffset:N,width:m,height:v,anchor:n,textScale:M,prevAnchor:ce},this.markUsedJustification(h,n,r,f),h.allowVerticalPlacement&&(this.markUsedOrientation(h,f,r),this.placedOrientations[F]=f),{shift:U,placedGlyphBoxes:ie}}}placeLayerBucketPart(n,l,m,v){const{bucket:M,layout:P,posMatrix:O,textLabelPlaneMatrix:V,labelToScreenMatrix:$,clippingData:q,textPixelRatio:re,holdingForFade:r,collisionBoxArray:o,partiallyEvaluatedTextSize:h,partiallyEvaluatedIconSize:f,collisionGroup:y}=n.parameters,b=P.get("text-optional"),k=P.get("icon-optional"),I=P.get("text-allow-overlap"),C=P.get("icon-allow-overlap"),F="map"===P.get("text-rotation-alignment"),N="map"===P.get("text-pitch-alignment"),U="none"!==P.get("icon-text-fit"),ie="viewport-y"===P.get("symbol-z-order");this.transform.setProjection(M.projection);let ce=I&&(C||!M.hasIconData()||k),he=C&&(I||!M.hasTextData()||b);!M.collisionArrays&&o&&M.deserializeCollisionBoxes(o),m&&v&&M.updateCollisionDebugBuffers(this.transform.zoom,o);const ve=(ge,Ce,Re)=>{const{crossTileID:Ze,numVerticalGlyphVertices:Be}=ge;if(q){const Pe={zoom:this.transform.zoom,pitch:this.transform.pitch};let et=null;if(q.dynamicFilterNeedsFeature){const Ot=this.retainedQueryData[M.bucketInstanceId];et=q.featureIndex.loadFeature({featureIndex:ge.featureIndex,bucketIndex:Ot.bucketIndex,sourceLayerIndex:Ot.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,q.dynamicFilter)(Pe,et,this.retainedQueryData[M.bucketInstanceId].tileID.canonical,new a.Point(ge.tileAnchorX,ge.tileAnchorY),this.transform.calculateDistanceTileData(q.unwrappedTileID)))return this.placements[Ze]=new ds(!1,!1,!1,!0),void l.add(Ze)}if(l.has(Ze))return;if(r)return void(this.placements[Ze]=new ds(!1,!1,!1));let Ge=!1,lt=!1,tt=!0,ot=!1,Ct=!1,Nt=null,At={box:null,offscreen:null,occluded:null},jt={box:null,offscreen:null,occluded:null},Yt=null,ai=null,Vt=null,Ei=0,rn=0,qt=0;Re.textFeatureIndex?Ei=Re.textFeatureIndex:ge.useRuntimeCollisionCircles&&(Ei=ge.featureIndex),Re.verticalTextFeatureIndex&&(rn=Re.verticalTextFeatureIndex);const T=Pe=>{Pe.tileID=this.retainedQueryData[M.bucketInstanceId].tileID;const et=this.transform.elevation;(et||Pe.elevation)&&(Pe.elevation=et?et.getAtTileOffset(Pe.tileID,Pe.tileAnchorX,Pe.tileAnchorY):0)},R=Re.textBox;if(R){T(R);const Pe=Ot=>{let Xt=a.WritingMode.horizontal;if(M.allowVerticalPlacement&&!Ot&&this.prevPlacement){const Ai=this.prevPlacement.placedOrientations[Ze];Ai&&(this.placedOrientations[Ze]=Ai,Xt=Ai,this.markUsedOrientation(M,Xt,ge))}return Xt},et=(Ot,Xt)=>{if(M.allowVerticalPlacement&&Be>0&&Re.verticalTextBox){for(const Ai of M.writingModes)if(Ai===a.WritingMode.vertical?(At=Xt(),jt=At):At=Ot(),At&&At.box&&At.box.length)break}else At=Ot()};if(P.get("text-variable-anchor")){let Ot=P.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Ze]){const Pi=this.prevPlacement.variableOffsets[Ze];Ot.indexOf(Pi.anchor)>0&&(Ot=Ot.filter(Kn=>Kn!==Pi.anchor),Ot.unshift(Pi.anchor))}const Xt=(Pi,Kn,Ia)=>{const lc=M.getSymbolInstanceTextSize(h,ge,this.transform.zoom,Ce),su=(Pi.x2-Pi.x1)*lc+2*Pi.padding,qi=(Pi.y2-Pi.y1)*lc+2*Pi.padding,Rl=U&&!C?Kn:null;Rl&&T(Rl);let cc={box:[],offscreen:!1,occluded:!1};const Eu=I?2*Ot.length:Ot.length;for(let ou=0;ou<Eu;++ou){const ld=this.attemptAnchorPlacement(Ot[ou%Ot.length],Pi,su,qi,lc,F,N,re,O,y,ou>=Ot.length,ge,Ce,M,Ia,Rl,h,f);if(ld&&(cc=ld.placedGlyphBoxes,cc&&cc.box&&cc.box.length)){Ge=!0,Nt=ld.shift;break}}return cc};et(()=>Xt(R,Re.iconBox,a.WritingMode.horizontal),()=>{const Pi=Re.verticalTextBox;return Pi&&T(Pi),M.allowVerticalPlacement&&!(At&&At.box&&At.box.length)&&Be>0&&Pi?Xt(Pi,Re.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),At&&(Ge=At.box,tt=At.offscreen,ot=At.occluded);const Ai=Pe(!(!At||!At.box));if(!Ge&&this.prevPlacement){const Pi=this.prevPlacement.variableOffsets[Ze];Pi&&(this.variableOffsets[Ze]=Pi,this.markUsedJustification(M,Pi.anchor,ge,Ai))}}else{const Ot=(Xt,Ai)=>{const Pi=M.getSymbolInstanceTextSize(h,ge,this.transform.zoom,Ce),Kn=this.collisionIndex.placeCollisionBox(M,Pi,Xt,new a.Point(0,0),I,re,O,y.predicate);return Kn&&Kn.box&&Kn.box.length&&(this.markUsedOrientation(M,Ai,ge),this.placedOrientations[Ze]=Ai),Kn};et(()=>Ot(R,a.WritingMode.horizontal),()=>{const Xt=Re.verticalTextBox;return M.allowVerticalPlacement&&Be>0&&Xt?(T(Xt),Ot(Xt,a.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),Pe(!!(At&&At.box&&At.box.length))}}if(Yt=At,Ge=Yt&&Yt.box&&Yt.box.length>0,tt=Yt&&Yt.offscreen,ot=Yt&&Yt.occluded,ge.useRuntimeCollisionCircles){const Pe=M.text.placedSymbolArray.get(ge.centerJustifiedTextSymbolIndex>=0?ge.centerJustifiedTextSymbolIndex:ge.verticalPlacedTextSymbolIndex),et=a.evaluateSizeForFeature(M.textSizeData,h,Pe),Ot=P.get("text-padding");ai=this.collisionIndex.placeCollisionCircles(M,I,Pe,M.lineVertexArray,M.glyphOffsetArray,et,O,V,$,m,N,y.predicate,ge.collisionCircleDiameter*et/a.ONE_EM,Ot,this.retainedQueryData[M.bucketInstanceId].tileID),Ge=I||ai.circles.length>0&&!ai.collisionDetected,tt=tt&&ai.offscreen,ot=ai.occluded}if(Re.iconFeatureIndex&&(qt=Re.iconFeatureIndex),Re.iconBox){const Pe=et=>{T(et);const Ot=U&&Nt?Kr(Nt.x,Nt.y,F,N,this.transform.angle):new a.Point(0,0),Xt=M.getSymbolInstanceIconSize(f,this.transform.zoom,ge.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(M,Xt,et,Ot,C,re,O,y.predicate)};jt&&jt.box&&jt.box.length&&Re.verticalIconBox?(Vt=Pe(Re.verticalIconBox),lt=Vt.box.length>0):(Vt=Pe(Re.iconBox),lt=Vt.box.length>0),tt=tt&&Vt.offscreen,Ct=Vt.occluded}const K=b||0===ge.numHorizontalGlyphVertices&&0===Be,se=k||0===ge.numIconVertices;if(K||se?se?K||(lt=lt&&Ge):Ge=lt&&Ge:lt=Ge=lt&&Ge,Ge&&Yt&&Yt.box&&this.collisionIndex.insertCollisionBox(Yt.box,P.get("text-ignore-placement"),M.bucketInstanceId,jt&&jt.box&&rn?rn:Ei,y.ID),lt&&Vt&&this.collisionIndex.insertCollisionBox(Vt.box,P.get("icon-ignore-placement"),M.bucketInstanceId,qt,y.ID),ai&&(Ge&&this.collisionIndex.insertCollisionCircles(ai.circles,P.get("text-ignore-placement"),M.bucketInstanceId,Ei,y.ID),m)){const Pe=M.bucketInstanceId;let et=this.collisionCircleArrays[Pe];void 0===et&&(et=this.collisionCircleArrays[Pe]=new ua);for(let Ot=0;Ot<ai.circles.length;Ot+=4)et.circles.push(ai.circles[Ot+0]),et.circles.push(ai.circles[Ot+1]),et.circles.push(ai.circles[Ot+2]),et.circles.push(ai.collisionDetected?1:0)}const _e="globe"!==M.projection.name;ce=ce&&(_e||!ot),he=he&&(_e||!Ct),this.placements[Ze]=new ds(Ge||ce,lt||he,tt||M.justReloaded),l.add(Ze)};if(ie){const ge=M.getSortedSymbolIndexes(this.transform.angle);for(let Ce=ge.length-1;Ce>=0;--Ce){const Re=ge[Ce];ve(M.symbolInstances.get(Re),Re,M.collisionArrays[Re])}}else for(let ge=n.symbolInstanceStart;ge<n.symbolInstanceEnd;ge++)ve(M.symbolInstances.get(ge),ge,M.collisionArrays[ge]);if(m&&M.bucketInstanceId in this.collisionCircleArrays){const ge=this.collisionCircleArrays[M.bucketInstanceId];a.invert(ge.invProjMatrix,O),ge.viewportMatrix=this.collisionIndex.getViewportMatrix()}M.justReloaded=!1}markUsedJustification(n,l,m,v){const{leftJustifiedTextSymbolIndex:M,centerJustifiedTextSymbolIndex:P,rightJustifiedTextSymbolIndex:O,verticalPlacedTextSymbolIndex:V,crossTileID:$}=m,q=a.getAnchorJustification(l),re=v===a.WritingMode.vertical?V:"left"===q?M:"center"===q?P:"right"===q?O:-1;M>=0&&(n.text.placedSymbolArray.get(M).crossTileID=re>=0&&M!==re?0:$),P>=0&&(n.text.placedSymbolArray.get(P).crossTileID=re>=0&&P!==re?0:$),O>=0&&(n.text.placedSymbolArray.get(O).crossTileID=re>=0&&O!==re?0:$),V>=0&&(n.text.placedSymbolArray.get(V).crossTileID=re>=0&&V!==re?0:$)}markUsedOrientation(n,l,m){const v=l===a.WritingMode.horizontal||l===a.WritingMode.horizontalOnly?l:0,M=l===a.WritingMode.vertical?l:0,{leftJustifiedTextSymbolIndex:P,centerJustifiedTextSymbolIndex:O,rightJustifiedTextSymbolIndex:V,verticalPlacedTextSymbolIndex:$}=m,q=n.text.placedSymbolArray;P>=0&&(q.get(P).placedOrientation=v),O>=0&&(q.get(O).placedOrientation=v),V>=0&&(q.get(V).placedOrientation=v),$>=0&&(q.get($).placedOrientation=M)}commit(n){this.commitTime=n,this.zoomAtLastRecencyCheck=this.transform.zoom;const l=this.prevPlacement;let m=!1;this.prevZoomAdjustment=l?l.zoomAdjustment(this.transform.zoom):0;const v=l?l.symbolFadeChange(n):1,M=l?l.opacities:{},P=l?l.variableOffsets:{},O=l?l.placedOrientations:{};for(const V in this.placements){const $=this.placements[V],q=M[V];q?(this.opacities[V]=new xa(q,v,$.text,$.icon,null,$.clipped),m=m||$.text!==q.text.placed||$.icon!==q.icon.placed):(this.opacities[V]=new xa(null,v,$.text,$.icon,$.skipFade,$.clipped),m=m||$.text||$.icon)}for(const V in M){const $=M[V];if(!this.opacities[V]){const q=new xa($,v,!1,!1);q.isHidden()||(this.opacities[V]=q,m=m||$.text.placed||$.icon.placed)}}for(const V in P)this.variableOffsets[V]||!this.opacities[V]||this.opacities[V].isHidden()||(this.variableOffsets[V]=P[V]);for(const V in O)this.placedOrientations[V]||!this.opacities[V]||this.opacities[V].isHidden()||(this.placedOrientations[V]=O[V]);m?this.lastPlacementChangeTime=n:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=l?l.lastPlacementChangeTime:n)}updateLayerOpacities(n,l){const m=new Set;for(const v of l){const M=v.getBucket(n);M&&v.latestFeatureIndex&&n.id===M.layerIds[0]&&this.updateBucketOpacities(M,m,v.collisionBoxArray)}}updateBucketOpacities(n,l,m){n.hasTextData()&&n.text.opacityVertexArray.clear(),n.hasIconData()&&n.icon.opacityVertexArray.clear(),n.hasIconCollisionBoxData()&&n.iconCollisionBox.collisionVertexArray.clear(),n.hasTextCollisionBoxData()&&n.textCollisionBox.collisionVertexArray.clear();const v=n.layers[0].layout,M=!!n.layers[0].dynamicFilter(),P=new xa(null,0,!1,!1,!0),O=v.get("text-allow-overlap"),V=v.get("icon-allow-overlap"),$=v.get("text-variable-anchor"),q="map"===v.get("text-rotation-alignment"),re="map"===v.get("text-pitch-alignment"),r="none"!==v.get("icon-text-fit"),o=new xa(null,0,O&&(V||!n.hasIconData()||v.get("icon-optional")),V&&(O||!n.hasTextData()||v.get("text-optional")),!0);!n.collisionArrays&&m&&(n.hasIconCollisionBoxData()||n.hasTextCollisionBoxData())&&n.deserializeCollisionBoxes(m);const h=(y,b,k)=>{for(let I=0;I<b/4;I++)y.opacityVertexArray.emplaceBack(k)};let f=0;for(let y=0;y<n.symbolInstances.length;y++){const b=n.symbolInstances.get(y),{numHorizontalGlyphVertices:k,numVerticalGlyphVertices:I,crossTileID:C,numIconVertices:F}=b,N=l.has(C);let U=this.opacities[C];N?U=P:U||(U=o,this.opacities[C]=U),l.add(C);const ie=k>0||I>0,ce=F>0,he=this.placedOrientations[C],ve=he===a.WritingMode.vertical,ge=he===a.WritingMode.horizontal||he===a.WritingMode.horizontalOnly;if(!ie&&!ce||U.isHidden()||f++,ie){const Ce=vo(U.text);h(n.text,k,ve?Gi:Ce),h(n.text,I,ge?Gi:Ce);const Re=U.text.isHidden(),{leftJustifiedTextSymbolIndex:Ze,centerJustifiedTextSymbolIndex:Be,rightJustifiedTextSymbolIndex:Ge,verticalPlacedTextSymbolIndex:lt}=b,tt=n.text.placedSymbolArray,ot=Re||ve?1:0;Ze>=0&&(tt.get(Ze).hidden=ot),Be>=0&&(tt.get(Be).hidden=ot),Ge>=0&&(tt.get(Ge).hidden=ot),lt>=0&&(tt.get(lt).hidden=Re||ge?1:0);const Ct=this.variableOffsets[C];Ct&&this.markUsedJustification(n,Ct.anchor,b,he);const Nt=this.placedOrientations[C];Nt&&(this.markUsedJustification(n,"left",b,Nt),this.markUsedOrientation(n,Nt,b))}if(ce){const Ce=vo(U.icon),{placedIconSymbolIndex:Re,verticalPlacedIconSymbolIndex:Ze}=b,Be=n.icon.placedSymbolArray,Ge=U.icon.isHidden()?1:0;Re>=0&&(h(n.icon,F,ve?Gi:Ce),Be.get(Re).hidden=Ge),Ze>=0&&(h(n.icon,b.numVerticalIconVertices,ge?Gi:Ce),Be.get(Ze).hidden=Ge)}if(n.hasIconCollisionBoxData()||n.hasTextCollisionBoxData()){const Ce=n.collisionArrays[y];if(Ce){let Re=new a.Point(0,0),Ze=!0;if(Ce.textBox||Ce.verticalTextBox){if($){const Ge=this.variableOffsets[C];Ge?(Re=Gs(Ge.anchor,Ge.width,Ge.height,Ge.textOffset,Ge.textScale),q&&Re._rotate(re?this.transform.angle:-this.transform.angle)):Ze=!1}M&&(Ze=!U.clipped),Ce.textBox&&As(n.textCollisionBox.collisionVertexArray,U.text.placed,!Ze||ve,Re.x,Re.y),Ce.verticalTextBox&&As(n.textCollisionBox.collisionVertexArray,U.text.placed,!Ze||ge,Re.x,Re.y)}const Be=Ze&&Boolean(!ge&&Ce.verticalIconBox);Ce.iconBox&&As(n.iconCollisionBox.collisionVertexArray,U.icon.placed,Be,r?Re.x:0,r?Re.y:0),Ce.verticalIconBox&&As(n.iconCollisionBox.collisionVertexArray,U.icon.placed,!Be,r?Re.x:0,r?Re.y:0)}}}if(n.fullyClipped=0===f,n.sortFeatures(this.transform.angle),this.retainedQueryData[n.bucketInstanceId]&&(this.retainedQueryData[n.bucketInstanceId].featureSortOrder=n.featureSortOrder),n.hasTextData()&&n.text.opacityVertexBuffer&&n.text.opacityVertexBuffer.updateData(n.text.opacityVertexArray),n.hasIconData()&&n.icon.opacityVertexBuffer&&n.icon.opacityVertexBuffer.updateData(n.icon.opacityVertexArray),n.hasIconCollisionBoxData()&&n.iconCollisionBox.collisionVertexBuffer&&n.iconCollisionBox.collisionVertexBuffer.updateData(n.iconCollisionBox.collisionVertexArray),n.hasTextCollisionBoxData()&&n.textCollisionBox.collisionVertexBuffer&&n.textCollisionBox.collisionVertexBuffer.updateData(n.textCollisionBox.collisionVertexArray),n.bucketInstanceId in this.collisionCircleArrays){const y=this.collisionCircleArrays[n.bucketInstanceId];n.placementInvProjMatrix=y.invProjMatrix,n.placementViewportMatrix=y.viewportMatrix,n.collisionCircleArray=y.circles,delete this.collisionCircleArrays[n.bucketInstanceId]}}symbolFadeChange(n){return 0===this.fadeDuration?1:(n-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(n){return Math.max(0,(this.transform.zoom-n)/1.5)}hasTransitions(n){return this.stale||n-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(n,l){const m=this.zoomAtLastRecencyCheck===l?1-this.zoomAdjustment(l):1;return this.zoomAtLastRecencyCheck=l,this.commitTime+this.fadeDuration*m>n}setStale(){this.stale=!0}}function As(p,n,l,m,v){p.emplaceBack(n?1:0,l?1:0,m||0,v||0),p.emplaceBack(n?1:0,l?1:0,m||0,v||0),p.emplaceBack(n?1:0,l?1:0,m||0,v||0),p.emplaceBack(n?1:0,l?1:0,m||0,v||0)}const tr=Math.pow(2,25),mn=Math.pow(2,24),cl=Math.pow(2,17),ul=Math.pow(2,16),pr=Math.pow(2,9),jr=Math.pow(2,8),Dl=Math.pow(2,1);function vo(p){if(0===p.opacity&&!p.placed)return 0;if(1===p.opacity&&p.placed)return 4294967295;const n=p.placed?1:0,l=Math.floor(127*p.opacity);return l*tr+n*mn+l*cl+n*ul+l*pr+n*jr+l*Dl+n}const Gi=0;class bo{constructor(n){this._sortAcrossTiles="viewport-y"!==n.layout.get("symbol-z-order")&&void 0!==n.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(n,l,m,v,M){const P=this._bucketParts;for(;this._currentTileIndex<n.length;)if(l.getBucketParts(P,v,n[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,M())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,P.sort((O,V)=>O.sortKey-V.sortKey));this._currentPartIndex<P.length;){const O=P[this._currentPartIndex];if(l.placeLayerBucketPart(O,this._seenCrossTileIDs,m,0===O.symbolInstanceStart),this._currentPartIndex++,M())return!0}return!1}}class dl{constructor(n,l,m,v,M,P,O,V){this.placement=new Ar(n,M,P,O,V),this._currentPlacementIndex=l.length-1,this._forceFullPlacement=m,this._showCollisionBoxes=v,this._done=!1}isDone(){return this._done}continuePlacement(n,l,m){const v=a.exported.now(),M=()=>{const P=a.exported.now()-v;return!this._forceFullPlacement&&P>2};for(;this._currentPlacementIndex>=0;){const P=l[n[this._currentPlacementIndex]],O=this.placement.collisionIndex.transform.zoom;if("symbol"===P.type&&(!P.minzoom||P.minzoom<=O)&&(!P.maxzoom||P.maxzoom>O)){if(this._inProgressLayer||(this._inProgressLayer=new bo(P)),this._inProgressLayer.continuePlacement(m[P.source],this.placement,this._showCollisionBoxes,P,M))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(n){return this.placement.commit(n),this.placement}}const ha=512/a.EXTENT/2;class Sn{constructor(n,l,m){this.tileID=n,this.bucketInstanceId=m,this.index=new a.KDBush(l.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const v=n.canonical.x*a.EXTENT,M=n.canonical.y*a.EXTENT;for(let P=0;P<l.length;P++){const{key:O,crossTileID:V,tileAnchorX:$,tileAnchorY:q}=l.get(P),re=Math.floor((v+$)*ha),r=Math.floor((M+q)*ha);this.index.add(re,r),this.keys.push(O),this.crossTileIDs.push(V)}this.index.finish()}findMatches(n,l,m){const v=this.tileID.canonical.z<l.canonical.z?1:Math.pow(2,this.tileID.canonical.z-l.canonical.z),M=ha/Math.pow(2,l.canonical.z-this.tileID.canonical.z),P=l.canonical.x*a.EXTENT,O=l.canonical.y*a.EXTENT;for(let V=0;V<n.length;V++){const $=n.get(V);if($.crossTileID)continue;const{key:q,tileAnchorX:re,tileAnchorY:r}=$,o=Math.floor((P+re)*M),h=Math.floor((O+r)*M),f=this.index.range(o-v,h-v,o+v,h+v);for(const y of f){const b=this.crossTileIDs[y];if(this.keys[y]===q&&!m.has(b)){m.add(b),$.crossTileID=b;break}}}}}class Pr{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Zs{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(n){const l=Math.round((n-this.lng)/360);if(0!==l)for(const m in this.indexes){const v=this.indexes[m],M={};for(const P in v){const O=v[P];O.tileID=O.tileID.unwrapTo(O.tileID.wrap+l),M[O.tileID.key]=O}this.indexes[m]=M}this.lng=n}addBucket(n,l,m){if(this.indexes[n.overscaledZ]&&this.indexes[n.overscaledZ][n.key]){if(this.indexes[n.overscaledZ][n.key].bucketInstanceId===l.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(n.overscaledZ,this.indexes[n.overscaledZ][n.key])}for(let M=0;M<l.symbolInstances.length;M++)l.symbolInstances.get(M).crossTileID=0;this.usedCrossTileIDs[n.overscaledZ]||(this.usedCrossTileIDs[n.overscaledZ]=new Set);const v=this.usedCrossTileIDs[n.overscaledZ];for(const M in this.indexes){const P=this.indexes[M];if(Number(M)>n.overscaledZ)for(const O in P){const V=P[O];V.tileID.isChildOf(n)&&V.findMatches(l.symbolInstances,n,v)}else{const O=P[n.scaledTo(Number(M)).key];O&&O.findMatches(l.symbolInstances,n,v)}}for(let M=0;M<l.symbolInstances.length;M++){const P=l.symbolInstances.get(M);P.crossTileID||(P.crossTileID=m.generate(),v.add(P.crossTileID))}return void 0===this.indexes[n.overscaledZ]&&(this.indexes[n.overscaledZ]={}),this.indexes[n.overscaledZ][n.key]=new Sn(n,l.symbolInstances,l.bucketInstanceId),!0}removeBucketCrossTileIDs(n,l){for(const m of l.crossTileIDs)this.usedCrossTileIDs[n].delete(m)}removeStaleBuckets(n){let l=!1;for(const m in this.indexes){const v=this.indexes[m];for(const M in v)n[v[M].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,v[M]),delete v[M],l=!0)}return l}}class Vr{constructor(){this.layerIndexes={},this.crossTileIDs=new Pr,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(n,l,m,v){let M=this.layerIndexes[n.id];void 0===M&&(M=this.layerIndexes[n.id]=new Zs);let P=!1;const O={};"globe"!==v.name&&M.handleWrapJump(m);for(const V of l){const $=V.getBucket(n);$&&n.id===$.layerIds[0]&&($.bucketInstanceId||($.bucketInstanceId=++this.maxBucketInstanceId),M.addBucket(V.tileID,$,this.crossTileIDs)&&(P=!0),O[$.bucketInstanceId]=!0)}return M.removeStaleBuckets(O)&&(P=!0),P}pruneUnusedLayers(n){const l={};n.forEach(m=>{l[m]=!0});for(const m in this.layerIndexes)l[m]||delete this.layerIndexes[m]}}const fr=(p,n)=>a.emitValidationErrors(p,n&&n.filter(l=>"source.canvas"!==l.identifier)),Ha=a.pick(pi,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),qs=a.pick(pi,["setCenter","setZoom","setBearing","setPitch"]),$s={version:8,layers:[],sources:{}},Hr={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class ir extends a.Evented{constructor(n,l={}){super(),this.map=n,this.dispatcher=new pn(bn(),this),this.imageManager=new Rt,this.imageManager.setEventedParent(this),this.glyphManager=new a.GlyphManager(n._requestManager,l.localFontFamily?a.LocalGlyphMode.all:l.localIdeographFontFamily?a.LocalGlyphMode.ideographs:a.LocalGlyphMode.none,l.localFontFamily||l.localIdeographFontFamily),this.crossTileSymbolIndex=new Vr,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());const m=this;this._rtlTextPluginCallback=ir.registerForPluginStateChange(v=>{m.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:v.pluginStatus,pluginURL:v.pluginURL},(M,P)=>{if(a.triggerPluginCompletionEvent(M),P&&P.every(O=>O))for(const O in m._sourceCaches){const V=m._sourceCaches[O],$=V.getSource().type;"vector"!==$&&"geojson"!==$||V.reload()}})}),this.on("data",v=>{if("source"!==v.dataType||"metadata"!==v.sourceDataType)return;const M=this.getSource(v.sourceId);if(M&&M.vectorLayerIds)for(const P in this._layers){const O=this._layers[P];O.source===M.id&&this._validateLayer(O)}})}loadURL(n,l={}){this.fire(new a.Event("dataloading",{dataType:"style"}));const m="boolean"==typeof l.validate?l.validate:!a.isMapboxURL(n);n=this.map._requestManager.normalizeStyleURL(n,l.accessToken);const v=this.map._requestManager.transformRequest(n,a.ResourceType.Style);this._request=a.getJSON(v,(M,P)=>{this._request=null,M?this.fire(new a.ErrorEvent(M)):P&&this._load(P,m)})}loadJSON(n,l={}){this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.exported.frame(()=>{this._request=null,this._load(n,!1!==l.validate)})}loadEmpty(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load($s,!1)}_updateLayerCount(n,l){const m=l?1:-1;n.is3D()&&(this._num3DLayers+=m),"circle"===n.type&&(this._numCircleLayers+=m),"symbol"===n.type&&(this._numSymbolLayers+=m)}_load(n,l){if(l&&fr(this,a.validateStyle(n)))return;this._loaded=!0,this.stylesheet=a.clone$1(n),this._updateMapProjection();for(const v in n.sources)this.addSource(v,n.sources[v],{validate:!1});this._changed=!1,n.sprite?this._loadSprite(n.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(n.glyphs);const m=jn(this.stylesheet.layers);this._order=m.map(v=>v.id),this._layers={},this._serializedLayers={};for(const v of m){const M=a.createStyleLayer(v);M.setEventedParent(this,{layer:{id:M.id}}),this._layers[M.id]=M,this._serializedLayers[M.id]=M.serialize(),this._updateLayerCount(M,!0)}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new Gt(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&0===this.terrain.drapeRenderMode}setProjection(n){n?this.stylesheet.projection=n:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(n){this._spriteRequest=function(l,m,v){let M,P,O;const V=a.exported.devicePixelRatio>1?"@2x":"";let $=a.getJSON(m.transformRequest(m.normalizeSpriteURL(l,V,".json"),a.ResourceType.SpriteJSON),(r,o)=>{$=null,O||(O=r,M=o,re())}),q=a.getImage(m.transformRequest(m.normalizeSpriteURL(l,V,".png"),a.ResourceType.SpriteImage),(r,o)=>{q=null,O||(O=r,P=o,re())});function re(){if(O)v(O);else if(M&&P){const r=a.exported.getImageData(P),o={};for(const h in M){const{width:f,height:y,x:b,y:k,sdf:I,pixelRatio:C,stretchX:F,stretchY:N,content:U}=M[h],ie=new a.RGBAImage({width:f,height:y});a.RGBAImage.copy(r,ie,{x:b,y:k},{x:0,y:0},{width:f,height:y}),o[h]={data:ie,pixelRatio:C,sdf:I,stretchX:F,stretchY:N,content:U}}v(null,o)}}return{cancel(){$&&($.cancel(),$=null),q&&(q.cancel(),q=null)}}}(n,this.map._requestManager,(l,m)=>{if(this._spriteRequest=null,l)this.fire(new a.ErrorEvent(l));else if(m)for(const v in m)this.imageManager.addImage(v,m[v]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new a.Event("data",{dataType:"style"}))})}_validateLayer(n){const l=this.getSource(n.source);if(!l)return;const m=n.sourceLayer;m&&("geojson"===l.type||l.vectorLayerIds&&-1===l.vectorLayerIds.indexOf(m))&&this.fire(new a.ErrorEvent(new Error(`Source layer "${m}" does not exist on source "${l.id}" as specified by style layer "${n.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const n in this._sourceCaches)if(!this._sourceCaches[n].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(n){const l=[];for(const m of n){const v=this._layers[m];"custom"!==v.type&&l.push(v.serialize())}return l}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const n in this._sourceCaches)if(this._sourceCaches[n].hasTransition())return!0;for(const n in this._layers)if(this._layers[n].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(n){return!!this.terrain&&("function"==typeof n.isLayerDraped?n.isLayerDraped():Hr[n.type])}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(n){if(!this._loaded)return;const l=this._changed;if(this._changed){const v=Object.keys(this._updatedLayers),M=Object.keys(this._removedLayers);(v.length||M.length)&&this._updateWorkerLayers(v,M);for(const P in this._updatedSources){const O=this._updatedSources[P];"reload"===O?this._reloadSource(P):"clear"===O&&this._clearSource(P)}this._updateTilesForChangedImages();for(const P in this._updatedPaintProps)this._layers[P].updateTransitions(n);this.light.updateTransitions(n),this.fog&&this.fog.updateTransitions(n),this._resetUpdates()}const m={};for(const v in this._sourceCaches){const M=this._sourceCaches[v];m[v]=M.used,M.used=!1}for(const v of this._order){const M=this._layers[v];if(M.recalculate(n,this._availableImages),!M.isHidden(n.zoom)){const O=this._getLayerSourceCache(M);O&&(O.used=!0)}const P=this.map.painter;if(P){const O=M.getProgramIds();if(!O)continue;const V=M.getProgramConfiguration(n.zoom);for(const $ of O)P.useProgram($,V)}}for(const v in m){const M=this._sourceCaches[v];m[v]!==M.used&&M.getSource().fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:M.getSource().id}))}this.light.recalculate(n),this.terrain&&this.terrain.recalculate(n),this.fog&&this.fog.recalculate(n),this.z=n.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),l&&this.fire(new a.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const n=Object.keys(this._changedImages);if(n.length){for(const l in this._sourceCaches)this._sourceCaches[l].reloadTilesForDependencies(["icons","patterns"],n);this._changedImages={}}}_updateWorkerLayers(n,l){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(n),removedIds:l})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(n){if(this._checkLoaded(),fr(this,a.validateStyle(n)))return!1;(n=a.clone$1(n)).layers=jn(n.layers);const l=function(v,M){if(!v)return[{command:pi.setStyle,args:[M]}];let P=[];try{if(!d(v.version,M.version))return[{command:pi.setStyle,args:[M]}];d(v.center,M.center)||P.push({command:pi.setCenter,args:[M.center]}),d(v.zoom,M.zoom)||P.push({command:pi.setZoom,args:[M.zoom]}),d(v.bearing,M.bearing)||P.push({command:pi.setBearing,args:[M.bearing]}),d(v.pitch,M.pitch)||P.push({command:pi.setPitch,args:[M.pitch]}),d(v.sprite,M.sprite)||P.push({command:pi.setSprite,args:[M.sprite]}),d(v.glyphs,M.glyphs)||P.push({command:pi.setGlyphs,args:[M.glyphs]}),d(v.transition,M.transition)||P.push({command:pi.setTransition,args:[M.transition]}),d(v.light,M.light)||P.push({command:pi.setLight,args:[M.light]}),d(v.fog,M.fog)||P.push({command:pi.setFog,args:[M.fog]}),d(v.projection,M.projection)||P.push({command:pi.setProjection,args:[M.projection]});const O={},V=[];!function(re,r,o,h){let f;for(f in r=r||{},re=re||{})re.hasOwnProperty(f)&&(r.hasOwnProperty(f)||br(f,o,h));for(f in r){if(!r.hasOwnProperty(f))continue;const y=r[f];re.hasOwnProperty(f)?d(re[f],y)||("geojson"===re[f].type&&"geojson"===y.type&&cs(re,r,f)?o.push({command:pi.setGeoJSONSourceData,args:[f,y.data]}):yo(f,r,o,h)):Fr(f,r,o)}}(v.sources,M.sources,V,O);const $=[];v.layers&&v.layers.forEach(re=>{re.source&&O[re.source]?P.push({command:pi.removeLayer,args:[re.id]}):$.push(re)});let q=v.terrain;q&&O[q.source]&&(P.push({command:pi.setTerrain,args:[void 0]}),q=void 0),P=P.concat(V),d(q,M.terrain)||P.push({command:pi.setTerrain,args:[M.terrain]}),function(re,r,o){r=r||[];const h=(re=re||[]).map(on),f=r.map(on),y=re.reduce(Es,{}),b=r.reduce(Es,{}),k=h.slice(),I=Object.create(null);let C,F,N,U,ie,ce,he;for(C=0,F=0;C<h.length;C++)N=h[C],b.hasOwnProperty(N)?F++:(o.push({command:pi.removeLayer,args:[N]}),k.splice(k.indexOf(N,F),1));for(C=0,F=0;C<f.length;C++)N=f[f.length-1-C],k[k.length-1-C]!==N&&(y.hasOwnProperty(N)?(o.push({command:pi.removeLayer,args:[N]}),k.splice(k.lastIndexOf(N,k.length-F),1)):F++,ce=k[k.length-C],o.push({command:pi.addLayer,args:[b[N],ce]}),k.splice(k.length-C,0,N),I[N]=!0);for(C=0;C<f.length;C++)if(N=f[C],U=y[N],ie=b[N],!I[N]&&!d(U,ie))if(d(U.source,ie.source)&&d(U["source-layer"],ie["source-layer"])&&d(U.type,ie.type)){for(he in dn(U.layout,ie.layout,o,N,null,pi.setLayoutProperty),dn(U.paint,ie.paint,o,N,null,pi.setPaintProperty),d(U.filter,ie.filter)||o.push({command:pi.setFilter,args:[N,ie.filter]}),d(U.minzoom,ie.minzoom)&&d(U.maxzoom,ie.maxzoom)||o.push({command:pi.setLayerZoomRange,args:[N,ie.minzoom,ie.maxzoom]}),U)U.hasOwnProperty(he)&&"layout"!==he&&"paint"!==he&&"filter"!==he&&"metadata"!==he&&"minzoom"!==he&&"maxzoom"!==he&&(0===he.indexOf("paint.")?dn(U[he],ie[he],o,N,he.slice(6),pi.setPaintProperty):d(U[he],ie[he])||o.push({command:pi.setLayerProperty,args:[N,he,ie[he]]}));for(he in ie)ie.hasOwnProperty(he)&&!U.hasOwnProperty(he)&&"layout"!==he&&"paint"!==he&&"filter"!==he&&"metadata"!==he&&"minzoom"!==he&&"maxzoom"!==he&&(0===he.indexOf("paint.")?dn(U[he],ie[he],o,N,he.slice(6),pi.setPaintProperty):d(U[he],ie[he])||o.push({command:pi.setLayerProperty,args:[N,he,ie[he]]}))}else o.push({command:pi.removeLayer,args:[N]}),ce=k[k.lastIndexOf(N)+1],o.push({command:pi.addLayer,args:[ie,ce]})}($,M.layers,P)}catch(O){console.warn("Unable to compute style diff:",O),P=[{command:pi.setStyle,args:[M]}]}return P}(this.serialize(),n).filter(v=>!(v.command in qs));if(0===l.length)return!1;const m=l.filter(v=>!(v.command in Ha));if(m.length>0)throw new Error(`Unimplemented: ${m.map(v=>v.command).join(", ")}.`);return l.forEach(v=>{"setTransition"!==v.command&&"setProjection"!==v.command&&this[v.command].apply(this,v.args)}),this.stylesheet=n,this._updateMapProjection(),!0}addImage(n,l){return this.getImage(n)?this.fire(new a.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(n,l),this._afterImageUpdated(n),this)}updateImage(n,l){this.imageManager.updateImage(n,l)}getImage(n){return this.imageManager.getImage(n)}removeImage(n){return this.getImage(n)?(this.imageManager.removeImage(n),this._afterImageUpdated(n),this):this.fire(new a.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(n){this._availableImages=this.imageManager.listImages(),this._changedImages[n]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(n,l,m={}){if(this._checkLoaded(),void 0!==this.getSource(n))throw new Error("There is already a source with this ID");if(!l.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(l).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(l.type)>=0&&this._validate(a.validateSource,`sources.${n}`,l,null,m))return;this.map&&this.map._collectResourceTiming&&(l.collectResourceTiming=!0);const v=pt(n,l,this.dispatcher,this);v.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(n),source:v.serialize(),sourceId:n}));const M=P=>{const O=(P?"symbol:":"other:")+n,V=this._sourceCaches[O]=new a.SourceCache(O,v,P);(P?this._symbolSourceCaches:this._otherSourceCaches)[n]=V,V.style=this,V.onAdd(this.map)};M(!1),"vector"!==l.type&&"geojson"!==l.type||M(!0),v.onAdd&&v.onAdd(this.map),this._changed=!0}removeSource(n){this._checkLoaded();const l=this.getSource(n);if(!l)throw new Error("There is no source with this ID");for(const v in this._layers)if(this._layers[v].source===n)return this.fire(new a.ErrorEvent(new Error(`Source "${n}" cannot be removed while layer "${v}" is using it.`)));if(this.terrain&&this.terrain.get().source===n)return this.fire(new a.ErrorEvent(new Error(`Source "${n}" cannot be removed while terrain is using it.`)));const m=this._getSourceCaches(n);for(const v of m)delete this._sourceCaches[v.id],delete this._updatedSources[v.id],v.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:v.getSource().id})),v.setEventedParent(null),v.clearTiles();return delete this._otherSourceCaches[n],delete this._symbolSourceCaches[n],l.setEventedParent(null),l.onRemove&&l.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(n,l){this._checkLoaded(),this.getSource(n).setData(l),this._changed=!0}getSource(n){const l=this._getSourceCache(n);return l&&l.getSource()}_getSources(){const n=[];for(const l in this._otherSourceCaches){const m=this._getSourceCache(l);m&&n.push(m.getSource())}return n}addLayer(n,l,m={}){this._checkLoaded();const v=n.id;if(this.getLayer(v))return void this.fire(new a.ErrorEvent(new Error(`Layer with id "${v}" already exists on this map`)));let M;if("custom"===n.type){if(fr(this,a.validateCustomStyleLayer(n)))return;M=a.createStyleLayer(n)}else{if("object"==typeof n.source&&(this.addSource(v,n.source),n=a.clone$1(n),n=a.extend(n,{source:v})),this._validate(a.validateLayer,`layers.${v}`,n,{arrayIndex:-1},m))return;M=a.createStyleLayer(n),this._validateLayer(M),M.setEventedParent(this,{layer:{id:v}}),this._serializedLayers[M.id]=M.serialize(),this._updateLayerCount(M,!0)}const P=l?this._order.indexOf(l):this._order.length;if(l&&-1===P)return void this.fire(new a.ErrorEvent(new Error(`Layer with id "${l}" does not exist on this map.`)));this._order.splice(P,0,v),this._layerOrderChanged=!0,this._layers[v]=M;const O=this._getLayerSourceCache(M);if(this._removedLayers[v]&&M.source&&O&&"custom"!==M.type){const V=this._removedLayers[v];delete this._removedLayers[v],V.type!==M.type?this._updatedSources[M.source]="clear":(this._updatedSources[M.source]="reload",O.pause())}this._updateLayer(M),M.onAdd&&M.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(n,l){if(this._checkLoaded(),this._changed=!0,!this._layers[n])return void this.fire(new a.ErrorEvent(new Error(`The layer '${n}' does not exist in the map's style and cannot be moved.`)));if(n===l)return;const m=this._order.indexOf(n);this._order.splice(m,1);const v=l?this._order.indexOf(l):this._order.length;l&&-1===v?this.fire(new a.ErrorEvent(new Error(`Layer with id "${l}" does not exist on this map.`))):(this._order.splice(v,0,n),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(n){this._checkLoaded();const l=this._layers[n];if(!l)return void this.fire(new a.ErrorEvent(new Error(`The layer '${n}' does not exist in the map's style and cannot be removed.`)));l.setEventedParent(null),this._updateLayerCount(l,!1);const m=this._order.indexOf(n);this._order.splice(m,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[n]=l,delete this._layers[n],delete this._serializedLayers[n],delete this._updatedLayers[n],delete this._updatedPaintProps[n],l.onRemove&&l.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(n){return this._layers[n]}hasLayer(n){return n in this._layers}hasLayerType(n){for(const l in this._layers)if(this._layers[l].type===n)return!0;return!1}setLayerZoomRange(n,l,m){this._checkLoaded();const v=this.getLayer(n);v?v.minzoom===l&&v.maxzoom===m||(null!=l&&(v.minzoom=l),null!=m&&(v.maxzoom=m),this._updateLayer(v)):this.fire(new a.ErrorEvent(new Error(`The layer '${n}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(n,l,m={}){this._checkLoaded();const v=this.getLayer(n);if(v){if(!d(v.filter,l))return null==l?(v.filter=void 0,void this._updateLayer(v)):void(this._validate(a.validateFilter,`layers.${v.id}.filter`,l,{layerType:v.type},m)||(v.filter=a.clone$1(l),this._updateLayer(v)))}else this.fire(new a.ErrorEvent(new Error(`The layer '${n}' does not exist in the map's style and cannot be filtered.`)))}getFilter(n){const l=this.getLayer(n);return l&&a.clone$1(l.filter)}setLayoutProperty(n,l,m,v={}){this._checkLoaded();const M=this.getLayer(n);M?d(M.getLayoutProperty(l),m)||(M.setLayoutProperty(l,m,v),this._updateLayer(M)):this.fire(new a.ErrorEvent(new Error(`The layer '${n}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(n,l){const m=this.getLayer(n);if(m)return m.getLayoutProperty(l);this.fire(new a.ErrorEvent(new Error(`The layer '${n}' does not exist in the map's style.`)))}setPaintProperty(n,l,m,v={}){this._checkLoaded();const M=this.getLayer(n);M?d(M.getPaintProperty(l),m)||(M.setPaintProperty(l,m,v)&&this._updateLayer(M),this._changed=!0,this._updatedPaintProps[n]=!0):this.fire(new a.ErrorEvent(new Error(`The layer '${n}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(n,l){const m=this.getLayer(n);return m&&m.getPaintProperty(l)}setFeatureState(n,l){this._checkLoaded();const m=n.source,v=n.sourceLayer,M=this.getSource(m);if(!M)return void this.fire(new a.ErrorEvent(new Error(`The source '${m}' does not exist in the map's style.`)));const P=M.type;if("geojson"===P&&v)return void this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===P&&!v)return void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===n.id&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided.")));const O=this._getSourceCaches(m);for(const V of O)V.setFeatureState(v,n.id,l)}removeFeatureState(n,l){this._checkLoaded();const m=n.source,v=this.getSource(m);if(!v)return void this.fire(new a.ErrorEvent(new Error(`The source '${m}' does not exist in the map's style.`)));const M=v.type,P="vector"===M?n.sourceLayer:void 0;if("vector"===M&&!P)return void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(l&&"string"!=typeof n.id&&"number"!=typeof n.id)return void this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const O=this._getSourceCaches(m);for(const V of O)V.removeFeatureState(P,n.id,l)}getFeatureState(n){this._checkLoaded();const l=n.source,m=n.sourceLayer,v=this.getSource(l);if(v){if("vector"!==v.type||m)return void 0===n.id&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(l)[0].getFeatureState(m,n.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error(`The source '${l}' does not exist in the map's style.`)))}getTransition(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const n={};for(const l in this._sourceCaches){const m=this._sourceCaches[l].getSource();n[m.id]||(n[m.id]=m.serialize())}return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:n,layers:this._serializeLayers(this._order)},l=>void 0!==l)}_updateLayer(n){this._updatedLayers[n.id]=!0;const l=this._getLayerSourceCache(n);n.source&&!this._updatedSources[n.source]&&l&&"raster"!==l.getSource().type&&(this._updatedSources[n.source]="reload",l.pause()),this._changed=!0,n.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(n){const l=P=>"fill-extrusion"===this._layers[P].type,m={},v=[];for(let P=this._order.length-1;P>=0;P--){const O=this._order[P];if(l(O)){m[O]=P;for(const V of n){const $=V[O];if($)for(const q of $)v.push(q)}}}v.sort((P,O)=>O.intersectionZ-P.intersectionZ);const M=[];for(let P=this._order.length-1;P>=0;P--){const O=this._order[P];if(l(O))for(let V=v.length-1;V>=0;V--){const $=v[V].feature;if(m[$.layer.id]<P)break;M.push($),v.pop()}else for(const V of n){const $=V[O];if($)for(const q of $)M.push(q.feature)}}return M}queryRenderedFeatures(n,l,m){l&&l.filter&&this._validate(a.validateFilter,"queryRenderedFeatures.filter",l.filter,null,l);const v={};if(l&&l.layers){if(!Array.isArray(l.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const V of l.layers){const $=this._layers[V];if(!$)return this.fire(new a.ErrorEvent(new Error(`The layer '${V}' does not exist in the map's style and cannot be queried for features.`))),[];v[$.source]=!0}}const M=[];l.availableImages=this._availableImages;const P=l&&l.layers?l.layers.some(V=>{const $=this.getLayer(V);return $&&$.is3D()}):this.has3DLayers(),O=En.createFromScreenPoints(n,m);for(const V in this._sourceCaches){const $=this._sourceCaches[V].getSource().id;l.layers&&!v[$]||M.push(_n(this._sourceCaches[V],this._layers,this._serializedLayers,O,l,m,P,!!this.map._showQueryGeometry))}return this.placement&&M.push(function(V,$,q,re,r,o,h){const f={},y=o.queryRenderedSymbols(re),b=[];for(const k of Object.keys(y).map(Number))b.push(h[k]);b.sort(Ln);for(const k of b){const I=k.featureIndex.lookupSymbolFeatures(y[k.bucketInstanceId],$,k.bucketIndex,k.sourceLayerIndex,r.filter,r.layers,r.availableImages,V);for(const C in I){const F=f[C]=f[C]||[],N=I[C];N.sort((U,ie)=>{const ce=k.featureSortOrder;if(ce){const he=ce.indexOf(U.featureIndex);return ce.indexOf(ie.featureIndex)-he}return ie.featureIndex-U.featureIndex});for(const U of N)F.push(U)}}for(const k in f)f[k].forEach(I=>{const C=I.feature,F=q(V[k]);if(!F)return;const N=F.getFeatureState(C.layer["source-layer"],C.id);C.source=C.layer.source,C.layer["source-layer"]&&(C.sourceLayer=C.layer["source-layer"]),C.state=N});return f}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),O.screenGeometry,l,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(M)}querySourceFeatures(n,l){l&&l.filter&&this._validate(a.validateFilter,"querySourceFeatures.filter",l.filter,null,l);const m=this._getSourceCaches(n);let v=[];for(const M of m)v=v.concat(Vi(M,l));return v}addSourceType(n,l,m){return ir.getSourceType(n)?m(new Error(`A source type called "${n}" already exists.`)):(ir.setSourceType(n,l),l.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:n,url:l.workerSourceURL},m):m(null,null))}getLight(){return this.light.getLight()}setLight(n,l={}){this._checkLoaded();const m=this.light.getLight();let v=!1;for(const P in n)if(!d(n[P],m[P])){v=!0;break}if(!v)return;const M=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(n,l),this.light.updateTransitions(M)}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(n,l=1){if(this._checkLoaded(),!n)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let m=n;if(1===l){if("object"==typeof m.source){const v="terrain-dem-src";this.addSource(v,m.source),m=a.clone$1(m),m=a.extend(m,{source:v})}if(this._validate(a.validateTerrain,"terrain",m))return}if(!this.terrain||this.terrain&&l!==this.terrain.drapeRenderMode){if(!m)return;this._createTerrain(m,l)}else{const v=this.terrain,M=v.get();for(const P of Object.keys(a.spec.terrain))!m.hasOwnProperty(P)&&a.spec.terrain[P].default&&(m[P]=a.spec.terrain[P].default);for(const P in m)if(!d(m[P],M[P])){v.set(m),this.stylesheet.terrain=m;const O=this._setTransitionParameters({duration:0});v.updateTransitions(O);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(n){const l=this.fog=new Dn(n,this.map.transform);this.stylesheet.fog=n;const m=this._setTransitionParameters({duration:0});l.updateTransitions(m)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask(()=>{for(const n of this.map._markers)n._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(n){if(this._checkLoaded(),!n)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const l=this.fog,m=l.get();0===Object.keys(n).length&&l.set(n);for(const v in n)if(!d(n[v],m[v])){l.set(n),this.stylesheet.fog=n;const M=this._setTransitionParameters({duration:0});l.updateTransitions(M);break}}else this._createFog(n);this._markersNeedUpdate=!0}_setTransitionParameters(n){return{now:a.exported.now(),transition:a.extend(n,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const n=this._order.filter(m=>this.isLayerDraped(this._layers[m])),l=this._order.filter(m=>!this.isLayerDraped(this._layers[m]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...n),this._drapedFirstOrder.push(...l)}_createTerrain(n,l){const m=this.terrain=new ki(n,l);this.stylesheet.terrain=n,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const v=this._setTransitionParameters({duration:0});m.updateTransitions(v)}_force3DLayerUpdate(){for(const n in this._layers){const l=this._layers[n];"fill-extrusion"===l.type&&this._updateLayer(l)}}_forceSymbolLayerUpdate(){for(const n in this._layers){const l=this._layers[n];"symbol"===l.type&&this._updateLayer(l)}}_validate(n,l,m,v,M={}){return(!M||!1!==M.validate)&&fr(this,n.call(a.validateStyle,a.extend({key:l,style:this.serialize(),value:m,styleSpec:a.spec},v)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const n in this._layers)this._layers[n].setEventedParent(null);for(const n in this._sourceCaches)this._sourceCaches[n].clearTiles(),this._sourceCaches[n].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(n){const l=this._getSourceCaches(n);for(const m of l)m.clearTiles()}_reloadSource(n){const l=this._getSourceCaches(n);for(const m of l)m.resume(),m.reload()}_reloadSources(){for(const n of this._getSources())n.reload&&n.reload()}_updateSources(n){for(const l in this._sourceCaches)this._sourceCaches[l].update(n)}_generateCollisionBoxes(){for(const n in this._sourceCaches){const l=this._sourceCaches[n];l.resume(),l.reload()}}_updatePlacement(n,l,m,v,M=!1){let P=!1,O=!1;const V={};for(const $ of this._order){const q=this._layers[$];if("symbol"!==q.type)continue;if(!V[q.source]){const r=this._getLayerSourceCache(q);if(!r)continue;V[q.source]=r.getRenderableIds(!0).map(o=>r.getTileByID(o)).sort((o,h)=>h.tileID.overscaledZ-o.tileID.overscaledZ||(o.tileID.isLessThan(h.tileID)?-1:1))}const re=this.crossTileSymbolIndex.addLayer(q,V[q.source],n.center.lng,n.projection);P=P||re}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),M=M||this._layerOrderChanged||0===m,this._layerOrderChanged&&this.fire(new a.Event("neworder")),(M||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.exported.now(),n.zoom))&&(this.pauseablePlacement=new dl(n,this._order,M,l,m,v,this.placement,this.fog&&n.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,V),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.exported.now()),O=!0),P&&this.pauseablePlacement.placement.setStale()),O||P)for(const $ of this._order){const q=this._layers[$];"symbol"===q.type&&this.placement.updateLayerOpacities(q,V[q.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.exported.now())}_releaseSymbolFadeTiles(){for(const n in this._sourceCaches)this._sourceCaches[n].releaseSymbolFadeTiles()}getImages(n,l,m){this.imageManager.getImages(l.icons,m),this._updateTilesForChangedImages();const v=M=>{M&&M.setDependencies(l.tileID.key,l.type,l.icons)};v(this._otherSourceCaches[l.source]),v(this._symbolSourceCaches[l.source])}getGlyphs(n,l,m){this.glyphManager.getGlyphs(l.stacks,m)}getResource(n,l,m){return a.makeRequest(l,m)}_getSourceCache(n){return this._otherSourceCaches[n]}_getLayerSourceCache(n){return"symbol"===n.type?this._symbolSourceCaches[n.source]:this._otherSourceCaches[n.source]}_getSourceCaches(n){const l=[];return this._otherSourceCaches[n]&&l.push(this._otherSourceCaches[n]),this._symbolSourceCaches[n]&&l.push(this._symbolSourceCaches[n]),l}_isSourceCacheLoaded(n){const l=this._getSourceCaches(n);return 0===l.length?(this.fire(new a.ErrorEvent(new Error(`There is no source with ID '${n}'`))),!1):l.every(m=>m.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}ir.getSourceType=function(p){return Qt[p]},ir.setSourceType=function(p,n){Qt[p]=n},ir.registerForPluginStateChange=a.registerForPluginStateChange;var hl="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#define HALF_PI PI/2.0\n#define QUARTER_PI PI/4.0\n#define RAD_TO_DEG 180.0/PI\n#define DEG_TO_RAD PI/180.0\n#define GLOBE_RADIUS EXTENT/PI/2.0",Ps="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",Na="\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\nconst float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)\n{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nfloat nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nreturn currentElevation(apos);}\n#endif\nhighp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",Is="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",Xi="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif";let Ua={},wa={};const hs=[];Nr(hl,hs),Nr(Na,hs),Nr(Is,hs),Nr(Xi,hs),Ua=zi("",Na),wa=zi(Xi,Is);const Fo=zi("\n#if __VERSION__ >=300\n#define varying in\n#define gl_FragColor glFragColor\n#define texture2D texture\n#define textureCube texture\nout vec4 glFragColor;\n#endif\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}","\n#if __VERSION__ >=300\n#define attribute in\n#define varying out\n#define texture2D texture\n#endif\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#ifndef PROJECTED_POS_ON_VIEWPORT\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),xr=hl,Xs="\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif";var Os={background:zi("uniform vec4 u_color;uniform float u_opacity;\n#ifdef LIGHTING_3D_MODE\nvarying vec4 v_color;\n#endif\nvoid main() {vec4 out_color;\n#ifdef LIGHTING_3D_MODE\nout_color=v_color;\n#else\nout_color=u_color;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#ifdef LIGHTING_3D_MODE\nuniform vec4 u_color;varying vec4 v_color;\n#endif\nvoid main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(u_color);\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:zi("uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:zi("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);\n#else \nsurface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nocclusion_world_center=world_center;occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:zi("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:zi("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\npos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:zi("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:zi("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:zi("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:zi("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:zi("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:zi("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:zi("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:zi("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:zi("varying vec4 v_color;\n#ifdef RENDER_SHADOWS\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\nvoid main() {\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvec3 normal=v_normal;\n#endif\nfloat z;vec4 color;\n#ifdef ZERO_ROOF_RADIUS\nz=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);\n#else\ncolor=v_color;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;\n#ifdef ZERO_ROOF_RADIUS\nconcave*=(1.0-z);\n#endif\nfloat x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;\n#endif\n#ifdef RENDER_SHADOWS\n#ifdef ZERO_ROOF_RADIUS\nnormal=mix(normal,vec3(0.0,0.0,1.0),z);\n#endif\ncolor.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nv_normal=normal;\n#endif\nbase=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=0.0;float c_ele;vec3 pos;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);\n#else\nh=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#ifdef RENDER_SHADOWS\nv_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;\n#endif\nfloat NdotL=0.0;float colorvalue=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\ncolorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(color,NdotL);\n#else\nv_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_color*=u_opacity;\n#ifdef ZERO_ROOF_RADIUS\nv_roof_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef LIGHTING_3D_MODE\nv_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));\n#else\nfloat roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_roof_color*=u_opacity;\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:zi("uniform vec2 u_texsize;uniform sampler2D u_image;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color,v_NdotL)*u_opacity;\n#else\nout_color=out_color*v_lighting;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=z;vec3 p;float c_ele;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);\n#else\np=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\nNdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_NdotL=NdotL;\n#else\nv_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#endif \n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:zi("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:zi("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef LIGHTING_3D_MODE\ngl_FragColor=apply_lighting(gl_FragColor);\n#endif\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:zi("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;\n#endif\nuniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nfloat linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\nhighp vec4 out_color;\n#ifdef RENDER_LINE_GRADIENT\nout_color=texture2D(u_gradient_image,v_uv.xy);\n#else\nout_color=color;\n#endif\nfloat trimmed=1.0;\n#ifdef RENDER_LINE_TRIM_OFFSET\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}\n#endif\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\n#ifdef RENDER_LINE_BORDER\nfloat edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);\n#ifdef RENDER_LINE_BORDER_AUTO\nfloat Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}\n#else\nout_color.rgb=mix(u_border_color.rgb*u_border_color.a*trimmed,out_color.rgb,smoothAlpha);\n#endif\n}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nattribute highp vec4 a_packed;\n#endif\n#ifdef RENDER_LINE_DASH\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\n#ifdef RENDER_LINE_GRADIENT\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\n#else\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\n#endif\n#endif\n#ifdef RENDER_LINE_DASH\nfloat scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:zi("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\ncolor=apply_lighting(color);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:zi("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:zi("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:zi("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:zi("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:zi("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef RENDER_SHADOWS\ncolor.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#else\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nconst float wireframeOffset=0.00015;void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=wireframeOffset;\n#endif\nv_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\nv_fog_pos=fog_position(decodedPos);\n#else\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n#endif\n#ifdef RENDER_SHADOWS\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\n#endif\n}"),terrainDepth:zi("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:zi("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Ps),skyboxGradient:zi("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",Ps),skyboxCapture:zi("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:zi("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifndef FOG\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\n#endif\nvoid main() {vec4 color;\n#ifdef CUSTOM_ANTIALIASING\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);\n#else\ncolor=texture2D(u_image0,v_pos0);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;\n#ifdef GLOBE_POLES\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\n#else\nattribute vec2 a_pos;\n#endif\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\n#ifdef GLOBE_POLES\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\n#else\nfloat tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\n#endif\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;\n#ifdef GLOBE_POLES\nvec3 up_vector=globe_derived_up_vector;\n#else\nvec3 up_vector=elevationVector(tile_pos);\n#endif\nfloat height=elevation(tile_pos);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nglobe_pos+=up_vector*height;\n#ifndef GLOBE_POLES\nglobe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;\n#endif\n#ifdef GLOBE_POLES\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\n#else\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\n#endif\ngl_Position=u_proj_matrix*interpolated_pos;\n#ifdef FOG\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\n#endif\n}"),globeAtmosphere:zi("uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;\n#ifdef PROJECTION_GLOBE_VIEW\nglobe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\n#endif\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;\n#ifdef PROJECTION_GLOBE_VIEW\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\n#else\nhorizon_angle=horizon_angle_mercator;\n#endif\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}","attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}")};function Nr(p,n){const l=p.replace(/\s*\/\/[^\n]*\n/g,"\n").split("\n");for(let m of l)if(m=m.trim(),"#"===m[0]&&m.includes("if")&&!m.includes("endif")){m=m.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const v=m.split(" ");for(const M of v)n.includes(M)||n.push(M)}}function zi(p,n){const l=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,m=n.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),v={},M=[...hs];return Nr(p,M),Nr(n,M),{fragmentSource:p=p.replace(l,(P,O,V,$,q)=>(v[q]=!0,"define"===O?`\n#ifndef HAS_UNIFORM_u_${q}\nvarying ${V} ${$} ${q};\n#else\nuniform ${V} ${$} u_${q};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${q}\n    ${V} ${$} ${q} = u_${q};\n#endif\n`)),vertexSource:n=n.replace(l,(P,O,V,$,q)=>{const re="float"===$?"vec2":"vec4",r=q.match(/color/)?"color":re;return v[q]?"define"===O?`\n#ifndef HAS_UNIFORM_u_${q}\nuniform lowp float u_${q}_t;\nattribute ${V} ${re} a_${q};\nvarying ${V} ${$} ${q};\n#else\nuniform ${V} ${$} u_${q};\n#endif\n`:"vec4"===r?`\n#ifndef HAS_UNIFORM_u_${q}\n    ${q} = a_${q};\n#else\n    ${V} ${$} ${q} = u_${q};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${q}\n    ${q} = unpack_mix_${r}(a_${q}, u_${q}_t);\n#else\n    ${V} ${$} ${q} = u_${q};\n#endif\n`:"define"===O?`\n#ifndef HAS_UNIFORM_u_${q}\nuniform lowp float u_${q}_t;\nattribute ${V} ${re} a_${q};\n#else\nuniform ${V} ${$} u_${q};\n#endif\n`:"vec4"===r?`\n#ifndef HAS_UNIFORM_u_${q}\n    ${V} ${$} ${q} = a_${q};\n#else\n    ${V} ${$} ${q} = u_${q};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${q}\n    ${V} ${$} ${q} = unpack_mix_${r}(a_${q}, u_${q}_t);\n#else\n    ${V} ${$} ${q} = u_${q};\n#endif\n`}),staticAttributes:m,usedDefines:M}}class wr{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(n,l,m,v,M,P,O){this.context=n;let V=this.boundPaintVertexBuffers.length!==v.length;for(let q=0;!V&&q<v.length;q++)this.boundPaintVertexBuffers[q]!==v[q]&&(V=!0);let $=this.boundDynamicVertexBuffers.length!==O.length;for(let q=0;!$&&q<O.length;q++)this.boundDynamicVertexBuffers[q]!==O[q]&&($=!0);if(!n.extVertexArrayObject||!this.vao||this.boundProgram!==l||this.boundLayoutVertexBuffer!==m||V||$||this.boundIndexBuffer!==M||this.boundVertexOffset!==P)this.freshBind(l,m,v,M,P,O);else{n.bindVertexArrayOES.set(this.vao);for(const q of O)q&&q.bind();M&&M.dynamicDraw&&M.bind()}}freshBind(n,l,m,v,M,P){let O;const V=n.numAttributes,$=this.context,q=$.gl;if($.extVertexArrayObject)this.vao&&this.destroy(),this.vao=$.extVertexArrayObject.createVertexArrayOES(),$.bindVertexArrayOES.set(this.vao),O=0,this.boundProgram=n,this.boundLayoutVertexBuffer=l,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=v,this.boundVertexOffset=M,this.boundDynamicVertexBuffers=P;else{O=$.currentNumAttributes||0;for(let re=V;re<O;re++)q.disableVertexAttribArray(re)}l.enableAttributes(q,n),l.bind(),l.setVertexAttribPointers(q,n,M);for(const re of m)re.enableAttributes(q,n),re.bind(),re.setVertexAttribPointers(q,n,M);for(const re of P)re&&(re.enableAttributes(q,n),re.bind(),re.setVertexAttribPointers(q,n,M));v&&v.bind(),$.currentNumAttributes=V}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Ir(p,n){const l=Math.pow(2,n.canonical.z),m=n.canonical.y;return[new a.MercatorCoordinate(0,m/l).toLngLat().lat,new a.MercatorCoordinate(0,(m+1)/l).toLngLat().lat]}function Bo(p,n,l,m,v,M,P){const O=p.context,V=O.gl,$=l.fbo;if(!$)return;p.prepareDrawTile();const q=p.useProgram("hillshade");O.activeTexture.set(V.TEXTURE0),V.bindTexture(V.TEXTURE_2D,$.colorAttachment.get());const re=((f,y,b,k)=>{const I=b.paint.get("hillshade-shadow-color"),C=b.paint.get("hillshade-highlight-color"),F=b.paint.get("hillshade-accent-color");let N=b.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===b.paint.get("hillshade-illumination-anchor")&&(N-=f.transform.angle);const U=!f.options.moving;return{u_matrix:k||f.transform.calculateProjMatrix(y.tileID.toUnwrapped(),U),u_image:0,u_latrange:Ir(0,y.tileID),u_light:[b.paint.get("hillshade-exaggeration"),N],u_shadow:I,u_highlight:C,u_accent:F}})(p,l,m,p.terrain?n.projMatrix:null);p.prepareDrawProgram(O,q,n.toUnwrapped());const{tileBoundsBuffer:r,tileBoundsIndexBuffer:o,tileBoundsSegments:h}=p.getTileBoundsBuffers(l);q.draw(O,V.TRIANGLES,v,M,P,a.CullFaceMode.disabled,re,m.id,r,o,h)}function ps(p,n,l){if(!n.needsDEMTextureUpload)return;const m=p.context,v=m.gl;m.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||p.getTileTexture(l.stride);const M=l.getPixels();n.demTexture?n.demTexture.update(M,{premultiply:!1}):n.demTexture=new a.Texture(m,M,v.RGBA,{premultiply:!1}),n.needsDEMTextureUpload=!1}function pl(p,n,l,m,v,M){const P=p.context,O=P.gl;if(!n.dem)return;const V=n.dem;if(P.activeTexture.set(O.TEXTURE1),ps(p,n,V),!n.demTexture)return;n.demTexture.bind(O.NEAREST,O.CLAMP_TO_EDGE);const $=V.dim;P.activeTexture.set(O.TEXTURE0);let q=n.fbo;if(!q){const h=new a.Texture(P,{width:$,height:$,data:null},O.RGBA);h.bind(O.LINEAR,O.CLAMP_TO_EDGE),q=n.fbo=P.createFramebuffer($,$,!0),q.colorAttachment.set(h.texture)}P.bindFramebuffer.set(q.framebuffer),P.viewport.set([0,0,$,$]);const{tileBoundsBuffer:re,tileBoundsIndexBuffer:r,tileBoundsSegments:o}=p.getMercatorTileBoundsBuffers();p.useProgram("hillshadePrepare").draw(P,O.TRIANGLES,m,v,M,a.CullFaceMode.disabled,((h,f)=>{const y=f.stride,b=a.create();return a.ortho(b,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(b,b,[0,-a.EXTENT,0]),{u_matrix:b,u_image:1,u_dimension:[y,y],u_zoom:h.overscaledZ,u_unpack:f.unpackVector}})(n.tileID,V),l.id,re,r,o),n.needsHillshadePrepare=!1}const xo=p=>({u_matrix:new a.UniformMatrix4f(p),u_image0:new a.Uniform1i(p),u_skirt_height:new a.Uniform1f(p)}),fs=(p,n)=>({u_matrix:p,u_image0:0,u_skirt_height:n}),pa=(p,n,l,m,v,M,P,O,V,$,q,re,r,o,h)=>({u_proj_matrix:Float32Array.from(p),u_globe_matrix:n,u_normalize_matrix:Float32Array.from(m),u_merc_matrix:l,u_zoom_transition:v,u_merc_center:M,u_image0:0,u_frustum_tl:P,u_frustum_tr:O,u_frustum_br:V,u_frustum_bl:$,u_globe_pos:q,u_globe_radius:re,u_viewport:r,u_grid_matrix:h?Float32Array.from(h):new Float32Array(9),u_skirt_height:o});function _s(p,n){return null!=p&&null!=n&&!(!p.hasData()||!n.hasData())&&null!=p.demTexture&&null!=n.demTexture&&p.tileID.key!==n.tileID.key}const Ma=new class{constructor(){this.operations={}}newMorphing(p,n,l,m,v){if(p in this.operations){const M=this.operations[p];M.to.tileID.key!==l.tileID.key&&(M.queued=l)}else this.operations[p]={startTime:m,phase:0,duration:v,from:n,to:l,queued:null}}getMorphValuesForProxy(p){if(!(p in this.operations))return null;const n=this.operations[p];return{from:n.from,to:n.to,phase:n.phase}}update(p){for(const n in this.operations){const l=this.operations[n];for(l.phase=(p-l.startTime)/l.duration;l.phase>=1||!this._validOp(l);)if(!this._nextOp(l,p)){delete this.operations[n];break}}}_nextOp(p,n){return!!p.queued&&(p.from=p.to,p.to=p.queued,p.queued=null,p.phase=0,p.startTime=n,!0)}_validOp(p){return p.from.hasData()&&p.to.hasData()}},Wa={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Ga(p){return 6*Math.pow(1.5,22-p)}function Js(p,n){const l=1<<p.z;return!n&&(0===p.x||p.x===l-1)||0===p.y||p.y===l-1}const ms=p=>({u_matrix:p});function jo(p,n,l,m,v){if(v>0){const M=a.exported.now(),P=(M-p.timeAdded)/v,O=n?(M-n.timeAdded)/v:-1,V=l.getSource(),$=m.coveringZoomLevel({tileSize:V.tileSize,roundZoom:V.roundZoom}),q=!n||Math.abs(n.tileID.overscaledZ-$)>Math.abs(p.tileID.overscaledZ-$),re=q&&p.refreshedUponExpiration?1:a.clamp(q?P:1-O,0,1);return p.refreshedUponExpiration&&P>=1&&(p.refreshedUponExpiration=!1),n?{opacity:1,mix:1-re}:{opacity:re,mix:0}}return{opacity:1,mix:0}}class Vo extends a.SourceCache{constructor(n){const l={type:"raster-dem",maxzoom:n.transform.maxZoom},m=new pn(bn(),null),v=pt("mock-dem",l,m,n.style);super("mock-dem",v,!1),v.setEventedParent(this),this._sourceLoaded=!0}_loadTile(n,l){n.state="loaded",l(null)}}class Zi extends a.SourceCache{constructor(n){const l=pt("proxy",{type:"geojson",maxzoom:n.transform.maxZoom},new pn(bn(),null),n.style);super("proxy",l,!1),l.setEventedParent(this),this.map=this.getSource().map=n,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(n,l,m){if(n.freezeTileCoverage)return;this.transform=n;const v=n.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((M,P)=>{if(M[P.key]="",!this._tiles[P.key]){const O=new a.Tile(P,this._source.tileSize*P.overscaleFactor(),n.tileZoom);O.state="loaded",this._tiles[P.key]=O}return M},{});for(const M in this._tiles)M in v||(this.freeFBO(M),this._tiles[M].unloadVectorData(),delete this._tiles[M])}freeFBO(n){const l=this.proxyCachedFBO[n];if(void 0!==l){const m=Object.values(l);this.renderCachePool.push(...m),delete this.proxyCachedFBO[n]}}deallocRenderCache(){this.renderCache.forEach(n=>n.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class wo extends a.OverscaledTileID{constructor(n,l,m){super(n.overscaledZ,n.wrap,n.canonical.z,n.canonical.x,n.canonical.y),this.proxyTileKey=l,this.projMatrix=m}}class Za extends a.Elevation{constructor(n,l){super(),this.painter=n,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[m,v,M]=function(V){const $=new a.StructArrayLayout2i4,q=new a.StructArrayLayout3ui6;$.reserve(17161),q.reserve(33800);const r=a.EXTENT/128,o=a.EXTENT+r/2,h=o+r;for(let y=-r;y<h;y+=r)for(let b=-r;b<h;b+=r){const k=b<0||b>o||y<0||y>o?24575:0,I=a.clamp(Math.round(b),0,a.EXTENT),C=a.clamp(Math.round(y),0,a.EXTENT);$.emplaceBack(I+k,C)}const f=(y,b)=>{const k=131*b+y;q.emplaceBack(k+1,k,k+131),q.emplaceBack(k+131,k+131+1,k+1)};for(let y=1;y<129;y++)for(let b=1;b<129;b++)f(b,y);return[0,129].forEach(y=>{for(let b=0;b<130;b++)f(b,y),f(y,b)}),[$,q,32768]}(),P=n.context;this.gridBuffer=P.createVertexBuffer(m,a.posAttributes.members),this.gridIndexBuffer=P.createIndexBuffer(v),this.gridSegments=a.SegmentVector.simpleSegment(0,0,m.length,v.length),this.gridNoSkirtSegments=a.SegmentVector.simpleSegment(0,0,m.length,M),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Zi(l.map),this.orthoMatrix=a.create(),a.ortho(this.orthoMatrix,"globe"===this.painter.transform.projection.name?.015:0,a.EXTENT,0,a.EXTENT,0,1);const O=P.gl;this._overlapStencilMode=new a.StencilMode({func:O.GEQUAL,mask:255},0,255,O.KEEP,O.KEEP,O.REPLACE),this._previousZoom=n.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=l,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Vo(l.map)}set style(n){n.on("data",this._onStyleDataEvent.bind(this)),n.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=n,this._checkRenderCacheEfficiency(),this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(n,l,m){if(n&&n.terrain){this._style!==n&&(this.style=n),this.enabled=!0;const v=n.terrain.properties;this.sourceCache=0===n.terrain.drapeRenderMode?this._mockSourceCache:n._getSourceCache(v.get("source")),this._exaggeration=v.get("exaggeration");const M=()=>{this.sourceCache.used&&a.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const P=this.getScaledDemTileSize();this.sourceCache.update(l,P,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,M(),this._initializing=!0),M(),l.updateElevation(!0,m),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(l),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(n){this._findCoveringTileCache[n]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const n=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==n.efficiency&&a.warnOnce(`Terrain render cache efficiency is not optimal (${n.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${n.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(n){n.coord&&"source"===n.dataType?this._clearRenderCacheForTile(n.sourceCacheId,n.coord):"style"===n.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const n in this._style._sourceCaches)this._style._sourceCaches[n].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(n=>n.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const n=2*this.proxySourceCache.getSource().tileSize;return[n,n]}set useVertexMorphing(n){this._useVertexMorphing=n}updateTileBinding(n){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const l=this.proxySourceCache,m=this.painter.transform;this._initializing&&(this._initializing=0===m._centerAltitude&&-1===this.getAtPointOrZero(a.MercatorCoordinate.fromLngLat(m.center),-1),this._emptyDEMTextureDirty=!this._initializing);const v=this.proxyCoords=l.getIds().map(V=>{const $=l.getTileByID(V).tileID;return $.projMatrix=m.calculateProjMatrix($.toUnwrapped()),$});(function(V,$){const q=$.transform.pointCoordinate($.transform.getCameraPoint()),re=new a.Point(q.x,q.y);V.sort((r,o)=>{if(o.overscaledZ-r.overscaledZ)return o.overscaledZ-r.overscaledZ;const h=new a.Point(r.canonical.x+(1<<r.canonical.z)*r.wrap,r.canonical.y),f=new a.Point(o.canonical.x+(1<<o.canonical.z)*o.wrap,o.canonical.y),y=re.mult(1<<r.canonical.z);return y.x-=.5,y.y-=.5,y.distSqr(h)-y.distSqr(f)})})(v,this.painter),this._previousZoom=m.zoom;const M=this.proxyToSource||{};this.proxyToSource={},v.forEach(V=>{this.proxyToSource[V.key]={}}),this.terrainTileForTile={};const P=this._style._sourceCaches;for(const V in P){const $=P[V];if(!$.used||($!==this.sourceCache&&this.resetTileLookupCache($.id),this._setupProxiedCoordsForOrtho($,n[V],M),$.usedForTerrain))continue;const q=n[V];$.getSource().reparseOverscaled&&this._assignTerrainTiles(q)}this.proxiedCoords[l.id]=v.map(V=>new wo(V,V.key,this.orthoMatrix)),this._assignTerrainTiles(v),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(M),this.renderingToTexture=!1,this._updateTimestamp=a.exported.now();const O={};this._visibleDemTiles=[];for(const V of this.proxyCoords){const $=this.terrainTileForTile[V.key];if(!$)continue;const q=$.tileID.key;q in O||(this._visibleDemTiles.push($),O[q]=q)}}_assignTerrainTiles(n){this._initializing||n.forEach(l=>{if(this.terrainTileForTile[l.key])return;const m=this._findTileCoveringTileID(l,this.sourceCache);m&&(this.terrainTileForTile[l.key]=m)})}_prepareDEMTextures(){const n=this.painter.context,l=n.gl;for(const m in this.terrainTileForTile){const v=this.terrainTileForTile[m],M=v.dem;!M||v.demTexture&&!v.needsDEMTextureUpload||(n.activeTexture.set(l.TEXTURE1),ps(this.painter,v,M))}}_prepareDemTileUniforms(n,l,m,v){if(!l||null==l.demTexture)return!1;const M=n.tileID.canonical,P=Math.pow(2,l.tileID.canonical.z-M.z),O=v||"";return m[`u_dem_tl${O}`]=[M.x*P%1,M.y*P%1],m[`u_dem_scale${O}`]=P,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const n=this.painter.context,l=n.gl;if(!this._emptyDepthBufferTexture){const m=new a.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new a.Texture(n,m,l.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let n=0;const l=this._visibleDemTiles.reduce((m,v)=>{if(!v.dem)return m;const M=v.dem.tree.minimums[0];return M>0&&n++,m+M},0);return n?l/n:0}_updateEmptyDEMTexture(){const n=this.painter.context,l=n.gl;n.activeTexture.set(l.TEXTURE2);const m=this._getLoadedAreaMinimum(),v=new a.RGBAImage({width:1,height:1},new Uint8Array(a.DEMData.pack(m,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let M=this._emptyDEMTexture;return M?M.update(v,{premultiply:!1}):M=this._emptyDEMTexture=new a.Texture(n,v,l.RGBA,{premultiply:!1}),M}setupElevationDraw(n,l,m){const v=this.painter.context,M=v.gl,P=(O=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:a.DEMData.getUnpackVector(O),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var O;P.u_dem_size=this.sourceCache.getSource().tileSize,P.u_exaggeration=this.exaggeration();let V=null,$=null,q=1;if(m&&m.morphing&&this._useVertexMorphing){const re=m.morphing.srcDemTile,r=m.morphing.dstDemTile;q=m.morphing.phase,re&&r&&(this._prepareDemTileUniforms(n,re,P,"_prev")&&($=re),this._prepareDemTileUniforms(n,r,P)&&(V=r))}if($&&V?(v.activeTexture.set(M.TEXTURE2),V.demTexture.bind(M.NEAREST,M.CLAMP_TO_EDGE,M.NEAREST),v.activeTexture.set(M.TEXTURE4),$.demTexture.bind(M.NEAREST,M.CLAMP_TO_EDGE,M.NEAREST),P.u_dem_lerp=q):(V=this.terrainTileForTile[n.tileID.key],v.activeTexture.set(M.TEXTURE2),(this._prepareDemTileUniforms(n,V,P)?V.demTexture:this.emptyDEMTexture).bind(M.NEAREST,M.CLAMP_TO_EDGE)),v.activeTexture.set(M.TEXTURE3),m&&m.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(M.NEAREST,M.CLAMP_TO_EDGE),this._depthFBO&&(P.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(M.NEAREST,M.CLAMP_TO_EDGE),P.u_depth_size_inv=[1,1]),m&&m.useMeterToDem&&V){const re=(1<<V.tileID.canonical.z)*a.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;P.u_meter_to_dem=re}if(m&&m.labelPlaneMatrixInv&&(P.u_label_plane_matrix_inv=m.labelPlaneMatrixInv),l.setTerrainUniformValues(v,P),"globe"===this.painter.transform.projection.name){const re=this.globeUniformValues(this.painter.transform,n.tileID.canonical,m&&m.useDenormalizedUpVectorScale);l.setGlobeUniformValues(v,re)}}globeUniformValues(n,l,m){const v=n.projection;return{u_tile_tl_up:v.upVector(l,0,0),u_tile_tr_up:v.upVector(l,a.EXTENT,0),u_tile_br_up:v.upVector(l,a.EXTENT,a.EXTENT),u_tile_bl_up:v.upVector(l,0,a.EXTENT),u_tile_up_scale:m?a.globeMetersToEcef(1):v.upVectorScale(l,n.center.lat,n.worldSize).metersToTile}}renderToBackBuffer(n){const l=this.painter,m=this.painter.context;0!==n.length&&(m.bindFramebuffer.set(null),m.viewport.set([0,0,l.width,l.height]),l.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(v,M,P,O,V){if("globe"===v.transform.projection.name)!function($,q,re,r,o){const h=$.context,f=h.gl;let y,b;const k=$.options.showTerrainWireframe?2:0,I=$.transform,C=a.globeUseCustomAntiAliasing($,h,I),F=(Ze,Be)=>{if(b===Ze)return;const Ge=[Wa[Ze],"PROJECTION_GLOBE_VIEW"];C&&Ge.push("CUSTOM_ANTIALIASING"),Be&&Ge.push(Wa[k]),y=$.useProgram("globeRaster",null,Ge),b=Ze},N=$.colorModeForRenderPass(),U=new a.DepthMode(f.LEQUAL,a.DepthMode.ReadWrite,$.depthRangeFor3D);Ma.update(o);const ie=a.calculateGlobeMercatorMatrix(I),ce=[a.mercatorXfromLng(I.center.lng),a.mercatorYfromLat(I.center.lat)],he=k?[!1,!0]:[!1],ve=$.globeSharedBuffers,ge=[I.width*a.exported.devicePixelRatio,I.height*a.exported.devicePixelRatio],Ce=Float32Array.from(I.globeMatrix),Re={useDenormalizedUpVectorScale:!0};if(he.forEach(Ze=>{const Be=$.transform,Ge=Ga(Be.zoom)*q.exaggeration();b=-1;const lt=Ze?f.LINES:f.TRIANGLES;for(const tt of r){const ot=re.getTile(tt),Ct=a.StencilMode.disabled,Nt=q.prevTerrainTileForTile[tt.key],At=q.terrainTileForTile[tt.key];_s(Nt,At)&&Ma.newMorphing(tt.key,Nt,At,o,250),h.activeTexture.set(f.TEXTURE0),ot.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE);const jt=Ma.getMorphValuesForProxy(tt.key),Yt=jt?1:0;jt&&a.extend$1(Re,{morphing:{srcDemTile:jt.from,dstDemTile:jt.to,phase:a.easeCubicInOut(jt.phase)}});const ai=a.tileCornersToBounds(tt.canonical),Vt=a.getLatitudinalLod(ai.getCenter().lat),Ei=a.getGridMatrix(tt.canonical,ai,Vt,Be.worldSize/Be._pixelsPerMercatorPixel),rn=a.globeNormalizeECEF(a.globeTileBounds(tt.canonical)),qt=pa(Be.projMatrix,Ce,ie,rn,a.globeToMercatorTransition(Be.zoom),ce,Be.frustumCorners.TL,Be.frustumCorners.TR,Be.frustumCorners.BR,Be.frustumCorners.BL,Be.globeCenterInViewSpace,Be.globeRadius,ge,Ge,Ei);if(F(Yt,Ze),q.setupElevationDraw(ot,y,Re),$.prepareDrawProgram(h,y,tt.toUnwrapped()),ve){const[T,R,K]=Ze?ve.getWirefameBuffers($.context,Vt):ve.getGridBuffers(Vt,0!==Ge);y.draw(h,lt,U,Ct,N,a.CullFaceMode.backCCW,qt,"globe_raster",T,R,K)}}}),ve){const Ze=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];C&&Ze.push("CUSTOM_ANTIALIASING"),y=$.useProgram("globeRaster",null,Ze);for(const Be of r){const{x:Ge,y:lt,z:tt}=Be.canonical,ot=0===lt,Ct=lt===(1<<tt)-1,[Nt,At,jt,Yt]=ve.getPoleBuffers(tt);if(Yt&&(ot||Ct)){const ai=re.getTile(Be);h.activeTexture.set(f.TEXTURE0),ai.texture.bind(f.LINEAR,f.CLAMP_TO_EDGE);let Vt=a.globePoleMatrixForTile(tt,Ge,I);const Ei=a.globeNormalizeECEF(a.globeTileBounds(Be.canonical)),rn=(qt,T)=>qt.draw(h,f.TRIANGLES,U,a.StencilMode.disabled,N,a.CullFaceMode.disabled,pa(I.projMatrix,Vt,Vt,Ei,0,ce,I.frustumCorners.TL,I.frustumCorners.TR,I.frustumCorners.BR,I.frustumCorners.BL,I.globeCenterInViewSpace,I.globeRadius,ge,0),"globe_pole_raster",T,jt,Yt);q.setupElevationDraw(ai,y,Re),$.prepareDrawProgram(h,y,Be.toUnwrapped()),ot&&rn(y,Nt),Ct&&(Vt=a.scale(a.create(),Vt,[1,-1,1]),rn(y,At))}}}}(v,M,P,O,V);else{const $=v.context,q=$.gl;let re,r;const o=v.options.showTerrainWireframe?2:0,h=(I,C)=>{if(r===I)return;const F=[Wa[I]];C&&F.push(Wa[o]),re=v.useProgram("terrainRaster",null,F),r=I},f=v.colorModeForRenderPass(),y=new a.DepthMode(q.LEQUAL,a.DepthMode.ReadWrite,v.depthRangeFor3D);Ma.update(V);const b=v.transform,k=Ga(b.zoom)*M.exaggeration();(o?[!1,!0]:[!1]).forEach(I=>{r=-1;const C=I?q.LINES:q.TRIANGLES,[F,N]=I?M.getWirefameBuffer():[M.gridIndexBuffer,M.gridSegments];for(const U of O){const ie=P.getTile(U),ce=a.StencilMode.disabled,he=M.prevTerrainTileForTile[U.key],ve=M.terrainTileForTile[U.key];_s(he,ve)&&Ma.newMorphing(U.key,he,ve,V,250),$.activeTexture.set(q.TEXTURE0),ie.texture.bind(q.LINEAR,q.CLAMP_TO_EDGE,q.LINEAR_MIPMAP_NEAREST);const ge=Ma.getMorphValuesForProxy(U.key),Ce=ge?1:0;let Re;ge&&(Re={morphing:{srcDemTile:ge.from,dstDemTile:ge.to,phase:a.easeCubicInOut(ge.phase)}});const Ze=fs(U.projMatrix,Js(U.canonical,b.renderWorldCopies)?k/10:k);h(Ce,I),M.setupElevationDraw(ie,re,Re),v.prepareDrawProgram($,re,U.toUnwrapped()),re.draw($,C,y,ce,f,a.CullFaceMode.backCCW,Ze,"terrain_raster",M.gridBuffer,F,N)}})}}(l,this,this.proxySourceCache,n,this._updateTimestamp),this.renderingToTexture=!0,l.gpuTimingDeferredRenderEnd(),n.splice(0,n.length))}renderBatch(n){if(0===this._drapedRenderBatches.length)return n+1;this.renderingToTexture=!0;const l=this.painter,m=this.painter.context,v=this.proxySourceCache,M=this.proxiedCoords[v.id],P=this._drapedRenderBatches.shift(),O=[],V=l.style.order;let $=0;for(const q of M){const re=v.getTileByID(q.proxyTileKey),r=v.proxyCachedFBO[q.key]?v.proxyCachedFBO[q.key][n]:void 0,o=void 0!==r?v.renderCache[r]:this.pool[$++],h=void 0!==r;if(re.texture=o.tex,h&&!o.dirty){O.push(re.tileID);continue}let f;m.bindFramebuffer.set(o.fb.framebuffer),this.renderedToTile=!1,o.dirty&&(m.clear({color:a.Color.transparent,stencil:0}),o.dirty=!1);for(let y=P.start;y<=P.end;++y){const b=l.style._layers[V[y]];if(b.isHidden(l.transform.zoom))continue;const k=l.style._getLayerSourceCache(b),I=k?this.proxyToSource[q.key][k.id]:[q];if(!I)continue;const C=I;m.viewport.set([0,0,o.fb.width,o.fb.height]),f!==(k?k.id:null)&&(this._setupStencil(o,I,b,k),f=k?k.id:null),l.renderLayer(l,k,b,C)}this.renderedToTile?(o.dirty=!0,O.push(re.tileID)):h||--$,5===$&&($=0,this.renderToBackBuffer(O))}return this.renderToBackBuffer(O),this.renderingToTexture=!1,m.bindFramebuffer.set(null),m.viewport.set([0,0,l.width,l.height]),P.end+1}postRender(){}renderCacheEfficiency(n){const l=n.order.length;if(0===l)return{efficiency:100};let m,v=0,M=0,P=!1;for(let O=0;O<l;++O){const V=n._layers[n.order[O]];this._style.isLayerDraped(V)?(P&&++v,++M):P||(P=!0,m=V.id)}return 0===M?{efficiency:100}:{efficiency:100*(1-v/M),firstUndrapedLayer:m}}getMinElevationBelowMSL(){let n=0;return this._visibleDemTiles.filter(l=>l.dem).forEach(l=>{n=Math.min(n,l.dem.tree.minimums[0])}),0===n?n:(n-30)*this._exaggeration}raycast(n,l,m){if(!this._visibleDemTiles)return null;const v=this._visibleDemTiles.filter(M=>M.dem).map(M=>{const P=M.tileID,O=1<<P.overscaledZ,{x:V,y:$}=P.canonical,q=V/O,re=(V+1)/O,r=$/O,o=($+1)/O;return{minx:q,miny:r,maxx:re,maxy:o,t:M.dem.tree.raycastRoot(q,r,re,o,n,l,m),tile:M}});v.sort((M,P)=>(null!==M.t?M.t:Number.MAX_VALUE)-(null!==P.t?P.t:Number.MAX_VALUE));for(const M of v){if(null==M.t)return null;const P=M.tile.dem.tree.raycast(M.minx,M.miny,M.maxx,M.maxy,n,l,m);if(null!=P)return P}return null}_createFBO(){const n=this.painter.context,l=n.gl,m=this.drapeBufferSize;n.activeTexture.set(l.TEXTURE0);const v=new a.Texture(n,{width:m[0],height:m[1],data:null},l.RGBA);v.bind(l.LINEAR,l.CLAMP_TO_EDGE);const M=n.createFramebuffer(m[0],m[1],!1);return M.colorAttachment.set(v.texture),M.depthAttachment=new X(n,M.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=n.createRenderbuffer(n.gl.DEPTH_STENCIL,m[0],m[1]),this._stencilRef=0,M.depthAttachment.set(this._sharedDepthStencil),n.clear({stencil:0})):M.depthAttachment.set(this._sharedDepthStencil),n.extTextureFilterAnisotropic&&!n.extTextureFilterAnisotropicForceOff&&l.texParameterf(l.TEXTURE_2D,n.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,n.extTextureFilterAnisotropicMax),{fb:M,tex:v,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const n in this._style._sourceCaches)if(this._style._sourceCaches[n].hasTransition())return!0;return this._style.order.some(n=>{const l=this._style._layers[n],m=l.isHidden(this.painter.transform.zoom);return"custom"===l.type?!m&&l.shouldRedrape():!m&&l.hasTransition()})}_clearLineLayersFromRenderCache(){let n=!1;for(const m of this._style._getSources())if(m instanceof St){n=!0;break}if(!n)return;const l={};for(let m=0;m<this._style.order.length;++m){const v=this._style._layers[this._style.order[m]],M=this._style._getLayerSourceCache(v);if(M&&!l[M.id]&&!v.isHidden(this.painter.transform.zoom)&&"line"===v.type&&v.widthExpression()instanceof a.ZoomDependentExpression){l[M.id]=!0;for(const P of this.proxyCoords){const O=this.proxyToSource[P.key][M.id];if(O)for(const V of O)this._clearRenderCacheForTile(M.id,V)}}}}_clearRasterLayersFromRenderCache(){let n=!1;for(const m in this._style._sourceCaches)if(this._style._sourceCaches[m]._source instanceof ft){n=!0;break}if(!n)return;const l={};for(let m=0;m<this._style.order.length;++m){const v=this._style._layers[this._style.order[m]],M=this._style._getLayerSourceCache(v);if(!M||l[M.id]||v.isHidden(this.painter.transform.zoom)||"raster"!==v.type)continue;const P=v.paint.get("raster-fade-duration");for(const O of this.proxyCoords){const V=this.proxyToSource[O.key][M.id];if(V)for(const $ of V){const q=jo(M.getTile($),M.findLoadedParent($,0),M,this.painter.transform,P);(1!==q.opacity||0!==q.mix)&&this._clearRenderCacheForTile(M.id,$)}}}}_setupDrapedRenderBatches(){const n=this._style.order,l=n.length;if(0===l)return;const m=[];let v,M=0,P=this._style._layers[n[M]];for(;!this._style.isLayerDraped(P)&&P.isHidden(this.painter.transform.zoom)&&++M<l;)P=this._style._layers[n[M]];for(;M<l;++M){const O=this._style._layers[n[M]];O.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(O)?void 0===v&&(v=M):void 0!==v&&(m.push({start:v,end:M-1}),v=void 0))}void 0!==v&&m.push({start:v,end:M-1}),this._drapedRenderBatches=m}_setupRenderCache(n){const l=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,l.renderCache.length>l.renderCachePool.length){const P=Object.values(l.proxyCachedFBO);l.proxyCachedFBO={};for(let O=0;O<P.length;++O){const V=Object.values(P[O]);l.renderCachePool.push(...V)}}return}this._clearRasterLayersFromRenderCache();const m=this.proxyCoords,v=this._tilesDirty;for(let P=m.length-1;P>=0;P--){const O=m[P];if(l.getTileByID(O.key),void 0!==l.proxyCachedFBO[O.key]){const V=n[O.key],$=this.proxyToSource[O.key];let q=0;for(const re in $){const r=$[re],o=V[re];if(!o||o.length!==r.length||r.some((h,f)=>h!==o[f]||v[re]&&v[re].hasOwnProperty(h.key))){q=-1;break}++q}for(const re in l.proxyCachedFBO[O.key])l.renderCache[l.proxyCachedFBO[O.key][re]].dirty=q<0||q!==Object.values(V).length}}const M=[...this._drapedRenderBatches];M.sort((P,O)=>O.end-O.start-(P.end-P.start));for(const P of M)for(const O of m){if(l.proxyCachedFBO[O.key])continue;let V=l.renderCachePool.pop();void 0===V&&l.renderCache.length<50&&(V=l.renderCache.length,l.renderCache.push(this._createFBO())),void 0!==V&&(l.proxyCachedFBO[O.key]={},l.proxyCachedFBO[O.key][P.start]=V,l.renderCache[V].dirty=!0)}this._tilesDirty={}}_setupStencil(n,l,m,v){if(!v||!this._sourceTilesOverlap[v.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const M=this.painter.context,P=M.gl;if(l.length<=1)return void(this._overlapStencilType=!1);let O;if(m.isTileClipped())O=l.length,this._overlapStencilMode.test={func:P.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(l[0].overscaledZ>l[l.length-1].overscaledZ))return void(this._overlapStencilType=!1);O=1,this._overlapStencilMode.test={func:P.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+O>255&&(M.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=O,this._overlapStencilMode.ref=this._stencilRef,m.isTileClipped()&&this._renderTileClippingMasks(l,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}stencilModeForRTTOverlap(n){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[n.key]),this._overlapStencilMode):a.StencilMode.disabled}_renderTileClippingMasks(n,l){const m=this.painter,v=this.painter.context,M=v.gl;m._tileClippingMaskIDs={},v.setColorMode(a.ColorMode.disabled),v.setDepthMode(a.DepthMode.disabled);const P=m.useProgram("clippingMask");for(const O of n){const V=m._tileClippingMaskIDs[O.key]=--l;P.draw(v,M.TRIANGLES,a.DepthMode.disabled,new a.StencilMode({func:M.ALWAYS,mask:0},V,255,M.KEEP,M.KEEP,M.REPLACE),a.ColorMode.disabled,a.CullFaceMode.disabled,ms(O.projMatrix),"$clipping",m.tileExtentBuffer,m.quadTriangleIndexBuffer,m.tileExtentSegments)}}pointCoordinate(n){const l=this.painter.transform;if(n.x<0||n.x>l.width||n.y<0||n.y>l.height)return null;const m=[n.x,n.y,1,1];a.transformMat4$1(m,m,l.pixelMatrixInverse),a.scale$1(m,m,1/m[3]),m[0]/=l.worldSize,m[1]/=l.worldSize;const v=l._camera.position,M=a.mercatorZfromAltitude(1,l.center.lat),P=[v[0],v[1],v[2]/M,0],O=a.subtract([],m.slice(0,3),P);a.normalize(O,O);const V=this.raycast(P,O,this._exaggeration);return null!==V&&V?(a.scaleAndAdd(P,P,O,V),P[3]=P[2],P[2]*=M,P):null}drawDepth(){const n=this.painter,l=n.context,m=this.proxySourceCache,v=Math.ceil(n.width),M=Math.ceil(n.height);if(!this._depthFBO||this._depthFBO.width===v&&this._depthFBO.height===M||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const P=l.gl,O=l.createFramebuffer(v,M,!0);l.activeTexture.set(P.TEXTURE0);const V=new a.Texture(l,{width:v,height:M,data:null},P.RGBA);V.bind(P.NEAREST,P.CLAMP_TO_EDGE),O.colorAttachment.set(V.texture);const $=l.createRenderbuffer(l.gl.DEPTH_COMPONENT16,v,M);O.depthAttachment.set($),this._depthFBO=O,this._depthTexture=V}l.bindFramebuffer.set(this._depthFBO.framebuffer),l.viewport.set([0,0,v,M]),function(P,O,V,$){if("globe"===P.transform.projection.name)return;const q=P.context,re=q.gl;q.clear({depth:1});const r=P.useProgram("terrainDepth"),o=new a.DepthMode(re.LESS,a.DepthMode.ReadWrite,P.depthRangeFor3D);for(const h of $){const f=V.getTile(h),y=fs(h.projMatrix,0);O.setupElevationDraw(f,r),r.draw(q,re.TRIANGLES,o,a.StencilMode.disabled,a.ColorMode.unblended,a.CullFaceMode.backCCW,y,"terrain_depth",O.gridBuffer,O.gridIndexBuffer,O.gridNoSkirtSegments)}}(n,this,m,this.proxyCoords)}_setupProxiedCoordsForOrtho(n,l,m){if(n.getSource()instanceof ii)return this._setupProxiedCoordsForImageSource(n,l,m);this._findCoveringTileCache[n.id]=this._findCoveringTileCache[n.id]||{};const v=this.proxiedCoords[n.id]=[],M=this.proxyCoords;for(let O=0;O<M.length;O++){const V=M[O],$=this._findTileCoveringTileID(V,n);if($){const q=this._createProxiedId(V,$,m[V.key]&&m[V.key][n.id]);v.push(q),this.proxyToSource[V.key][n.id]=[q]}}let P=!1;for(let O=0;O<l.length;O++){const V=n.getTile(l[O]);if(!V||!V.hasData())continue;const $=this._findTileCoveringTileID(V.tileID,this.proxySourceCache);if($&&$.tileID.canonical.z!==V.tileID.canonical.z){const q=this.proxyToSource[$.tileID.key][n.id],re=this._createProxiedId($.tileID,V,m[$.tileID.key]&&m[$.tileID.key][n.id]);q?q.splice(q.length-1,0,re):this.proxyToSource[$.tileID.key][n.id]=[re],v.push(re),P=!0}}this._sourceTilesOverlap[n.id]=P}_setupProxiedCoordsForImageSource(n,l,m){if(!n.getSource().loaded())return;const v=this.proxiedCoords[n.id]=[],M=this.proxyCoords,P=n.getSource(),O=new a.Point(P.tileID.x,P.tileID.y)._div(1<<P.tileID.z),V=P.coordinates.map(a.MercatorCoordinate.fromLngLat).reduce((q,re)=>(q.min.x=Math.min(q.min.x,re.x-O.x),q.min.y=Math.min(q.min.y,re.y-O.y),q.max.x=Math.max(q.max.x,re.x-O.x),q.max.y=Math.max(q.max.y,re.y-O.y),q),{min:new a.Point(Number.MAX_VALUE,Number.MAX_VALUE),max:new a.Point(-Number.MAX_VALUE,-Number.MAX_VALUE)}),$=(q,re)=>{const r=q.wrap+q.canonical.x/(1<<q.canonical.z),o=q.canonical.y/(1<<q.canonical.z),h=a.EXTENT/(1<<q.canonical.z),f=re.wrap+re.canonical.x/(1<<re.canonical.z),y=re.canonical.y/(1<<re.canonical.z);return r+h<f+V.min.x||r>f+V.max.x||o+h<y+V.min.y||o>y+V.max.y};for(let q=0;q<M.length;q++){const re=M[q];for(let r=0;r<l.length;r++){const o=n.getTile(l[r]);if(!o||!o.hasData()||$(re,o.tileID))continue;const h=this._createProxiedId(re,o,m[re.key]&&m[re.key][n.id]),f=this.proxyToSource[re.key][n.id];f?f.push(h):this.proxyToSource[re.key][n.id]=[h],v.push(h)}}}_createProxiedId(n,l,m){let v=this.orthoMatrix;if(m){const M=m.find(P=>P.key===l.tileID.key);if(M)return M}if(l.tileID.key!==n.key){const M=n.canonical.z-l.tileID.canonical.z;let P,O,V;v=a.create();const $=l.tileID.wrap-n.wrap<<n.overscaledZ;M>0?(P=a.EXTENT>>M,O=P*((l.tileID.canonical.x<<M)-n.canonical.x+$),V=P*((l.tileID.canonical.y<<M)-n.canonical.y)):(P=a.EXTENT<<-M,O=a.EXTENT*(l.tileID.canonical.x-(n.canonical.x+$<<-M)),V=a.EXTENT*(l.tileID.canonical.y-(n.canonical.y<<-M))),a.ortho(v,0,P,0,P,0,1),a.translate(v,v,[O,V,0])}return new wo(l.tileID,n.key,v)}_findTileCoveringTileID(n,l){let m=l.getTile(n);if(m&&m.hasData())return m;const v=this._findCoveringTileCache[l.id],M=v[n.key];if(m=M?l.getTileByID(M):null,m&&m.hasData()||null===M)return m;let P=m?m.tileID:n,O=P.overscaledZ;const V=l.getSource().minzoom,$=[];if(!M){const re=l.getSource().maxzoom;if(n.canonical.z>=re){const r=n.canonical.z-re;l.getSource().reparseOverscaled?(O=Math.max(n.canonical.z+2,l.transform.tileZoom),P=new a.OverscaledTileID(O,n.wrap,re,n.canonical.x>>r,n.canonical.y>>r)):0!==r&&(O=re,P=new a.OverscaledTileID(O,n.wrap,re,n.canonical.x>>r,n.canonical.y>>r))}P.key!==n.key&&($.push(P.key),m=l.getTile(P))}const q=re=>{$.forEach(r=>{v[r]=re}),$.length=0};for(O-=1;O>=V&&(!m||!m.hasData());O--){m&&q(m.tileID.key);const re=P.calculateScaledKey(O);if(m=l.getTileByID(re),m&&m.hasData())break;const r=v[re];if(null===r)break;void 0===r?$.push(re):m=l.getTileByID(r)}return q(m?m.tileID.key:null),m&&m.hasData()?m:null}findDEMTileFor(n){return this.enabled?this._findTileCoveringTileID(n,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(n,l){let m=this._tilesDirty[n];m||(m=this._tilesDirty[n]={}),m[l.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const n=function(l){let m=0;const v=new a.StructArrayLayout2ui4,M=131;for(let P=1;P<129;P++){for(let O=1;O<129;O++)m=P*M+O,v.emplaceBack(m,m+1),v.emplaceBack(m,m+M),v.emplaceBack(m+1,m+M),128===P&&v.emplaceBack(m+M,m+M+1);v.emplaceBack(m+1,m+1+M)}return v}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(n),this.wireframeSegments=a.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,n.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class Oi{static cacheKey(n,l,m,v){let M=`${l}${v?v.cacheKey:""}`;for(const P of m)n.usedDefines.includes(P)&&(M+=`/${P}`);return M}constructor(n,l,m,v,M,P){const O=n.gl;this.program=O.createProgram();const V=function(b){const k=[];for(let I=0;I<b.length;I++){if(null===b[I])continue;const C=b[I].split(" ");k.push(C.pop())}return k}(m.staticAttributes),$=v?v.getBinderAttributes():[],q=V.concat($);let re=v?v.defines():[];re=re.concat(P.map(b=>`#define ${b}`));const r=n.isWebGL2?"#version 300 es\n":"",o=r+re.concat(n.extStandardDerivatives&&0===r.length?"#extension GL_OES_standard_derivatives : enable\n".concat(Xs):Xs,Xs,xr,Fo.fragmentSource,wa.fragmentSource,m.fragmentSource).join("\n"),h=r+re.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",xr,Fo.vertexSource,wa.vertexSource,Ua.vertexSource,m.vertexSource).join("\n"),f=O.createShader(O.FRAGMENT_SHADER);if(O.isContextLost())return void(this.failedToCreate=!0);O.shaderSource(f,o),O.compileShader(f),O.attachShader(this.program,f);const y=O.createShader(O.VERTEX_SHADER);if(O.isContextLost())this.failedToCreate=!0;else{O.shaderSource(y,h),O.compileShader(y),O.attachShader(this.program,y),this.attributes={},this.numAttributes=q.length;for(let b=0;b<this.numAttributes;b++)q[b]&&(O.bindAttribLocation(this.program,b,q[b]),this.attributes[q[b]]=b);O.linkProgram(this.program),O.deleteShader(y),O.deleteShader(f),this.fixedUniforms=M(n),this.binderUniforms=v?v.getUniforms(n):[],P.includes("TERRAIN")&&(this.terrainUniforms={u_dem:new a.Uniform1i(b=n),u_dem_prev:new a.Uniform1i(b),u_dem_unpack:new a.Uniform4f(b),u_dem_tl:new a.Uniform2f(b),u_dem_scale:new a.Uniform1f(b),u_dem_tl_prev:new a.Uniform2f(b),u_dem_scale_prev:new a.Uniform1f(b),u_dem_size:new a.Uniform1f(b),u_dem_lerp:new a.Uniform1f(b),u_exaggeration:new a.Uniform1f(b),u_depth:new a.Uniform1i(b),u_depth_size_inv:new a.Uniform2f(b),u_meter_to_dem:new a.Uniform1f(b),u_label_plane_matrix_inv:new a.UniformMatrix4f(b)}),P.includes("GLOBE")&&(this.globeUniforms=(b=>({u_tile_tl_up:new a.Uniform3f(b),u_tile_tr_up:new a.Uniform3f(b),u_tile_br_up:new a.Uniform3f(b),u_tile_bl_up:new a.Uniform3f(b),u_tile_up_scale:new a.Uniform1f(b)}))(n)),P.includes("FOG")&&(this.fogUniforms=(b=>({u_fog_matrix:new a.UniformMatrix4f(b),u_fog_range:new a.Uniform2f(b),u_fog_color:new a.Uniform4f(b),u_fog_horizon_blend:new a.Uniform1f(b),u_fog_temporal_offset:new a.Uniform1f(b),u_frustum_tl:new a.Uniform3f(b),u_frustum_tr:new a.Uniform3f(b),u_frustum_br:new a.Uniform3f(b),u_frustum_bl:new a.Uniform3f(b),u_globe_pos:new a.Uniform3f(b),u_globe_radius:new a.Uniform1f(b),u_globe_transition:new a.Uniform1f(b),u_is_globe:new a.Uniform1i(b),u_viewport:new a.Uniform2f(b)}))(n))}var b}setTerrainUniformValues(n,l){if(!this.terrainUniforms)return;const m=this.terrainUniforms;if(!this.failedToCreate){n.program.set(this.program);for(const v in l)m[v]&&m[v].set(this.program,v,l[v])}}setGlobeUniformValues(n,l){if(!this.globeUniforms)return;const m=this.globeUniforms;if(!this.failedToCreate){n.program.set(this.program);for(const v in l)m[v]&&m[v].set(this.program,v,l[v])}}setFogUniformValues(n,l){if(!this.fogUniforms)return;const m=this.fogUniforms;if(!this.failedToCreate){n.program.set(this.program);for(const v in l)m[v].set(this.program,v,l[v])}}draw(n,l,m,v,M,P,O,V,$,q,re,r,o,h,f){const y=n.gl;if(this.failedToCreate)return;n.program.set(this.program),n.setDepthMode(m),n.setStencilMode(v),n.setColorMode(M),n.setCullFace(P);for(const k of Object.keys(this.fixedUniforms))this.fixedUniforms[k].set(this.program,k,O[k]);h&&h.setUniforms(this.program,n,this.binderUniforms,r,{zoom:o});const b={[y.LINES]:2,[y.TRIANGLES]:3,[y.LINE_STRIP]:1}[l];for(const k of re.get()){const I=k.vaos||(k.vaos={});(I[V]||(I[V]=new wr)).bind(n,this,$,h?h.getPaintVertexBuffers():[],q,k.vertexOffset,f||[]),y.drawElements(l,k.primitiveLength*b,y.UNSIGNED_SHORT,k.primitiveOffset*b*2)}}}function Qr(p,n){const l=Math.pow(2,n.tileID.overscaledZ),m=n.tileSize*Math.pow(2,p.transform.tileZoom)/l,v=m*(n.tileID.canonical.x+n.tileID.wrap*l),M=m*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_tile_units_to_pixels:1/wn(n,1,p.transform.tileZoom),u_pixel_coord_upper:[v>>16,M>>16],u_pixel_coord_lower:[65535&v,65535&M]}}const fl=a.create(),Ta=(p,n,l,m,v,M,P,O,V,$,q)=>{const re=n.style.light,r=re.properties.get("position"),o=[r.x,r.y,r.z],h=a.create$1();"viewport"===re.properties.get("anchor")&&(a.fromRotation(h,-n.transform.angle),a.transformMat3(o,o,h));const f=re.properties.get("color"),y=n.transform,b={u_matrix:p,u_lightpos:o,u_lightintensity:re.properties.get("intensity"),u_lightcolor:[f.r,f.g,f.b],u_vertical_gradient:+l,u_opacity:m,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:fl,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:v,u_edge_radius:M};return"globe"===y.projection.name&&(b.u_tile_id=[P.canonical.x,P.canonical.y,1<<P.canonical.z],b.u_zoom_transition=V,b.u_inv_rot_matrix=q,b.u_merc_center=$,b.u_up_dir=y.projection.upVector(new a.CanonicalTileID(0,0,0),$[0]*a.EXTENT,$[1]*a.EXTENT),b.u_height_lift=O),b},Ho=(p,n,l,m,v,M,P,O,V,$,q,re)=>{const r=Ta(p,n,l,m,v,M,P,V,$,q,re),o={u_height_factor:-Math.pow(2,P.overscaledZ)/O.tileSize/8};return a.extend(r,Qr(n,O),o)},ea=p=>({u_matrix:p}),gs=(p,n,l)=>a.extend(ea(p),Qr(n,l)),Ji=(p,n)=>({u_matrix:p,u_world:n}),Ks=(p,n,l,m)=>a.extend(gs(p,n,l),{u_world:m}),qa=a.create(),Rs=(p,n,l,m,v,M)=>{const P=p.transform,O="globe"===P.projection.name;let V;if("map"===M.paint.get("circle-pitch-alignment"))if(O){const q=a.globePixelsToTileUnits(P.zoom,n.canonical)*P._pixelsPerMercatorPixel;V=Float32Array.from([q,0,0,q])}else V=P.calculatePixelsToTileUnitsMatrix(l);else V=new Float32Array([P.pixelsToGLUnits[0],0,0,P.pixelsToGLUnits[1]]);const $={u_camera_to_center_distance:P.cameraToCenterDistance,u_matrix:p.translatePosMatrix(n.projMatrix,l,M.paint.get("circle-translate"),M.paint.get("circle-translate-anchor")),u_device_pixel_ratio:a.exported.devicePixelRatio,u_extrude_scale:V,u_inv_rot_matrix:qa,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(O){$.u_inv_rot_matrix=m,$.u_merc_center=v,$.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],$.u_zoom_transition=a.globeToMercatorTransition(P.zoom);const q=v[0]*a.EXTENT,re=v[1]*a.EXTENT;$.u_up_dir=P.projection.upVector(new a.CanonicalTileID(0,0,0),q,re)}return $},No=p=>{const n=[];return"map"===p.paint.get("circle-pitch-alignment")&&n.push("PITCH_WITH_MAP"),"map"===p.paint.get("circle-pitch-scale")&&n.push("SCALE_WITH_MAP"),n},Or=(p,n,l,m)=>{const v=a.EXTENT/l.tileSize;return{u_matrix:p,u_camera_to_center_distance:n.getCameraToCenterDistance(m),u_extrude_scale:[n.pixelsToGLUnits[0]/v,n.pixelsToGLUnits[1]/v]}},Fi=(p,n,l=1)=>({u_matrix:p,u_color:n,u_overlay:0,u_overlay_scale:l}),Uo=a.create(),Mo=(p,n,l,m,v,M,P)=>{const O=p.transform,V="globe"===O.projection.name,$=V?a.globePixelsToTileUnits(O.zoom,n.canonical)*O._pixelsPerMercatorPixel:wn(l,1,M),q={u_matrix:n.projMatrix,u_extrude_scale:$,u_intensity:P,u_inv_rot_matrix:Uo,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(V){q.u_inv_rot_matrix=m,q.u_merc_center=v,q.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],q.u_zoom_transition=a.globeToMercatorTransition(O.zoom);const re=v[0]*a.EXTENT,r=v[1]*a.EXTENT;q.u_up_dir=O.projection.upVector(new a.CanonicalTileID(0,0,0),re,r)}return q},Ll=(p,n,l,m,v,M,P)=>{const O=p.transform,V=O.calculatePixelsToTileUnitsMatrix(n);return{u_matrix:zs(p,n,l,m),u_pixels_to_tile_units:V,u_device_pixel_ratio:M,u_units_to_pixels:[1/O.pixelsToGLUnits[0],1/O.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:v,u_texsize:Ur(l)?n.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Qs(n,p.transform),u_alpha_discard_threshold:0,u_trim_offset:P}},Ys=(p,n,l,m,v)=>{const M=p.transform;return{u_matrix:zs(p,n,l,m),u_texsize:n.imageAtlasTexture.size,u_pixels_to_tile_units:M.calculatePixelsToTileUnitsMatrix(n),u_device_pixel_ratio:v,u_image:0,u_tile_units_to_pixels:Qs(n,M),u_units_to_pixels:[1/M.pixelsToGLUnits[0],1/M.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Qs(p,n){return 1/wn(p,1,n.tileZoom)}function zs(p,n,l,m){return p.translatePosMatrix(m||n.tileID.projMatrix,n,l.paint.get("line-translate"),l.paint.get("line-translate-anchor"))}function Ur(p){const n=p.paint.get("line-dasharray").value;return n.value||"constant"!==n.kind}const _l=(p,n,l,m,v,M)=>{return{u_matrix:p,u_tl_parent:n,u_scale_parent:l,u_fade_t:m.mix,u_opacity:m.opacity*v.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:v.paint.get("raster-brightness-min"),u_brightness_high:v.paint.get("raster-brightness-max"),u_saturation_factor:(O=v.paint.get("raster-saturation"),O>0?1-1/(1.001-O):-O),u_contrast_factor:(P=v.paint.get("raster-contrast"),P>0?1/(1-P):1+P),u_spin_weights:ka(v.paint.get("raster-hue-rotate")),u_perspective_transform:M};var P,O};function ka(p){p*=Math.PI/180;const n=Math.sin(p),l=Math.cos(p);return[(2*l+1)/3,(-Math.sqrt(3)*n-l+1)/3,(Math.sqrt(3)*n-l+1)/3]}const eo=a.create(),ys=(p,n,l,m,v,M,P,O,V,$,q,re,r,o,h,f)=>{const y=v.transform,b={u_is_size_zoom_constant:+("constant"===p||"source"===p),u_is_size_feature_constant:+("constant"===p||"camera"===p),u_size_t:n?n.uSizeT:0,u_size:n?n.uSize:0,u_camera_to_center_distance:y.cameraToCenterDistance,u_rotate_symbol:+l,u_aspect_ratio:y.width/y.height,u_fade_change:v.options.fadeDuration?v.symbolFadeChange:1,u_matrix:M,u_label_plane_matrix:P,u_coord_matrix:O,u_is_text:+V,u_pitch_with_map:+m,u_texsize:$,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:eo,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:eo,u_up_vector:[0,-1,0]};return"globe"===f.name&&(b.u_tile_id=[q.canonical.x,q.canonical.y,1<<q.canonical.z],b.u_zoom_transition=re,b.u_inv_rot_matrix=o,b.u_merc_center=r,b.u_camera_forward=y._camera.forward(),b.u_ecef_origin=a.globeECEFOrigin(y.globeMatrix,q.toUnwrapped()),b.u_tile_matrix=Float32Array.from(y.globeMatrix),b.u_up_vector=h),b},$a=(p,n,l,m,v,M,P,O,V,$,q,re,r,o,h,f,y)=>a.extend(ys(p,n,l,m,v,M,P,O,V,$,re,r,o,h,f,y),{u_gamma_scale:m?v.transform.cameraToCenterDistance*Math.cos(v.terrain?0:v.transform._pitch):1,u_device_pixel_ratio:a.exported.devicePixelRatio,u_is_halo:+q}),to=(p,n,l,m,v,M,P,O,V,$,q,re,r,o,h,f)=>a.extend($a(p,n,l,m,v,M,P,O,!0,V,!0,q,re,r,o,h,f),{u_texsize_icon:$,u_texture_icon:1}),Wo=(p,n,l)=>({u_matrix:p,u_opacity:n,u_color:l}),Sl=(p,n,l,m,v)=>a.extend(function(M,P,O){const V=P.imageManager.getPattern(M.toString()),{width:$,height:q}=P.imageManager.getPixelSize(),re=Math.pow(2,O.tileID.overscaledZ),r=O.tileSize*Math.pow(2,P.transform.tileZoom)/re,o=r*(O.tileID.canonical.x+O.tileID.wrap*re),h=r*O.tileID.canonical.y;return{u_image:0,u_pattern_tl:V.tl,u_pattern_br:V.br,u_texsize:[$,q],u_pattern_size:V.displaySize,u_tile_units_to_pixels:1/wn(O,1,P.transform.tileZoom),u_pixel_coord_upper:[o>>16,h>>16],u_pixel_coord_lower:[65535&o,65535&h]}}(m,l,v),{u_matrix:p,u_opacity:n}),io={fillExtrusion:p=>({u_matrix:new a.UniformMatrix4f(p),u_lightpos:new a.Uniform3f(p),u_lightintensity:new a.Uniform1f(p),u_lightcolor:new a.Uniform3f(p),u_vertical_gradient:new a.Uniform1f(p),u_opacity:new a.Uniform1f(p),u_edge_radius:new a.Uniform1f(p),u_ao:new a.Uniform2f(p),u_tile_id:new a.Uniform3f(p),u_zoom_transition:new a.Uniform1f(p),u_inv_rot_matrix:new a.UniformMatrix4f(p),u_merc_center:new a.Uniform2f(p),u_up_dir:new a.Uniform3f(p),u_height_lift:new a.Uniform1f(p)}),fillExtrusionPattern:p=>({u_matrix:new a.UniformMatrix4f(p),u_lightpos:new a.Uniform3f(p),u_lightintensity:new a.Uniform1f(p),u_lightcolor:new a.Uniform3f(p),u_vertical_gradient:new a.Uniform1f(p),u_height_factor:new a.Uniform1f(p),u_edge_radius:new a.Uniform1f(p),u_ao:new a.Uniform2f(p),u_tile_id:new a.Uniform3f(p),u_zoom_transition:new a.Uniform1f(p),u_inv_rot_matrix:new a.UniformMatrix4f(p),u_merc_center:new a.Uniform2f(p),u_up_dir:new a.Uniform3f(p),u_height_lift:new a.Uniform1f(p),u_image:new a.Uniform1i(p),u_texsize:new a.Uniform2f(p),u_pixel_coord_upper:new a.Uniform2f(p),u_pixel_coord_lower:new a.Uniform2f(p),u_tile_units_to_pixels:new a.Uniform1f(p),u_opacity:new a.Uniform1f(p)}),fill:p=>({u_matrix:new a.UniformMatrix4f(p)}),fillPattern:p=>({u_matrix:new a.UniformMatrix4f(p),u_image:new a.Uniform1i(p),u_texsize:new a.Uniform2f(p),u_pixel_coord_upper:new a.Uniform2f(p),u_pixel_coord_lower:new a.Uniform2f(p),u_tile_units_to_pixels:new a.Uniform1f(p)}),fillOutline:p=>({u_matrix:new a.UniformMatrix4f(p),u_world:new a.Uniform2f(p)}),fillOutlinePattern:p=>({u_matrix:new a.UniformMatrix4f(p),u_world:new a.Uniform2f(p),u_image:new a.Uniform1i(p),u_texsize:new a.Uniform2f(p),u_pixel_coord_upper:new a.Uniform2f(p),u_pixel_coord_lower:new a.Uniform2f(p),u_tile_units_to_pixels:new a.Uniform1f(p)}),circle:p=>({u_camera_to_center_distance:new a.Uniform1f(p),u_extrude_scale:new a.UniformMatrix2f(p),u_device_pixel_ratio:new a.Uniform1f(p),u_matrix:new a.UniformMatrix4f(p),u_inv_rot_matrix:new a.UniformMatrix4f(p),u_merc_center:new a.Uniform2f(p),u_tile_id:new a.Uniform3f(p),u_zoom_transition:new a.Uniform1f(p),u_up_dir:new a.Uniform3f(p)}),collisionBox:p=>({u_matrix:new a.UniformMatrix4f(p),u_camera_to_center_distance:new a.Uniform1f(p),u_extrude_scale:new a.Uniform2f(p)}),collisionCircle:p=>({u_matrix:new a.UniformMatrix4f(p),u_inv_matrix:new a.UniformMatrix4f(p),u_camera_to_center_distance:new a.Uniform1f(p),u_viewport_size:new a.Uniform2f(p)}),debug:p=>({u_color:new a.UniformColor(p),u_matrix:new a.UniformMatrix4f(p),u_overlay:new a.Uniform1i(p),u_overlay_scale:new a.Uniform1f(p)}),clippingMask:p=>({u_matrix:new a.UniformMatrix4f(p)}),heatmap:p=>({u_extrude_scale:new a.Uniform1f(p),u_intensity:new a.Uniform1f(p),u_matrix:new a.UniformMatrix4f(p),u_inv_rot_matrix:new a.UniformMatrix4f(p),u_merc_center:new a.Uniform2f(p),u_tile_id:new a.Uniform3f(p),u_zoom_transition:new a.Uniform1f(p),u_up_dir:new a.Uniform3f(p)}),heatmapTexture:p=>({u_image:new a.Uniform1i(p),u_color_ramp:new a.Uniform1i(p),u_opacity:new a.Uniform1f(p)}),hillshade:p=>({u_matrix:new a.UniformMatrix4f(p),u_image:new a.Uniform1i(p),u_latrange:new a.Uniform2f(p),u_light:new a.Uniform2f(p),u_shadow:new a.UniformColor(p),u_highlight:new a.UniformColor(p),u_accent:new a.UniformColor(p)}),hillshadePrepare:p=>({u_matrix:new a.UniformMatrix4f(p),u_image:new a.Uniform1i(p),u_dimension:new a.Uniform2f(p),u_zoom:new a.Uniform1f(p),u_unpack:new a.Uniform4f(p)}),line:p=>({u_matrix:new a.UniformMatrix4f(p),u_pixels_to_tile_units:new a.UniformMatrix2f(p),u_device_pixel_ratio:new a.Uniform1f(p),u_units_to_pixels:new a.Uniform2f(p),u_dash_image:new a.Uniform1i(p),u_gradient_image:new a.Uniform1i(p),u_image_height:new a.Uniform1f(p),u_texsize:new a.Uniform2f(p),u_tile_units_to_pixels:new a.Uniform1f(p),u_alpha_discard_threshold:new a.Uniform1f(p),u_trim_offset:new a.Uniform2f(p)}),linePattern:p=>({u_matrix:new a.UniformMatrix4f(p),u_texsize:new a.Uniform2f(p),u_pixels_to_tile_units:new a.UniformMatrix2f(p),u_device_pixel_ratio:new a.Uniform1f(p),u_image:new a.Uniform1i(p),u_units_to_pixels:new a.Uniform2f(p),u_tile_units_to_pixels:new a.Uniform1f(p),u_alpha_discard_threshold:new a.Uniform1f(p)}),raster:p=>({u_matrix:new a.UniformMatrix4f(p),u_tl_parent:new a.Uniform2f(p),u_scale_parent:new a.Uniform1f(p),u_fade_t:new a.Uniform1f(p),u_opacity:new a.Uniform1f(p),u_image0:new a.Uniform1i(p),u_image1:new a.Uniform1i(p),u_brightness_low:new a.Uniform1f(p),u_brightness_high:new a.Uniform1f(p),u_saturation_factor:new a.Uniform1f(p),u_contrast_factor:new a.Uniform1f(p),u_spin_weights:new a.Uniform3f(p),u_perspective_transform:new a.Uniform2f(p)}),symbolIcon:p=>({u_is_size_zoom_constant:new a.Uniform1i(p),u_is_size_feature_constant:new a.Uniform1i(p),u_size_t:new a.Uniform1f(p),u_size:new a.Uniform1f(p),u_camera_to_center_distance:new a.Uniform1f(p),u_rotate_symbol:new a.Uniform1i(p),u_aspect_ratio:new a.Uniform1f(p),u_fade_change:new a.Uniform1f(p),u_matrix:new a.UniformMatrix4f(p),u_label_plane_matrix:new a.UniformMatrix4f(p),u_coord_matrix:new a.UniformMatrix4f(p),u_is_text:new a.Uniform1i(p),u_pitch_with_map:new a.Uniform1i(p),u_texsize:new a.Uniform2f(p),u_tile_id:new a.Uniform3f(p),u_zoom_transition:new a.Uniform1f(p),u_inv_rot_matrix:new a.UniformMatrix4f(p),u_merc_center:new a.Uniform2f(p),u_camera_forward:new a.Uniform3f(p),u_tile_matrix:new a.UniformMatrix4f(p),u_up_vector:new a.Uniform3f(p),u_ecef_origin:new a.Uniform3f(p),u_texture:new a.Uniform1i(p)}),symbolSDF:p=>({u_is_size_zoom_constant:new a.Uniform1i(p),u_is_size_feature_constant:new a.Uniform1i(p),u_size_t:new a.Uniform1f(p),u_size:new a.Uniform1f(p),u_camera_to_center_distance:new a.Uniform1f(p),u_rotate_symbol:new a.Uniform1i(p),u_aspect_ratio:new a.Uniform1f(p),u_fade_change:new a.Uniform1f(p),u_matrix:new a.UniformMatrix4f(p),u_label_plane_matrix:new a.UniformMatrix4f(p),u_coord_matrix:new a.UniformMatrix4f(p),u_is_text:new a.Uniform1i(p),u_pitch_with_map:new a.Uniform1i(p),u_texsize:new a.Uniform2f(p),u_texture:new a.Uniform1i(p),u_gamma_scale:new a.Uniform1f(p),u_device_pixel_ratio:new a.Uniform1f(p),u_tile_id:new a.Uniform3f(p),u_zoom_transition:new a.Uniform1f(p),u_inv_rot_matrix:new a.UniformMatrix4f(p),u_merc_center:new a.Uniform2f(p),u_camera_forward:new a.Uniform3f(p),u_tile_matrix:new a.UniformMatrix4f(p),u_up_vector:new a.Uniform3f(p),u_ecef_origin:new a.Uniform3f(p),u_is_halo:new a.Uniform1i(p)}),symbolTextAndIcon:p=>({u_is_size_zoom_constant:new a.Uniform1i(p),u_is_size_feature_constant:new a.Uniform1i(p),u_size_t:new a.Uniform1f(p),u_size:new a.Uniform1f(p),u_camera_to_center_distance:new a.Uniform1f(p),u_rotate_symbol:new a.Uniform1i(p),u_aspect_ratio:new a.Uniform1f(p),u_fade_change:new a.Uniform1f(p),u_matrix:new a.UniformMatrix4f(p),u_label_plane_matrix:new a.UniformMatrix4f(p),u_coord_matrix:new a.UniformMatrix4f(p),u_is_text:new a.Uniform1i(p),u_pitch_with_map:new a.Uniform1i(p),u_texsize:new a.Uniform2f(p),u_texsize_icon:new a.Uniform2f(p),u_texture:new a.Uniform1i(p),u_texture_icon:new a.Uniform1i(p),u_gamma_scale:new a.Uniform1f(p),u_device_pixel_ratio:new a.Uniform1f(p),u_is_halo:new a.Uniform1i(p)}),background:p=>({u_matrix:new a.UniformMatrix4f(p),u_opacity:new a.Uniform1f(p),u_color:new a.UniformColor(p)}),backgroundPattern:p=>({u_matrix:new a.UniformMatrix4f(p),u_opacity:new a.Uniform1f(p),u_image:new a.Uniform1i(p),u_pattern_tl:new a.Uniform2f(p),u_pattern_br:new a.Uniform2f(p),u_texsize:new a.Uniform2f(p),u_pattern_size:new a.Uniform2f(p),u_pixel_coord_upper:new a.Uniform2f(p),u_pixel_coord_lower:new a.Uniform2f(p),u_tile_units_to_pixels:new a.Uniform1f(p)}),terrainRaster:xo,terrainDepth:xo,skybox:p=>({u_matrix:new a.UniformMatrix4f(p),u_sun_direction:new a.Uniform3f(p),u_cubemap:new a.Uniform1i(p),u_opacity:new a.Uniform1f(p),u_temporal_offset:new a.Uniform1f(p)}),skyboxGradient:p=>({u_matrix:new a.UniformMatrix4f(p),u_color_ramp:new a.Uniform1i(p),u_center_direction:new a.Uniform3f(p),u_radius:new a.Uniform1f(p),u_opacity:new a.Uniform1f(p),u_temporal_offset:new a.Uniform1f(p)}),skyboxCapture:p=>({u_matrix_3f:new a.UniformMatrix3f(p),u_sun_direction:new a.Uniform3f(p),u_sun_intensity:new a.Uniform1f(p),u_color_tint_r:new a.Uniform4f(p),u_color_tint_m:new a.Uniform4f(p),u_luminance:new a.Uniform1f(p)}),globeRaster:p=>({u_proj_matrix:new a.UniformMatrix4f(p),u_globe_matrix:new a.UniformMatrix4f(p),u_normalize_matrix:new a.UniformMatrix4f(p),u_merc_matrix:new a.UniformMatrix4f(p),u_zoom_transition:new a.Uniform1f(p),u_merc_center:new a.Uniform2f(p),u_image0:new a.Uniform1i(p),u_grid_matrix:new a.UniformMatrix3f(p),u_skirt_height:new a.Uniform1f(p),u_frustum_tl:new a.Uniform3f(p),u_frustum_tr:new a.Uniform3f(p),u_frustum_br:new a.Uniform3f(p),u_frustum_bl:new a.Uniform3f(p),u_globe_pos:new a.Uniform3f(p),u_globe_radius:new a.Uniform1f(p),u_viewport:new a.Uniform2f(p)}),globeAtmosphere:p=>({u_frustum_tl:new a.Uniform3f(p),u_frustum_tr:new a.Uniform3f(p),u_frustum_br:new a.Uniform3f(p),u_frustum_bl:new a.Uniform3f(p),u_horizon:new a.Uniform1f(p),u_transition:new a.Uniform1f(p),u_fadeout_range:new a.Uniform1f(p),u_color:new a.Uniform4f(p),u_high_color:new a.Uniform4f(p),u_space_color:new a.Uniform4f(p),u_star_intensity:new a.Uniform1f(p),u_star_density:new a.Uniform1f(p),u_star_size:new a.Uniform1f(p),u_temporal_offset:new a.Uniform1f(p),u_horizon_angle:new a.Uniform1f(p),u_rotation_matrix:new a.UniformMatrix4f(p)})};let vs;function Xa(p,n,l,m,v,M,P){const O=p.context,V=O.gl,$=p.transform,q=p.useProgram("collisionBox"),re=[];let r=0,o=0;for(let C=0;C<m.length;C++){const F=m[C],N=n.getTile(F),U=N.getBucket(l);if(!U)continue;const ie=sr(F,U,$);let ce=ie;0===v[0]&&0===v[1]||(ce=p.translatePosMatrix(ie,N,v,M));const he=P?U.textCollisionBox:U.iconCollisionBox,ve=U.collisionCircleArray;if(ve.length>0){const ge=a.create(),Ce=ce;a.mul(ge,U.placementInvProjMatrix,$.glCoordMatrix),a.mul(ge,ge,U.placementViewportMatrix),re.push({circleArray:ve,circleOffset:o,transform:Ce,invTransform:ge,projection:U.getProjection()}),r+=ve.length/4,o=r}he&&(p.terrain&&p.terrain.setupElevationDraw(N,q),q.draw(O,V.LINES,a.DepthMode.disabled,a.StencilMode.disabled,p.colorModeForRenderPass(),a.CullFaceMode.disabled,Or(ce,$,N,U.getProjection()),l.id,he.layoutVertexBuffer,he.indexBuffer,he.segments,null,$.zoom,null,[he.collisionVertexBuffer,he.collisionVertexBufferExt]))}if(!P||!re.length)return;const h=p.useProgram("collisionCircle"),f=new a.StructArrayLayout2f1f2i16;f.resize(4*r),f._trim();let y=0;for(const C of re)for(let F=0;F<C.circleArray.length/4;F++){const N=4*F,U=C.circleArray[N+0],ie=C.circleArray[N+1],ce=C.circleArray[N+2],he=C.circleArray[N+3];f.emplace(y++,U,ie,ce,he,0),f.emplace(y++,U,ie,ce,he,1),f.emplace(y++,U,ie,ce,he,2),f.emplace(y++,U,ie,ce,he,3)}(!vs||vs.length<2*r)&&(vs=function(C){const F=2*C,N=new a.StructArrayLayout3ui6;N.resize(F),N._trim();for(let U=0;U<F;U++){const ie=6*U;N.uint16[ie+0]=4*U+0,N.uint16[ie+1]=4*U+1,N.uint16[ie+2]=4*U+2,N.uint16[ie+3]=4*U+2,N.uint16[ie+4]=4*U+3,N.uint16[ie+5]=4*U+0}return N}(r));const b=O.createIndexBuffer(vs,!0),k=O.createVertexBuffer(f,a.collisionCircleLayout.members,!0);for(const C of re){const F={u_matrix:C.transform,u_inv_matrix:C.invTransform,u_camera_to_center_distance:(I=$).getCameraToCenterDistance(C.projection),u_viewport_size:[I.width,I.height]};h.draw(O,V.TRIANGLES,a.DepthMode.disabled,a.StencilMode.disabled,p.colorModeForRenderPass(),a.CullFaceMode.disabled,F,l.id,k,b,a.SegmentVector.simpleSegment(0,2*C.circleOffset,C.circleArray.length,C.circleArray.length/2),null,$.zoom)}var I;k.destroy(),b.destroy()}const fa=a.create();function gi({width:p,height:n,anchor:l,textOffset:m,textScale:v},M){const{horizontalAlign:P,verticalAlign:O}=a.getAnchorAlignment(l),V=-(P-.5)*p,$=-(O-.5)*n,q=a.evaluateVariableOffset(l,m);return new a.Point((V/v+q[0])*M,($/v+q[1])*M)}function ql(p,n,l,m,v,M,P,O,V,$,q){const re=p.text.placedSymbolArray,r=p.text.dynamicLayoutVertexArray,o=p.icon.dynamicLayoutVertexArray,h={},f=p.getProjection(),y=Si(O,f,M),b=M.elevation,k=f.upVectorScale(O.canonical,M.center.lat,M.worldSize).metersToTile;r.clear();for(let I=0;I<re.length;I++){const C=re.get(I),{tileAnchorX:F,tileAnchorY:N,numGlyphs:U}=C,ie=C.hidden||!C.crossTileID||p.allowVerticalPlacement&&!C.placedOrientation?null:m[C.crossTileID];if(ie){let ce=0,he=0,ve=0;if(b){const ot=b?b.getAtTileOffset(O,F,N):0,[Ct,Nt,At]=f.upVector(O.canonical,F,N);ce=ot*Ct*k,he=ot*Nt*k,ve=ot*At*k}let[ge,Ce,Re,Ze]=$n(C.projectedAnchorX+ce,C.projectedAnchorY+he,C.projectedAnchorZ+ve,l?y:P);const Be=Tl(M.getCameraToCenterDistance(f),Ze);let Ge=v.evaluateSizeForFeature(p.textSizeData,$,C)*Be/a.ONE_EM;l&&(Ge*=p.tilePixelRatio/V);const lt=gi(ie,Ge);l?(({x:ge,y:Ce,z:Re}=f.projectTilePoint(F+lt.x,N+lt.y,O.canonical)),[ge,Ce,Re]=$n(ge+ce,Ce+he,Re+ve,P)):(n&&lt._rotate(-M.angle),ge+=lt.x,Ce+=lt.y,Re=0);const tt=p.allowVerticalPlacement&&C.placedOrientation===a.WritingMode.vertical?Math.PI/2:0;for(let ot=0;ot<U;ot++)a.addDynamicAttributes(r,ge,Ce,Re,tt);q&&C.associatedIconIndex>=0&&(h[C.associatedIconIndex]={x:ge,y:Ce,z:Re,angle:tt})}else hr(U,r)}if(q){o.clear();const I=p.icon.placedSymbolArray;for(let C=0;C<I.length;C++){const F=I.get(C),{numGlyphs:N}=F,U=h[C];if(F.hidden||!U)hr(N,o);else{const{x:ie,y:ce,z:he,angle:ve}=U;for(let ge=0;ge<N;ge++)a.addDynamicAttributes(o,ie,ce,he,ve)}}p.icon.dynamicLayoutVertexBuffer.updateData(o)}p.text.dynamicLayoutVertexBuffer.updateData(r)}function Da(p,n,l){return l.iconsInText&&n?"symbolTextAndIcon":p?"symbolSDF":"symbolIcon"}function Fs(p,n,l,m,v,M,P,O,V,$,q,re){const r=p.context,o=r.gl,h=p.transform,f="map"===O,y="map"===V,b=f&&"point"!==l.layout.get("symbol-placement"),k=f&&!y&&!b,I=void 0!==l.layout.get("symbol-sort-key").constantOr(1);let C=!1;const F=p.depthModeForSublayer(0,a.DepthMode.ReadOnly),N=[a.mercatorXfromLng(h.center.lng),a.mercatorYfromLat(h.center.lat)],U=l.layout.get("text-variable-anchor"),ie="globe"===h.projection.name,ce=[],he=[0,-1,0];let ve=he;!ie&&!h.mercatorFromTransition||f||(ve=function(ge){const Ce=ge._camera.getWorldToCamera(ge.worldSize,1),Re=a.multiply([],Ce,ge.globeMatrix);a.invert(Re,Re);const Ze=[0,0,0],Be=[0,1,0,0];return a.transformMat4$1(Be,Be,Re),Ze[0]=Be[0],Ze[1]=Be[1],Ze[2]=Be[2],a.normalize(Ze,Ze),Ze}(h));for(const ge of m){const Ce=n.getTile(ge),Re=Ce.getBucket(l);if(!Re||"mercator"===Re.projection.name&&ie)continue;const Ze=v?Re.text:Re.icon;if(!Ze||Re.fullyClipped||!Ze.segments.get().length)continue;const Be=Ze.programConfigurations.get(l.id),Ge=v||Re.sdfIcons,lt=v?Re.textSizeData:Re.iconSizeData,tt=y||0!==h.pitch,ot=a.evaluateSizeForZoom(lt,h.zoom);let Ct,Nt,At,jt,Yt=[0,0],ai=null;if(v)Nt=Ce.glyphAtlasTexture,At=o.LINEAR,Ct=Ce.glyphAtlasTexture.size,Re.iconsInText&&(Yt=Ce.imageAtlasTexture.size,ai=Ce.imageAtlasTexture,jt=tt||p.options.rotating||p.options.zooming||"composite"===lt.kind||"camera"===lt.kind?o.LINEAR:o.NEAREST);else{const qi=1!==l.layout.get("icon-size").constantOr(0)||Re.iconsNeedLinear;Nt=Ce.imageAtlasTexture,At=Ge||p.options.rotating||p.options.zooming||qi||tt?o.LINEAR:o.NEAREST,Ct=Ce.imageAtlasTexture.size}const Vt="globe"===Re.projection.name,Ei=Vt?ve:he,rn=Vt?a.globeToMercatorTransition(h.zoom):0,qt=Si(ge,Re.getProjection(),h),T=h.calculatePixelsToTileUnitsMatrix(Ce),R=nt(qt,Ce.tileID.canonical,y,f,h,Re.getProjection(),T),K=p.terrain&&y&&b?a.invert(a.create(),R):fa,se=Yn(qt,Ce.tileID.canonical,y,f,h,Re.getProjection(),T),_e=U&&Re.hasTextData(),Pe="none"!==l.layout.get("icon-text-fit")&&_e&&Re.hasIconData();if(b){const qi=h.elevation,Rl=qi?qi.getAtTileOffsetFunc(ge,h.center.lat,h.worldSize,Re.getProjection()):null,cc=la(qt,Ce.tileID.canonical,y,f,h,Re.getProjection(),T);us(Re,qt,p,v,cc,se,y,$,Rl,ge)}const et=b||v&&U||Pe,Ot=p.translatePosMatrix(qt,Ce,M,P),Xt=et?fa:R,Ai=p.translatePosMatrix(se,Ce,M,P,!0),Pi=Re.getProjection().createInversionMatrix(h,ge.canonical),Kn=[];p.terrainRenderModeElevated()&&y&&Kn.push("PITCH_WITH_MAP_TERRAIN"),Vt&&Kn.push("PROJECTION_GLOBE_VIEW"),et&&Kn.push("PROJECTED_POS_ON_VIEWPORT");const Ia=Ge&&0!==l.paint.get(v?"text-halo-width":"icon-halo-width").constantOr(1);let lc;lc=Ge?Re.iconsInText?to(lt.kind,ot,k,y,p,Ot,Xt,Ai,Ct,Yt,ge,rn,N,Pi,Ei,Re.getProjection()):$a(lt.kind,ot,k,y,p,Ot,Xt,Ai,v,Ct,!0,ge,rn,N,Pi,Ei,Re.getProjection()):ys(lt.kind,ot,k,y,p,Ot,Xt,Ai,v,Ct,ge,rn,N,Pi,Ei,Re.getProjection());const su={program:p.useProgram(Da(Ge,v,Re),Be,Kn),buffers:Ze,uniformValues:lc,atlasTexture:Nt,atlasTextureIcon:ai,atlasInterpolation:At,atlasInterpolationIcon:jt,isSDF:Ge,hasHalo:Ia,tile:Ce,labelPlaneMatrixInv:K};if(I&&Re.canOverlap){C=!0;const qi=Ze.segments.get();for(const Rl of qi)ce.push({segments:new a.SegmentVector([Rl]),sortKey:Rl.sortKey,state:su})}else ce.push({segments:Ze.segments,sortKey:0,state:su})}C&&ce.sort((ge,Ce)=>ge.sortKey-Ce.sortKey);for(const ge of ce){const Ce=ge.state;if(p.terrain&&p.terrain.setupElevationDraw(Ce.tile,Ce.program,{useDepthForOcclusion:!ie,labelPlaneMatrixInv:Ce.labelPlaneMatrixInv}),r.activeTexture.set(o.TEXTURE0),Ce.atlasTexture.bind(Ce.atlasInterpolation,o.CLAMP_TO_EDGE),Ce.atlasTextureIcon&&(r.activeTexture.set(o.TEXTURE1),Ce.atlasTextureIcon&&Ce.atlasTextureIcon.bind(Ce.atlasInterpolationIcon,o.CLAMP_TO_EDGE)),Ce.isSDF){const Re=Ce.uniformValues;Ce.hasHalo&&(Re.u_is_halo=1,To(Ce.buffers,ge.segments,l,p,Ce.program,F,q,re,Re)),Re.u_is_halo=0}To(Ce.buffers,ge.segments,l,p,Ce.program,F,q,re,Ce.uniformValues)}}function To(p,n,l,m,v,M,P,O,V){const $=m.context,q=[p.dynamicLayoutVertexBuffer,p.opacityVertexBuffer,p.globeExtVertexBuffer];v.draw($,$.gl.TRIANGLES,M,P,O,a.CullFaceMode.disabled,V,l.id,p.layoutVertexBuffer,p.indexBuffer,n,l.paint,m.transform.zoom,p.programConfigurations.get(l.id),q)}function Go(p,n,l,m,v,M,P){const O=p.context.gl,V=l.paint.get("fill-pattern"),$=V&&V.constantOr(1);let q,re,r,o,h;P?(re=$&&!l.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",q=O.LINES):(re=$?"fillPattern":"fill",q=O.TRIANGLES);for(const f of m){const y=n.getTile(f);if($&&!y.patternsLoaded())continue;const b=y.getBucket(l);if(!b)continue;p.prepareDrawTile();const k=b.programConfigurations.get(l.id),I=p.useProgram(re,k);$&&(p.context.activeTexture.set(O.TEXTURE0),y.imageAtlasTexture.bind(O.LINEAR,O.CLAMP_TO_EDGE),k.updatePaintBuffers());const C=V.constantOr(null);if(C&&y.imageAtlas){const N=y.imageAtlas.patternPositions[C.toString()];N&&k.setConstantPatternPositions(N)}const F=p.translatePosMatrix(f.projMatrix,y,l.paint.get("fill-translate"),l.paint.get("fill-translate-anchor"));if(P){o=b.indexBuffer2,h=b.segments2;const N=p.terrain&&p.terrain.renderingToTexture?p.terrain.drapeBufferSize:[O.drawingBufferWidth,O.drawingBufferHeight];r="fillOutlinePattern"===re&&$?Ks(F,p,y,N):Ji(F,N)}else o=b.indexBuffer,h=b.segments,r=$?gs(F,p,y):ea(F);p.prepareDrawProgram(p.context,I,f.toUnwrapped()),I.draw(p.context,q,v,p.stencilModeForClipping(f),M,a.CullFaceMode.disabled,r,l.id,b.layoutVertexBuffer,o,h,l.paint,p.transform.zoom,k)}}function La(p,n,l,m,v,M,P){const O=p.context,V=O.gl,$=p.transform,q=l.paint.get("fill-extrusion-pattern"),re=q.constantOr(1),r=l.paint.get("fill-extrusion-opacity"),o=[l.paint.get("fill-extrusion-ambient-occlusion-intensity"),l.paint.get("fill-extrusion-ambient-occlusion-radius")],h=l.layout.get("fill-extrusion-edge-radius"),f=h>0&&!l.paint.get("fill-extrusion-rounded-roof"),y=f?0:h,b="globe"===$.projection.name?a.fillExtrusionHeightLift():0,k="globe"===$.projection.name,I=k?a.globeToMercatorTransition($.zoom):0,C=[a.mercatorXfromLng($.center.lng),a.mercatorYfromLat($.center.lat)],F=[];k&&F.push("PROJECTION_GLOBE_VIEW"),o[0]>0&&F.push("FAUX_AO"),f&&F.push("ZERO_ROOF_RADIUS");for(const N of m){const U=n.getTile(N),ie=U.getBucket(l);if(!ie||ie.projection.name!==$.projection.name)continue;const ce=ie.programConfigurations.get(l.id),he=p.useProgram(re?"fillExtrusionPattern":"fillExtrusion",ce,F);if(p.terrain){const Ge=p.terrain;if(p.style.terrainSetForDrapingOnly())Ge.setupElevationDraw(U,he,{useMeterToDem:!0});else{if(!ie.enableTerrain)continue;if(Ge.setupElevationDraw(U,he,{useMeterToDem:!0}),bs(O,n,N,ie,l,Ge),!ie.centroidVertexBuffer){const lt=he.attributes.a_centroid_pos;void 0!==lt&&V.vertexAttrib2f(lt,0,0)}}}re&&(p.context.activeTexture.set(V.TEXTURE0),U.imageAtlasTexture.bind(V.LINEAR,V.CLAMP_TO_EDGE),ce.updatePaintBuffers());const ve=q.constantOr(null);if(ve&&U.imageAtlas){const Ge=U.imageAtlas.patternPositions[ve.toString()];Ge&&ce.setConstantPatternPositions(Ge)}const ge=p.translatePosMatrix(N.projMatrix,U,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),Ce=$.projection.createInversionMatrix($,N.canonical),Re=l.paint.get("fill-extrusion-vertical-gradient"),Ze=re?Ho(ge,p,Re,r,o,y,N,U,b,I,C,Ce):Ta(ge,p,Re,r,o,y,N,b,I,C,Ce);p.prepareDrawProgram(O,he,N.toUnwrapped());const Be=[];p.terrain&&Be.push(ie.centroidVertexBuffer),k&&Be.push(ie.layoutVertexExtBuffer),he.draw(O,O.gl.TRIANGLES,v,M,P,a.CullFaceMode.backCCW,Ze,l.id,ie.layoutVertexBuffer,ie.indexBuffer,ie.segments,l.paint,p.transform.zoom,ce,Be)}}function bs(p,n,l,m,v,M){const P=[b=>{let k=b.canonical.x-1,I=b.wrap;return k<0&&(k=(1<<b.canonical.z)-1,I--),new a.OverscaledTileID(b.overscaledZ,I,b.canonical.z,k,b.canonical.y)},b=>{let k=b.canonical.x+1,I=b.wrap;return k===1<<b.canonical.z&&(k=0,I++),new a.OverscaledTileID(b.overscaledZ,I,b.canonical.z,k,b.canonical.y)},b=>new a.OverscaledTileID(b.overscaledZ,b.wrap,b.canonical.z,b.canonical.x,(0===b.canonical.y?1<<b.canonical.z:b.canonical.y)-1),b=>new a.OverscaledTileID(b.overscaledZ,b.wrap,b.canonical.z,b.canonical.x,b.canonical.y===(1<<b.canonical.z)-1?0:b.canonical.y+1)],O=b=>{const k=n.getSource().minzoom,I=F=>{const N=n.getTileByID(F);if(N&&N.hasData())return N.getBucket(v)},C=[0,-1,1];for(const F of C){if(b.overscaledZ+F<k)continue;const N=I(b.calculateScaledKey(b.overscaledZ+F));if(N)return N}},V=[0,0,0],$=(b,k)=>(V[0]=Math.min(b.min.y,k.min.y),V[1]=Math.max(b.max.y,k.max.y),V[2]=a.EXTENT-k.min.x>b.max.x?k.min.x-a.EXTENT:b.max.x,V),q=(b,k)=>(V[0]=Math.min(b.min.x,k.min.x),V[1]=Math.max(b.max.x,k.max.x),V[2]=a.EXTENT-k.min.y>b.max.y?k.min.y-a.EXTENT:b.max.y,V),re=[(b,k)=>$(b,k),(b,k)=>$(k,b),(b,k)=>q(b,k),(b,k)=>q(k,b)],r=new a.Point(0,0);let o,h,f;const y=(b,k,I,C,F)=>{const N=[[C?I:b,C?b:I,0],[C?I:k,C?k:I,0]],U=F<0?a.EXTENT+F:F,ie=[C?U:(b+k)/2,C?(b+k)/2:U,0];return 0===I&&F<0||0!==I&&F>0?M.getForTilePoints(f,[ie],!0,h):N.push(ie),M.getForTilePoints(l,N,!0,o),Math.max(N[0][2],N[1][2],ie[2])/M.exaggeration()};for(let b=0;b<4;b++){const k=(b<2?1:5)-b,I=m.borders[b];if(0===I.length)continue;const C=f=P[b](l),F=O(C);if(!(F&&F instanceof a.FillExtrusionBucket&&F.enableTerrain)||m.borderDoneWithNeighborZ[b]===F.canonical.z&&F.borderDoneWithNeighborZ[k]===m.canonical.z||(h=M.findDEMTileFor(C),!h||!h.dem))continue;if(!o){const ce=M.findDEMTileFor(l);if(!ce||!ce.dem)return;o=ce}const N=F.borders[k];let U=0;const ie=F.borderDoneWithNeighborZ[k]!==m.canonical.z;if(m.canonical.z===F.canonical.z){for(let ce=0;ce<I.length;ce++){const he=m.featuresOnBorder[I[ce]],ve=he.borders[b];let ge;for(;U<N.length&&(ge=F.featuresOnBorder[N[U]],!(ge.borders[k][1]>ve[0]+3));)ie&&F.encodeCentroid(void 0,ge,!1),U++;if(ge&&U<N.length){const Ce=U;let Re=0;for(;!(ge.borders[k][0]>ve[1]-3)&&(Re++,++U!==N.length);)ge=F.featuresOnBorder[N[U]];if(ge=F.featuresOnBorder[N[Ce]],he.intersectsCount()>1||ge.intersectsCount()>1||1!==Re){1!==Re&&(U=Ce),m.encodeCentroid(void 0,he,!1),ie&&F.encodeCentroid(void 0,ge,!1);continue}const Ze=re[b](he,ge),Be=b%2?a.EXTENT-1:0;r.x=y(Ze[0],Math.min(a.EXTENT-1,Ze[1]),Be,b<2,Ze[2]),r.y=0,m.encodeCentroid(r,he,!1),ie&&F.encodeCentroid(r,ge,!1)}else m.encodeCentroid(void 0,he,!1)}m.borderDoneWithNeighborZ[b]=F.canonical.z,m.needsCentroidUpdate=!0,ie&&(F.borderDoneWithNeighborZ[k]=m.canonical.z,F.needsCentroidUpdate=!0)}else{for(const ce of I)m.encodeCentroid(void 0,m.featuresOnBorder[ce],!1);if(ie){for(const ce of N)F.encodeCentroid(void 0,F.featuresOnBorder[ce],!1);F.borderDoneWithNeighborZ[k]=m.canonical.z,F.needsCentroidUpdate=!0}m.borderDoneWithNeighborZ[b]=F.canonical.z,m.needsCentroidUpdate=!0}}(m.needsCentroidUpdate||!m.centroidVertexBuffer&&0!==m.centroidVertexArray.length)&&m.uploadCentroid(p)}const _a=new a.Color(1,0,0,1),xs=new a.Color(0,1,0,1),ws=new a.Color(0,0,1,1),$l=new a.Color(1,0,1,1),Cl=new a.Color(0,1,1,1);function ta(p,n,l){const m=p.context,v=p.transform,M=m.gl,P="globe"===v.projection.name,O=P?["PROJECTION_GLOBE_VIEW"]:null;let V=l.projMatrix;if(P&&a.globeToMercatorTransition(v.zoom)>0){const he=a.transitionTileAABBinECEF(l.canonical,v),ve=a.globeDenormalizeECEF(he);V=a.multiply(new Float32Array(16),v.globeMatrix,ve),a.multiply(V,v.projMatrix,V)}const $=p.useProgram("debug",null,O),q=n.getTileByID(l.key);p.terrain&&p.terrain.setupElevationDraw(q,$);const re=a.DepthMode.disabled,r=a.StencilMode.disabled,o=p.colorModeForRenderPass(),h="$debug";m.activeTexture.set(M.TEXTURE0),p.emptyTexture.bind(M.LINEAR,M.CLAMP_TO_EDGE),P?q._makeGlobeTileDebugBuffers(p.context,v):q._makeDebugTileBoundsBuffers(p.context,v.projection);const f=q._tileDebugBuffer||p.debugBuffer,y=q._tileDebugIndexBuffer||p.debugIndexBuffer,b=q._tileDebugSegments||p.debugSegments;$.draw(m,M.LINE_STRIP,re,r,o,a.CullFaceMode.disabled,Fi(V,a.Color.red),h,f,y,b,null,null,null,[q._globeTileDebugBorderBuffer]);const k=q.latestRawTileData,I=Math.floor((k&&k.byteLength||0)/1024),C=n.getTile(l).tileSize,F=512/Math.min(C,512)*(l.overscaledZ/v.zoom)*.5;let N=l.canonical.toString();l.overscaledZ!==l.canonical.z&&(N+=` => ${l.overscaledZ}`),N+=` ${I}kb`,function(he,ve){he.initDebugOverlayCanvas();const ge=he.debugOverlayCanvas,Ce=he.context.gl,Re=he.debugOverlayCanvas.getContext("2d");Re.clearRect(0,0,ge.width,ge.height),Re.shadowColor="white",Re.shadowBlur=2,Re.lineWidth=1.5,Re.strokeStyle="white",Re.textBaseline="top",Re.font="bold 36px Open Sans, sans-serif",Re.fillText(ve,5,5),Re.strokeText(ve,5,5),he.debugOverlayTexture.update(ge),he.debugOverlayTexture.bind(Ce.LINEAR,Ce.CLAMP_TO_EDGE)}(p,N);const U=q._tileDebugTextBuffer||p.debugBuffer,ie=q._tileDebugTextIndexBuffer||p.quadTriangleIndexBuffer,ce=q._tileDebugTextSegments||p.debugSegments;$.draw(m,M.TRIANGLES,re,r,a.ColorMode.alphaBlended,a.CullFaceMode.disabled,Fi(V,a.Color.transparent,F),h,U,ie,ce,null,null,null,[q._globeTileDebugTextBuffer])}function Ms(p,n,l,m){Ts(p,0,n+l/2,p.transform.width,l,m)}function Ja(p,n,l,m){Ts(p,n-l/2,0,l,p.transform.height,m)}function Ts(p,n,l,m,v,M){const P=p.context,O=P.gl;O.enable(O.SCISSOR_TEST),O.scissor(n*a.exported.devicePixelRatio,l*a.exported.devicePixelRatio,m*a.exported.devicePixelRatio,v*a.exported.devicePixelRatio),P.clear({color:M}),O.disable(O.SCISSOR_TEST)}const Zo=a.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:ma}=Zo;function ia(p,n,l,m){p.emplaceBack(n,l,m)}class qo{constructor(n){this.vertexArray=new a.StructArrayLayout3f12,this.indices=new a.StructArrayLayout3ui6,ia(this.vertexArray,-1,-1,1),ia(this.vertexArray,1,-1,1),ia(this.vertexArray,-1,1,1),ia(this.vertexArray,1,1,1),ia(this.vertexArray,-1,-1,-1),ia(this.vertexArray,1,-1,-1),ia(this.vertexArray,-1,1,-1),ia(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=n.createVertexBuffer(this.vertexArray,ma),this.indexBuffer=n.createIndexBuffer(this.indices),this.segment=a.SegmentVector.simpleSegment(0,0,36,12)}}function Mr(p,n,l,m,v,M){const P=p.gl,O=n.paint.get("sky-atmosphere-color"),V=n.paint.get("sky-atmosphere-halo-color"),$=n.paint.get("sky-atmosphere-sun-intensity"),q={u_matrix_3f:a.fromMat4(a.create$1(),m),u_sun_direction:v,u_sun_intensity:$,u_color_tint_r:[(h=O).r,h.g,h.b,h.a],u_color_tint_m:[(f=V).r,f.g,f.b,f.a],u_luminance:5e-5};var h,f;P.framebufferTexture2D(P.FRAMEBUFFER,P.COLOR_ATTACHMENT0,P.TEXTURE_CUBE_MAP_POSITIVE_X+M,n.skyboxTexture,0),l.draw(p,P.TRIANGLES,a.DepthMode.disabled,a.StencilMode.disabled,a.ColorMode.unblended,a.CullFaceMode.frontCW,q,"skyboxCapture",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}const ko=a.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class El{constructor(n){const l=new a.StructArrayLayout5f20;l.emplaceBack(-1,1,1,0,0),l.emplaceBack(1,1,1,1,0),l.emplaceBack(1,-1,1,1,1),l.emplaceBack(-1,-1,1,0,1);const m=new a.StructArrayLayout3ui6;m.emplaceBack(0,1,2),m.emplaceBack(2,3,0),this.vertexBuffer=n.createVertexBuffer(l,ko.members),this.indexBuffer=n.createIndexBuffer(m),this.segments=a.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const ga={symbol:function(p,n,l,m,v){if("translucent"!==p.renderPass)return;const M=a.StencilMode.disabled,P=p.colorModeForRenderPass();l.layout.get("text-variable-anchor")&&function(O,V,$,q,re,r,o){const h=V.transform,f="map"===re,y="map"===r;for(const b of O){const k=q.getTile(b),I=k.getBucket($);if(!I||!I.text||!I.text.segments.get().length)continue;const C=a.evaluateSizeForZoom(I.textSizeData,h.zoom),F=Si(b,I.getProjection(),h),N=h.calculatePixelsToTileUnitsMatrix(k),U=nt(F,k.tileID.canonical,y,f,h,I.getProjection(),N),ie="none"!==$.layout.get("icon-text-fit")&&I.hasIconData();if(C){const ce=Math.pow(2,h.zoom-k.tileID.overscaledZ);ql(I,f,y,o,a.symbolSize,h,U,b,ce,C,ie)}}}(m,p,l,n,l.layout.get("text-rotation-alignment"),l.layout.get("text-pitch-alignment"),v),0!==l.paint.get("icon-opacity").constantOr(1)&&Fs(p,n,l,m,!1,l.paint.get("icon-translate"),l.paint.get("icon-translate-anchor"),l.layout.get("icon-rotation-alignment"),l.layout.get("icon-pitch-alignment"),l.layout.get("icon-keep-upright"),M,P),0!==l.paint.get("text-opacity").constantOr(1)&&Fs(p,n,l,m,!0,l.paint.get("text-translate"),l.paint.get("text-translate-anchor"),l.layout.get("text-rotation-alignment"),l.layout.get("text-pitch-alignment"),l.layout.get("text-keep-upright"),M,P),n.map.showCollisionBoxes&&(Xa(p,n,l,m,l.paint.get("text-translate"),l.paint.get("text-translate-anchor"),!0),Xa(p,n,l,m,l.paint.get("icon-translate"),l.paint.get("icon-translate-anchor"),!1))},circle:function(p,n,l,m){if("translucent"!==p.renderPass)return;const v=l.paint.get("circle-opacity"),M=l.paint.get("circle-stroke-width"),P=l.paint.get("circle-stroke-opacity"),O=void 0!==l.layout.get("circle-sort-key").constantOr(1);if(0===v.constantOr(1)&&(0===M.constantOr(1)||0===P.constantOr(1)))return;const V=p.context,$=V.gl,q=p.transform,re=p.depthModeForSublayer(0,a.DepthMode.ReadOnly),r=a.StencilMode.disabled,o=p.colorModeForRenderPass(),h="globe"===q.projection.name,f=[a.mercatorXfromLng(q.center.lng),a.mercatorYfromLat(q.center.lat)],y=[];for(let k=0;k<m.length;k++){const I=m[k],C=n.getTile(I),F=C.getBucket(l);if(!F||F.projection.name!==q.projection.name)continue;const N=F.programConfigurations.get(l.id),U=No(l);h&&U.push("PROJECTION_GLOBE_VIEW");const ie=p.useProgram("circle",N,U),ce=F.layoutVertexBuffer,he=F.globeExtVertexBuffer,ve=F.indexBuffer,ge=q.projection.createInversionMatrix(q,I.canonical),Ce={programConfiguration:N,program:ie,layoutVertexBuffer:ce,globeExtVertexBuffer:he,indexBuffer:ve,uniformValues:Rs(p,I,C,ge,f,l),tile:C};if(O){const Re=F.segments.get();for(const Ze of Re)y.push({segments:new a.SegmentVector([Ze]),sortKey:Ze.sortKey,state:Ce})}else y.push({segments:F.segments,sortKey:0,state:Ce})}O&&y.sort((k,I)=>k.sortKey-I.sortKey);const b={useDepthForOcclusion:!h};for(const k of y){const{programConfiguration:I,program:C,layoutVertexBuffer:F,globeExtVertexBuffer:N,indexBuffer:U,uniformValues:ie,tile:ce}=k.state,he=k.segments;p.terrain&&p.terrain.setupElevationDraw(ce,C,b),p.prepareDrawProgram(V,C,ce.tileID.toUnwrapped()),C.draw(V,$.TRIANGLES,re,r,o,a.CullFaceMode.disabled,ie,l.id,F,U,he,l.paint,q.zoom,I,[N])}},heatmap:function(p,n,l,m){if(0!==l.paint.get("heatmap-opacity"))if("offscreen"===p.renderPass){const v=p.context,M=v.gl,P=a.StencilMode.disabled,O=new a.ColorMode([M.ONE,M.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(o,h,f,y){const b=o.gl,k=h.width*y,I=h.height*y;o.activeTexture.set(b.TEXTURE1),o.viewport.set([0,0,k,I]);let C=f.heatmapFbo;if(!C||C&&(C.width!==k||C.height!==I)){C&&C.destroy();const F=b.createTexture();b.bindTexture(b.TEXTURE_2D,F),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR),C=f.heatmapFbo=o.createFramebuffer(k,I,!1),function(N,U,ie,ce,he,ve){const ge=N.gl;ge.texImage2D(ge.TEXTURE_2D,0,N.isWebGL2&&N.extRenderToTextureHalfFloat?ge.RGBA16F:ge.RGBA,he,ve,0,ge.RGBA,N.extRenderToTextureHalfFloat?N.isWebGL2?ge.HALF_FLOAT:N.extTextureHalfFloat.HALF_FLOAT_OES:ge.UNSIGNED_BYTE,null),ce.colorAttachment.set(ie)}(o,0,F,C,k,I)}else b.bindTexture(b.TEXTURE_2D,C.colorAttachment.get()),o.bindFramebuffer.set(C.framebuffer)})(v,p,l,"globe"===p.transform.projection.name?.5:.25),v.clear({color:a.Color.transparent});const V=p.transform,$="globe"===V.projection.name,q=$?["PROJECTION_GLOBE_VIEW"]:null,re=$?a.CullFaceMode.frontCCW:a.CullFaceMode.disabled,r=[a.mercatorXfromLng(V.center.lng),a.mercatorYfromLat(V.center.lat)];for(let o=0;o<m.length;o++){const h=m[o];if(n.hasRenderableParent(h))continue;const f=n.getTile(h),y=f.getBucket(l);if(!y||y.projection.name!==V.projection.name)continue;const b=y.programConfigurations.get(l.id),k=p.useProgram("heatmap",b,q),{zoom:I}=p.transform;p.terrain&&p.terrain.setupElevationDraw(f,k),p.prepareDrawProgram(v,k,h.toUnwrapped());const C=V.projection.createInversionMatrix(V,h.canonical);k.draw(v,M.TRIANGLES,a.DepthMode.disabled,P,O,re,Mo(p,h,f,C,r,I,l.paint.get("heatmap-intensity")),l.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,l.paint,p.transform.zoom,b,$?[y.globeExtVertexBuffer]:null)}v.viewport.set([0,0,p.width,p.height])}else"translucent"===p.renderPass&&(p.context.setColorMode(p.colorModeForRenderPass()),function(v,M){const P=v.context,O=P.gl,V=M.heatmapFbo;if(!V)return;P.activeTexture.set(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,V.colorAttachment.get()),P.activeTexture.set(O.TEXTURE1);let $=M.colorRampTexture;$||($=M.colorRampTexture=new a.Texture(P,M.colorRamp,O.RGBA)),$.bind(O.LINEAR,O.CLAMP_TO_EDGE),v.useProgram("heatmapTexture").draw(P,O.TRIANGLES,a.DepthMode.disabled,a.StencilMode.disabled,v.colorModeForRenderPass(),a.CullFaceMode.disabled,{u_image:0,u_color_ramp:1,u_opacity:M.paint.get("heatmap-opacity")},M.id,v.viewportBuffer,v.quadTriangleIndexBuffer,v.viewportSegments,M.paint,v.transform.zoom)}(p,l))},line:function(p,n,l,m){if("translucent"!==p.renderPass)return;const v=l.paint.get("line-opacity"),M=l.paint.get("line-width");if(0===v.constantOr(1)||0===M.constantOr(1))return;const P=p.depthModeForSublayer(0,a.DepthMode.ReadOnly),O=p.colorModeForRenderPass(),V=p.terrain&&p.terrain.renderingToTexture?1:a.exported.devicePixelRatio,$=l.paint.get("line-dasharray"),q=$.constantOr(1),re=l.layout.get("line-cap"),r=l.paint.get("line-pattern"),o=r.constantOr(1),h=l.paint.get("line-gradient"),f=o?"linePattern":"line",y=p.context,b=y.gl,k=(C=>{const F=[];Ur(C)&&F.push("RENDER_LINE_DASH"),C.paint.get("line-gradient")&&F.push("RENDER_LINE_GRADIENT");const N=C.paint.get("line-trim-offset");0===N[0]&&0===N[1]||F.push("RENDER_LINE_TRIM_OFFSET");const U=C.paint.get("line-pattern").constantOr(1),ie=1!==C.paint.get("line-opacity").constantOr(1);return!U&&ie&&F.push("RENDER_LINE_ALPHA_DISCARD"),F})(l);let I=k.includes("RENDER_LINE_ALPHA_DISCARD");p.terrain&&p.terrain.clipOrMaskOverlapStencilType()&&(I=!1);for(const C of m){const F=n.getTile(C);if(o&&!F.patternsLoaded())continue;const N=F.getBucket(l);if(!N)continue;p.prepareDrawTile();const U=N.programConfigurations.get(l.id),ie=p.useProgram(f,U,k),ce=r.constantOr(null);if(ce&&F.imageAtlas){const Ge=F.imageAtlas.patternPositions[ce.toString()];Ge&&U.setConstantPatternPositions(Ge)}const he=$.constantOr(null),ve=re.constantOr(null);if(!o&&he&&ve&&F.lineAtlas){const Ge=F.lineAtlas.getDash(he,ve);Ge&&U.setConstantPatternPositions(Ge)}let[ge,Ce]=l.paint.get("line-trim-offset");("round"===ve||"square"===ve)&&ge!==Ce&&(0===ge&&(ge-=1),1===Ce&&(Ce+=1));const Re=p.terrain?C.projMatrix:null,Ze=o?Ys(p,F,l,Re,V):Ll(p,F,l,Re,N.lineClipsArray.length,V,[ge,Ce]);if(h){const Ge=N.gradients[l.id];let lt=Ge.texture;if(l.gradientVersion!==Ge.version){let tt=256;if(l.stepInterpolant){const ot=n.getSource().maxzoom,Ct=C.canonical.z===ot?Math.ceil(1<<p.transform.maxZoom-C.canonical.z):1;tt=a.clamp(a.nextPowerOfTwo(N.maxLineLength/a.EXTENT*1024*Ct),256,y.maxTextureSize)}Ge.gradient=a.renderColorRamp({expression:l.gradientExpression(),evaluationKey:"lineProgress",resolution:tt,image:Ge.gradient||void 0,clips:N.lineClipsArray}),Ge.texture?Ge.texture.update(Ge.gradient):Ge.texture=new a.Texture(y,Ge.gradient,b.RGBA),Ge.version=l.gradientVersion,lt=Ge.texture}y.activeTexture.set(b.TEXTURE1),lt.bind(l.stepInterpolant?b.NEAREST:b.LINEAR,b.CLAMP_TO_EDGE)}q&&(y.activeTexture.set(b.TEXTURE0),F.lineAtlasTexture.bind(b.LINEAR,b.REPEAT),U.updatePaintBuffers()),o&&(y.activeTexture.set(b.TEXTURE0),F.imageAtlasTexture.bind(b.LINEAR,b.CLAMP_TO_EDGE),U.updatePaintBuffers()),p.prepareDrawProgram(y,ie,C.toUnwrapped());const Be=Ge=>{ie.draw(y,b.TRIANGLES,P,Ge,O,a.CullFaceMode.disabled,Ze,l.id,N.layoutVertexBuffer,N.indexBuffer,N.segments,l.paint,p.transform.zoom,U,[N.layoutVertexBuffer2])};if(I){const Ge=p.stencilModeForClipping(C).ref;0===Ge&&p.terrain&&y.clear({stencil:0});const lt={func:b.EQUAL,mask:255};Ze.u_alpha_discard_threshold=.8,Be(new a.StencilMode(lt,Ge,255,b.KEEP,b.KEEP,b.INVERT)),Ze.u_alpha_discard_threshold=0,Be(new a.StencilMode(lt,Ge,255,b.KEEP,b.KEEP,b.KEEP))}else Be(p.stencilModeForClipping(C))}I&&(p.resetStencilClippingMasks(),p.terrain&&y.clear({stencil:0}))},fill:function(p,n,l,m){const v=l.paint.get("fill-color"),M=l.paint.get("fill-opacity");if(0===M.constantOr(1))return;const P=p.colorModeForRenderPass(),O=l.paint.get("fill-pattern"),V=p.opaquePassEnabledForLayer()&&!O.constantOr(1)&&1===v.constantOr(a.Color.transparent).a&&1===M.constantOr(0)?"opaque":"translucent";if(p.renderPass===V){const $=p.depthModeForSublayer(1,"opaque"===p.renderPass?a.DepthMode.ReadWrite:a.DepthMode.ReadOnly);Go(p,n,l,m,$,P,!1)}if("translucent"===p.renderPass&&l.paint.get("fill-antialias")){const $=p.depthModeForSublayer(l.getPaintProperty("fill-outline-color")?2:0,a.DepthMode.ReadOnly);Go(p,n,l,m,$,P,!0)}},"fill-extrusion":function(p,n,l,m){const v=l.paint.get("fill-extrusion-opacity");if(0!==v&&"translucent"===p.renderPass){const M=new a.DepthMode(p.context.gl.LEQUAL,a.DepthMode.ReadWrite,p.depthRangeFor3D);if(1!==v||l.paint.get("fill-extrusion-pattern").constantOr(1))La(p,n,l,m,M,a.StencilMode.disabled,a.ColorMode.disabled),La(p,n,l,m,M,p.stencilModeFor3D(),p.colorModeForRenderPass()),p.resetStencilClippingMasks();else{const P=p.colorModeForRenderPass();La(p,n,l,m,M,a.StencilMode.disabled,P)}}},hillshade:function(p,n,l,m){if("offscreen"!==p.renderPass&&"translucent"!==p.renderPass)return;const v=p.context,M=p.depthModeForSublayer(0,a.DepthMode.ReadOnly),P=p.colorModeForRenderPass(),O=p.terrain&&p.terrain.renderingToTexture,[V,$]="translucent"!==p.renderPass||O?[{},m]:p.stencilConfigForOverlap(m);for(const q of $){const re=n.getTile(q);if(re.needsHillshadePrepare&&"offscreen"===p.renderPass)pl(p,re,l,M,a.StencilMode.disabled,P);else if("translucent"===p.renderPass){const r=O&&p.terrain?p.terrain.stencilModeForRTTOverlap(q):V[q.overscaledZ];Bo(p,q,re,l,M,r,P)}}v.viewport.set([0,0,p.width,p.height]),p.resetStencilClippingMasks()},raster:function(p,n,l,m,v,M){if("translucent"!==p.renderPass||0===l.paint.get("raster-opacity")||!m.length)return;const P=p.context,O=P.gl,V=n.getSource(),$=p.useProgram("raster"),q=p.colorModeForRenderPass(),re=p.terrain&&p.terrain.renderingToTexture,[r,o]=V instanceof ii||re?[{},m]:p.stencilConfigForOverlap(m),h=o[o.length-1].overscaledZ,f=!p.options.moving;for(const y of o){const b=re?a.DepthMode.disabled:p.depthModeForSublayer(y.overscaledZ-h,1===l.paint.get("raster-opacity")?a.DepthMode.ReadWrite:a.DepthMode.ReadOnly,O.LESS),k=y.toUnwrapped(),I=n.getTile(y);if(re&&(!I||!I.hasData()))continue;const C=re?y.projMatrix:p.transform.calculateProjMatrix(k,f),F=p.terrain&&re?p.terrain.stencilModeForRTTOverlap(y):r[y.overscaledZ],N=M?0:l.paint.get("raster-fade-duration");I.registerFadeDuration(N);const U=n.findLoadedParent(y,0),ie=jo(I,U,n,p.transform,N);let ce,he;p.terrain&&p.terrain.prepareDrawTile();const ve="nearest"===l.paint.get("raster-resampling")?O.NEAREST:O.LINEAR;P.activeTexture.set(O.TEXTURE0),I.texture.bind(ve,O.CLAMP_TO_EDGE),P.activeTexture.set(O.TEXTURE1),U?(U.texture.bind(ve,O.CLAMP_TO_EDGE),ce=Math.pow(2,U.tileID.overscaledZ-I.tileID.overscaledZ),he=[I.tileID.canonical.x*ce%1,I.tileID.canonical.y*ce%1]):I.texture.bind(ve,O.CLAMP_TO_EDGE),I.texture.useMipmap&&P.extTextureFilterAnisotropic&&p.transform.pitch>20&&O.texParameterf(O.TEXTURE_2D,P.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,P.extTextureFilterAnisotropicMax);const ge=_l(C,he||[0,0],ce||1,ie,l,V instanceof ii?V.perspectiveTransform:[0,0]);if(p.prepareDrawProgram(P,$,k),V instanceof ii)V.boundsBuffer&&V.boundsSegments&&$.draw(P,O.TRIANGLES,b,a.StencilMode.disabled,q,a.CullFaceMode.disabled,ge,l.id,V.boundsBuffer,p.quadTriangleIndexBuffer,V.boundsSegments);else{const{tileBoundsBuffer:Ce,tileBoundsIndexBuffer:Re,tileBoundsSegments:Ze}=p.getTileBoundsBuffers(I);$.draw(P,O.TRIANGLES,b,F,q,a.CullFaceMode.disabled,ge,l.id,Ce,Re,Ze)}}p.resetStencilClippingMasks()},background:function(p,n,l,m){const v=l.paint.get("background-color"),M=l.paint.get("background-opacity");if(0===M)return;const P=p.context,O=P.gl,V=p.transform,$=V.tileSize,q=l.paint.get("background-pattern");if(p.isPatternMissing(q))return;const re=!q&&1===v.a&&1===M&&p.opaquePassEnabledForLayer()?"opaque":"translucent";if(p.renderPass!==re)return;const r=a.StencilMode.disabled,o=p.depthModeForSublayer(0,"opaque"===re?a.DepthMode.ReadWrite:a.DepthMode.ReadOnly),h=p.colorModeForRenderPass(),f=p.useProgram(q?"backgroundPattern":"background");let y,b=m;b||(y=p.getBackgroundTiles(),b=Object.values(y).map(k=>k.tileID)),q&&(P.activeTexture.set(O.TEXTURE0),p.imageManager.bind(p.context));for(const k of b){const I=k.toUnwrapped(),C=m?k.projMatrix:p.transform.calculateProjMatrix(I);p.prepareDrawTile();const F=n?n.getTile(k):y?y[k.key]:new a.Tile(k,$,V.zoom,p),N=q?Sl(C,M,p,q,{tileID:k,tileSize:$}):Wo(C,M,v);p.prepareDrawProgram(P,f,I);const{tileBoundsBuffer:U,tileBoundsIndexBuffer:ie,tileBoundsSegments:ce}=p.getTileBoundsBuffers(F);f.draw(P,O.TRIANGLES,o,r,h,a.CullFaceMode.disabled,N,l.id,U,ie,ce)}},sky:function(p,n,l){const m=p.transform,v="mercator"===m.projection.name||"globe"===m.projection.name?1:a.smoothstep(7,8,m.zoom),M=l.paint.get("sky-opacity")*v;if(0===M)return;const P=p.context,O=l.paint.get("sky-type"),V=new a.DepthMode(P.gl.LEQUAL,a.DepthMode.ReadOnly,[0,1]),$=p.frameCounter/1e3%1;"atmosphere"===O?"offscreen"===p.renderPass?l.needsSkyboxCapture(p)&&(function(q,re,r,o){const h=q.context,f=h.gl;let y=re.skyboxFbo;if(!y){y=re.skyboxFbo=h.createFramebuffer(32,32,!1),re.skyboxGeometry=new qo(h),re.skyboxTexture=h.gl.createTexture(),f.bindTexture(f.TEXTURE_CUBE_MAP,re.skyboxTexture),f.texParameteri(f.TEXTURE_CUBE_MAP,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_CUBE_MAP,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_CUBE_MAP,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_CUBE_MAP,f.TEXTURE_MAG_FILTER,f.LINEAR);for(let C=0;C<6;++C)f.texImage2D(f.TEXTURE_CUBE_MAP_POSITIVE_X+C,0,f.RGBA,32,32,0,f.RGBA,f.UNSIGNED_BYTE,null)}h.bindFramebuffer.set(y.framebuffer),h.viewport.set([0,0,32,32]);const b=re.getCenter(q,!0),k=q.useProgram("skyboxCapture"),I=new Float64Array(16);a.identity(I),a.rotateY(I,I,.5*-Math.PI),Mr(h,re,k,I,b,0),a.identity(I),a.rotateY(I,I,.5*Math.PI),Mr(h,re,k,I,b,1),a.identity(I),a.rotateX(I,I,.5*-Math.PI),Mr(h,re,k,I,b,2),a.identity(I),a.rotateX(I,I,.5*Math.PI),Mr(h,re,k,I,b,3),a.identity(I),Mr(h,re,k,I,b,4),a.identity(I),a.rotateY(I,I,Math.PI),Mr(h,re,k,I,b,5),h.viewport.set([0,0,q.width,q.height])}(p,l),l.markSkyboxValid(p)):"sky"===p.renderPass&&function(q,re,r,o,h){const f=q.context,y=f.gl,b=q.transform,k=q.useProgram("skybox");f.activeTexture.set(y.TEXTURE0),y.bindTexture(y.TEXTURE_CUBE_MAP,re.skyboxTexture);const I={u_matrix:b.skyboxMatrix,u_sun_direction:re.getCenter(q,!1),u_cubemap:0,u_opacity:o,u_temporal_offset:h};q.prepareDrawProgram(f,k),k.draw(f,y.TRIANGLES,r,a.StencilMode.disabled,q.colorModeForRenderPass(),a.CullFaceMode.backCW,I,"skybox",re.skyboxGeometry.vertexBuffer,re.skyboxGeometry.indexBuffer,re.skyboxGeometry.segment)}(p,l,V,M,$):"gradient"===O&&"sky"===p.renderPass&&function(q,re,r,o,h){const f=q.context,y=f.gl,b=q.transform,k=q.useProgram("skyboxGradient");re.skyboxGeometry||(re.skyboxGeometry=new qo(f)),f.activeTexture.set(y.TEXTURE0);let I=re.colorRampTexture;I||(I=re.colorRampTexture=new a.Texture(f,re.colorRamp,y.RGBA)),I.bind(y.LINEAR,y.CLAMP_TO_EDGE);const C=(F=b.skyboxMatrix,N=re.getCenter(q,!1),U=re.paint.get("sky-gradient-radius"),ie=o,ce=h,{u_matrix:F,u_color_ramp:0,u_center_direction:N,u_radius:a.degToRad(U),u_opacity:ie,u_temporal_offset:ce});var F,N,U,ie,ce;q.prepareDrawProgram(f,k),k.draw(f,y.TRIANGLES,r,a.StencilMode.disabled,q.colorModeForRenderPass(),a.CullFaceMode.backCW,C,"skyboxGradient",re.skyboxGeometry.vertexBuffer,re.skyboxGeometry.indexBuffer,re.skyboxGeometry.segment)}(p,l,V,M,$)},debug:function(p,n,l){for(let m=0;m<l.length;m++)ta(p,n,l[m])},custom:function(p,n,l,m){const v=p.context,M=l.implementation;if(!p.transform.projection.unsupportedLayers||!p.transform.projection.unsupportedLayers.includes("custom")||p.terrain&&(p.terrain.renderingToTexture||"offscreen"===p.renderPass)&&l.isLayerDraped()){if("offscreen"===p.renderPass){const P=M.prerender;if(P){if(p.setCustomLayerDefaults(),v.setColorMode(p.colorModeForRenderPass()),"globe"===p.transform.projection.name){const O=p.transform.pointMerc;P.call(M,v.gl,p.transform.customLayerMatrix(),p.transform.getProjection(),p.transform.globeToMercatorMatrix(),a.globeToMercatorTransition(p.transform.zoom),[O.x,O.y],p.transform.pixelsPerMeterRatio)}else P.call(M,v.gl,p.transform.customLayerMatrix());v.setDirty(),p.setBaseState()}}else if("translucent"===p.renderPass){if(p.terrain&&p.terrain.renderingToTexture){const O=M.renderToTile;if(O){const V=m[0].canonical,$=new a.MercatorCoordinate(V.x+m[0].wrap*(1<<V.z),V.y,V.z);v.setDepthMode(a.DepthMode.disabled),v.setStencilMode(a.StencilMode.disabled),v.setColorMode(p.colorModeForRenderPass()),p.setCustomLayerDefaults(),O.call(M,v.gl,$),v.setDirty(),p.setBaseState()}return}p.setCustomLayerDefaults(),v.setColorMode(p.colorModeForRenderPass()),v.setStencilMode(a.StencilMode.disabled);const P="3d"===M.renderingMode?new a.DepthMode(p.context.gl.LEQUAL,a.DepthMode.ReadWrite,p.depthRangeFor3D):p.depthModeForSublayer(0,a.DepthMode.ReadOnly);if(v.setDepthMode(P),"globe"===p.transform.projection.name){const O=p.transform.pointMerc;M.render(v.gl,p.transform.customLayerMatrix(),p.transform.getProjection(),p.transform.globeToMercatorMatrix(),a.globeToMercatorTransition(p.transform.zoom),[O.x,O.y],p.transform.pixelsPerMeterRatio)}else M.render(v.gl,p.transform.customLayerMatrix());v.setDirty(),p.setBaseState(),v.bindFramebuffer.set(null)}}else a.warnOnce("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")}};class Ka{constructor(n,l,m=!1){this.context=new wt(n,m),this.transform=l,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=a.SourceCache.maxUnderzooming+a.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(n,l){const m=!!n&&!!n.terrain&&this.transform.projection.supportsTerrain;if(!(m||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Za(this,n));const v=this._terrain;this.transform.elevation=m?v:null,v.update(n,this.transform,l)}_updateFog(n){const l=n.fog;if(!l||"globe"===this.transform.projection.name||l.getOpacity(this.transform.pitch)<1||l.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[m,v]=l.getFovAdjustedRange(this.transform._fov);if(m>v)return void(this.transform.fogCullDistSq=null);const M=m+.78*(v-m);this.transform.fogCullDistSq=M*M}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(n,l){if(this.width=n*a.exported.devicePixelRatio,this.height=l*a.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const m of this.style.order)this.style._layers[m].resize()}setup(){const n=this.context,l=new a.StructArrayLayout2i4;l.emplaceBack(0,0),l.emplaceBack(a.EXTENT,0),l.emplaceBack(0,a.EXTENT),l.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=n.createVertexBuffer(l,a.posAttributes.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);const m=new a.StructArrayLayout2i4;m.emplaceBack(0,0),m.emplaceBack(a.EXTENT,0),m.emplaceBack(0,a.EXTENT),m.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=n.createVertexBuffer(m,a.posAttributes.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);const v=new a.StructArrayLayout2i4;v.emplaceBack(-1,-1),v.emplaceBack(1,-1),v.emplaceBack(-1,1),v.emplaceBack(1,1),this.viewportBuffer=n.createVertexBuffer(v,a.posAttributes.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);const M=new a.StructArrayLayout4i8;M.emplaceBack(0,0,0,0),M.emplaceBack(a.EXTENT,0,a.EXTENT,0),M.emplaceBack(0,a.EXTENT,0,a.EXTENT),M.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.mercatorBoundsBuffer=n.createVertexBuffer(M,a.boundsAttributes.members),this.mercatorBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);const P=new a.StructArrayLayout3ui6;P.emplaceBack(0,1,2),P.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=n.createIndexBuffer(P);const O=new a.StructArrayLayout1ui2;for(const $ of[0,1,3,2,0])O.emplaceBack($);this.debugIndexBuffer=n.createIndexBuffer(O),this.emptyTexture=new a.Texture(n,new a.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),n.gl.RGBA),this.identityMat=a.create();const V=this.context.gl;this.stencilClearMode=new a.StencilMode({func:V.ALWAYS,mask:0},0,255,V.ZERO,V.ZERO,V.ZERO),this.loadTimeStamps.push(a.window.performance.now()),this.atmosphereBuffer=new El(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(n){return n._makeTileBoundsBuffers(this.context,this.transform.projection),n._tileBoundsBuffer?{tileBoundsBuffer:n._tileBoundsBuffer,tileBoundsIndexBuffer:n._tileBoundsIndexBuffer,tileBoundsSegments:n._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const n=this.context,l=n.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(n,l.TRIANGLES,a.DepthMode.disabled,this.stencilClearMode,a.ColorMode.disabled,a.CullFaceMode.disabled,ms(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(n,l,m){if(!l||this.currentStencilSource===l.id||!n.isTileClipped()||!m||0===m.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let O=!1;for(const V of m)if(void 0===this._tileClippingMaskIDs[V.key]){O=!0;break}if(!O)return}this.currentStencilSource=l.id;const v=this.context,M=v.gl;this.nextStencilID+m.length>256&&this.clearStencil(),v.setColorMode(a.ColorMode.disabled),v.setDepthMode(a.DepthMode.disabled);const P=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const O of m){const V=l.getTile(O),$=this._tileClippingMaskIDs[O.key]=this.nextStencilID++,{tileBoundsBuffer:q,tileBoundsIndexBuffer:re,tileBoundsSegments:r}=this.getTileBoundsBuffers(V);P.draw(v,M.TRIANGLES,a.DepthMode.disabled,new a.StencilMode({func:M.ALWAYS,mask:0},$,255,M.KEEP,M.KEEP,M.REPLACE),a.ColorMode.disabled,a.CullFaceMode.disabled,ms(O.projMatrix),"$clipping",q,re,r)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const n=this.nextStencilID++,l=this.context.gl;return new a.StencilMode({func:l.NOTEQUAL,mask:255},n,255,l.KEEP,l.KEEP,l.REPLACE)}stencilModeForClipping(n){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(n);const l=this.context.gl;return new a.StencilMode({func:l.EQUAL,mask:255},this._tileClippingMaskIDs[n.key],0,l.KEEP,l.KEEP,l.REPLACE)}stencilConfigForOverlap(n){const l=this.context.gl,m=n.sort((P,O)=>O.overscaledZ-P.overscaledZ),v=m[m.length-1].overscaledZ,M=m[0].overscaledZ-v+1;if(M>1){this.currentStencilSource=void 0,this.nextStencilID+M>256&&this.clearStencil();const P={};for(let O=0;O<M;O++)P[O+v]=new a.StencilMode({func:l.GEQUAL,mask:255},O+this.nextStencilID,255,l.KEEP,l.KEEP,l.REPLACE);return this.nextStencilID+=M,[P,m]}return[{[v]:a.StencilMode.disabled},m]}colorModeForRenderPass(){const n=this.context.gl;return this._showOverdrawInspector?new a.ColorMode([n.CONSTANT_COLOR,n.ONE],new a.Color(.125,.125,.125,0),[!0,!0,!0,!0]):"opaque"===this.renderPass?a.ColorMode.unblended:a.ColorMode.alphaBlended}depthModeForSublayer(n,l,m){if(!this.opaquePassEnabledForLayer())return a.DepthMode.disabled;const v=1-((1+this.currentLayer)*this.numSublayers+n)*this.depthEpsilon;return new a.DepthMode(m||this.context.gl.LEQUAL,l,[v,v])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(n,l){this.style=n,this.options=l,this.imageManager=n.imageManager,this.glyphManager=n.glyphManager,this.symbolFadeChange=n.placement.symbolFadeChange(a.exported.now()),this.imageManager.beginFrame();const m=this.style.order,v=this.style._sourceCaches;for(const $ in v){const q=v[$];q.used&&q.prepare(this.context)}const M={},P={},O={};for(const $ in v){const q=v[$];M[$]=q.getVisibleCoordinates(),P[$]=M[$].slice().reverse(),O[$]=q.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let $=0;$<m.length;$++)if(this.style._layers[m[$]].is3D()){this.opaquePassCutoff=$;break}if(this.terrain&&(this.terrain.updateTileBinding(O),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new a.GlobeSharedBuffers(this.context)),!a.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const $ of m){const q=this.style._layers[$],re=n._getLayerSourceCache(q);if(!q.hasOffscreenPass()||q.isHidden(this.transform.zoom))continue;const r=re?P[re.id]:void 0;("custom"===q.type||q.isSky()||r&&r.length)&&this.renderLayer(this,re,q,r)}this.depthRangeFor3D=[0,1-(n.order.length+2)*this.numSublayers*this.depthEpsilon];const V=this.terrain;if(V&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&V.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:l.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=l.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=m.length-1;this.currentLayer>=0;this.currentLayer--){const $=this.style._layers[m[this.currentLayer]],q=n._getLayerSourceCache($);if($.isSky())continue;const re=q?P[q.id]:void 0;this._renderTileClippingMasks($,q,re),this.renderLayer(this,q,$,re)}if(this.style.fog&&this.transform.projection.supportsFog&&function($,q){const re=$.context,r=re.gl,o=$.transform,h=new a.DepthMode(r.LEQUAL,a.DepthMode.ReadOnly,[0,1]),f=$.useProgram("globeAtmosphere",null,"globe"===o.projection.name?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),y=a.globeToMercatorTransition(o.zoom),b=q.properties.get("color").toArray01(),k=q.properties.get("high-color").toArray01(),I=q.properties.get("space-color").toArray01PremultipliedAlpha(),C=a.identity$1([]);a.rotateY$1(C,C,-a.degToRad(o._center.lng)),a.rotateX$1(C,C,a.degToRad(o._center.lat)),a.rotateZ$1(C,C,o.angle),a.rotateX$1(C,C,-o._pitch);const F=a.fromQuat(new Float32Array(16),C),N=a.mapValue(q.properties.get("star-intensity"),0,1,0,.25),U=5e-4,ie=a.mapValue(q.properties.get("horizon-blend"),0,1,U,.25),ce=a.globeUseCustomAntiAliasing($,re,o)&&ie===U?o.worldSize/(2*Math.PI*1.025)-1:o.globeRadius,he=$.frameCounter/1e3%1,ve=a.length(o.globeCenterInViewSpace),ge=Math.sqrt(Math.pow(ve,2)-Math.pow(ce,2)),Ce=Math.acos(ge/ve),Re={u_frustum_tl:o.frustumCorners.TL,u_frustum_tr:o.frustumCorners.TR,u_frustum_br:o.frustumCorners.BR,u_frustum_bl:o.frustumCorners.BL,u_horizon:o.frustumCorners.horizon,u_transition:y,u_fadeout_range:ie,u_color:b,u_high_color:k,u_space_color:I,u_star_intensity:N,u_star_size:5*a.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:he,u_horizon_angle:Ce,u_rotation_matrix:F};$.prepareDrawProgram(re,f);const Ze=$.atmosphereBuffer;Ze&&f.draw(re,r.TRIANGLES,h,a.StencilMode.disabled,a.ColorMode.alphaBlended,a.CullFaceMode.backCW,Re,"skybox",Ze.vertexBuffer,Ze.indexBuffer,Ze.segments)}(this,this.style.fog),this.renderPass="sky",(a.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<m.length;this.currentLayer++){const $=this.style._layers[m[this.currentLayer]],q=n._getLayerSourceCache($);$.isSky()&&this.renderLayer(this,q,$,q?P[q.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<m.length;){const $=this.style._layers[m[this.currentLayer]],q=n._getLayerSourceCache($);if($.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped($)){if($.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const re=q?("symbol"===$.type?O:P)[q.id]:void 0;this._renderTileClippingMasks($,q,q?M[q.id]:void 0),this.renderLayer(this,q,$,re),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let $=null;a.values(this.style._layers).forEach(q=>{const re=n._getLayerSourceCache(q);re&&!q.isHidden(this.transform.zoom)&&(!$||$.getSource().maxzoom<re.getSource().maxzoom)&&($=re)}),$&&this.options.showTileBoundaries&&ga.debug(this,$,$.getVisibleCoordinates())}this.options.showPadding&&function($){const q=$.transform.padding;Ms($,$.transform.height-(q.top||0),3,_a),Ms($,q.bottom||0,3,xs),Ja($,q.left||0,3,ws),Ja($,$.transform.width-(q.right||0),3,$l);const re=$.transform.centerPoint;var r,o,h,f;Ts(r=$,(o=re.x)-1,(h=$.transform.height-re.y)-10,2,20,f=Cl),Ts(r,o-10,h-1,20,2,f)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(a.window.performance.now()),this.saveCanvasCopy())}renderLayer(n,l,m,v){m.isHidden(this.transform.zoom)||("background"===m.type||"sky"===m.type||"custom"===m.type||v&&v.length)&&(this.id=m.id,this.gpuTimingStart(m),(!n.transform.projection.unsupportedLayers||!n.transform.projection.unsupportedLayers.includes(m.type)||n.terrain&&"custom"===m.type)&&ga[m.type](n,l,m,v,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(n){if(!this.options.gpuTiming)return;const l=this.context.extTimerQuery;let m=this.gpuTimers[n.id];m||(m=this.gpuTimers[n.id]={calls:0,cpuTime:0,query:l.createQueryEXT()}),m.calls++,l.beginQueryEXT(l.TIME_ELAPSED_EXT,m.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const n=this.context.extTimerQuery,l=n.createQueryEXT();this.deferredRenderGpuTimeQueries.push(l),n.beginQueryEXT(n.TIME_ELAPSED_EXT,l)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const n=this.context.extTimerQuery;n.endQueryEXT(n.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const n=this.context.extTimerQuery;n.endQueryEXT(n.TIME_ELAPSED_EXT)}collectGpuTimers(){const n=this.gpuTimers;return this.gpuTimers={},n}collectDeferredRenderGpuQueries(){const n=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],n}queryGpuTimers(n){const l={};for(const m in n){const v=n[m],M=this.context.extTimerQuery,P=M.getQueryObjectEXT(v.query,M.QUERY_RESULT_EXT)/1e6;M.deleteQueryEXT(v.query),l[m]=P}return l}queryGpuTimeDeferredRender(n){if(!this.options.gpuTimingDeferredRender)return 0;const l=this.context.extTimerQuery;let m=0;for(const v of n)m+=l.getQueryObjectEXT(v,l.QUERY_RESULT_EXT)/1e6,l.deleteQueryEXT(v);return m}translatePosMatrix(n,l,m,v,M){if(!m[0]&&!m[1])return n;const P=M?"map"===v?this.transform.angle:0:"viewport"===v?-this.transform.angle:0;if(P){const $=Math.sin(P),q=Math.cos(P);m=[m[0]*q-m[1]*$,m[0]*$+m[1]*q]}const O=[M?m[0]:wn(l,m[0],this.transform.zoom),M?m[1]:wn(l,m[1],this.transform.zoom),0],V=new Float32Array(16);return a.translate(V,n,O),V}saveTileTexture(n){const l=this._tileTextures[n.size[0]];l?l.push(n):this._tileTextures[n.size[0]]=[n]}getTileTexture(n){const l=this._tileTextures[n];return l&&l.length>0?l.pop():null}isPatternMissing(n){return null===n||void 0!==n&&!this.imageManager.getPattern(n.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const n=this.terrain&&this.terrain.renderingToTexture,l=this.terrain&&0===this.terrain.exaggeration(),m=this.style&&this.style.fog,v=[];return this.terrainRenderModeElevated()&&v.push("TERRAIN"),"globe"===this.transform.projection.name&&v.push("GLOBE"),l&&v.push("ZERO_EXAGGERATION"),m&&!n&&0!==m.getOpacity(this.transform.pitch)&&v.push("FOG"),n&&v.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&v.push("OVERDRAW_INSPECTOR"),v}useProgram(n,l,m){this.cache=this.cache||{};const v=m||[],M=this.currentGlobalDefines().concat(v),P=Oi.cacheKey(Os[n],n,M,l);return this.cache[P]||(this.cache[P]=new Oi(this.context,n,Os[n],l,io[n],M)),this.cache[P]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const n=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(n.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(n,l,m){if(this.terrain&&this.terrain.renderingToTexture)return;const v=this.style.fog;if(v){const M=v.getOpacity(this.transform.pitch),P=((O,V,$,q,re,r,o,h,f,y,b)=>{const k=O.transform,I=V.properties.get("color").toArray01();I[3]=q;const C=O.frameCounter/1e3%1;return{u_fog_matrix:$?k.calculateFogTileMatrix($):O.identityMat,u_fog_range:V.getFovAdjustedRange(k._fov),u_fog_color:I,u_fog_horizon_blend:V.properties.get("horizon-blend"),u_fog_temporal_offset:C,u_frustum_tl:re,u_frustum_tr:r,u_frustum_br:o,u_frustum_bl:h,u_globe_pos:f,u_globe_radius:y,u_viewport:b,u_globe_transition:a.globeToMercatorTransition(k.zoom),u_is_globe:+("globe"===k.projection.name)}})(this,v,m,M,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*a.exported.devicePixelRatio,this.transform.height*a.exported.devicePixelRatio]);l.setFogUniformValues(n,P)}}setTileLoadedFlag(n){this.tileLoaded=n}saveCanvasCopy(){const n=this.canvasCopy();n&&(this.frameCopies.push(n),this.tileLoaded=!1)}canvasCopy(){const n=this.context.gl,l=n.createTexture();return n.bindTexture(n.TEXTURE_2D,l),n.copyTexImage2D(n.TEXTURE_2D,0,n.RGBA,0,0,n.drawingBufferWidth,n.drawingBufferHeight,0),l}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const n=this.style&&this.style.fog;return!!n&&0!==n.getOpacity(this.transform.pitch)}getBackgroundTiles(){const n=this._backgroundTiles,l=this._backgroundTiles={},m=this.transform.coveringTiles({tileSize:512});for(const v of m)l[v.key]=n[v.key]||new a.Tile(v,512,this.transform.tileZoom,this);return l}clearBackgroundTiles(){this._backgroundTiles={}}}class Jn{constructor(n=0,l=0,m=0,v=0){if(isNaN(n)||n<0||isNaN(l)||l<0||isNaN(m)||m<0||isNaN(v)||v<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=n,this.bottom=l,this.left=m,this.right=v}interpolate(n,l,m){return null!=l.top&&null!=n.top&&(this.top=a.number(n.top,l.top,m)),null!=l.bottom&&null!=n.bottom&&(this.bottom=a.number(n.bottom,l.bottom,m)),null!=l.left&&null!=n.left&&(this.left=a.number(n.left,l.left,m)),null!=l.right&&null!=n.right&&(this.right=a.number(n.right,l.right,m)),this}getCenter(n,l){const m=a.clamp((this.left+n-this.right)/2,0,n),v=a.clamp((this.top+l-this.bottom)/2,0,l);return new a.Point(m,v)}equals(n){return this.top===n.top&&this.bottom===n.bottom&&this.left===n.left&&this.right===n.right}clone(){return new Jn(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function no(p,n){const l=a.getColumn(p,3);a.fromQuat(p,n),a.setColumn(p,3,l)}function Bi(p,n){const l=a.identity$1([]);return a.rotateZ$1(l,l,-n),a.rotateX$1(l,l,-p),l}function Tr(p,n){const l=[p[0],p[1],0],m=[n[0],n[1],0];if(a.length(l)>=1e-15){const P=a.normalize([],l);a.scale$2(m,P,a.dot(m,P)),n[0]=m[0],n[1]=m[1]}const v=a.cross([],n,p);if(a.len(v)<1e-15)return null;const M=Math.atan2(-v[1],v[0]);return Bi(Math.atan2(Math.sqrt(p[0]*p[0]+p[1]*p[1]),-p[2]),M)}class ro{constructor(n,l){this.position=n,this.orientation=l}get position(){return this._position}set position(n){if(n){const l=n instanceof a.MercatorCoordinate?n:new a.MercatorCoordinate(n[0],n[1],n[2]);this._renderWorldCopies&&(l.x=a.wrap(l.x,0,1)),this._position=l}else this._position=null}lookAtPoint(n,l){if(this.orientation=null,!this.position)return;const m=this.position,v=this._elevation?this._elevation.getAtPointOrZero(a.MercatorCoordinate.fromLngLat(n)):0,M=a.MercatorCoordinate.fromLngLat(n,v),P=[M.x-m.x,M.y-m.y,M.z-m.z];l||(l=[0,0,1]),l[2]=Math.abs(l[2]),this.orientation=Tr(P,l)}setPitchBearing(n,l){this.orientation=Bi(a.degToRad(n),a.degToRad(-l))}}class Tn{constructor(n,l){this._transform=a.identity([]),this.orientation=l,this.position=n}get mercatorPosition(){const n=this.position;return new a.MercatorCoordinate(n[0],n[1],n[2])}get position(){const n=a.getColumn(this._transform,3);return[n[0],n[1],n[2]]}set position(n){var l;n&&a.setColumn(this._transform,3,[(l=n)[0],l[1],l[2],1])}get orientation(){return this._orientation}set orientation(n){this._orientation=n||a.identity$1([]),n&&no(this._transform,this._orientation)}getPitchBearing(){const n=this.forward(),l=this.right();return{bearing:Math.atan2(-l[1],l[0]),pitch:Math.atan2(Math.sqrt(n[0]*n[0]+n[1]*n[1]),-n[2])}}setPitchBearing(n,l){this._orientation=Bi(n,l),no(this._transform,this._orientation)}forward(){const n=a.getColumn(this._transform,2);return[-n[0],-n[1],-n[2]]}up(){const n=a.getColumn(this._transform,1);return[-n[0],-n[1],-n[2]]}right(){const n=a.getColumn(this._transform,0);return[n[0],n[1],n[2]]}getCameraToWorld(n,l){const m=new Float64Array(16);return a.invert(m,this.getWorldToCamera(n,l)),m}getWorldToCameraPosition(n,l,m){const v=this.position;a.scale$2(v,v,-n);const M=new Float64Array(16);return a.fromScaling(M,[m,m,m]),a.translate(M,M,v),M[10]*=l,M}getWorldToCamera(n,l){const m=new Float64Array(16),v=new Float64Array(4),M=this.position;return a.conjugate(v,this._orientation),a.scale$2(M,M,-n),a.fromQuat(m,v),a.translate(m,m,M),m[1]*=-1,m[5]*=-1,m[9]*=-1,m[13]*=-1,m[8]*=l,m[9]*=l,m[10]*=l,m[11]*=l,m}getCameraToClipPerspective(n,l,m,v){const M=new Float64Array(16);return a.perspective(M,n,l,m,v),M}getDistanceToElevation(n,l=!1){const m=0===n?0:a.mercatorZfromAltitude(n,l?a.latFromMercatorY(this.position[1]):this.position[1]),v=this.forward();return(m-this.position[2])/v[2]}clone(){return new Tn([...this.position],[...this.orientation])}}function Wr(p,n){const l=Bs(p.projection,p.zoom,p.width,p.height),m=function(M,P,O,V,$){const q=new a.LngLat(O.lng-180*Sa,O.lat),re=new a.LngLat(O.lng+180*Sa,O.lat),r=M.project(q.lng,q.lat),o=M.project(re.lng,re.lat),h=-Math.atan2(o.y-r.y,o.x-r.x),f=a.MercatorCoordinate.fromLngLat(O);f.y=a.clamp(f.y,-1+Sa,1-Sa);const y=f.toLngLat(),b=M.project(y.lng,y.lat),k=a.MercatorCoordinate.fromLngLat(y);k.x+=Sa;const I=k.toLngLat(),C=M.project(I.lng,I.lat),F=$o(C.x-b.x,C.y-b.y,h),N=a.MercatorCoordinate.fromLngLat(y);N.y+=Sa;const U=N.toLngLat(),ie=M.project(U.lng,U.lat),ce=$o(ie.x-b.x,ie.y-b.y,h),he=Math.abs(F.x)/Math.abs(ce.y),ve=a.identity([]);a.rotateZ(ve,ve,-h*(1-($?0:V)));const ge=a.identity([]);return a.scale(ge,ge,[1,1-(1-he)*V,1]),ge[4]=-ce.x/ce.y*V,a.rotateZ(ge,ge,h),a.multiply(ge,ve,ge),ge}(p.projection,0,p.center,l,n),v=Al(p);return a.scale(m,m,[v,v,1]),m}function Al(p){const n=p.projection,l=Bs(p.projection,p.zoom,p.width,p.height),m=Do(n,p.center),v=Do(n,a.LngLat.convert(n.center));return Math.pow(2,m*l+(1-l)*v)}function Bs(p,n,l,m,v=1/0){const M=p.range;if(!M)return 0;const P=Math.min(v,Math.max(l,m)),O=Math.log(P/1024)/Math.LN2;return a.smoothstep(M[0]+O,M[1]+O,n)}const Sa=1/4e4;function Do(p,n){const l=a.clamp(n.lat,-a.MAX_MERCATOR_LATITUDE,a.MAX_MERCATOR_LATITUDE),m=new a.LngLat(n.lng-180*Sa,l),v=new a.LngLat(n.lng+180*Sa,l),M=p.project(m.lng,l),P=p.project(v.lng,l),O=a.MercatorCoordinate.fromLngLat(m),V=a.MercatorCoordinate.fromLngLat(v),$=P.x-M.x,q=P.y-M.y,re=V.x-O.x,r=V.y-O.y,o=Math.sqrt((re*re+r*r)/($*$+q*q));return Math.log(o)/Math.LN2}function $o(p,n,l){const m=Math.cos(l),v=Math.sin(l);return{x:p*m-n*v,y:p*v+n*m}}class ao{constructor(n,l,m,v,M,P,O){this.tileSize=512,this._renderWorldCopies=void 0===M||M,this._minZoom=n||0,this._maxZoom=l||22,this._minPitch=null==m?0:m,this._maxPitch=null==v?60:v,this.setProjection(P),this.setMaxBounds(O),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Jn,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Tn,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const n=new ao(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return n._elevation=this._elevation,n._centerAltitude=this._centerAltitude,n._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,n.tileSize=this.tileSize,n.mercatorFromTransition=this.mercatorFromTransition,n.width=this.width,n.height=this.height,n.cameraElevationReference=this.cameraElevationReference,n._center=this._center,n._setZoom(this.zoom),n._seaLevelZoom=this._seaLevelZoom,n.angle=this.angle,n._fov=this._fov,n._pitch=this._pitch,n._nearZ=this._nearZ,n._farZ=this._farZ,n._averageElevation=this._averageElevation,n._unmodified=this._unmodified,n._edgeInsets=this._edgeInsets.clone(),n._camera=this._camera.clone(),n._calcMatrices(),n.freezeTileCoverage=this.freezeTileCoverage,n.frustumCorners=this.frustumCorners,n}get elevation(){return this._elevation}set elevation(n){this._elevation!==n&&(this._elevation=n,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(n,l=!1){const m=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||m)&&this._updateCameraOnTerrain(),(n||m)&&this._constrainCamera(l),this._calcMatrices()}getProjection(){return a.pick(this.projection,["name","center","parallels"])}setProjection(n){this.projectionOptions=n||{name:"mercator"};const l=this.projection?this.getProjection():void 0;this.projection=a.getProjection(this.projectionOptions);const m=!d(l,this.getProjection());return m&&this._calcMatrices(),this.mercatorFromTransition=!1,m}setMercatorFromTransition(){const n=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=a.getProjection({name:"mercator"});const l=n!==this.projection.name;return l&&this._calcMatrices(),l}get minZoom(){return this._minZoom}set minZoom(n){this._minZoom!==n&&(this._minZoom=n,this.zoom=Math.max(this.zoom,n))}get maxZoom(){return this._maxZoom}set maxZoom(n){this._maxZoom!==n&&(this._maxZoom=n,this.zoom=Math.min(this.zoom,n))}get minPitch(){return this._minPitch}set minPitch(n){this._minPitch!==n&&(this._minPitch=n,this.pitch=Math.max(this.pitch,n))}get maxPitch(){return this._maxPitch}set maxPitch(n){this._maxPitch!==n&&(this._maxPitch=n,this.pitch=Math.min(this.pitch,n))}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(n){void 0===n?n=!0:null===n&&(n=!1),this._renderWorldCopies=n}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const n=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(n))}get cameraWorldSize(){const n=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(n))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return a.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.Point(this.width,this.height)}get bearing(){return a.wrap(this.rotation,-180,180)}set bearing(n){this.rotation=n}get rotation(){return-this.angle/Math.PI*180}set rotation(n){const l=-n*Math.PI/180;var m,v,M,P,O,V,$,q,re,r;this.angle!==l&&(this._unmodified=!1,this.angle=l,this._calcMatrices(),this.rotationMatrix=(m=new a.ARRAY_TYPE(4),a.ARRAY_TYPE!=Float32Array&&(m[1]=0,m[2]=0),m[0]=1,m[3]=1,m),v=this.rotationMatrix,P=this.angle,O=(M=this.rotationMatrix)[0],V=M[1],$=M[2],q=M[3],re=Math.sin(P),r=Math.cos(P),v[0]=O*r+$*re,v[1]=V*r+q*re,v[2]=O*-re+$*r,v[3]=V*-re+q*r)}get pitch(){return this._pitch/Math.PI*180}set pitch(n){const l=a.clamp(n,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==l&&(this._unmodified=!1,this._pitch=l,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const n=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/n)}set fov(n){n=Math.max(.01,Math.min(60,n)),this._fov!==n&&(this._unmodified=!1,this._fov=a.degToRad(n),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(n){this._averageElevation=n,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(n){const l=Math.min(Math.max(n,this.minZoom),this.maxZoom);this._zoom!==l&&(this._unmodified=!1,this._setZoom(l),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(n){this._zoom=n,this.scale=this.zoomScale(n),this.tileZoom=Math.floor(n),this.zoomFraction=n-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const n=this._elevation;this._centerAltitude=n.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=n.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const n=this._elevation,l=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],m=this.horizonLineFromTop();let v=0,M=0;for(let P=0;P<l.length;P++){const O=new a.Point(l[P][0]*this.width,m+l[P][1]*(this.height-m)),V=n.pointCoordinate(O);if(!V)continue;const $=1/Math.hypot(V[0]-this._camera.position[0],V[1]-this._camera.position[1]);v+=V[3]*$,M+=$}return 0===M?NaN:v/M}get center(){return this._center}set center(n){n.lat===this._center.lat&&n.lng===this._center.lng||(this._unmodified=!1,this._center=n,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const n=this._seaLevelZoom,l=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),m=this.pixelsPerMeter/this.worldSize*l,v=this._mercatorZfromZoom(n),M=this._mercatorZfromZoom(this._maxZoom),P=Math.max(v-m,M);this._setZoom(this._zoomFromMercatorZ(P))}get padding(){return this._edgeInsets.toJSON()}set padding(n){this._edgeInsets.equals(n)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,n,1),this._calcMatrices())}computeZoomRelativeTo(n){const l=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,n.toAltitude()));let m;m=n.z<this._camera.position[2]?[l.x,l.y,l.z]:[n.x,n.y,n.z];const v=a.length(a.sub([],this._camera.position,m));return a.clamp(this._zoomFromMercatorZ(v),this._minZoom,this._maxZoom)}setFreeCameraOptions(n){if(!this.height||!n.position&&!n.orientation)return;this._updateCameraState();let l=!1;if(n.orientation&&!a.exactEquals(n.orientation,this._camera.orientation)&&(l=this._setCameraOrientation(n.orientation)),n.position){const m=[n.position.x,n.position.y,n.position.z];a.exactEquals$1(m,this._camera.position)||(this._setCameraPosition(m),l=!0)}l&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const n=this._camera.position,l=new ro;return l.position=new a.MercatorCoordinate(n[0],n[1],n[2]),l.orientation=this._camera.orientation,l._elevation=this.elevation,l._renderWorldCopies=this.renderWorldCopies,l}_setCameraOrientation(n){if(!a.length$1(n))return!1;a.normalize$1(n,n);const l=a.transformQuat([],[0,0,-1],n),m=a.transformQuat([],[0,-1,0],n);if(m[2]<0)return!1;const v=Tr(l,m);return!!v&&(this._camera.orientation=v,!0)}_setCameraPosition(n){const l=this.zoomScale(this.minZoom)*this.tileSize,m=this.zoomScale(this.maxZoom)*this.tileSize,v=this.cameraToCenterDistance;n[2]=a.clamp(n[2],v/m,v/l),this._camera.position=n}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(n){return this._edgeInsets.equals(n)}interpolatePadding(n,l,m){this._unmodified=!1,this._edgeInsets.interpolate(n,l,m),this._constrain(),this._calcMatrices()}coveringZoomLevel(n){const l=(n.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/n.tileSize));return Math.max(0,l)}getVisibleUnwrappedCoordinates(n){const l=[new a.UnwrappedTileID(0,n)];if(this.renderWorldCopies){const m=this.pointCoordinate(new a.Point(0,0)),v=this.pointCoordinate(new a.Point(this.width,0)),M=this.pointCoordinate(new a.Point(this.width,this.height)),P=this.pointCoordinate(new a.Point(0,this.height)),O=Math.floor(Math.min(m.x,v.x,M.x,P.x)),V=Math.floor(Math.max(m.x,v.x,M.x,P.x)),$=1;for(let q=O-$;q<=V+$;q++)0!==q&&l.push(new a.UnwrappedTileID(q,n))}return l}coveringTiles(n){let l=this.coveringZoomLevel(n);const m=l,v=this.elevation&&!n.isTerrainDEM,M="mercator"===this.projection.name;if(void 0!==n.minzoom&&l<n.minzoom)return[];void 0!==n.maxzoom&&l>n.maxzoom&&(l=n.maxzoom);const P=this.locationCoordinate(this.center),O=this.center.lat,V=1<<l,$=[V*P.x,V*P.y,0],q="globe"===this.projection.name,re=!q,r=a.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,l,re),o=q?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),h=V*a.mercatorZfromAltitude(1,this.center.lat),f=this._camera.position[2]/a.mercatorZfromAltitude(1,this.center.lat),y=[V*o.x,V*o.y,f*(re?1:h)],b=this.cameraToCenterDistance/n.tileSize*(n.roundZoom?1:.502),k=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?l:0,I=n.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,C=n.isTerrainDEM?-I:this._elevation?this._elevation.getMinElevationBelowMSL():0,F=this.projection.isReprojectedInTileSpace?Al(this):1,N=Be=>{const lt=new a.MercatorCoordinate(Be.x+25e-6,Be.y,Be.z),tt=new a.MercatorCoordinate(Be.x,Be.y+25e-6,Be.z),ot=Be.toLngLat(),Ct=lt.toLngLat(),Nt=tt.toLngLat(),At=this.locationCoordinate(ot),jt=this.locationCoordinate(Ct),Yt=this.locationCoordinate(Nt),ai=Math.hypot(jt.x-At.x,jt.y-At.y),Vt=Math.hypot(Yt.x-At.x,Yt.y-At.y);return Math.sqrt(ai*Vt)*F/25e-6},U=Be=>{const Ge=I,lt=C;return{aabb:a.tileAABB(this,V,0,0,0,Be,lt,Ge,this.projection),zoom:0,x:0,y:0,minZ:lt,maxZ:Ge,wrap:Be,fullyVisible:!1}},ie=[];let ce=[];const he=l,ve=n.reparseOverscaled?m:l,ge=Be=>Be*Be,Ce=ge((f-this._centerAltitude)*h),Re=Be=>{if(!this._elevation||!Be.tileID||!M)return;const Ge=this._elevation.getMinMaxForTile(Be.tileID),lt=Be.aabb;Ge?(lt.min[2]=Ge.min,lt.max[2]=Ge.max,lt.center[2]=(lt.min[2]+lt.max[2])/2):(Be.shouldSplit=Ze(Be),Be.shouldSplit||(lt.min[2]=lt.max[2]=lt.center[2]=this._centerAltitude))},Ze=Be=>{if(Be.zoom<k)return!0;if(Be.zoom===he)return!1;if(null!=Be.shouldSplit)return Be.shouldSplit;const Ge=Be.aabb.distanceX(y),lt=Be.aabb.distanceY(y);let tt=Ce,ot=1;if(q){tt=ge(Be.aabb.distanceZ(y));const At=Math.pow(2,Be.zoom),jt=a.latFromMercatorY((Be.y+1)/At),Yt=a.latFromMercatorY(Be.y/At),ai=Math.min(Math.max(O,jt),Yt),Vt=a.circumferenceAtLatitude(ai)/a.circumferenceAtLatitude(O);if(ot=ai===O?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,Vt/this._mercatorScaleRatio),this.zoom<=a.GLOBE_ZOOM_THRESHOLD_MIN&&Be.zoom===he-1&&Vt>=.9)return!0}else if(v&&(tt=ge(Be.aabb.distanceZ(y)*h)),this.projection.isReprojectedInTileSpace&&m<=5){const At=Math.pow(2,Be.zoom),jt=N(new a.MercatorCoordinate((Be.x+.5)/At,(Be.y+.5)/At));ot=jt>.85?1:jt}const Ct=Ge*Ge+lt*lt+tt;return Ct<ge((1<<he-Be.zoom)*b*ot*((At,jt)=>{if(jt*ge(.707)<At)return 1;const Yt=Math.sqrt(jt/At);return Yt/(1.4144271570014144+(Math.pow(1.1,Yt-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(tt,Ce),Ct))};if(this.renderWorldCopies)for(let Be=1;Be<=3;Be++)ie.push(U(-Be)),ie.push(U(Be));for(ie.push(U(0));ie.length>0;){const Be=ie.pop(),Ge=Be.x,lt=Be.y;let tt=Be.fullyVisible;if(!tt){const ot=Be.aabb.intersects(r);if(0===ot)continue;tt=2===ot}if(Be.zoom!==he&&Ze(Be))for(let ot=0;ot<4;ot++){const Ct=(Ge<<1)+ot%2,Nt=(lt<<1)+(ot>>1),At={aabb:M?Be.aabb.quadrant(ot):a.tileAABB(this,V,Be.zoom+1,Ct,Nt,Be.wrap,Be.minZ,Be.maxZ,this.projection),zoom:Be.zoom+1,x:Ct,y:Nt,wrap:Be.wrap,fullyVisible:tt,tileID:void 0,shouldSplit:void 0,minZ:Be.minZ,maxZ:Be.maxZ};v&&!q&&(At.tileID=new a.OverscaledTileID(Be.zoom+1===he?ve:Be.zoom+1,Be.wrap,Be.zoom+1,Ct,Nt),Re(At)),ie.push(At)}else{const ot=Be.zoom===he?ve:Be.zoom;if(n.minzoom&&n.minzoom>ot)continue;const Ct=$[0]-(.5+Ge+(Be.wrap<<Be.zoom))*(1<<l-Be.zoom),Nt=$[1]-.5-lt,At=Be.tileID?Be.tileID:new a.OverscaledTileID(ot,Be.wrap,Be.zoom,Ge,lt);ce.push({tileID:At,distanceSq:Ct*Ct+Nt*Nt})}}if(this.fogCullDistSq){const Be=this.fogCullDistSq,Ge=this.horizonLineFromTop();ce=ce.filter(lt=>{const tt=[0,0,0,1],ot=[a.EXTENT,a.EXTENT,0,1],Ct=this.calculateFogTileMatrix(lt.tileID.toUnwrapped());a.transformMat4$1(tt,tt,Ct),a.transformMat4$1(ot,ot,Ct);const Nt=a.getAABBPointSquareDist(tt,ot);if(0===Nt)return!0;let At=!1;const jt=this._elevation;if(jt&&Nt>Be&&0!==Ge){const Yt=this.calculateProjMatrix(lt.tileID.toUnwrapped());let ai;n.isTerrainDEM||(ai=jt.getMinMaxForTile(lt.tileID)),ai||(ai={min:C,max:I});const Vt=a.furthestTileCorner(this.rotation),Ei=[Vt[0]*a.EXTENT,Vt[1]*a.EXTENT,ai.max];a.transformMat4(Ei,Ei,Yt),At=(1-Ei[1])*this.height*.5<Ge}return Nt<Be||At})}return ce.sort((Be,Ge)=>Be.distanceSq-Ge.distanceSq).map(Be=>Be.tileID)}resize(n,l){this.width=n,this.height=l,this.pixelsToGLUnits=[2/n,-2/l],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(n){return Math.pow(2,n)}scaleZoom(n){return Math.log(n)/Math.LN2}project(n){const l=a.clamp(n.lat,-a.MAX_MERCATOR_LATITUDE,a.MAX_MERCATOR_LATITUDE),m=this.projection.project(n.lng,l);return new a.Point(m.x*this.worldSize,m.y*this.worldSize)}unproject(n){return this.projection.unproject(n.x/this.worldSize,n.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/a.mercatorZfromAltitude(1,this.center.lat)/this.worldSize}setLocationAtPoint(n,l){let m,v;const M=this.centerPoint;if("globe"===this.projection.name){const O=this.worldSize;m=(l.x-M.x)/O,v=(l.y-M.y)/O}else{const O=this.pointCoordinate(l),V=this.pointCoordinate(M);m=O.x-V.x,v=O.y-V.y}const P=this.locationCoordinate(n);this.setLocation(new a.MercatorCoordinate(P.x-m,P.y-v))}setLocation(n){this.center=this.coordinateLocation(n),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(n){return this.projection.locationPoint(this,n)}locationPoint3D(n){return this.projection.locationPoint(this,n,!0)}pointLocation(n){return this.coordinateLocation(this.pointCoordinate(n))}pointLocation3D(n){return this.coordinateLocation(this.pointCoordinate3D(n))}locationCoordinate(n,l){const m=l?a.mercatorZfromAltitude(l,n.lat):void 0,v=this.projection.project(n.lng,n.lat);return new a.MercatorCoordinate(v.x,v.y,m)}coordinateLocation(n){return this.projection.unproject(n.x,n.y)}pointRayIntersection(n,l){const m=null!=l?l:this._centerAltitude,v=[n.x,n.y,0,1],M=[n.x,n.y,1,1];a.transformMat4$1(v,v,this.pixelMatrixInverse),a.transformMat4$1(M,M,this.pixelMatrixInverse);const P=M[3];a.scale$1(v,v,1/v[3]),a.scale$1(M,M,1/P);const O=v[2],V=M[2];return{p0:v,p1:M,t:O===V?0:(m-O)/(V-O)}}screenPointToMercatorRay(n){const l=[n.x,n.y,0,1],m=[n.x,n.y,1,1];return a.transformMat4$1(l,l,this.pixelMatrixInverse),a.transformMat4$1(m,m,this.pixelMatrixInverse),a.scale$1(l,l,1/l[3]),a.scale$1(m,m,1/m[3]),l[2]=a.mercatorZfromAltitude(l[2],this._center.lat)*this.worldSize,m[2]=a.mercatorZfromAltitude(m[2],this._center.lat)*this.worldSize,a.scale$1(l,l,1/this.worldSize),a.scale$1(m,m,1/this.worldSize),new a.Ray([l[0],l[1],l[2]],a.normalize([],a.sub([],m,l)))}rayIntersectionCoordinate(n){const{p0:l,p1:m,t:v}=n,M=a.mercatorZfromAltitude(l[2],this._center.lat),P=a.mercatorZfromAltitude(m[2],this._center.lat);return new a.MercatorCoordinate(a.number(l[0],m[0],v)/this.worldSize,a.number(l[1],m[1],v)/this.worldSize,a.number(M,P,v))}pointCoordinate(n,l=this._centerAltitude){return this.projection.pointCoordinate(this,n.x,n.y,l)}pointCoordinate3D(n){if(!this.elevation)return this.pointCoordinate(n);let l=this.projection.pointCoordinate3D(this,n.x,n.y);if(l)return new a.MercatorCoordinate(l[0],l[1],l[2]);let m=0,v=this.horizonLineFromTop();if(n.y>v)return this.pointCoordinate(n);const M=.02*v,P=n.clone();for(let O=0;O<10&&v-m>M;O++){P.y=a.number(m,v,.66);const V=this.projection.pointCoordinate3D(this,P.x,P.y);V?(v=P.y,l=V):m=P.y}return l?new a.MercatorCoordinate(l[0],l[1],l[2]):this.pointCoordinate(n)}isPointAboveHorizon(n){return this.projection.isPointAboveHorizon(this,n)}isPointOnSurface(n){if(n.y<0||n.y>this.height||n.x<0||n.x>this.width)return!1;if(this.elevation||this.zoom>=a.GLOBE_ZOOM_THRESHOLD_MAX)return!this.isPointAboveHorizon(n);const l=this.pointCoordinate(n);return l.y>=0&&l.y<=1}_coordinatePoint(n,l){const m=l&&this.elevation?this.elevation.getAtPointOrZero(n,this._centerAltitude):this._centerAltitude,v=[n.x*this.worldSize,n.y*this.worldSize,m+n.toAltitude(),1];return a.transformMat4$1(v,v,this.pixelMatrix),v[3]>0?new a.Point(v[0]/v[3],v[1]/v[3]):new a.Point(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:n,left:l}=this._edgeInsets,m=this.height-this._edgeInsets.bottom,v=this.width-this._edgeInsets.right,M=this.pointLocation3D(new a.Point(l,n)),P=this.pointLocation3D(new a.Point(v,n)),O=this.pointLocation3D(new a.Point(v,m)),V=this.pointLocation3D(new a.Point(l,m));let $=Math.min(M.lng,P.lng,O.lng,V.lng),q=Math.max(M.lng,P.lng,O.lng,V.lng),re=Math.min(M.lat,P.lat,O.lat,V.lat),r=Math.max(M.lat,P.lat,O.lat,V.lat);const o=Math.pow(2,-this.zoom)/16*270,h="globe"===this.projection.name?1:4,f=(y,b,k,I,C)=>{const F=(y+k)/2,N=(b+I)/2,U=new a.Point(F,N),{lng:ie,lat:ce}=this.pointLocation3D(U),he=Math.max(0,$-ie,re-ce,ie-q,ce-r);$=Math.min($,ie),q=Math.max(q,ie),re=Math.min(re,ce),r=Math.max(r,ce),(C<h||he>o)&&(f(y,b,F,N,C+1),f(F,N,k,I,C+1))};if(f(l,n,v,n,1),f(v,n,v,m,1),f(v,m,l,m,1),f(l,m,l,n,1),"globe"===this.projection.name){const[y,b]=a.polesInViewport(this);y?(r=90,q=180,$=-180):b&&(re=-90,q=180,$=-180)}return new a.LngLatBounds(new a.LngLat($,re),new a.LngLat(q,r))}_getBoundsRectangular(n,l){const{top:m,left:v}=this._edgeInsets,M=this.height-this._edgeInsets.bottom,P=this.width-this._edgeInsets.right,O=new a.Point(v,m),V=new a.Point(P,m),$=new a.Point(P,M),q=new a.Point(v,M);let re=this.pointCoordinate(O,n),r=this.pointCoordinate(V,n);const o=this.pointCoordinate($,l),h=this.pointCoordinate(q,l),f=(y,b)=>(b.y-y.y)/(b.x-y.x);return re.y>1&&r.y>=0?re=new a.MercatorCoordinate((1-h.y)/f(h,re)+h.x,1):re.y<0&&r.y<=1&&(re=new a.MercatorCoordinate(-h.y/f(h,re)+h.x,0)),r.y>1&&re.y>=0?r=new a.MercatorCoordinate((1-o.y)/f(o,r)+o.x,1):r.y<0&&re.y<=1&&(r=new a.MercatorCoordinate(-o.y/f(o,r)+o.x,0)),(new a.LngLatBounds).extend(this.coordinateLocation(re)).extend(this.coordinateLocation(r)).extend(this.coordinateLocation(h)).extend(this.coordinateLocation(o))}_getBoundsRectangularTerrain(){const n=this.elevation;if(!n.visibleDemTiles.length||n.isUsingMockSource())return this._getBoundsRectangular(0,0);const l=n.visibleDemTiles.reduce((m,v)=>{if(v.dem){const M=v.dem.tree;m.min=Math.min(m.min,M.minimums[0]),m.max=Math.max(m.max,M.maximums[0])}return m},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(l.min*n.exaggeration(),l.max*n.exaggeration())}getBounds(){return"mercator"===this.projection.name||"equirectangular"===this.projection.name?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(n=!0){const l=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,m=this.height/2-l*(1-this._horizonShift);return n?Math.max(0,m):m}getMaxBounds(){return this.maxBounds}setMaxBounds(n){this.maxBounds=n,this.minLat=-a.MAX_MERCATOR_LATITUDE,this.maxLat=a.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,n&&(this.minLat=n.getSouth(),this.maxLat=n.getNorth(),this.minLng=n.getWest(),this.maxLng=n.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=a.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=a.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=a.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=a.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(n,l){return this.projection.createTileMatrix(this,l,n)}calculateDistanceTileData(n){const l=n.key,m=this._distanceTileDataCache;if(m[l])return m[l];const v=n.canonical,M=1/this.height,P=this.cameraWorldSize,O=P/this.zoomScale(v.z),V=(v.x+Math.pow(2,v.z)*n.wrap)*O,$=v.y*O,q=this.point;q.x*=P/this.worldSize,q.y*=P/this.worldSize;const re=this.angle,r=Math.sin(-re),o=-Math.cos(-re);return m[l]={bearing:[r,o],center:[(q.x-V)*M,(q.y-$)*M],scale:O/a.EXTENT*M},m[l]}calculateFogTileMatrix(n){const l=n.key,m=this._fogTileMatrixCache;if(m[l])return m[l];const v=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,n);return a.multiply(v,this.worldToFogMatrix,v),m[l]=new Float32Array(v),m[l]}calculateProjMatrix(n,l=!1){const m=n.key,v=l?this._alignedProjMatrixCache:this._projMatrixCache;if(v[m])return v[m];const M=this.calculatePosMatrix(n,this.worldSize);return a.multiply(M,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:l?this.alignedProjMatrix:this.projMatrix,M),v[m]=new Float32Array(M),v[m]}calculatePixelsToTileUnitsMatrix(n){const l=n.tileID.key,m=this._pixelsToTileUnitsCache;if(m[l])return m[l];const v=function(M,P){const{scale:O}=M.tileTransform,V=O*a.EXTENT/(M.tileSize*Math.pow(2,P.zoom-M.tileID.overscaledZ+M.tileID.canonical.z));return $=new Float32Array(4),r=(q=P.inverseAdjustmentMatrix)[1],o=q[2],h=q[3],y=(re=[V,V])[1],$[0]=q[0]*(f=re[0]),$[1]=r*f,$[2]=o*y,$[3]=h*y,$;var $,q,re,r,o,h,f,y}(n,this);return m[l]=v,m[l]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if("globe"===this.projection.name){const n=1/this.worldSize,l=a.fromScaling([],[n,n,n]);return a.multiply(l,l,this.globeMatrix),l}}recenterOnTerrain(){if(!this._elevation||"globe"===this.projection.name)return;const n=this._elevation;this._updateCameraState();const l=a.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,m=this._computeCameraPosition(l),v=this._camera.forward(),M=a.mercatorZfromAltitude(1,this._center.lat);m[2]/=M,v[2]/=M,a.normalize(v,v);const P=n.raycast(m,v,n.exaggeration());if(P){const O=a.scaleAndAdd([],m,v,P),V=new a.MercatorCoordinate(O[0],O[1],a.mercatorZfromAltitude(O[2],a.latFromMercatorY(O[1]))),$=(V.z+a.length([V.x-m[0],V.y-m[1],V.z-m[2]*M]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ($),this._centerAltitude=V.toAltitude(),this._center=this.coordinateLocation(V),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(n=!1){if(!this._elevation)return;const l=this._elevation,m=a.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,v=this._computeCameraPosition(m),M=l.getAtPointOrZero(new a.MercatorCoordinate(...v)),P=this.pixelsPerMeter/this.worldSize*M,O=this._minimumHeightOverTerrain(),V=v[2]-P;if(V<=O)if(V<0||n){const $=this.locationCoordinate(this._center,this._centerAltitude),q=[v[0],v[1],$.z-v[2]],re=a.length(q);q[2]-=(O-V)/this._pixelsPerMercatorPixel;const r=a.length(q);if(0===r)return;a.scale$2(q,q,re/r*this._pixelsPerMercatorPixel),this._camera.position=[v[0],v[1],$.z*this._pixelsPerMercatorPixel-q[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const n="globe"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||n){const r=this.center;return r.lat=a.clamp(r.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!n)&&(r.lng=a.clamp(r.lng,this.minLng,this.maxLng)),this.center=r,void(this._constraining=!1)}const l=this._unmodified,{x:m,y:v}=this.point;let M=0,P=m,O=v;const V=this.width/2,$=this.height/2,q=this.worldMinY*this.scale,re=this.worldMaxY*this.scale;if(v-$<q&&(O=q+$),v+$>re&&(O=re-$),re-q<this.height&&(M=Math.max(M,this.height/(re-q)),O=(re+q)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const r=this.worldMinX*this.scale,o=this.worldMaxX*this.scale,h=this.worldSize/2-(r+o)/2;P=(m+h+this.worldSize)%this.worldSize-h,P-V<r&&(P=r+V),P+V>o&&(P=o-V),o-r<this.width&&(M=Math.max(M,this.width/(o-r)),P=(o+r)/2)}P===m&&O===v||(this.center=this.unproject(new a.Point(P,O))),M&&(this.zoom+=this.scaleZoom(M)),this._constrainCamera(),this._unmodified=l,this._constraining=!1}_minZoomForBounds(){let n=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(n=Math.max(n,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),n}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const n=this.centerOffset,l=this.pixelsPerMeter;"globe"===this.projection.name&&(this._mercatorScaleRatio=a.mercatorZfromAltitude(1,this.center.lat)/a.mercatorZfromAltitude(1,a.GLOBE_SCALE_MATCH_LATITUDE));const m=Bs(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,m),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const v="meters"===this.projection.zAxisUnit?l:1,M=this._camera.getWorldToCamera(this.worldSize,v),P=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);P[8]=2*-n.x/this.width,P[9]=2*n.y/this.height;let O=a.mul([],P,M);if(this.projection.isReprojectedInTileSpace){const N=this.locationCoordinate(this.center),U=a.identity([]);a.translate(U,U,[N.x*this.worldSize,N.y*this.worldSize,0]),a.multiply(U,U,Wr(this)),a.translate(U,U,[-N.x*this.worldSize,-N.y*this.worldSize,0]),a.multiply(O,O,U),this.inverseAdjustmentMatrix=function(ie){const ce=Wr(ie,!0);return He([],[ce[0],ce[1],ce[4],ce[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=a.scale([],O,[this.worldSize,this.worldSize,this.worldSize/v,1]),this.projMatrix=O,this.invProjMatrix=a.invert(new Float64Array(16),this.projMatrix);const V=a.invert([],P);this.frustumCorners=a.FrustumCorners.fromInvProjectionMatrix(V,this.horizonLineFromTop(),this.height);const $=new Float32Array(16);a.identity($),a.scale($,$,[1,-1,1]),a.rotateX($,$,this._pitch),a.rotateZ($,$,this.angle);const q=a.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),re=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;q[8]=2*-n.x/this.width,q[9]=2*(n.y+re)/this.height,this.skyboxMatrix=a.multiply($,q,$);const r=this.point,o=r.x,h=r.y,f=this.width%2/2,y=this.height%2/2,b=Math.cos(this.angle),k=Math.sin(this.angle),I=o-Math.round(o)+b*f+k*y,C=h-Math.round(h)+b*y+k*f,F=new Float64Array(O);if(a.translate(F,F,[I>.5?I-1:I,C>.5?C-1:C,0]),this.alignedProjMatrix=F,O=a.create(),a.scale(O,O,[this.width/2,-this.height/2,1]),a.translate(O,O,[1,-1,0]),this.labelPlaneMatrix=O,O=a.create(),a.scale(O,O,[1,-1,1]),a.translate(O,O,[-1,-1,0]),a.scale(O,O,[2/this.width,2/this.height,1]),this.glCoordMatrix=O,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},O=a.invert(new Float64Array(16),this.pixelMatrix),!O)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=O,"globe"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=a.calculateGlobeMatrix(this);const N=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=a.transformMat4(N,N,M),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=O;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const n=this.cameraWorldSizeForFog,l=this.cameraPixelsPerMeter,m=this._camera.position,v=1/this.height/this._pixelsPerMercatorPixel,M=[n,n,l];a.scale$2(M,M,v),a.scale$2(m,m,-1),a.multiply$2(m,m,M);const P=a.create();a.translate(P,P,m),a.scale(P,P,M),this.mercatorFogMatrix=P,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(n,l,v)}_computeCameraPosition(n){const l=(n=n||this.pixelsPerMeter)/this.pixelsPerMeter,m=this._camera.forward(),v=this.point,M=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*l-n/this.worldSize*this._centerAltitude;return[v.x/this.worldSize-m[0]*M,v.y/this.worldSize-m[1]*M,n/this.worldSize*this._centerAltitude-m[2]*M]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(n){const l=this._maxCameraBoundsDistance()*Math.cos(this._pitch),m=this._camera.position[2],v=n[2];let M=1;this.projection.wrap&&(this.center=this.center.wrap()),v>0&&(M=Math.min((l-m)/v,1)),this._camera.position=a.scaleAndAdd([],this._camera.position,n,M),this._updateStateFromCamera()}_updateStateFromCamera(){const n=this._camera.position,l=this._camera.forward(),{pitch:m,bearing:v}=this._camera.getPitchBearing(),M=a.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,P=this._mercatorZfromZoom(this._maxZoom)*Math.cos(a.degToRad(this._maxPitch)),O=Math.max((n[2]-M)/Math.cos(m),P),V=this._zoomFromMercatorZ(O);a.scaleAndAdd(n,n,l,O),this._pitch=a.clamp(m,a.degToRad(this.minPitch),a.degToRad(this.maxPitch)),this.angle=a.wrap(v,-Math.PI,Math.PI),this._setZoom(a.clamp(V,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new a.MercatorCoordinate(n[0],n[1],n[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(n){return Math.pow(2,n)*this.tileSize}_mercatorZfromZoom(n){return this.cameraToCenterDistance/this._worldSizeFromZoom(n)}_minimumHeightOverTerrain(){const n=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(n)}_zoomFromMercatorZ(n){return this.scaleZoom(this.cameraToCenterDistance/(n*this.tileSize))}zoomFromMercatorZAdjusted(n){let l=0,m=a.GLOBE_ZOOM_THRESHOLD_MAX,v=0,M=1/0;for(;m-l>1e-6&&m>l;){const P=l+.5*(m-l),O=this.tileSize*Math.pow(2,P),V=this.getCameraToCenterDistance(this.projection,P,O),$=this.scaleZoom(V/(n*this.tileSize)),q=Math.abs(P-$);q<M&&(M=q,v=P),P<$?l=P:m=P}return v}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(a.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(n,l){const m=Math.min(n.x,l.x),v=Math.max(n.x,l.x),M=Math.min(n.y,l.y),P=Math.max(n.y,l.y);if(M<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;const O=[new a.Point(m,M),new a.Point(v,P),new a.Point(m,P),new a.Point(v,M)],V=this.renderWorldCopies?-3:0,$=this.renderWorldCopies?4:1;for(const q of O){const re=this.pointRayIntersection(q);if(re.t<0)return!0;const r=this.rayIntersectionCoordinate(re);if(r.x<V||r.y<0||r.x>$||r.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+a.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new a.Point(0,0),new a.Point(this.width,this.height))}zoomDeltaToMovement(n,l){const m=a.length(a.sub([],this._camera.position,n)),v=this._zoomFromMercatorZ(m)+l;return m-this._mercatorZfromZoom(v)}getCameraPoint(){if("globe"===this.projection.name){const n=function([l,m,v],M){const P=[l,m,v,1];a.transformMat4$1(P,P,M);const O=P[3]=Math.max(P[3],1e-6);return P[0]/=O,P[1]/=O,P[2]/=O,P}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new a.Point(n[0],n[1])}{const n=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,n))}}getCameraToCenterDistance(n,l=this.zoom,m=this.worldSize){const v=Bs(n,l,this.width,this.height,1024),M=n.pixelSpaceConversion(this.center.lat,m,v);return.5/Math.tan(.5*this._fov)*this.height*M}getWorldToCameraMatrix(){const n=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?this.pixelsPerMeter:1);return"globe"===this.projection.name&&a.multiply(n,n,this.globeMatrix),n}}function Ca(p,n){let l=!1,m=null;const v=()=>{m=null,l&&(p(),m=setTimeout(v,n),l=!1)};return()=>(l=!0,m||v(),m)}class j{constructor(n){this._hashName=n&&encodeURIComponent(n),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Ca(this._updateHashUnthrottled.bind(this),300)}addTo(n){return this._map=n,a.window.addEventListener("hashchange",this._onHashChange,!1),n.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),a.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const n=this._map;if(!n)return"";const l=W(n);if(this._hashName){const m=this._hashName;let v=!1;const M=a.window.location.hash.slice(1).split("&").map(P=>{const O=P.split("=")[0];return O===m?(v=!0,`${O}=${l}`):P}).filter(P=>P);return v||M.push(`${m}=${l}`),`#${M.join("&")}`}return`#${l}`}_getCurrentHash(){const n=a.window.location.hash.replace("#","");if(this._hashName){let l;return n.split("&").map(m=>m.split("=")).forEach(m=>{m[0]===this._hashName&&(l=m)}),(l&&l[1]||"").split("/")}return n.split("/")}_onHashChange(){const n=this._map;if(!n)return!1;const l=this._getCurrentHash();if(l.length>=3&&!l.some(m=>isNaN(m))){const m=n.dragRotate.isEnabled()&&n.touchZoomRotate.isEnabled()?+(l[3]||0):n.getBearing();return n.jumpTo({center:[+l[2],+l[1]],zoom:+l[0],bearing:m,pitch:+(l[4]||0)}),!0}return!1}_updateHashUnthrottled(){const n=a.window.location.href.replace(/(#.+)?$/,this.getHashString());a.window.history.replaceState(a.window.history.state,null,n)}}function W(p,n){const l=p.getCenter(),m=Math.round(100*p.getZoom())/100,v=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),M=Math.pow(10,v),P=Math.round(l.lng*M)/M,O=Math.round(l.lat*M)/M,V=p.getBearing(),$=p.getPitch();let q=n?`/${P}/${O}/${m}`:`${m}/${O}/${P}`;return(V||$)&&(q+="/"+Math.round(10*V)/10),$&&(q+=`/${Math.round($)}`),q}const ue={linearity:.3,easing:a.bezier(0,0,.3,1)},De=a.extend({deceleration:2500,maxSpeed:1400},ue),rt=a.extend({deceleration:20,maxSpeed:1400},ue),at=a.extend({deceleration:1e3,maxSpeed:360},ue),yi=a.extend({deceleration:1e3,maxSpeed:90},ue);class Ki{constructor(n){this._map=n,this.clear()}clear(){this._inertiaBuffer=[]}record(n){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.exported.now(),settings:n})}_drainInertiaBuffer(){const n=this._inertiaBuffer,l=a.exported.now();for(;n.length>0&&l-n[0].time>160;)n.shift()}_onMoveEnd(n){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const l={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:M}of this._inertiaBuffer)l.zoom+=M.zoomDelta||0,l.bearing+=M.bearingDelta||0,l.pitch+=M.pitchDelta||0,M.panDelta&&l.pan._add(M.panDelta),M.around&&(l.around=M.around),M.pinchAround&&(l.pinchAround=M.pinchAround);const m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,v={};if(l.pan.mag()){const M=or(l.pan.mag(),m,a.extend({},De,n||{}));v.offset=l.pan.mult(M.amount/l.pan.mag()),v.center=this._map.transform.center,tn(v,M)}if(l.zoom){const M=or(l.zoom,m,rt);v.zoom=this._map.transform.zoom+M.amount,tn(v,M)}if(l.bearing){const M=or(l.bearing,m,at);v.bearing=this._map.transform.bearing+a.clamp(M.amount,-179,179),tn(v,M)}if(l.pitch){const M=or(l.pitch,m,yi);v.pitch=this._map.transform.pitch+M.amount,tn(v,M)}if(v.zoom||v.bearing){const M=void 0===l.pinchAround?l.around:l.pinchAround;v.around=M?this._map.unproject(M):this._map.getCenter()}return this.clear(),v.noMoveStart=!0,v}}function tn(p,n){(!p.duration||p.duration<n.duration)&&(p.duration=n.duration,p.easing=n.easing)}function or(p,n,l){const{maxSpeed:m,linearity:v,deceleration:M}=l,P=a.clamp(p*v/(n/1e3),-m,m),O=Math.abs(P)/(M*v);return{easing:l.easing,duration:1e3*O,amount:P*(O/2)}}class vn extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(n,l,m,v={}){const M=yt(l.getCanvasContainer(),m),P=l.unproject(M);super(n,a.extend({point:M,lngLat:P,originalEvent:m},v)),this._defaultPrevented=!1,this.target=l}}class ks extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(n,l,m){const v="touchend"===n?m.changedTouches:m.touches,M=Ke(l.getCanvasContainer(),v),P=M.map(V=>l.unproject(V)),O=M.reduce((V,$,q,re)=>V.add($.div(re.length)),new a.Point(0,0));super(n,{points:M,point:O,lngLats:P,lngLat:l.unproject(O),originalEvent:m}),this._defaultPrevented=!1}}class Qa extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(n,l,m){super(n,{originalEvent:m}),this._defaultPrevented=!1}}class Pl{constructor(n,l){this._map=n,this._clickTolerance=l.clickTolerance}reset(){this._mousedownPos=void 0}wheel(n){return this._firePreventable(new Qa(n.type,this._map,n))}mousedown(n,l){return this._mousedownPos=l,this._firePreventable(new vn(n.type,this._map,n))}mouseup(n){this._map.fire(new vn(n.type,this._map,n))}preclick(n){const l=a.extend({},n);l.type="preclick",this._map.fire(new vn(l.type,this._map,l))}click(n,l){this._mousedownPos&&this._mousedownPos.dist(l)>=this._clickTolerance||(this.preclick(n),this._map.fire(new vn(n.type,this._map,n)))}dblclick(n){return this._firePreventable(new vn(n.type,this._map,n))}mouseover(n){this._map.fire(new vn(n.type,this._map,n))}mouseout(n){this._map.fire(new vn(n.type,this._map,n))}touchstart(n){return this._firePreventable(new ks(n.type,this._map,n))}touchmove(n){this._map.fire(new ks(n.type,this._map,n))}touchend(n){this._map.fire(new ks(n.type,this._map,n))}touchcancel(n){this._map.fire(new ks(n.type,this._map,n))}_firePreventable(n){if(this._map.fire(n),n.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class so{constructor(n){this._map=n}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(n){this._map.fire(new vn(n.type,this._map,n))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new vn("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(n){this._delayContextMenu?this._contextMenuEvent=n:this._map.fire(new vn(n.type,this._map,n)),this._map.listens("contextmenu")&&n.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Xl{constructor(n,l){this._map=n,this._el=n.getCanvasContainer(),this._container=n.getContainer(),this._clickTolerance=l.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(n,l){this.isEnabled()&&n.shiftKey&&0===n.button&&(Mt(),this._startPos=this._lastPos=l,this._active=!0)}mousemoveWindow(n,l){if(!this._active)return;const m=l,v=this._startPos,M=this._lastPos;if(!v||!M||M.equals(m)||!this._box&&m.dist(v)<this._clickTolerance)return;this._lastPos=m,this._box||(this._box=ye("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",n));const P=Math.min(v.x,m.x),O=Math.max(v.x,m.x),V=Math.min(v.y,m.y),$=Math.max(v.y,m.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${P}px,${V}px)`,this._box.style.width=O-P+"px",this._box.style.height=$-V+"px")})}mouseupWindow(n,l){if(!this._active)return;const m=this._startPos,v=l;if(m&&0===n.button){if(this.reset(),Je(),m.x!==v.x||m.y!==v.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:n})),{cameraAnimation:M=>M.fitScreenCoordinates(m,v,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",n)}}keydown(n){this._active&&27===n.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",n))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),qe(),delete this._startPos,delete this._lastPos}_fireEvent(n,l){return this._map.fire(new a.Event(n,{originalEvent:l}))}}function Xo(p,n){const l={};for(let m=0;m<p.length;m++)l[p[m].identifier]=n[m];return l}class Lo{constructor(n){this.reset(),this.numTouches=n.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(n,l,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=n.timeStamp),m.length===this.numTouches&&(this.centroid=function(v){const M=new a.Point(0,0);for(const P of v)M._add(P);return M.div(v.length)}(l),this.touches=Xo(m,l)))}touchmove(n,l,m){if(this.aborted||!this.centroid)return;const v=Xo(m,l);for(const M in this.touches){const P=v[M];(!P||P.dist(this.touches[M])>30)&&(this.aborted=!0)}}touchend(n,l,m){if((!this.centroid||n.timeStamp-this.startTime>500)&&(this.aborted=!0),0===m.length){const v=!this.aborted&&this.centroid;if(this.reset(),v)return v}}}class Jl{constructor(n){this.singleTap=new Lo(n),this.numTaps=n.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(n,l,m){this.singleTap.touchstart(n,l,m)}touchmove(n,l,m){this.singleTap.touchmove(n,l,m)}touchend(n,l,m){const v=this.singleTap.touchend(n,l,m);if(v){const M=n.timeStamp-this.lastTime<500,P=!this.lastTap||this.lastTap.dist(v)<30;if(M&&P||this.reset(),this.count++,this.lastTime=n.timeStamp,this.lastTap=v,this.count===this.numTaps)return this.reset(),v}}}class Vc{constructor(){this._zoomIn=new Jl({numTouches:1,numTaps:2}),this._zoomOut=new Jl({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(n,l,m){this._zoomIn.touchstart(n,l,m),this._zoomOut.touchstart(n,l,m)}touchmove(n,l,m){this._zoomIn.touchmove(n,l,m),this._zoomOut.touchmove(n,l,m)}touchend(n,l,m){const v=this._zoomIn.touchend(n,l,m),M=this._zoomOut.touchend(n,l,m);return v?(this._active=!0,n.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:P.getZoom()+1,around:P.unproject(v)},{originalEvent:n})}):M?(this._active=!0,n.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:P.getZoom()-1,around:P.unproject(M)},{originalEvent:n})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const vc={0:1,2:2};class Jo{constructor(n){this.reset(),this._clickTolerance=n.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(n,l){return!1}_move(n,l){return{}}mousedown(n,l){if(this._lastPoint)return;const m=Ve(n);this._correctButton(n,m)&&(this._lastPoint=l,this._eventButton=m)}mousemoveWindow(n,l){const m=this._lastPoint;if(m)if(n.preventDefault(),null!=this._eventButton&&function(v,M){const P=vc[M];return void 0===v.buttons||(v.buttons&P)!==P}(n,this._eventButton))this.reset();else if(this._moved||!(l.dist(m)<this._clickTolerance))return this._moved=!0,this._lastPoint=l,this._move(m,l)}mouseupWindow(n){this._lastPoint&&Ve(n)===this._eventButton&&(this._moved&&Je(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Kl extends Jo{mousedown(n,l){super.mousedown(n,l),this._lastPoint&&(this._active=!0)}_correctButton(n,l){return 0===l&&!n.ctrlKey}_move(n,l){return{around:l,panDelta:l.sub(n)}}}class Ea extends Jo{_correctButton(n,l){return 0===l&&n.ctrlKey||2===l}_move(n,l){const m=.8*(l.x-n.x);if(m)return this._active=!0,{bearingDelta:m}}contextmenu(n){n.preventDefault()}}class Ko extends Jo{_correctButton(n,l){return 0===l&&n.ctrlKey||2===l}_move(n,l){const m=-.5*(l.y-n.y);if(m)return this._active=!0,{pitchDelta:m}}contextmenu(n){n.preventDefault()}}class Il{constructor(n,l){this._map=n,this._el=n.getCanvasContainer(),this._minTouches=1,this._clickTolerance=l.clickTolerance||1,this.reset(),a.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)}touchstart(n,l,m){return this._calculateTransform(n,l,m)}touchmove(n,l,m){if(this._active&&!(m.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===m.length&&!a.isFullscreen())return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return n.cancelable&&n.preventDefault(),this._calculateTransform(n,l,m)}}touchend(n,l,m){this._calculateTransform(n,l,m),this._active&&m.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(n,l,m){m.length>0&&(this._active=!0);const v=Xo(m,l),M=new a.Point(0,0),P=new a.Point(0,0);let O=0;for(const $ in v){const q=v[$],re=this._touches[$];re&&(M._add(q),P._add(q.sub(re)),O++,v[$]=q)}if(this._touches=v,O<this._minTouches||!P.mag())return;const V=P.div(O);return this._sum._add(V),this._sum.mag()<this._clickTolerance?void 0:{around:M.div(O),panDelta:V}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=ye("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class So{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(n){}_move(n,l,m){return{}}touchstart(n,l,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([l[0],l[1]]))}touchmove(n,l,m){const v=this._firstTwoTouches;if(!v)return;n.preventDefault();const[M,P]=v,O=Qo(m,l,M),V=Qo(m,l,P);if(!O||!V)return;const $=this._aroundCenter?null:O.add(V).div(2);return this._move([O,V],$,n)}touchend(n,l,m){if(!this._firstTwoTouches)return;const[v,M]=this._firstTwoTouches,P=Qo(m,l,v),O=Qo(m,l,M);P&&O||(this._active&&Je(),this.reset())}touchcancel(){this.reset()}enable(n){this._enabled=!0,this._aroundCenter=!!n&&"center"===n.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Qo(p,n,l){for(let m=0;m<p.length;m++)if(p[m].identifier===l)return n[m]}function Ql(p,n){return Math.log(p/n)/Math.LN2}class ec extends So{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(n){this._startDistance=this._distance=n[0].dist(n[1])}_move(n,l){const m=this._distance;if(this._distance=n[0].dist(n[1]),this._active||!(Math.abs(Ql(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ql(this._distance,m),pinchAround:l}}}function el(p,n){return 180*p.angleWith(n)/Math.PI}class ml extends So{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(n){this._startVector=this._vector=n[0].sub(n[1]),this._minDiameter=n[0].dist(n[1])}_move(n,l){const m=this._vector;if(this._vector=n[0].sub(n[1]),m&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:el(this._vector,m),pinchAround:l}}_isBelowThreshold(n){this._minDiameter=Math.min(this._minDiameter,n.mag());const l=25/(Math.PI*this._minDiameter)*360,m=this._startVector;if(!m)return!1;const v=el(n,m);return Math.abs(v)<l}}function Vn(p){return Math.abs(p.y)>Math.abs(p.x)}class tc extends So{constructor(n){super(),this._map=n}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(n){this._lastPoints=n,Vn(n[0].sub(n[1]))&&(this._valid=!1)}_move(n,l,m){const v=this._lastPoints;if(!v)return;const M=n[0].sub(v[0]),P=n[1].sub(v[1]);return this._map._cooperativeGestures&&!a.isFullscreen()&&m.touches.length<3||(this._valid=this.gestureBeginsVertically(M,P,m.timeStamp),!this._valid)?void 0:(this._lastPoints=n,this._active=!0,{pitchDelta:(M.y+P.y)/2*-.5})}gestureBeginsVertically(n,l,m){if(void 0!==this._valid)return this._valid;const v=n.mag()>=2,M=l.mag()>=2;if(!v&&!M)return;if(!v||!M)return null==this._firstMove&&(this._firstMove=m),m-this._firstMove<100&&void 0;const P=n.y>0==l.y>0;return Vn(n)&&Vn(l)&&P}}const bc={panStep:100,bearingStep:15,pitchStep:10};class xc{constructor(){const n=bc;this._panStep=n.panStep,this._bearingStep=n.bearingStep,this._pitchStep=n.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(n){if(n.altKey||n.ctrlKey||n.metaKey)return;let l=0,m=0,v=0,M=0,P=0;switch(n.keyCode){case 61:case 107:case 171:case 187:l=1;break;case 189:case 109:case 173:l=-1;break;case 37:n.shiftKey?m=-1:(n.preventDefault(),M=-1);break;case 39:n.shiftKey?m=1:(n.preventDefault(),M=1);break;case 38:n.shiftKey?v=1:(n.preventDefault(),P=-1);break;case 40:n.shiftKey?v=-1:(n.preventDefault(),P=1);break;default:return}return this._rotationDisabled&&(m=0,v=0),{cameraAnimation:O=>{const V=O.getZoom();O.easeTo({duration:300,easeId:"keyboardHandler",easing:ic,zoom:l?Math.round(V)+l*(n.shiftKey?2:1):V,bearing:O.getBearing()+m*this._bearingStep,pitch:O.getPitch()+v*this._pitchStep,offset:[-M*this._panStep,-P*this._panStep],center:O.getCenter()},{originalEvent:n})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function ic(p){return p*(2-p)}const gl=4.000244140625;class nc{constructor(n,l){this._map=n,this._el=n.getCanvasContainer(),this._handler=l,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,a.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(n){this._defaultZoomRate=n}setWheelZoomRate(n){this._wheelZoomRate=n}isEnabled(){return!!this._enabled}isActive(){return this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(n){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!n&&"center"===n.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(n){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(n.ctrlKey||n.metaKey||this.isZooming()||a.isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let l=n.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*n.deltaY:n.deltaY;const m=a.exported.now(),v=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,0!==l&&l%gl==0?this._type="wheel":0!==l&&Math.abs(l)<4?this._type="trackpad":v>400?(this._type=null,this._lastValue=l,this._timeout=setTimeout(this._onTimeout,40,n)):this._type||(this._type=Math.abs(v*l)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,l+=this._lastValue)),n.shiftKey&&l&&(l/=4),this._type&&(this._lastWheelEvent=n,this._delta-=l,this._active||this._start(n)),n.preventDefault()}_onTimeout(n){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(n)}_start(n){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const l=yt(this._el,n);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:l,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const n=this._map.transform;"wheel"===this._type&&n.projection.wrap&&(n._center.lng>=180||n._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const l=()=>n._terrainEnabled()&&this._aroundCoord?n.computeZoomRelativeTo(this._aroundCoord):n.zoom;if(0!==this._delta){const V="wheel"===this._type&&Math.abs(this._delta)>gl?this._wheelZoomRate:this._defaultZoomRate;let $=2/(1+Math.exp(-Math.abs(this._delta*V)));this._delta<0&&0!==$&&($=1/$);const q=l(),re=Math.pow(2,q),r="number"==typeof this._targetZoom?n.zoomScale(this._targetZoom):re;this._targetZoom=Math.min(n.maxZoom,Math.max(n.minZoom,n.scaleZoom(r*$))),"wheel"===this._type&&(this._startZoom=q,this._easing=this._smoothOutEasing(200)),this._delta=0}const m="number"==typeof this._targetZoom?this._targetZoom:l(),v=this._startZoom,M=this._easing;let P,O=!1;if("wheel"===this._type&&v&&M){const V=Math.min((a.exported.now()-this._lastWheelEventTime)/200,1),$=M(V);P=a.number(v,m,$),V<1?this._frameId||(this._frameId=!0):O=!0}else P=m,O=!0;return this._active=!0,O&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!O,zoomDelta:P-l(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(n){let l=a.ease;if(this._prevEase){const m=this._prevEase,v=(a.exported.now()-m.start)/m.duration,M=m.easing(v+.01)-m.easing(v),P=.27/Math.sqrt(M*M+1e-4)*.01,O=Math.sqrt(.0729-P*P);l=a.bezier(P,O,.25,1)}return this._prevEase={start:a.exported.now(),duration:n,easing:l},l}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=ye("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(a.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class oo{constructor(n,l){this._clickZoom=n,this._tapZoom=l}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class _r{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(n,l){return n.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:m.getZoom()+(n.shiftKey?-1:1),around:m.unproject(l)},{originalEvent:n})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class js{constructor(){this._tap=new Jl({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(n,l,m){this._swipePoint||(this._tapTime&&n.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?m.length>0&&(this._swipePoint=l[0],this._swipeTouch=m[0].identifier):this._tap.touchstart(n,l,m))}touchmove(n,l,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;const v=l[0],M=v.y-this._swipePoint.y;return this._swipePoint=v,n.preventDefault(),this._active=!0,{zoomDelta:M/128}}}else this._tap.touchmove(n,l,m)}touchend(n,l,m){this._tapTime?this._swipePoint&&0===m.length&&this.reset():this._tap.touchend(n,l,m)&&(this._tapTime=n.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class tl{constructor(n,l,m){this._el=n,this._mousePan=l,this._touchPan=m}enable(n){this._inertiaOptions=n||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Hc{constructor(n,l,m){this._pitchWithRotate=n.pitchWithRotate,this._mouseRotate=l,this._mousePitch=m}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Nc{constructor(n,l,m,v){this._el=n,this._touchZoom=l,this._touchRotate=m,this._tapDragZoom=v,this._rotationDisabled=!1,this._enabled=!0}enable(n){this._touchZoom.enable(n),this._rotationDisabled||this._touchRotate.enable(n),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Aa=p=>p.zoom||p.drag||p.pitch||p.rotate;class wc extends a.Event{}class Uc{constructor(){this.constants=[1,1,.01],this.radius=0}setup(n,l){const m=a.sub([],l,n);this.radius=a.length(m[2]<0?a.div([],m,this.constants):[m[0],m[1],0])}projectRay(n){a.div(n,n,this.constants),a.normalize(n,n),a.mul$1(n,n,this.constants);const l=a.scale$2([],n,this.radius);if(l[2]>0){const m=a.scale$2([],[0,0,1],a.dot(l,[0,0,1])),v=a.scale$2([],a.normalize([],[l[0],l[1],0]),this.radius),M=a.add([],l,a.scale$2([],a.sub([],a.add([],v,m),l),2));l[0]=M[0],l[1]=M[1]}return l}}function Pa(p){return p.panDelta&&p.panDelta.mag()||p.zoomDelta||p.bearingDelta||p.pitchDelta}class es{constructor(n,l){this._map=n,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Ki(n),this._bearingSnap=l.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Uc,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(l),a.bindAll(["handleEvent","handleWindowEvent"],this);const m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[a.window,"blur",void 0]];for(const[v,M,P]of this._listeners)v.addEventListener(M,v===a.window.document?this.handleWindowEvent:this.handleEvent,P)}destroy(){for(const[n,l,m]of this._listeners)n.removeEventListener(l,n===a.window.document?this.handleWindowEvent:this.handleEvent,m)}_addDefaultHandlers(n){const l=this._map,m=l.getCanvasContainer();this._add("mapEvent",new Pl(l,n));const v=l.boxZoom=new Xl(l,n);this._add("boxZoom",v);const M=new Vc,P=new _r;l.doubleClickZoom=new oo(P,M),this._add("tapZoom",M),this._add("clickZoom",P);const O=new js;this._add("tapDragZoom",O);const V=l.touchPitch=new tc(l);this._add("touchPitch",V);const $=new Ea(n),q=new Ko(n);l.dragRotate=new Hc(n,$,q),this._add("mouseRotate",$,["mousePitch"]),this._add("mousePitch",q,["mouseRotate"]);const re=new Kl(n),r=new Il(l,n);l.dragPan=new tl(m,re,r),this._add("mousePan",re),this._add("touchPan",r,["touchZoom","touchRotate"]);const o=new ml,h=new ec;l.touchZoomRotate=new Nc(m,h,o,O),this._add("touchRotate",o,["touchPan","touchZoom"]),this._add("touchZoom",h,["touchPan","touchRotate"]),this._add("blockableMapEvent",new so(l));const f=l.scrollZoom=new nc(l,this);this._add("scrollZoom",f,["mousePan"]);const y=l.keyboard=new xc;this._add("keyboard",y);for(const b of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])n.interactive&&n[b]&&l[b].enable(n[b])}_add(n,l,m){this._handlers.push({handlerName:n,handler:l,allowed:m}),this._handlersById[n]=l}stop(n){if(!this._updatingCamera){for(const{handler:l}of this._handlers)l.reset();this._inertia.clear(),this._fireEvents({},{},n),this._changes=[]}}isActive(){for(const{handler:n}of this._handlers)if(n.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Aa(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(n,l,m){for(const v in n)if(v!==m&&(!l||l.indexOf(v)<0))return!0;return!1}handleWindowEvent(n){this.handleEvent(n,`${n.type}Window`)}_getMapTouches(n){const l=[];for(const m of n)this._el.contains(m.target)&&l.push(m);return l}handleEvent(n,l){this._updatingCamera=!0;const m="renderFrame"===n.type,v=m?void 0:n,M={needsRenderFrame:!1},P={},O={},V=n.touches?this._getMapTouches(n.touches):void 0,$=V?Ke(this._el,V):m?void 0:yt(this._el,n);for(const{handlerName:r,handler:o,allowed:h}of this._handlers){if(!o.isEnabled())continue;let f;this._blockedByActive(O,h,r)?o.reset():o[l||n.type]&&(f=o[l||n.type](n,$,V),this.mergeHandlerResult(M,P,f,r,v),f&&f.needsRenderFrame&&this._triggerRenderFrame()),(f||o.isActive())&&(O[r]=o)}const q={};for(const r in this._previousActiveHandlers)O[r]||(q[r]=v);this._previousActiveHandlers=O,(Object.keys(q).length||Pa(M))&&(this._changes.push([M,P,q]),this._triggerRenderFrame()),(Object.keys(O).length||Pa(M))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:re}=M;re&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],re(this._map))}mergeHandlerResult(n,l,m,v,M){if(!m)return;a.extend(n,m);const P={handlerName:v,originalEvent:m.originalEvent||M};void 0!==m.zoomDelta&&(l.zoom=P),void 0!==m.panDelta&&(l.drag=P),void 0!==m.pitchDelta&&(l.pitch=P),void 0!==m.bearingDelta&&(l.rotate=P)}_applyChanges(){const n={},l={},m={};for(const[v,M,P]of this._changes)v.panDelta&&(n.panDelta=(n.panDelta||new a.Point(0,0))._add(v.panDelta)),v.zoomDelta&&(n.zoomDelta=(n.zoomDelta||0)+v.zoomDelta),v.bearingDelta&&(n.bearingDelta=(n.bearingDelta||0)+v.bearingDelta),v.pitchDelta&&(n.pitchDelta=(n.pitchDelta||0)+v.pitchDelta),void 0!==v.around&&(n.around=v.around),void 0!==v.aroundCoord&&(n.aroundCoord=v.aroundCoord),void 0!==v.pinchAround&&(n.pinchAround=v.pinchAround),v.noInertia&&(n.noInertia=v.noInertia),a.extend(l,M),a.extend(m,P);this._updateMapTransform(n,l,m),this._changes=[]}_updateMapTransform(n,l,m){const v=this._map,M=v.transform,P=k=>[k.x,k.y,k.z];if((k=>{const I=this._eventsInProgress.drag;return I&&!this._handlersById[I.handlerName].isActive()})()&&!Pa(n)){const k=M.zoom;M.cameraElevationReference="sea",M.recenterOnTerrain(),M.cameraElevationReference="ground",k!==M.zoom&&this._map._update(!0)}if(M._isCameraConstrained&&v._stop(!0),!Pa(n))return void this._fireEvents(l,m,!0);let{panDelta:O,zoomDelta:V,bearingDelta:$,pitchDelta:q,around:re,aroundCoord:r,pinchAround:o}=n;M._isCameraConstrained&&(V>0&&(V=0),M._isCameraConstrained=!1),void 0!==o&&(re=o),(V||(k=>l[k]&&!this._eventsInProgress[k])("drag"))&&re&&(this._dragOrigin=P(M.pointCoordinate3D(re)),this._trackingEllipsoid.setup(M._camera.position,this._dragOrigin)),M.cameraElevationReference="sea",v._stop(!0),re=re||v.transform.centerPoint,$&&(M.bearing+=$),q&&(M.pitch+=q),M._updateCameraState();const h=[0,0,0];if(O)if("mercator"===M.projection.name){const k=this._trackingEllipsoid.projectRay(M.screenPointToMercatorRay(re).dir),I=this._trackingEllipsoid.projectRay(M.screenPointToMercatorRay(re.sub(O)).dir);h[0]=I[0]-k[0],h[1]=I[1]-k[1]}else{const k=M.pointCoordinate(re);if("globe"===M.projection.name){O=O.rotate(-M.angle);const I=M._pixelsPerMercatorPixel/M.worldSize;h[0]=-O.x*a.mercatorScale(a.latFromMercatorY(k.y))*I,h[1]=-O.y*a.mercatorScale(M.center.lat)*I}else{const I=M.pointCoordinate(re.sub(O));k&&I&&(h[0]=I.x-k.x,h[1]=I.y-k.y)}}const f=M.zoom,y=[0,0,0];if(V){const k=P(r||M.pointCoordinate3D(re)),I={dir:a.normalize([],a.sub([],k,M._camera.position))};if(I.dir[2]<0){const C=M.zoomDeltaToMovement(k,V);a.scale$2(y,I.dir,C)}}const b=a.add(h,h,y);M._translateCameraConstrained(b),V&&Math.abs(M.zoom-f)>1e-4&&M.recenterOnTerrain(),M.cameraElevationReference="ground",this._map._update(),n.noInertia||this._inertia.record(n),this._fireEvents(l,m,!0)}_fireEvents(n,l,m){const v=Aa(this._eventsInProgress),M=Aa(n),P={};for(const q in n){const{originalEvent:re}=n[q];this._eventsInProgress[q]||(P[`${q}start`]=re),this._eventsInProgress[q]=n[q]}!v&&M&&this._fireEvent("movestart",M.originalEvent);for(const q in P)this._fireEvent(q,P[q]);M&&this._fireEvent("move",M.originalEvent);for(const q in n){const{originalEvent:re}=n[q];this._fireEvent(q,re)}const O={};let V;for(const q in this._eventsInProgress){const{handlerName:re,originalEvent:r}=this._eventsInProgress[q];this._handlersById[re].isActive()||(delete this._eventsInProgress[q],V=l[re]||r,O[`${q}end`]=V)}for(const q in O)this._fireEvent(q,O[q]);const $=Aa(this._eventsInProgress);if(m&&(v||M)&&!$){this._updatingCamera=!0;const q=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),re=r=>0!==r&&-this._bearingSnap<r&&r<this._bearingSnap;q?(re(q.bearing||this._map.getBearing())&&(q.bearing=0),this._map.easeTo(q,{originalEvent:V})):(this._map.fire(new a.Event("moveend",{originalEvent:V})),re(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(n,l){this._map.fire(new a.Event(n,l?{originalEvent:l}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(n=>{this._frameId=void 0,this.handleEvent(new wc("renderFrame",{timeStamp:n})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const lo="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Ol extends a.Evented{constructor(n,l){super(),this._moving=!1,this._zooming=!1,this.transform=n,this._bearingSnap=l.bearingSnap,this._respectPrefersReducedMotion=!1!==l.respectPrefersReducedMotion,a.bindAll(["_renderFrameCallback"],this)}getCenter(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(n,l){return this.jumpTo({center:n},l)}panBy(n,l,m){return n=a.Point.convert(n).mult(-1),this.panTo(this.transform.center,a.extend({offset:n},l),m)}panTo(n,l,m){return this.easeTo(a.extend({center:n},l),m)}getZoom(){return this.transform.zoom}setZoom(n,l){return this.jumpTo({zoom:n},l),this}zoomTo(n,l,m){return this.easeTo(a.extend({zoom:n},l),m)}zoomIn(n,l){return this.zoomTo(this.getZoom()+1,n,l),this}zoomOut(n,l){return this.zoomTo(this.getZoom()-1,n,l),this}getBearing(){return this.transform.bearing}setBearing(n,l){return this.jumpTo({bearing:n},l),this}getPadding(){return this.transform.padding}setPadding(n,l){return this.jumpTo({padding:n},l),this}rotateTo(n,l,m){return this.easeTo(a.extend({bearing:n},l),m)}resetNorth(n,l){return this.rotateTo(0,a.extend({duration:1e3},n),l),this}resetNorthPitch(n,l){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},n),l),this}snapToNorth(n,l){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(n,l):this}getPitch(){return this.transform.pitch}setPitch(n,l){return this.jumpTo({pitch:n},l),this}cameraForBounds(n,l){n=a.LngLatBounds.convert(n);const m=l&&l.bearing||0,v=l&&l.pitch||0,M=n.getNorthWest(),P=n.getSouthEast();return this._cameraForBounds(this.transform,M,P,m,v,l)}_extendCameraOptions(n){const l={top:0,bottom:0,right:0,left:0};if("number"==typeof(n=a.extend({padding:l,offset:[0,0],maxZoom:this.transform.maxZoom},n)).padding){const m=n.padding;n.padding={top:m,bottom:m,right:m,left:m}}return n.padding=a.extend(l,n.padding),n}_minimumAABBFrustumDistance(n,l){const m=l.max[0]-l.min[0],v=l.max[1]-l.min[1];return m/v>n.aspect?m/(2*Math.tan(.5*n.fovX)*n.aspect):v/(2*Math.tan(.5*n.fovY)*n.aspect)}_cameraForBoundsOnGlobe(n,l,m,v,M,P){const O=n.clone(),V=this._extendCameraOptions(P);O.bearing=v,O.pitch=M;const $=a.LngLat.convert(l),q=a.LngLat.convert(m),re=.5*($.lat+q.lat),r=.5*($.lng+q.lng),o=a.latLngToECEF(re,r),h=a.normalize([],o),f=a.normalize([],a.cross([],h,[0,1,0])),y=a.cross([],f,h),b=[f[0],f[1],f[2],0,y[0],y[1],y[2],0,h[0],h[1],h[2],0,0,0,0,1],k=[o,a.latLngToECEF($.lat,$.lng),a.latLngToECEF(q.lat,$.lng),a.latLngToECEF(q.lat,q.lng),a.latLngToECEF($.lat,q.lng),a.latLngToECEF(re,$.lng),a.latLngToECEF(re,q.lng),a.latLngToECEF($.lat,r),a.latLngToECEF(q.lat,r)];let I=a.Aabb.fromPoints(k.map(tt=>[a.dot(f,tt),a.dot(y,tt),a.dot(h,tt)]));const C=a.transformMat4([],I.center,b);0===a.squaredLength(C)&&a.set(C,0,0,1),a.normalize(C,C),a.scale$2(C,C,a.GLOBE_RADIUS),O.center=a.ecefToLatLng(C);const F=O.getWorldToCameraMatrix(),N=a.invert(new Float64Array(16),F);I=a.Aabb.applyTransform(I,a.multiply([],F,b)),a.transformMat4(C,C,F);const U=.5*(I.max[2]-I.min[2]),ie=this._minimumAABBFrustumDistance(O,I),ce=a.scale$2([],[0,0,1],U),he=a.add(ce,C,ce),ve=ie+(0===O.pitch?0:a.distance(C,he)),ge=O.globeCenterInViewSpace,Ce=a.sub([],C,[ge[0],ge[1],ge[2]]);a.normalize(Ce,Ce),a.scale$2(Ce,Ce,ve);const Re=a.add([],C,Ce);a.transformMat4(Re,Re,N);const Ze=a.earthRadius/a.GLOBE_RADIUS,Be=a.length(Re),Ge=a.mercatorZfromAltitude(Math.max(Be*Ze-a.earthRadius,Number.EPSILON),0),lt=Math.min(O.zoomFromMercatorZAdjusted(Ge),V.maxZoom);return lt>.5*(a.GLOBE_ZOOM_THRESHOLD_MIN+a.GLOBE_ZOOM_THRESHOLD_MAX)?(O.setProjection({name:"mercator"}),O.zoom=lt,this._cameraForBounds(O,l,m,v,M,P)):{center:O.center,zoom:lt,bearing:v,pitch:M}}queryTerrainElevation(n,l){const m=this.transform.elevation;return m?(l=a.extend({},{exaggerated:!0},l),m.getAtPoint(a.MercatorCoordinate.fromLngLat(n),null,l.exaggerated)):null}_cameraForBounds(n,l,m,v,M,P){if("globe"===n.projection.name)return this._cameraForBoundsOnGlobe(n,l,m,v,M,P);const O=n.clone(),V=this._extendCameraOptions(P),$=O.padding;O.bearing=v,O.pitch=M;const q=a.LngLat.convert(l),re=a.LngLat.convert(m),r=new a.LngLat(q.lng,re.lat),o=new a.LngLat(re.lng,q.lat),h=O.project(q),f=O.project(re),y=this.queryTerrainElevation(q),b=this.queryTerrainElevation(re),k=this.queryTerrainElevation(r),I=this.queryTerrainElevation(o),C=[[h.x,h.y,Math.min(y||0,b||0,k||0,I||0)],[f.x,f.y,Math.max(y||0,b||0,k||0,I||0)]];let F=a.Aabb.fromPoints(C);const N=O.getWorldToCameraMatrix(),U=a.invert(new Float64Array(16),N);F=a.Aabb.applyTransform(F,N);const ie=a.sub([],F.max,F.min),ce=$.left||0,he=$.right||0,ve=$.bottom||0,ge=$.top||0,{left:Ce,right:Re,top:Ze,bottom:Be}=V.padding,Ge=.5*(ce+he),lt=.5*(ge+ve),tt=Math.min(O.scaleZoom(O.scale*Math.min((O.width-(ce+he+Ce+Re))/ie[0],(O.height-(ve+ge+Be+Ze))/ie[1])),V.maxZoom),ot=O.scale/O.zoomScale(tt);F=new a.Aabb([F.min[0]-(Ce+Ge)*ot,F.min[1]-(Be+lt)*ot,F.min[2]],[F.max[0]+(Re+Ge)*ot,F.max[1]+(Ze+lt)*ot,F.max[2]]);const Ct=.5*ie[2],Nt=this._minimumAABBFrustumDistance(O,F),At=[0,0,1,0];a.transformMat4$1(At,At,N),a.normalize$2(At,At);const jt=a.scale$2([],At,Nt+Ct),Yt=a.add([],F.center,jt),ai=("number"==typeof V.offset.x&&"number"==typeof V.offset.y?new a.Point(V.offset.x,V.offset.y):a.Point.convert(V.offset)).rotate(-a.degToRad(v));F.center[0]-=ai.x*ot,F.center[1]+=ai.y*ot,a.transformMat4(F.center,F.center,U),a.transformMat4(Yt,Yt,U);const Vt=[F.center[0],F.center[1],Yt[2]*O.pixelsPerMeter];a.scale$2(Vt,Vt,1/O.worldSize);const Ei=a.lngFromMercatorX(Vt[0]),rn=a.latFromMercatorY(Vt[1]),qt=Math.min(O._zoomFromMercatorZ(Vt[2]),V.maxZoom),T=new a.LngLat(Ei,rn);return O.mercatorFromTransition&&qt<.5*(a.GLOBE_ZOOM_THRESHOLD_MIN+a.GLOBE_ZOOM_THRESHOLD_MAX)?(O.setProjection({name:"globe"}),O.zoom=qt,this._cameraForBounds(O,l,m,v,M,P)):{center:T,zoom:qt,bearing:v,pitch:M}}fitBounds(n,l,m){const v=this.cameraForBounds(n,l);return this._fitInternal(v,l,m)}fitScreenCoordinates(n,l,m,v,M){const P=a.Point.convert(n),O=a.Point.convert(l),V=new a.Point(Math.min(P.x,O.x),Math.min(P.y,O.y)),$=new a.Point(Math.max(P.x,O.x),Math.max(P.y,O.y));if("mercator"===this.transform.projection.name&&this.transform.anyCornerOffEdge(P,O))return this;const q=this.transform.pointLocation3D(V),re=this.transform.pointLocation3D($),r=this.transform.pointLocation3D(new a.Point(V.x,$.y)),o=this.transform.pointLocation3D(new a.Point($.x,V.y)),h=[Math.min(q.lng,re.lng,r.lng,o.lng),Math.min(q.lat,re.lat,r.lat,o.lat)],f=[Math.max(q.lng,re.lng,r.lng,o.lng),Math.max(q.lat,re.lat,r.lat,o.lat)],y=v&&v.pitch?v.pitch:this.getPitch(),b=this._cameraForBounds(this.transform,h,f,m,y,v);return this._fitInternal(b,v,M)}_fitInternal(n,l,m){return n?(delete(l=a.extend(n,l)).padding,l.linear?this.easeTo(l,m):this.flyTo(l,m)):this}jumpTo(n,l){this.stop();const m=n.preloadOnly?this.transform.clone():this.transform;let v=!1,M=!1,P=!1;return"zoom"in n&&m.zoom!==+n.zoom&&(v=!0,m.zoom=+n.zoom),void 0!==n.center&&(m.center=a.LngLat.convert(n.center)),"bearing"in n&&m.bearing!==+n.bearing&&(M=!0,m.bearing=+n.bearing),"pitch"in n&&m.pitch!==+n.pitch&&(P=!0,m.pitch=+n.pitch),null==n.padding||m.isPaddingEqual(n.padding)||(m.padding=n.padding),n.preloadOnly?(this._preloadTiles(m),this):(this.fire(new a.Event("movestart",l)).fire(new a.Event("move",l)),v&&this.fire(new a.Event("zoomstart",l)).fire(new a.Event("zoom",l)).fire(new a.Event("zoomend",l)),M&&this.fire(new a.Event("rotatestart",l)).fire(new a.Event("rotate",l)).fire(new a.Event("rotateend",l)),P&&this.fire(new a.Event("pitchstart",l)).fire(new a.Event("pitch",l)).fire(new a.Event("pitchend",l)),this.fire(new a.Event("moveend",l)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||a.warnOnce(lo),this.transform.getFreeCameraOptions()}setFreeCameraOptions(n,l){const m=this.transform;if(!m.projection.supportsFreeCamera)return a.warnOnce(lo),this;this.stop();const v=m.zoom,M=m.pitch,P=m.bearing;m.setFreeCameraOptions(n);const O=v!==m.zoom,V=M!==m.pitch,$=P!==m.bearing;return this.fire(new a.Event("movestart",l)).fire(new a.Event("move",l)),O&&this.fire(new a.Event("zoomstart",l)).fire(new a.Event("zoom",l)).fire(new a.Event("zoomend",l)),$&&this.fire(new a.Event("rotatestart",l)).fire(new a.Event("rotate",l)).fire(new a.Event("rotateend",l)),V&&this.fire(new a.Event("pitchstart",l)).fire(new a.Event("pitch",l)).fire(new a.Event("pitchend",l)),this.fire(new a.Event("moveend",l)),this}easeTo(n,l){this._stop(!1,n.easeId),(!1===(n=a.extend({offset:[0,0],duration:500,easing:a.ease},n)).animate||this._prefersReducedMotion(n))&&(n.duration=0);const m=this.transform,v=this.getZoom(),M=this.getBearing(),P=this.getPitch(),O=this.getPadding(),V="zoom"in n?+n.zoom:v,$="bearing"in n?this._normalizeBearing(n.bearing,M):M,q="pitch"in n?+n.pitch:P,re="padding"in n?n.padding:m.padding,r=a.Point.convert(n.offset);let o,h,f;if("globe"===m.projection.name){const ce=a.MercatorCoordinate.fromLngLat(m.center),he=r.rotate(-m.angle);ce.x+=he.x/m.worldSize,ce.y+=he.y/m.worldSize;const ve=ce.toLngLat(),ge=a.LngLat.convert(n.center||ve);this._normalizeCenter(ge),o=m.centerPoint.add(he),h=new a.Point(ce.x,ce.y).mult(m.worldSize),f=new a.Point(a.mercatorXfromLng(ge.lng),a.mercatorYfromLat(ge.lat)).mult(m.worldSize).sub(h)}else{o=m.centerPoint.add(r);const ce=m.pointLocation(o),he=a.LngLat.convert(n.center||ce);this._normalizeCenter(he),h=m.project(ce),f=m.project(he).sub(h)}const y=m.zoomScale(V-v);let b,k;n.around&&(b=a.LngLat.convert(n.around),k=m.locationPoint(b));const I=this._zooming||V!==v,C=this._rotating||M!==$,F=this._pitching||q!==P,N=!m.isPaddingEqual(re),U=ce=>he=>{if(I&&(ce.zoom=a.number(v,V,he)),C&&(ce.bearing=a.number(M,$,he)),F&&(ce.pitch=a.number(P,q,he)),N&&(ce.interpolatePadding(O,re,he),o=ce.centerPoint.add(r)),b)ce.setLocationAtPoint(b,k);else{const ve=ce.zoomScale(ce.zoom-v),ge=V>v?Math.min(2,y):Math.max(.5,y),Ce=Math.pow(ge,1-he),Re=ce.unproject(h.add(f.mult(he*Ce)).mult(ve));ce.setLocationAtPoint(ce.renderWorldCopies?Re.wrap():Re,o)}return n.preloadOnly||this._fireMoveEvents(l),ce};if(n.preloadOnly){const ce=this._emulate(U,n.duration,m);return this._preloadTiles(ce),this}const ie={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=I,this._rotating=C,this._pitching=F,this._padding=N,this._easeId=n.easeId,this._prepareEase(l,n.noMoveStart,ie),this._ease(U(m),ce=>{m.recenterOnTerrain(),this._afterEase(l,ce)},n),this}_prepareEase(n,l,m={}){this._moving=!0,this.transform.cameraElevationReference="sea",l||m.moving||this.fire(new a.Event("movestart",n)),this._zooming&&!m.zooming&&this.fire(new a.Event("zoomstart",n)),this._rotating&&!m.rotating&&this.fire(new a.Event("rotatestart",n)),this._pitching&&!m.pitching&&this.fire(new a.Event("pitchstart",n))}_fireMoveEvents(n){this.fire(new a.Event("move",n)),this._zooming&&this.fire(new a.Event("zoom",n)),this._rotating&&this.fire(new a.Event("rotate",n)),this._pitching&&this.fire(new a.Event("pitch",n))}_afterEase(n,l){if(this._easeId&&l&&this._easeId===l)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const m=this._zooming,v=this._rotating,M=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,m&&this.fire(new a.Event("zoomend",n)),v&&this.fire(new a.Event("rotateend",n)),M&&this.fire(new a.Event("pitchend",n)),this.fire(new a.Event("moveend",n))}flyTo(n,l){if(this._prefersReducedMotion(n)){const tt=a.pick(n,["center","zoom","bearing","pitch","around"]);return this.jumpTo(tt,l)}this.stop(),n=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},n);const m=this.transform,v=this.getZoom(),M=this.getBearing(),P=this.getPitch(),O=this.getPadding(),V="zoom"in n?a.clamp(+n.zoom,m.minZoom,m.maxZoom):v,$="bearing"in n?this._normalizeBearing(n.bearing,M):M,q="pitch"in n?+n.pitch:P,re="padding"in n?n.padding:m.padding,r=m.zoomScale(V-v),o=a.Point.convert(n.offset);let h=m.centerPoint.add(o);const f=m.pointLocation(h),y=a.LngLat.convert(n.center||f);this._normalizeCenter(y);const b=m.project(f),k=m.project(y).sub(b);let I=n.curve;const C=Math.max(m.width,m.height),F=C/r,N=k.mag();if("minZoom"in n){const tt=a.clamp(Math.min(n.minZoom,v,V),m.minZoom,m.maxZoom),ot=C/m.zoomScale(tt-v);I=Math.sqrt(ot/N*2)}const U=I*I;function ie(tt){const ot=(F*F-C*C+(tt?-1:1)*U*U*N*N)/(2*(tt?F:C)*U*N);return Math.log(Math.sqrt(ot*ot+1)-ot)}function ce(tt){return(Math.exp(tt)-Math.exp(-tt))/2}function he(tt){return(Math.exp(tt)+Math.exp(-tt))/2}const ve=ie(0);let ge=function(tt){return he(ve)/he(ve+I*tt)},Ce=function(tt){return C*((he(ve)*(ce(ot=ve+I*tt)/he(ot))-ce(ve))/U)/N;var ot},Re=(ie(1)-ve)/I;if(Math.abs(N)<1e-6||!isFinite(Re)){if(Math.abs(C-F)<1e-6)return this.easeTo(n,l);const tt=F<C?-1:1;Re=Math.abs(Math.log(F/C))/I,Ce=function(){return 0},ge=function(ot){return Math.exp(tt*I*ot)}}n.duration="duration"in n?+n.duration:1e3*Re/("screenSpeed"in n?+n.screenSpeed/I:+n.speed),n.maxDuration&&n.duration>n.maxDuration&&(n.duration=0);const Ze=M!==$,Be=q!==P,Ge=!m.isPaddingEqual(re),lt=tt=>ot=>{const Ct=ot*Re,Nt=1/ge(Ct);tt.zoom=1===ot?V:v+tt.scaleZoom(Nt),Ze&&(tt.bearing=a.number(M,$,ot)),Be&&(tt.pitch=a.number(P,q,ot)),Ge&&(tt.interpolatePadding(O,re,ot),h=tt.centerPoint.add(o));const At=1===ot?y:tt.unproject(b.add(k.mult(Ce(Ct))).mult(Nt));return tt.setLocationAtPoint(tt.renderWorldCopies?At.wrap():At,h),tt._updateCameraOnTerrain(),n.preloadOnly||this._fireMoveEvents(l),tt};if(n.preloadOnly){const tt=this._emulate(lt,n.duration,m);return this._preloadTiles(tt),this}return this._zooming=!0,this._rotating=Ze,this._pitching=Be,this._padding=Ge,this._prepareEase(l,!1),this._ease(lt(m),()=>this._afterEase(l),n),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(n,l){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const m=this._onEaseEnd;this._onEaseEnd=void 0,m.call(this,l)}if(!n){const m=this.handlers;m&&m.stop(!1)}return this}_ease(n,l,m){!1===m.animate||0===m.duration?(n(1),l()):(this._easeStart=a.exported.now(),this._easeOptions=m,this._onEaseFrame=n,this._onEaseEnd=l,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const n=Math.min((a.exported.now()-this._easeStart)/this._easeOptions.duration,1),l=this._onEaseFrame;l&&l(this._easeOptions.easing(n)),n<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(n,l){n=a.wrap(n,-180,180);const m=Math.abs(n-l);return Math.abs(n-360-l)<m&&(n-=360),Math.abs(n+360-l)<m&&(n+=360),n}_normalizeCenter(n){const l=this.transform;if(!l.renderWorldCopies||l.maxBounds)return;const m=n.lng-l.center.lng;n.lng+=m>180?-360:m<-180?360:0}_prefersReducedMotion(n){return this._respectPrefersReducedMotion&&a.exported.prefersReducedMotion&&!(n&&n.essential)}_emulate(n,l,m){const v=Math.ceil(15*l/1e3),M=[],P=n(m.clone());for(let O=0;O<=v;O++){const V=P(O/v);M.push(V.clone())}return M}}class Bt{constructor(n={}){this.options=n,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(n){const l=this.options&&this.options.compact;return this._map=n,this._container=ye("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=ye("button","mapboxgl-ctrl-attrib-button",this._container),ye("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=ye("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),l&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===l&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(n,l){const m=this._map._getUIString(`AttributionControl.${l}`);n.setAttribute("aria-label",m),n.removeAttribute("title"),n.firstElementChild&&n.firstElementChild.setAttribute("title",m)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let n=this._editLink;n||(n=this._editLink=this._container.querySelector(".mapbox-improve-map"));const l=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(n){const m=l.reduce((v,M,P)=>(M.value&&(v+=`${M.key}=${M.value}${P<l.length-1?"&":""}`),v),"?");n.href=`${a.config.FEEDBACK_URL}/${m}#${W(this._map,!0)}`,n.rel="noopener nofollow",this._setElementTitle(n,"MapFeedback")}}_updateData(n){!n||"metadata"!==n.sourceDataType&&"visibility"!==n.sourceDataType&&"style"!==n.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let n=[];if(this._map.style.stylesheet){const v=this._map.style.stylesheet;this.styleOwner=v.owner,this.styleId=v.id}const l=this._map.style._sourceCaches;for(const v in l){const M=l[v];if(M.used){const P=M.getSource();P.attribution&&n.indexOf(P.attribution)<0&&n.push(P.attribution)}}n.sort((v,M)=>v.length-M.length),n=n.filter((v,M)=>{for(let P=M+1;P<n.length;P++)if(n[P].indexOf(v)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?n=[...this.options.customAttribution,...n]:n.unshift(this.options.customAttribution));const m=n.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,n.length?(this._innerContainer.innerHTML=m,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class rc{constructor(){a.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(n){this._map=n,this._container=ye("div","mapboxgl-ctrl");const l=ye("a","mapboxgl-ctrl-logo");return l.target="_blank",l.rel="noopener nofollow",l.href="https://www.mapbox.com/",l.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),l.setAttribute("rel","noopener nofollow"),this._container.appendChild(l),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(n){n&&"metadata"!==n.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const n=this._map.style._sourceCaches;if(0===Object.entries(n).length)return!0;for(const l in n){const m=n[l].getSource();if(m.hasOwnProperty("mapbox_logo")&&!m.mapbox_logo)return!1}return!0}_updateCompact(){const n=this._container.children;if(n.length){const l=n[0];this._map.getCanvasContainer().offsetWidth<250?l.classList.add("mapboxgl-compact"):l.classList.remove("mapboxgl-compact")}}}class ac{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(n){const l=++this._id;return this._queue.push({callback:n,id:l,cancelled:!1}),l}remove(n){const l=this._currentlyRunning,m=l?this._queue.concat(l):this._queue;for(const v of m)if(v.id===n)return void(v.cancelled=!0)}run(n=0){const l=this._currentlyRunning=this._queue;this._queue=[];for(const m of l)if(!m.cancelled&&(m.callback(n),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function il(p,n,l){if(p=new a.LngLat(p.lng,p.lat),n){const m=new a.LngLat(p.lng-360,p.lat),v=new a.LngLat(p.lng+360,p.lat),M=360*Math.ceil(Math.abs(p.lng-l.center.lng)/360),P=l.locationPoint(p).distSqr(n),O=n.x<0||n.y<0||n.x>l.width||n.y>l.height;l.locationPoint(m).distSqr(n)<P&&(O||Math.abs(m.lng-l.center.lng)<M)?p=m:l.locationPoint(v).distSqr(n)<P&&(O||Math.abs(v.lng-l.center.lng)<M)&&(p=v)}for(;Math.abs(p.lng-l.center.lng)>180;){const m=l.locationPoint(p);if(m.x>=0&&m.y>=0&&m.x<=l.width&&m.y<=l.height)break;p.lng>l.center.lng?p.lng-=360:p.lng+=360}return p}const na={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class It extends a.Evented{constructor(n,l){if(super(),(n instanceof a.window.HTMLElement||l)&&(n=a.extend({element:n},l)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=n&&n.anchor||"center",this._color=n&&n.color||"#3FB1CE",this._scale=n&&n.scale||1,this._draggable=n&&n.draggable||!1,this._clickTolerance=n&&n.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=n&&n.rotation||0,this._rotationAlignment=n&&n.rotationAlignment||"auto",this._pitchAlignment=n&&n.pitchAlignment&&n.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=n&&n.occludedOpacity||.2,n&&n.element)this._element=n.element,this._offset=a.Point.convert(n&&n.offset||[0,0]);else{this._defaultMarker=!0,this._element=ye("div");const v=41,M=27,P=Oe("svg",{display:"block",height:v*this._scale+"px",width:M*this._scale+"px",viewBox:`0 0 ${M} ${v}`},this._element),O=Oe("radialGradient",{id:"shadowGradient"},Oe("defs",{},P));Oe("stop",{offset:"10%","stop-opacity":.4},O),Oe("stop",{offset:"100%","stop-opacity":.05},O),Oe("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},P),Oe("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},P),Oe("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},P),Oe("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},P),this._offset=a.Point.convert(n&&n.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",v=>{v.preventDefault()}),this._element.addEventListener("mousedown",v=>{v.preventDefault()});const m=this._element.classList;for(const v in na)m.remove(`mapboxgl-marker-anchor-${v}`);m.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(n){return n===this._map||(this.remove(),this._map=n,n.getCanvasContainer().appendChild(this._element),n.on("move",this._updateMoving),n.on("moveend",this._update),n.on("remove",this._clearFadeTimer),n._addMarker(this),this.setDraggable(this._draggable),this._update(),n.on("click",this._onMapClick)),this}remove(){const n=this._map;return n&&(n.off("click",this._onMapClick),n.off("move",this._updateMoving),n.off("moveend",this._update),n.off("mousedown",this._addDragHandler),n.off("touchstart",this._addDragHandler),n.off("mouseup",this._onUp),n.off("touchend",this._onUp),n.off("mousemove",this._onMove),n.off("touchmove",this._onMove),n.off("remove",this._clearFadeTimer),n._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(n){return this._lngLat=a.LngLat.convert(n),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(n){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),n){if(!("offset"in n.options)){const v=Math.sqrt(Math.pow(13.5,2)/2);n.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[v,-1*(24.6+v)],"bottom-right":[-v,-1*(24.6+v)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=n,n._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(n){const l=n.code,m=n.charCode||n.keyCode;"Space"!==l&&"Enter"!==l&&32!==m&&13!==m||this.togglePopup()}_onMapClick(n){const l=n.originalEvent.target,m=this._element;this._popup&&(l===m||m.contains(l))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const n=this._popup;return n?(n.isOpen()?(n.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(n.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const n=this._map,l=this._pos;if(!n||!l)return!1;const m=n.unproject(l),v=n.getFreeCameraOptions();if(!v.position)return!1;const M=v.position.toLngLat();return M.distanceTo(m)<.9*M.distanceTo(this._lngLat)}_evaluateOpacity(){const n=this._map;if(!n)return;const l=this._pos;if(!l||l.x<0||l.x>n.transform.width||l.y<0||l.y>n.transform.height)return void this._clearFadeTimer();const m=n.unproject(l);let v;n._showingGlobe()&&a.isLngLatBehindGlobe(n.transform,this._lngLat)?v=0:(v=1-n._queryFogOpacity(m),n.transform._terrainEnabled()&&n.getTerrain()&&this._behindTerrain()&&(v*=this._occludedOpacity)),this._element.style.opacity=`${v}`,this._element.style.pointerEvents=v>0?"auto":"none",this._popup&&this._popup._setOpacity(v),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const n=this._pos;if(!n||!this._map)return;const l=this._offset.mult(this._scale);this._element.style.transform=`\n            translate(${n.x}px,${n.y}px)\n            ${na[this._anchor]}\n            ${this._calculateXYTransform()} ${this._calculateZTransform()}\n            translate(${l.x}px,${l.y}px)\n        `}_calculateXYTransform(){const n=this._pos,l=this._map,m=this.getPitchAlignment();if(!l||!n||"map"!==m)return"";if(!l._showingGlobe()){const V=l.getPitch();return V?`rotateX(${V}deg)`:""}const v=a.radToDeg(a.globeTiltAtLngLat(l.transform,this._lngLat)),M=n.sub(a.globeCenterToScreenPoint(l.transform)),P=Math.abs(M.x)+Math.abs(M.y);if(0===P)return"";const O=v/P;return`rotateX(${-M.y*O}deg) rotateY(${M.x*O}deg)`}_calculateZTransform(){const n=this._pos,l=this._map;if(!l||!n)return"";let m=0;const v=this.getRotationAlignment();if("map"===v)if(l._showingGlobe()){const M=l.project(new a.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),P=l.project(new a.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(M);m=a.radToDeg(Math.atan2(P.y,P.x))-90}else m=-l.getBearing();else if("horizon"===v){const M=a.smoothstep(4,6,l.getZoom()),P=a.globeCenterToScreenPoint(l.transform);P.y+=M*l.transform.height;const O=n.sub(P),V=a.radToDeg(Math.atan2(O.y,O.x));m=(V>90?V-270:V+90)*(1-M)}return m+=this._rotation,m?`rotateZ(${m}deg)`:""}_update(n){a.window.cancelAnimationFrame(this._updateFrameId);const l=this._map;l&&(l.transform.renderWorldCopies&&(this._lngLat=il(this._lngLat,this._pos,l.transform)),this._pos=l.project(this._lngLat),!0===n?this._updateFrameId=a.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),l._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(l._showingGlobe()||l.getTerrain()||l.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(n){return this._offset=a.Point.convert(n),this._update(),this}_onMove(n){const l=this._map;if(!l)return;const m=this._pointerdownPos,v=this._positionDelta;if(m&&v){if(!this._isDragging){const M=this._clickTolerance||l._clickTolerance;if(n.point.dist(m)<M)return;this._isDragging=!0}this._pos=n.point.sub(v),this._lngLat=l.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const n=this._map;n&&(n.off("mousemove",this._onMove),n.off("touchmove",this._onMove)),"active"===this._state&&this.fire(new a.Event("dragend")),this._state="inactive"}_addDragHandler(n){const l=this._map,m=this._pos;l&&m&&this._element.contains(n.originalEvent.target)&&(n.preventDefault(),this._positionDelta=n.point.sub(m),this._pointerdownPos=n.point,this._state="pending",l.on("mousemove",this._onMove),l.on("touchmove",this._onMove),l.once("mouseup",this._onUp),l.once("touchend",this._onUp))}setDraggable(n){this._draggable=!!n;const l=this._map;return l&&(n?(l.on("mousedown",this._addDragHandler),l.on("touchstart",this._addDragHandler)):(l.off("mousedown",this._addDragHandler),l.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(n){return this._rotation=n||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(n){return this._rotationAlignment=n||"auto",this._update(),this}getRotationAlignment(){return"auto"===this._rotationAlignment||"horizon"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(n){return this._pitchAlignment=n||"auto",this._update(),this}getPitchAlignment(){return"auto"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(n){return this._occludedOpacity=n||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const sc={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Wc=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Mc(p=new a.Point(0,0),n="bottom"){if("number"==typeof p){const l=Math.round(Math.sqrt(.5*Math.pow(p,2)));switch(n){case"top":return new a.Point(0,p);case"top-left":return new a.Point(l,l);case"top-right":return new a.Point(-l,l);case"bottom":return new a.Point(0,-p);case"bottom-left":return new a.Point(l,-l);case"bottom-right":return new a.Point(-l,-l);case"left":return new a.Point(p,0);case"right":return new a.Point(-p,0)}return new a.Point(0,0)}return p instanceof a.Point||Array.isArray(p)?a.Point.convert(p):a.Point.convert(p[n]||[0,0])}class Et{constructor(n){this.jumpTo(n)}getValue(n){if(n<=this._startTime)return this._start;if(n>=this._endTime)return this._end;const l=a.easeCubicInOut((n-this._startTime)/(this._endTime-this._startTime));return this._start*(1-l)+this._end*l}isEasing(n){return n>=this._startTime&&n<=this._endTime}jumpTo(n){this._startTime=-1/0,this._endTime=-1/0,this._start=n,this._end=n}easeTo(n,l,m){this._start=this.getValue(l),this._end=n,this._startTime=l,this._endTime=l+m}}const oc={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},Tc={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0},kc={showCompass:!0,showZoom:!0,visualizePitch:!1};class nn{constructor(n,l,m=!1){this._clickTolerance=10,this.element=l,this.mouseRotate=new Ea({clickTolerance:n.dragRotate._mouseRotate._clickTolerance}),this.map=n,m&&(this.mousePitch=new Ko({clickTolerance:n.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),l.addEventListener("mousedown",this.mousedown),l.addEventListener("touchstart",this.touchstart,{passive:!1}),l.addEventListener("touchmove",this.touchmove),l.addEventListener("touchend",this.touchend),l.addEventListener("touchcancel",this.reset)}down(n,l){this.mouseRotate.mousedown(n,l),this.mousePitch&&this.mousePitch.mousedown(n,l),Mt()}move(n,l){const m=this.map,v=this.mouseRotate.mousemoveWindow(n,l),M=v&&v.bearingDelta;if(M&&m.setBearing(m.getBearing()+M),this.mousePitch){const P=this.mousePitch.mousemoveWindow(n,l),O=P&&P.pitchDelta;O&&m.setPitch(m.getPitch()+O)}}off(){const n=this.element;n.removeEventListener("mousedown",this.mousedown),n.removeEventListener("touchstart",this.touchstart,{passive:!1}),n.removeEventListener("touchmove",this.touchmove),n.removeEventListener("touchend",this.touchend),n.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){qe(),a.window.removeEventListener("mousemove",this.mousemove),a.window.removeEventListener("mouseup",this.mouseup)}mousedown(n){this.down(a.extend({},n,{ctrlKey:!0,preventDefault:()=>n.preventDefault()}),yt(this.element,n)),a.window.addEventListener("mousemove",this.mousemove),a.window.addEventListener("mouseup",this.mouseup)}mousemove(n){this.move(n,yt(this.element,n))}mouseup(n){this.mouseRotate.mouseupWindow(n),this.mousePitch&&this.mousePitch.mouseupWindow(n),this.offTemp()}touchstart(n){1!==n.targetTouches.length?this.reset():(this._startPos=this._lastPos=Ke(this.element,n.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>n.preventDefault()},this._startPos))}touchmove(n){1!==n.targetTouches.length?this.reset():(this._lastPos=Ke(this.element,n.targetTouches)[0],this.move({preventDefault:()=>n.preventDefault()},this._lastPos))}touchend(n){0===n.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const ya={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},ts={maxWidth:100,unit:"metric"},Co={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},Eo={version:a.version,supported:J,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:class extends Ol{constructor(p){if(a.LivePerformanceUtils.mark(a.PerformanceMarkers.create),null!=(p=a.extend({},Tc,p)).minZoom&&null!=p.maxZoom&&p.minZoom>p.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=p.minPitch&&null!=p.maxPitch&&p.minPitch>p.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=p.minPitch&&p.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=p.maxPitch&&p.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(p.antialias&&a.isSafariWithAntialiasingBug(a.window)&&(p.antialias=!1,a.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new ao(p.minZoom,p.maxZoom,p.minPitch,p.maxPitch,p.renderWorldCopies),p),this._interactive=p.interactive,this._minTileCacheSize=p.minTileCacheSize,this._maxTileCacheSize=p.maxTileCacheSize,this._failIfMajorPerformanceCaveat=p.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=p.preserveDrawingBuffer,this._antialias=p.antialias,this._useWebGL2=p.useWebGL2,this._trackResize=p.trackResize,this._bearingSnap=p.bearingSnap,this._refreshExpiredTiles=p.refreshExpiredTiles,this._fadeDuration=p.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=p.crossSourceCollisions,this._collectResourceTiming=p.collectResourceTiming,this._optimizeForTerrain=p.optimizeForTerrain,this._language=this._parseLanguage(p.language),this._worldview=p.worldview,this._renderTaskQueue=new ac,this._domRenderTaskQueue=new ac,this._controls=[],this._markers=[],this._popups=[],this._mapId=a.uniqueId(),this._locale=a.extend({},oc,p.locale),this._clickTolerance=p.clickTolerance,this._cooperativeGestures=p.cooperativeGestures,this._performanceMetricsCollection=p.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new Et(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new a.RequestManager(p.transformRequest,p.accessToken,p.testMode),this._silenceAuthErrors=!!p.testMode,"string"==typeof p.container){if(this._container=a.window.document.getElementById(p.container),!this._container)throw new Error(`Container '${p.container}' not found.`)}else{if(!(p.container instanceof a.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=p.container}if(this._container.childNodes.length>0&&a.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),p.maxBounds&&this.setMaxBounds(p.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==a.window&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1),a.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),a.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new es(this,p),this._localFontFamily=p.localFontFamily,this._localIdeographFontFamily=p.localIdeographFontFamily,p.style&&this.setStyle(p.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),p.projection&&this.setProjection(p.projection),this._hash=p.hash&&new j("string"==typeof p.hash&&p.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:p.center,zoom:p.zoom,bearing:p.bearing,pitch:p.pitch}),p.bounds&&(this.resize(),this.fitBounds(p.bounds,a.extend({},p.fitBoundsOptions,{duration:0})))),this.resize(),p.attributionControl&&this.addControl(new Bt({customAttribution:p.customAttribution})),this._logoControl=new rc,this.addControl(this._logoControl,p.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",n=>{this._update("style"===n.dataType),this.fire(new a.Event(`${n.dataType}data`,n))}),this.on("dataloading",n=>{this.fire(new a.Event(`${n.dataType}dataloading`,n))})}_getMapId(){return this._mapId}addControl(p,n){if(void 0===n&&(n=p.getDefaultPosition?p.getDefaultPosition():"top-right"),!p||!p.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const l=p.onAdd(this);this._controls.push(p);const m=this._controlPositions[n];return-1!==n.indexOf("bottom")?m.insertBefore(l,m.firstChild):m.appendChild(l),this}removeControl(p){if(!p||!p.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const n=this._controls.indexOf(p);return n>-1&&this._controls.splice(n,1),p.onRemove(this),this}hasControl(p){return this._controls.indexOf(p)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(p){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const n=!this._moving;return n&&this.fire(new a.Event("movestart",p)).fire(new a.Event("move",p)),this.fire(new a.Event("resize",p)),n&&this.fire(new a.Event("moveend",p)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(p){return this.transform.setMaxBounds(a.LngLatBounds.convert(p)),this._update()}setMinZoom(p){if((p=null==p?-2:p)>=-2&&p<=this.transform.maxZoom)return this.transform.minZoom=p,this._update(),this.getZoom()<p?this.setZoom(p):this.fire(new a.Event("zoomstart")).fire(new a.Event("zoom")).fire(new a.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(p){if((p=null==p?22:p)>=this.transform.minZoom)return this.transform.maxZoom=p,this._update(),this.getZoom()>p?this.setZoom(p):this.fire(new a.Event("zoomstart")).fire(new a.Event("zoom")).fire(new a.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(p){if((p=null==p?0:p)<0)throw new Error("minPitch must be greater than or equal to 0");if(p>=0&&p<=this.transform.maxPitch)return this.transform.minPitch=p,this._update(),this.getPitch()<p?this.setPitch(p):this.fire(new a.Event("pitchstart")).fire(new a.Event("pitch")).fire(new a.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(p){if((p=null==p?85:p)>85)throw new Error("maxPitch must be less than or equal to 85");if(p>=this.transform.minPitch)return this.transform.maxPitch=p,this._update(),this.getPitch()>p?this.setPitch(p):this.fire(new a.Event("pitchstart")).fire(new a.Event("pitch")).fire(new a.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(p){return this.transform.renderWorldCopies=p,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(p){return"auto"===p?a.window.navigator.language:Array.isArray(p)?0===p.length?void 0:p.map(n=>"auto"===n?a.window.navigator.language:n):p}setLanguage(p){const n=this._parseLanguage(p);if(!this.style||n===this._language)return this;this._language=n,this.style._reloadSources();for(const l of this._controls)l._setLanguage&&l._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(p){return this.style&&p!==this._worldview?(this._worldview=p,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return"globe"===this.transform.projection.name}setProjection(p){return this._lazyInitEmptyStyle(),p?"string"==typeof p&&(p={name:p}):p=null,this._useExplicitProjection=!!p,this._prioritizeAndUpdateProjection(p,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if("globe"!==this.getProjection().name)return;const p=this.transform,n=p.projection.name;let l;"globe"===n&&p.zoom>=a.GLOBE_ZOOM_THRESHOLD_MAX?(p.setMercatorFromTransition(),l=!0):"mercator"===n&&p.zoom<a.GLOBE_ZOOM_THRESHOLD_MAX&&(p.setProjection({name:"globe"}),l=!0),l&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(p,n){return this._updateProjection(p||n||{name:"mercator"})}_updateProjection(p){let n;if(n="globe"===p.name&&this.transform.zoom>=a.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(p),this.style.applyProjectionUpdate(),n){this.painter.clearBackgroundTiles();for(const l in this.style._sourceCaches)this.style._sourceCaches[l].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(p){return this.transform.locationPoint3D(a.LngLat.convert(p))}unproject(p){return this.transform.pointLocation3D(a.Point.convert(p))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(p,n,l){if("mouseenter"===p||"mouseover"===p){let m=!1;const v=P=>{const O=n.filter($=>this.getLayer($)),V=O.length?this.queryRenderedFeatures(P.point,{layers:O}):[];V.length?m||(m=!0,l.call(this,new vn(p,this,P.originalEvent,{features:V}))):m=!1},M=()=>{m=!1};return{layers:new Set(n),listener:l,delegates:{mousemove:v,mouseout:M}}}if("mouseleave"===p||"mouseout"===p){let m=!1;const v=P=>{const O=n.filter(V=>this.getLayer(V));(O.length?this.queryRenderedFeatures(P.point,{layers:O}):[]).length?m=!0:m&&(m=!1,l.call(this,new vn(p,this,P.originalEvent)))},M=P=>{m&&(m=!1,l.call(this,new vn(p,this,P.originalEvent)))};return{layers:new Set(n),listener:l,delegates:{mousemove:v,mouseout:M}}}{const m=v=>{const M=n.filter(O=>this.getLayer(O)),P=M.length?this.queryRenderedFeatures(v.point,{layers:M}):[];P.length&&(v.features=P,l.call(this,v),delete v.features)};return{layers:new Set(n),listener:l,delegates:{[p]:m}}}}on(p,n,l){if(void 0===l)return super.on(p,n);Array.isArray(n)||(n=[n]);const m=this._createDelegatedListener(p,n,l);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[p]=this._delegatedListeners[p]||[],this._delegatedListeners[p].push(m);for(const v in m.delegates)this.on(v,m.delegates[v]);return this}once(p,n,l){if(void 0===l)return super.once(p,n);Array.isArray(n)||(n=[n]);const m=this._createDelegatedListener(p,n,l);for(const v in m.delegates)this.once(v,m.delegates[v]);return this}off(p,n,l){if(void 0===l)return super.off(p,n);n=new Set(Array.isArray(n)?n:[n]);const m=(M,P)=>{if(M.size!==P.size)return!1;for(const O of M)if(!P.has(O))return!1;return!0},v=this._delegatedListeners?this._delegatedListeners[p]:void 0;return v&&(M=>{for(let P=0;P<M.length;P++){const O=M[P];if(O.listener===l&&m(O.layers,n)){for(const V in O.delegates)this.off(V,O.delegates[V]);return M.splice(P,1),this}}})(v),this}queryRenderedFeatures(p,n){return this.style?(void 0!==n||void 0===p||p instanceof a.Point||Array.isArray(p)||(n=p,p=void 0),this.style.queryRenderedFeatures(p=p||[[0,0],[this.transform.width,this.transform.height]],n=n||{},this.transform)):[]}querySourceFeatures(p,n){return this.style.querySourceFeatures(p,n)}isPointOnSurface(p){const{name:n}=this.transform.projection;return"globe"!==n&&"mercator"!==n&&a.warnOnce(`${n} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(a.Point.convert(p))}setStyle(p,n){return!1!==(n=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&n.localFontFamily===this._localFontFamily&&this.style&&p?(this._diffStyle(p,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._localFontFamily=n.localFontFamily,this._updateStyle(p,n))}_getUIString(p){const n=this._locale[p];if(null==n)throw new Error(`Missing UI string '${p}'`);return n}_updateStyle(p,n){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),p&&(this.style=new ir(this,n||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof p?this.style.loadURL(p):this.style.loadJSON(p)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new ir(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(p,n){if("string"==typeof p){const l=this._requestManager.normalizeStyleURL(p),m=this._requestManager.transformRequest(l,a.ResourceType.Style);a.getJSON(m,(v,M)=>{v?this.fire(new a.ErrorEvent(v)):M&&this._updateDiff(M,n)})}else"object"==typeof p&&this._updateDiff(p,n)}_updateDiff(p,n){try{this.style.setState(p)&&this._update(!0)}catch(l){a.warnOnce(`Unable to perform style diff: ${l.message||l.error||l}.  Rebuilding the style from scratch.`),this._updateStyle(p,n)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(a.warnOnce("There is no style added to the map."),!1)}addSource(p,n){return this._lazyInitEmptyStyle(),this.style.addSource(p,n),this._update(!0)}isSourceLoaded(p){return!!this.style&&this.style._isSourceCacheLoaded(p)}areTilesLoaded(){const p=this.style&&this.style._sourceCaches;for(const n in p){const l=p[n]._tiles;for(const m in l){const v=l[m];if("loaded"!==v.state&&"errored"!==v.state)return!1}}return!0}addSourceType(p,n,l){this._lazyInitEmptyStyle(),this.style.addSourceType(p,n,l)}removeSource(p){return this.style.removeSource(p),this._updateTerrain(),this._update(!0)}getSource(p){return this.style.getSource(p)}addImage(p,n,{pixelRatio:l=1,sdf:m=!1,stretchX:v,stretchY:M,content:P}={}){if(this._lazyInitEmptyStyle(),n instanceof a.window.HTMLImageElement||a.window.ImageBitmap&&n instanceof a.window.ImageBitmap){const{width:O,height:V,data:$}=a.exported.getImageData(n);this.style.addImage(p,{data:new a.RGBAImage({width:O,height:V},$),pixelRatio:l,stretchX:v,stretchY:M,content:P,sdf:m,version:0})}else if(void 0===n.width||void 0===n.height)this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:O,height:V}=n,$=n;this.style.addImage(p,{data:new a.RGBAImage({width:O,height:V},new Uint8Array($.data)),pixelRatio:l,stretchX:v,stretchY:M,content:P,sdf:m,version:0,userImage:$}),$.onAdd&&$.onAdd(this,p)}}updateImage(p,n){const l=this.style.getImage(p);if(!l)return void this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const m=n instanceof a.window.HTMLImageElement||a.window.ImageBitmap&&n instanceof a.window.ImageBitmap?a.exported.getImageData(n):n,{width:v,height:M}=m;void 0!==v&&void 0!==M?v===l.data.width&&M===l.data.height?(l.data.replace(m.data,!(n instanceof a.window.HTMLImageElement||a.window.ImageBitmap&&n instanceof a.window.ImageBitmap)),this.style.updateImage(p,l)):this.fire(new a.ErrorEvent(new Error(`The width and height of the updated image (${v}, ${M})\n                must be that same as the previous version of the image\n                (${l.data.width}, ${l.data.height})`))):this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(p){return p?!!this.style.getImage(p):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(p){this.style.removeImage(p)}loadImage(p,n){a.getImage(this._requestManager.transformRequest(p,a.ResourceType.Image),(l,m)=>{n(l,m instanceof a.window.HTMLImageElement?a.exported.getImageData(m):m)})}listImages(){return this.style.listImages()}addLayer(p,n){return this._lazyInitEmptyStyle(),this.style.addLayer(p,n),this._update(!0)}moveLayer(p,n){return this.style.moveLayer(p,n),this._update(!0)}removeLayer(p){return this.style.removeLayer(p),this._update(!0)}getLayer(p){return this.style.getLayer(p)}setLayerZoomRange(p,n,l){return this.style.setLayerZoomRange(p,n,l),this._update(!0)}setFilter(p,n,l={}){return this.style.setFilter(p,n,l),this._update(!0)}getFilter(p){return this.style.getFilter(p)}setPaintProperty(p,n,l,m={}){return this.style.setPaintProperty(p,n,l,m),this._update(!0)}getPaintProperty(p,n){return this.style.getPaintProperty(p,n)}setLayoutProperty(p,n,l,m={}){return this.style.setLayoutProperty(p,n,l,m),this._update(!0)}getLayoutProperty(p,n){return this.style.getLayoutProperty(p,n)}setLight(p,n={}){return this._lazyInitEmptyStyle(),this.style.setLight(p,n),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(p){return this._lazyInitEmptyStyle(),!p&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(p),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(p){return this._lazyInitEmptyStyle(),this.style.setFog(p),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(p){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(a.LngLat.convert(p),this.transform):0}setFeatureState(p,n){return this.style.setFeatureState(p,n),this._update()}removeFeatureState(p,n){return this.style.removeFeatureState(p,n),this._update()}getFeatureState(p){return this.style.getFeatureState(p)}_updateContainerDimensions(){if(!this._container)return;const p=this._container.getBoundingClientRect().width||400,n=this._container.getBoundingClientRect().height||300;let l,m,v,M=this._container;for(;M&&(!m||!v);){const P=a.window.getComputedStyle(M).transform;P&&"none"!==P&&(l=P.match(/matrix.*\((.+)\)/)[1].split(", "),l[0]&&"0"!==l[0]&&"1"!==l[0]&&(m=l[0]),l[3]&&"0"!==l[3]&&"1"!==l[3]&&(v=l[3])),M=M.parentElement}this._containerWidth=m?Math.abs(p/m):p,this._containerHeight=v?Math.abs(n/v):n}_detectMissingCSS(){"rgb(250, 128, 114)"!==a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const p=this._container;p.classList.add("mapboxgl-map"),(this._missingCSSCanary=ye("div","mapboxgl-canary",p)).style.visibility="hidden",this._detectMissingCSS();const n=this._canvasContainer=ye("div","mapboxgl-canvas-container",p);this._interactive&&n.classList.add("mapboxgl-interactive"),this._canvas=ye("canvas","mapboxgl-canvas",n),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const l=this._controlContainer=ye("div","mapboxgl-control-container",p),m=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(v=>{m[v]=ye("div",`mapboxgl-ctrl-${v}`,l)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(p,n){const l=a.exported.devicePixelRatio||1;this._canvas.width=l*Math.ceil(p),this._canvas.height=l*Math.ceil(n),this._canvas.style.width=`${p}px`,this._canvas.style.height=`${n}px`}_addMarker(p){this._markers.push(p)}_removeMarker(p){const n=this._markers.indexOf(p);-1!==n&&this._markers.splice(n,1)}_addPopup(p){this._popups.push(p)}_removePopup(p){const n=this._popups.indexOf(p);-1!==n&&this._popups.splice(n,1)}_setupPainter(){const p=a.extend({},J.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),n=this._useWebGL2&&this._canvas.getContext("webgl2",p),l=n||this._canvas.getContext("webgl",p)||this._canvas.getContext("experimental-webgl",p);l?(this._useWebGL2&&!n&&a.warnOnce("Failed to create WebGL 2 context. Using WebGL 1."),a.storeAuthState(l,!0),this.painter=new Ka(l,this.transform,!!n),this.on("data",m=>{"source"===m.dataType&&this.painter.setTileLoadedFlag(!0)}),a.exported$1.testSupport(l)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(p){p.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:p}))}_contextRestored(p){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:p}))}_onMapScroll(p){if(p.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(p){return this.style?(this._styleDirty=this._styleDirty||p,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(p){return this._update(),this._renderTaskQueue.add(p)}_cancelRenderFrame(p){this._renderTaskQueue.remove(p)}_requestDomTask(p){!this.loaded()||this.loaded()&&!this.isMoving()?p():this._domRenderTaskQueue.add(p)}_render(p){let n;const l=this.painter.context.extTimerQuery,m=a.exported.now();if(this.listens("gpu-timing-frame")&&(n=l.createQueryEXT(),l.beginQueryEXT(l.TIME_ELAPSED_EXT,n)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],a.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],a.window.performance.now())),this._renderTaskQueue.run(p),this._domRenderTaskQueue.run(p),this._removed)return;this._updateProjectionTransition();const v=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const O=this.transform.zoom,V=this.transform.pitch,$=a.exported.now(),q=new a.EvaluationParameters(O,{now:$,fadeDuration:v,pitch:V,transition:this.style.getTransition()});this.style.update(q)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let M=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),M=this._updateAverageElevation(m),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):M=this._updateAverageElevation(m),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,v,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:v,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),n){const O=a.exported.now()-m;l.endQueryEXT(l.TIME_ELAPSED_EXT,n),setTimeout(()=>{const V=l.getQueryObjectEXT(n,l.QUERY_RESULT_EXT)/1e6;l.deleteQueryEXT(n),this.fire(new a.Event("gpu-timing-frame",{cpuTime:O,gpuTime:V})),a.window.performance.mark("frame-gpu",{startTime:m,detail:{gpuTime:V}})},50)}if(this.listens("gpu-timing-layer")){const O=this.painter.collectGpuTimers();setTimeout(()=>{const V=this.painter.queryGpuTimers(O);this.fire(new a.Event("gpu-timing-layer",{layerTimes:V}))},50)}if(this.listens("gpu-timing-deferred-render")){const O=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const V=this.painter.queryGpuTimeDeferredRender(O);this.fire(new a.Event("gpu-timing-deferred-render",{gpuTime:V}))},50)}const P=this._sourcesDirty||this._styleDirty||this._placementDirty||M;if(P||this._repaint)this.triggerRepaint();else{const O=!this.isMoving()&&this.loaded();if(O&&(M=this._updateAverageElevation(m,!0)),M)this.triggerRepaint();else if(this._triggerFrame(!1),O&&(this.fire(new a.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const V=this._calculateSpeedIndex();this.fire(new a.Event("speedindexcompleted",{speedIndex:V})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||P||(this._fullyLoaded=!0,a.LivePerformanceUtils.mark(a.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&a.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(p){for(const n of this._markers)p&&!this.getRenderWorldCopies()&&(n._lngLat=n._lngLat.wrap()),n._update();for(const n of this._popups)!p||this.getRenderWorldCopies()||n._trackPointer||(n._lngLat=n._lngLat.wrap()),n._update()}_updateAverageElevation(p,n=!1){const l=m=>(this.transform.averageElevation=m,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&l(0);if((n||p-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(p)){const m=this.transform.averageElevation;let v=this.transform.sampleAverageElevation(),M=!1;this.transform.elevation&&(M=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(v)?v=0:this._averageElevationLastSampledAt=p;const P=Math.abs(m-v);if(P>1){if(this._isInitialLoad||M)return this._averageElevation.jumpTo(v),l(v);this._averageElevation.easeTo(v,p,300)}else if(P>1e-4)return this._averageElevation.jumpTo(v),l(v)}return!!this._averageElevation.isEasing(p)&&l(this._averageElevation.getValue(p))}_authenticate(){a.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,p=>{if(p&&(p.message===a.AUTH_ERR_MSG||401===p.status)){const n=this.painter.context.gl;a.storeAuthState(n,!1),this._logoControl instanceof rc&&this._logoControl._updateLogo(),n&&n.clear(n.DEPTH_BUFFER_BIT|n.COLOR_BUFFER_BIT|n.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new a.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),a.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const p=this._isDragging();this.painter.updateTerrain(this.style,p)}_calculateSpeedIndex(){const p=this.painter.canvasCopy(),n=this.painter.getCanvasCopiesAndTimestamps();n.timeStamps.push(performance.now());const l=this.painter.context.gl,m=l.createFramebuffer();function v(M){l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,M,0);const P=new Uint8Array(l.drawingBufferWidth*l.drawingBufferHeight*4);return l.readPixels(0,0,l.drawingBufferWidth,l.drawingBufferHeight,l.RGBA,l.UNSIGNED_BYTE,P),P}return l.bindFramebuffer(l.FRAMEBUFFER,m),this._canvasPixelComparison(v(p),n.canvasCopies.map(v),n.timeStamps)}_canvasPixelComparison(p,n,l){let m=l[1]-l[0];const v=p.length/4;for(let M=0;M<n.length;M++){const P=n[M];let O=0;for(let V=0;V<P.length;V+=4)P[V]===p[V]&&P[V+1]===p[V+1]&&P[V+2]===p[V+2]&&P[V+3]===p[V+3]&&(O+=1);m+=(l[M+2]-l[M+1])*(1-O/v)}return m}remove(){this._hash&&this._hash.remove();for(const n of this._controls)n.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==a.window&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1),a.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const p=this.painter.context.gl.getExtension("WEBGL_lose_context");p&&p.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),a.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new a.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(p){this._renderNextFrame=this._renderNextFrame||p,this.style&&!this._frame&&(this._frame=a.exported.frame(n=>{const l=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,l&&this._render(n)}))}_preloadTiles(p){const n=this.style?Object.values(this.style._sourceCaches):[];return a.asyncAll(n,(l,m)=>l._preloadTiles(p,m),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(p){this._trackResize&&this.resize({originalEvent:p})._update()}_onVisibilityChange(){"hidden"===a.window.document.visibilityState&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(p){this._showTileBoundaries!==p&&(this._showTileBoundaries=p,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(p){this._showTerrainWireframe!==p&&(this._showTerrainWireframe=p,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(p){this._speedIndexTiming!==p&&(this._speedIndexTiming=p,this._update())}get showPadding(){return!!this._showPadding}set showPadding(p){this._showPadding!==p&&(this._showPadding=p,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(p){this._showCollisionBoxes!==p&&(this._showCollisionBoxes=p,p?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(p){this._showOverdrawInspector!==p&&(this._showOverdrawInspector=p,this._update())}get repaint(){return!!this._repaint}set repaint(p){this._repaint!==p&&(this._repaint=p,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(p){this._vertices=p,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(p){this._showTileAABBs!==p&&(this._showTileAABBs=p,p&&this._update())}_setCacheLimits(p,n){a.setCacheLimits(p,n)}get version(){return a.version}},NavigationControl:class{constructor(p){this.options=a.extend({},kc,p),this._container=ye("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",n=>n.preventDefault()),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",n=>{this._map&&this._map.zoomIn({},{originalEvent:n})}),ye("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",n=>{this._map&&this._map.zoomOut({},{originalEvent:n})}),ye("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",n=>{const l=this._map;l&&(this.options.visualizePitch?l.resetNorthPitch({},{originalEvent:n}):l.resetNorth({},{originalEvent:n}))}),this._compassIcon=ye("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const p=this._map;if(!p)return;const n=p.getZoom(),l=n===p.getMaxZoom(),m=n===p.getMinZoom();this._zoomInButton.disabled=l,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",l.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())}_rotateCompassArrow(){const p=this._map;if(!p)return;const n=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(p.transform.pitch*(Math.PI/180)),.5)}) rotateX(${p.transform.pitch}deg) rotateZ(${p.transform.angle*(180/Math.PI)}deg)`:`rotate(${p.transform.angle*(180/Math.PI)}deg)`;p._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=n)})}onAdd(p){return this._map=p,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),p.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&p.on("pitch",this._rotateCompassArrow),p.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new nn(p,this._compass,this.options.visualizePitch)),this._container}onRemove(){const p=this._map;p&&(this._container.remove(),this.options.showZoom&&p.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&p.off("pitch",this._rotateCompassArrow),p.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(p,n){const l=ye("button",p,this._container);return l.type="button",l.addEventListener("click",n),l}_setButtonTitle(p,n){if(!this._map)return;const l=this._map._getUIString(`NavigationControl.${n}`);p.setAttribute("aria-label",l),p.firstElementChild&&p.firstElementChild.setAttribute("title",l)}},GeolocateControl:class extends a.Evented{constructor(p){super(),this.options=a.extend({geolocation:a.window.navigator.geolocation},ya,p),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Ca(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(p){return this._map=p,this._container=ye("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(p){const n=(l=!!this.options.geolocation)=>{this._supportsGeolocation=l,p(l)};void 0!==this._supportsGeolocation?p(this._supportsGeolocation):void 0!==a.window.navigator.permissions?a.window.navigator.permissions.query({name:"geolocation"}).then(l=>n("denied"!==l.state)).catch(()=>n()):n()}_isOutOfMapMaxBounds(p){const n=this._map.getMaxBounds(),l=p.coords;return!!n&&(l.longitude<n.getWest()||l.longitude>n.getEast()||l.latitude<n.getSouth()||l.latitude>n.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(p){if(this._map){if(this._isOutOfMapMaxBounds(p))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",p)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=p,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(p),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(p),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",p)),this._finish()}}_updateCamera(p){const n=new a.LngLat(p.coords.longitude,p.coords.latitude),l=p.coords.accuracy,m=this._map.getBearing(),v=a.extend({bearing:m},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(l),v,{geolocateSource:!0})}_updateMarker(p){if(p){const n=new a.LngLat(p.coords.longitude,p.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=p.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const p=this._map.transform,n=a.mercatorZfromAltitude(1,p._center.lat)*p.worldSize,l=Math.ceil(2*this._accuracy*n);this._circleElement.style.width=`${l}px`,this._circleElement.style.height=`${l}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(p){if(this._map){if(this.options.trackUserLocation)if(1===p.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",n),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",n),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===p.code&&this._noTimeout)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",p)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(p){if(void 0!==this._map){if(this._container.addEventListener("contextmenu",n=>n.preventDefault()),this._geolocateButton=ye("button","mapboxgl-ctrl-geolocate",this._container),ye("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===p){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const n=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",n),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",n)}else{const n=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",n),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",n)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=ye("div","mapboxgl-user-location"),this._dotElement.appendChild(ye("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(ye("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new It({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=ye("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new It({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",n=>{n.geolocateSource||"ACTIVE_LOCK"!==this._watchState||n.originalEvent&&"resize"===n.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new a.Event("trackuserlocationend")))})}}_onDeviceOrientation(p){this._userLocationDotMarker&&(p.webkitCompassHeading?this._heading=p.webkitCompassHeading:!0===p.absolute&&(this._heading=-1*p.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let p;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(p={maximumAge:6e5,timeout:0},this._noTimeout=!0):(p=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,p),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const p=()=>{a.window.addEventListener("ondeviceorientationabsolute"in a.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};void 0!==a.window.DeviceMotionEvent&&"function"==typeof a.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(n=>{"granted"===n&&p()}).catch(console.error):p()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),a.window.removeEventListener("deviceorientation",this._onDeviceOrientation),a.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Bt,ScaleControl:class{constructor(p){this.options=a.extend({},ts,p),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch(n){return!1}}(),a.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const p=this.options.maxWidth||100,n=this._map,l=n._containerHeight/2,m=n._containerWidth/2-p/2,v=n.unproject([m,l]),M=n.unproject([m+p,l]),P=v.distanceTo(M);if("imperial"===this.options.unit){const O=3.2808*P;O>5280?this._setScale(p,O/5280,"mile"):this._setScale(p,O,"foot")}else"nautical"===this.options.unit?this._setScale(p,P/1852,"nautical-mile"):P>=1e3?this._setScale(p,P/1e3,"kilometer"):this._setScale(p,P,"meter")}_setScale(p,n,l){this._map._requestDomTask(()=>{const m=function(M){const P=Math.pow(10,`${Math.floor(M)}`.length-1);let O=M/P;return O=O>=10?10:O>=5?5:O>=3?3:O>=2?2:O>=1?1:function(V){const $=Math.pow(10,Math.ceil(-Math.log(V)/Math.LN10));return Math.round(V*$)/$}(O),P*O}(n),v=m/n;this._container.innerHTML=this._isNumberFormatSupported&&"nautical-mile"!==l?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:l}).format(m):`${m}&nbsp;${Co[l]}`,this._container.style.width=p*v+"px"})}onAdd(p){return this._map=p,this._language=p.getLanguage(),this._container=ye("div","mapboxgl-ctrl mapboxgl-ctrl-scale",p.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(p){this._language=p,this._update()}setUnit(p){this.options.unit=p,this._update()}},FullscreenControl:class{constructor(p){this._fullscreen=!1,p&&p.container&&(p.container instanceof a.window.HTMLElement?this._container=p.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in a.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(p){return this._map=p,this._container||(this._container=this._map.getContainer()),this._controlContainer=ye("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!a.window.document.fullscreenEnabled&&!a.window.document.webkitFullscreenEnabled)}_setupUI(){const p=this._fullscreenButton=ye("button","mapboxgl-ctrl-fullscreen",this._controlContainer);ye("span","mapboxgl-ctrl-icon",p).setAttribute("aria-hidden","true"),p.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const p=this._getTitle();this._fullscreenButton.setAttribute("aria-label",p),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",p)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(a.window.document.fullscreenElement||a.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends a.Evented{constructor(p){super(),this.options=a.extend(Object.create(sc),p),a.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(p&&p.className?p.className.trim().split(/\s+/):[])}addTo(p){return this._map&&this.remove(),this._map=p,this.options.closeOnClick&&p.on("preclick",this._onClose),this.options.closeOnMove&&p.on("move",this._onClose),p.on("remove",this.remove),this._update(),p._addPopup(this),this._focusFirstElement(),this._trackPointer?(p.on("mousemove",this._onMouseEvent),p.on("mouseup",this._onMouseEvent),p._canvasContainer.classList.add("mapboxgl-track-pointer")):p.on("move",this._update),this.fire(new a.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const p=this._map;return p&&(p.off("move",this._update),p.off("move",this._onClose),p.off("preclick",this._onClose),p.off("click",this._onClose),p.off("remove",this.remove),p.off("mousemove",this._onMouseEvent),p.off("mouseup",this._onMouseEvent),p.off("drag",this._onMouseEvent),p._canvasContainer&&p._canvasContainer.classList.remove("mapboxgl-track-pointer"),p._removePopup(this),this._map=void 0),this.fire(new a.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(p){this._lngLat=a.LngLat.convert(p),this._pos=null,this._trackPointer=!1,this._update();const n=this._map;return n&&(n.on("move",this._update),n.off("mousemove",this._onMouseEvent),n._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const p=this._map;return p&&(p.off("move",this._update),p.on("mousemove",this._onMouseEvent),p.on("drag",this._onMouseEvent),p._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(p){return this.setDOMContent(a.window.document.createTextNode(p))}setHTML(p){const n=a.window.document.createDocumentFragment(),l=a.window.document.createElement("body");let m;for(l.innerHTML=p;m=l.firstChild,m;)n.appendChild(m);return this.setDOMContent(n)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(p){return this.options.maxWidth=p,this._update(),this}setDOMContent(p){let n=this._content;if(n)for(;n.hasChildNodes();)n.firstChild&&n.removeChild(n.firstChild);else n=this._content=ye("div","mapboxgl-popup-content",this._container||void 0);if(n.appendChild(p),this.options.closeButton){const l=this._closeButton=ye("button","mapboxgl-popup-close-button",n);l.type="button",l.setAttribute("aria-label","Close popup"),l.setAttribute("aria-hidden","true"),l.innerHTML="&#215;",l.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(p){return this._classList.add(p),this._updateClassList(),this}removeClassName(p){return this._classList.delete(p),this._updateClassList(),this}setOffset(p){return this.options.offset=p,this._update(),this}toggleClassName(p){let n;return this._classList.delete(p)?n=!1:(this._classList.add(p),n=!0),this._updateClassList(),n}_onMouseEvent(p){this._update(p.point)}_getAnchor(p){if(this.options.anchor)return this.options.anchor;const n=this._map,l=this._container,m=this._pos;if(!n||!l||!m)return"bottom";const v=l.offsetWidth,M=l.offsetHeight,P=m.x<v/2,O=m.x>n.transform.width-v/2;if(m.y+p<M)return P?"top-left":O?"top-right":"top";if(m.y>n.transform.height-M){if(P)return"bottom-left";if(O)return"bottom-right"}return P?"left":O?"right":"bottom"}_updateClassList(){const p=this._container;if(!p)return;const n=[...this._classList];n.push("mapboxgl-popup"),this._anchor&&n.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&n.push("mapboxgl-popup-track-pointer"),p.className=n.join(" ")}_update(p){const n=this._map,l=this._content;if(!n||!this._lngLat&&!this._trackPointer||!l)return;let m=this._container;if(m||(m=this._container=ye("div","mapboxgl-popup",n.getContainer()),this._tip=ye("div","mapboxgl-popup-tip",m),m.appendChild(l)),this.options.maxWidth&&m.style.maxWidth!==this.options.maxWidth&&(m.style.maxWidth=this.options.maxWidth),n.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=il(this._lngLat,this._pos,n.transform)),!this._trackPointer||p){const v=this._pos=this._trackPointer&&p?p:n.project(this._lngLat),M=Mc(this.options.offset),P=this._anchor=this._getAnchor(M.y),O=Mc(this.options.offset,P),V=v.add(O).round();n._requestDomTask(()=>{this._container&&P&&(this._container.style.transform=`${na[P]} translate(${V.x}px,${V.y}px)`)})}if(!this._marker&&n._showingGlobe()){const v=a.isLngLatBehindGlobe(n.transform,this._lngLat)?0:1;this._setOpacity(v)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const p=this._container.querySelector(Wc);p&&p.focus()}_onClose(){this.remove()}_setOpacity(p){this._container&&(this._container.style.opacity=`${p}`),this._content&&(this._content.style.pointerEvents=p?"auto":"none")}},Marker:It,Style:ir,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,FreeCameraOptions:ro,Evented:a.Evented,config:a.config,prewarm:function(){bn().acquire(Li)},clearPrewarmedResources:function(){const p=$i;p&&(p.isPreloaded()&&1===p.numActive()?(p.release(Li),$i=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(p){a.config.ACCESS_TOKEN=p},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(p){a.config.API_URL=p},get workerCount(){return Zn.workerCount},set workerCount(p){Zn.workerCount=p},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(p){a.config.MAX_PARALLEL_IMAGE_REQUESTS=p},clearStorage(p){a.clearTileCache(p)},workerUrl:"",workerClass:null,setNow:a.exported.setNow,restoreNow:a.exported.restoreNow};return Eo}),te}()},7088:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(Y){return/^nm$/i.test(Y)},meridiem:function(Y,a,d){return Y<12?d?"vm":"VM":d?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[M\xf4re om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(Y){return Y+(1===Y||8===Y||Y>=20?"ste":"de")},week:{dow:1,doy:4}})}(ae(5439))},2502:function(ze,Ye,ae){!function(te){"use strict";var A=function(Q){return 0===Q?0:1===Q?1:2===Q?2:Q%100>=3&&Q%100<=10?3:Q%100>=11?4:5},Y={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},a=function(Q){return function(oe,ye,Oe,ht){var Te=A(oe),gt=Y[Q][A(oe)];return 2===Te&&(gt=gt[ye?0:1]),gt.replace(/%d/i,oe)}},d=["\u062c\u0627\u0646\u0641\u064a","\u0641\u064a\u0641\u0631\u064a","\u0645\u0627\u0631\u0633","\u0623\u0641\u0631\u064a\u0644","\u0645\u0627\u064a","\u062c\u0648\u0627\u0646","\u062c\u0648\u064a\u0644\u064a\u0629","\u0623\u0648\u062a","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];te.defineLocale("ar-dz",{months:d,monthsShort:d,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(Q){return"\u0645"===Q},meridiem:function(Q,oe,ye){return Q<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:a("s"),ss:a("s"),m:a("m"),mm:a("m"),h:a("h"),hh:a("h"),d:a("d"),dd:a("d"),M:a("M"),MM:a("M"),y:a("y"),yy:a("y")},postformat:function(Q){return Q.replace(/,/g,"\u060c")},week:{dow:0,doy:4}})}(ae(5439))},128:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("ar-kw",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062a\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062a\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:0,doy:12}})}(ae(5439))},4519:function(ze,Ye,ae){!function(te){"use strict";var A={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},Y=function(oe){return 0===oe?0:1===oe?1:2===oe?2:oe%100>=3&&oe%100<=10?3:oe%100>=11?4:5},a={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},d=function(oe){return function(ye,Oe,ht,Te){var gt=Y(ye),Mt=a[oe][Y(ye)];return 2===gt&&(Mt=Mt[Oe?0:1]),Mt.replace(/%d/i,ye)}},J=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];te.defineLocale("ar-ly",{months:J,monthsShort:J,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(oe){return"\u0645"===oe},meridiem:function(oe,ye,Oe){return oe<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:d("s"),ss:d("s"),m:d("m"),mm:d("m"),h:d("h"),hh:d("h"),d:d("d"),dd:d("d"),M:d("M"),MM:d("M"),y:d("y"),yy:d("y")},preparse:function(oe){return oe.replace(/\u060c/g,",")},postformat:function(oe){return oe.replace(/\d/g,function(ye){return A[ye]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(ae(5439))},5443:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("ar-ma",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648\u0632_\u063a\u0634\u062a_\u0634\u062a\u0646\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0646\u0628\u0631_\u062f\u062c\u0646\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0627\u062d\u062f_\u0627\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(ae(5439))},7642:function(ze,Ye,ae){!function(te){"use strict";var A={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},Y={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"};te.defineLocale("ar-sa",{months:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u064a\u0646\u0627\u064a\u0631_\u0641\u0628\u0631\u0627\u064a\u0631_\u0645\u0627\u0631\u0633_\u0623\u0628\u0631\u064a\u0644_\u0645\u0627\u064a\u0648_\u064a\u0648\u0646\u064a\u0648_\u064a\u0648\u0644\u064a\u0648_\u0623\u063a\u0633\u0637\u0633_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(d){return"\u0645"===d},meridiem:function(d,J,Q){return d<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},preparse:function(d){return d.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(J){return Y[J]}).replace(/\u060c/g,",")},postformat:function(d){return d.replace(/\d/g,function(J){return A[J]}).replace(/,/g,"\u060c")},week:{dow:0,doy:6}})}(ae(5439))},8592:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("ar-tn",{months:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),monthsShort:"\u062c\u0627\u0646\u0641\u064a_\u0641\u064a\u0641\u0631\u064a_\u0645\u0627\u0631\u0633_\u0623\u0641\u0631\u064a\u0644_\u0645\u0627\u064a_\u062c\u0648\u0627\u0646_\u062c\u0648\u064a\u0644\u064a\u0629_\u0623\u0648\u062a_\u0633\u0628\u062a\u0645\u0628\u0631_\u0623\u0643\u062a\u0648\u0628\u0631_\u0646\u0648\u0641\u0645\u0628\u0631_\u062f\u064a\u0633\u0645\u0628\u0631".split("_"),weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u0627 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0644\u0649 \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0641\u064a %s",past:"\u0645\u0646\u0630 %s",s:"\u062b\u0648\u0627\u0646",ss:"%d \u062b\u0627\u0646\u064a\u0629",m:"\u062f\u0642\u064a\u0642\u0629",mm:"%d \u062f\u0642\u0627\u0626\u0642",h:"\u0633\u0627\u0639\u0629",hh:"%d \u0633\u0627\u0639\u0627\u062a",d:"\u064a\u0648\u0645",dd:"%d \u0623\u064a\u0627\u0645",M:"\u0634\u0647\u0631",MM:"%d \u0623\u0634\u0647\u0631",y:"\u0633\u0646\u0629",yy:"%d \u0633\u0646\u0648\u0627\u062a"},week:{dow:1,doy:4}})}(ae(5439))},7038:function(ze,Ye,ae){!function(te){"use strict";var A={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},Y={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},a=function(ye){return 0===ye?0:1===ye?1:2===ye?2:ye%100>=3&&ye%100<=10?3:ye%100>=11?4:5},d={s:["\u0623\u0642\u0644 \u0645\u0646 \u062b\u0627\u0646\u064a\u0629","\u062b\u0627\u0646\u064a\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062b\u0627\u0646\u064a\u062a\u0627\u0646","\u062b\u0627\u0646\u064a\u062a\u064a\u0646"],"%d \u062b\u0648\u0627\u0646","%d \u062b\u0627\u0646\u064a\u0629","%d \u062b\u0627\u0646\u064a\u0629"],m:["\u0623\u0642\u0644 \u0645\u0646 \u062f\u0642\u064a\u0642\u0629","\u062f\u0642\u064a\u0642\u0629 \u0648\u0627\u062d\u062f\u0629",["\u062f\u0642\u064a\u0642\u062a\u0627\u0646","\u062f\u0642\u064a\u0642\u062a\u064a\u0646"],"%d \u062f\u0642\u0627\u0626\u0642","%d \u062f\u0642\u064a\u0642\u0629","%d \u062f\u0642\u064a\u0642\u0629"],h:["\u0623\u0642\u0644 \u0645\u0646 \u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u0629 \u0648\u0627\u062d\u062f\u0629",["\u0633\u0627\u0639\u062a\u0627\u0646","\u0633\u0627\u0639\u062a\u064a\u0646"],"%d \u0633\u0627\u0639\u0627\u062a","%d \u0633\u0627\u0639\u0629","%d \u0633\u0627\u0639\u0629"],d:["\u0623\u0642\u0644 \u0645\u0646 \u064a\u0648\u0645","\u064a\u0648\u0645 \u0648\u0627\u062d\u062f",["\u064a\u0648\u0645\u0627\u0646","\u064a\u0648\u0645\u064a\u0646"],"%d \u0623\u064a\u0627\u0645","%d \u064a\u0648\u0645\u064b\u0627","%d \u064a\u0648\u0645"],M:["\u0623\u0642\u0644 \u0645\u0646 \u0634\u0647\u0631","\u0634\u0647\u0631 \u0648\u0627\u062d\u062f",["\u0634\u0647\u0631\u0627\u0646","\u0634\u0647\u0631\u064a\u0646"],"%d \u0623\u0634\u0647\u0631","%d \u0634\u0647\u0631\u0627","%d \u0634\u0647\u0631"],y:["\u0623\u0642\u0644 \u0645\u0646 \u0639\u0627\u0645","\u0639\u0627\u0645 \u0648\u0627\u062d\u062f",["\u0639\u0627\u0645\u0627\u0646","\u0639\u0627\u0645\u064a\u0646"],"%d \u0623\u0639\u0648\u0627\u0645","%d \u0639\u0627\u0645\u064b\u0627","%d \u0639\u0627\u0645"]},J=function(ye){return function(Oe,ht,Te,gt){var Mt=a(Oe),qe=d[ye][a(Oe)];return 2===Mt&&(qe=qe[ht?0:1]),qe.replace(/%d/i,Oe)}},Q=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"];te.defineLocale("ar",{months:Q,monthsShort:Q,weekdays:"\u0627\u0644\u0623\u062d\u062f_\u0627\u0644\u0625\u062b\u0646\u064a\u0646_\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621_\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621_\u0627\u0644\u062e\u0645\u064a\u0633_\u0627\u0644\u062c\u0645\u0639\u0629_\u0627\u0644\u0633\u0628\u062a".split("_"),weekdaysShort:"\u0623\u062d\u062f_\u0625\u062b\u0646\u064a\u0646_\u062b\u0644\u0627\u062b\u0627\u0621_\u0623\u0631\u0628\u0639\u0627\u0621_\u062e\u0645\u064a\u0633_\u062c\u0645\u0639\u0629_\u0633\u0628\u062a".split("_"),weekdaysMin:"\u062d_\u0646_\u062b_\u0631_\u062e_\u062c_\u0633".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/\u200fM/\u200fYYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(ye){return"\u0645"===ye},meridiem:function(ye,Oe,ht){return ye<12?"\u0635":"\u0645"},calendar:{sameDay:"[\u0627\u0644\u064a\u0648\u0645 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextDay:"[\u063a\u062f\u064b\u0627 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",nextWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastDay:"[\u0623\u0645\u0633 \u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",lastWeek:"dddd [\u0639\u0646\u062f \u0627\u0644\u0633\u0627\u0639\u0629] LT",sameElse:"L"},relativeTime:{future:"\u0628\u0639\u062f %s",past:"\u0645\u0646\u0630 %s",s:J("s"),ss:J("s"),m:J("m"),mm:J("m"),h:J("h"),hh:J("h"),d:J("d"),dd:J("d"),M:J("M"),MM:J("M"),y:J("y"),yy:J("y")},preparse:function(ye){return ye.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(Oe){return Y[Oe]}).replace(/\u060c/g,",")},postformat:function(ye){return ye.replace(/\d/g,function(Oe){return A[Oe]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(ae(5439))},1213:function(ze,Ye,ae){!function(te){"use strict";var A={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-\xfcnc\xfc",4:"-\xfcnc\xfc",100:"-\xfcnc\xfc",6:"-nc\u0131",9:"-uncu",10:"-uncu",30:"-uncu",60:"-\u0131nc\u0131",90:"-\u0131nc\u0131"};te.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ert\u0259si_\xc7\u0259r\u015f\u0259nb\u0259 ax\u015fam\u0131_\xc7\u0259r\u015f\u0259nb\u0259_C\xfcm\u0259 ax\u015fam\u0131_C\xfcm\u0259_\u015e\u0259nb\u0259".split("_"),weekdaysShort:"Baz_BzE_\xc7Ax_\xc7\u0259r_CAx_C\xfcm_\u015e\u0259n".split("_"),weekdaysMin:"Bz_BE_\xc7A_\xc7\u0259_CA_C\xfc_\u015e\u0259".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[g\u0259l\u0259n h\u0259ft\u0259] dddd [saat] LT",lastDay:"[d\xfcn\u0259n] LT",lastWeek:"[ke\xe7\u0259n h\u0259ft\u0259] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \u0259vv\u0259l",s:"bir ne\xe7\u0259 saniy\u0259",ss:"%d saniy\u0259",m:"bir d\u0259qiq\u0259",mm:"%d d\u0259qiq\u0259",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(a){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(a)},meridiem:function(a,d,J){return a<4?"gec\u0259":a<12?"s\u0259h\u0259r":a<17?"g\xfcnd\xfcz":"ax\u015fam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(a){if(0===a)return a+"-\u0131nc\u0131";var d=a%10;return a+(A[d]||A[a%100-d]||A[a>=100?100:null])},week:{dow:1,doy:7}})}(ae(5439))},9191:function(ze,Ye,ae){!function(te){"use strict";function Y(d,J,Q){return"m"===Q?J?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443":"h"===Q?J?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443":d+" "+function A(d,J){var Q=d.split("_");return J%10==1&&J%100!=11?Q[0]:J%10>=2&&J%10<=4&&(J%100<10||J%100>=20)?Q[1]:Q[2]}({ss:J?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:J?"\u0445\u0432\u0456\u043b\u0456\u043d\u0430_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d":"\u0445\u0432\u0456\u043b\u0456\u043d\u0443_\u0445\u0432\u0456\u043b\u0456\u043d\u044b_\u0445\u0432\u0456\u043b\u0456\u043d",hh:J?"\u0433\u0430\u0434\u0437\u0456\u043d\u0430_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d":"\u0433\u0430\u0434\u0437\u0456\u043d\u0443_\u0433\u0430\u0434\u0437\u0456\u043d\u044b_\u0433\u0430\u0434\u0437\u0456\u043d",dd:"\u0434\u0437\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u0437\u0451\u043d",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u044b_\u043c\u0435\u0441\u044f\u0446\u0430\u045e",yy:"\u0433\u043e\u0434_\u0433\u0430\u0434\u044b_\u0433\u0430\u0434\u043e\u045e"}[Q],+d)}te.defineLocale("be",{months:{format:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044f_\u043b\u044e\u0442\u0430\u0433\u0430_\u0441\u0430\u043a\u0430\u0432\u0456\u043a\u0430_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a\u0430_\u0442\u0440\u0430\u045e\u043d\u044f_\u0447\u044d\u0440\u0432\u0435\u043d\u044f_\u043b\u0456\u043f\u0435\u043d\u044f_\u0436\u043d\u0456\u045e\u043d\u044f_\u0432\u0435\u0440\u0430\u0441\u043d\u044f_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a\u0430_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434\u0430_\u0441\u043d\u0435\u0436\u043d\u044f".split("_"),standalone:"\u0441\u0442\u0443\u0434\u0437\u0435\u043d\u044c_\u043b\u044e\u0442\u044b_\u0441\u0430\u043a\u0430\u0432\u0456\u043a_\u043a\u0440\u0430\u0441\u0430\u0432\u0456\u043a_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u044d\u0440\u0432\u0435\u043d\u044c_\u043b\u0456\u043f\u0435\u043d\u044c_\u0436\u043d\u0456\u0432\u0435\u043d\u044c_\u0432\u0435\u0440\u0430\u0441\u0435\u043d\u044c_\u043a\u0430\u0441\u0442\u0440\u044b\u0447\u043d\u0456\u043a_\u043b\u0456\u0441\u0442\u0430\u043f\u0430\u0434_\u0441\u043d\u0435\u0436\u0430\u043d\u044c".split("_")},monthsShort:"\u0441\u0442\u0443\u0434_\u043b\u044e\u0442_\u0441\u0430\u043a_\u043a\u0440\u0430\u0441_\u0442\u0440\u0430\u0432_\u0447\u044d\u0440\u0432_\u043b\u0456\u043f_\u0436\u043d\u0456\u0432_\u0432\u0435\u0440_\u043a\u0430\u0441\u0442_\u043b\u0456\u0441\u0442_\u0441\u043d\u0435\u0436".split("_"),weekdays:{format:"\u043d\u044f\u0434\u0437\u0435\u043b\u044e_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0443_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0443_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),standalone:"\u043d\u044f\u0434\u0437\u0435\u043b\u044f_\u043f\u0430\u043d\u044f\u0434\u0437\u0435\u043b\u0430\u043a_\u0430\u045e\u0442\u043e\u0440\u0430\u043a_\u0441\u0435\u0440\u0430\u0434\u0430_\u0447\u0430\u0446\u0432\u0435\u0440_\u043f\u044f\u0442\u043d\u0456\u0446\u0430_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),isFormat:/\[ ?[\u0423\u0443\u045e] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0430\u0442_\u0441\u0440_\u0447\u0446_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., HH:mm",LLLL:"dddd, D MMMM YYYY \u0433., HH:mm"},calendar:{sameDay:"[\u0421\u0451\u043d\u043d\u044f \u045e] LT",nextDay:"[\u0417\u0430\u045e\u0442\u0440\u0430 \u045e] LT",lastDay:"[\u0423\u0447\u043e\u0440\u0430 \u045e] LT",nextWeek:function(){return"[\u0423] dddd [\u045e] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u0443\u044e] dddd [\u045e] LT";case 1:case 2:case 4:return"[\u0423 \u043c\u0456\u043d\u0443\u043b\u044b] dddd [\u045e] LT"}},sameElse:"L"},relativeTime:{future:"\u043f\u0440\u0430\u0437 %s",past:"%s \u0442\u0430\u043c\u0443",s:"\u043d\u0435\u043a\u0430\u043b\u044c\u043a\u0456 \u0441\u0435\u043a\u0443\u043d\u0434",m:Y,mm:Y,h:Y,hh:Y,d:"\u0434\u0437\u0435\u043d\u044c",dd:Y,M:"\u043c\u0435\u0441\u044f\u0446",MM:Y,y:"\u0433\u043e\u0434",yy:Y},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(d){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(d)},meridiem:function(d,J,Q){return d<4?"\u043d\u043e\u0447\u044b":d<12?"\u0440\u0430\u043d\u0456\u0446\u044b":d<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0430\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(d,J){switch(J){case"M":case"d":case"DDD":case"w":case"W":return d%10!=2&&d%10!=3||d%100==12||d%100==13?d+"-\u044b":d+"-\u0456";case"D":return d+"-\u0433\u0430";default:return d}},week:{dow:1,doy:7}})}(ae(5439))},322:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("bg",{months:"\u044f\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u044f\u043d\u0443_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u044e\u043d\u0438_\u044e\u043b\u0438_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u044f\u0434\u0430_\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a_\u043f\u0435\u0442\u044a\u043a_\u0441\u044a\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u044f_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u044a\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u043d\u0435\u0441 \u0432] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432] LT",nextWeek:"dddd [\u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u041c\u0438\u043d\u0430\u043b\u0430\u0442\u0430] dddd [\u0432] LT";case 1:case 2:case 4:case 5:return"[\u041c\u0438\u043d\u0430\u043b\u0438\u044f] dddd [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0441\u043b\u0435\u0434 %s",past:"\u043f\u0440\u0435\u0434\u0438 %s",s:"\u043d\u044f\u043a\u043e\u043b\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",w:"\u0441\u0435\u0434\u043c\u0438\u0446\u0430",ww:"%d \u0441\u0435\u0434\u043c\u0438\u0446\u0438",M:"\u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0430",y:"\u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(Y){var a=Y%10,d=Y%100;return 0===Y?Y+"-\u0435\u0432":0===d?Y+"-\u0435\u043d":d>10&&d<20?Y+"-\u0442\u0438":1===a?Y+"-\u0432\u0438":2===a?Y+"-\u0440\u0438":7===a||8===a?Y+"-\u043c\u0438":Y+"-\u0442\u0438"},week:{dow:1,doy:7}})}(ae(5439))},8042:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_M\u025bkalo_Zuw\u025bnkalo_Zuluyekalo_Utikalo_S\u025btanburukalo_\u0254kut\u0254burukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M\u025b_Zuw_Zul_Uti_S\u025bt_\u0254ku_Now_Des".split("_"),weekdays:"Kari_Nt\u025bn\u025bn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt\u025b_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [l\u025br\u025b] HH:mm"},calendar:{sameDay:"[Bi l\u025br\u025b] LT",nextDay:"[Sini l\u025br\u025b] LT",nextWeek:"dddd [don l\u025br\u025b] LT",lastDay:"[Kunu l\u025br\u025b] LT",lastWeek:"dddd [t\u025bm\u025bnen l\u025br\u025b] LT",sameElse:"L"},relativeTime:{future:"%s k\u0254n\u0254",past:"a b\u025b %s b\u0254",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"l\u025br\u025b kelen",hh:"l\u025br\u025b %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(ae(5439))},5903:function(ze,Ye,ae){!function(te){"use strict";var A={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},Y={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};te.defineLocale("bn-bd",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(d){return d.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(J){return Y[J]})},postformat:function(d){return d.replace(/\d/g,function(J){return A[J]})},meridiemParse:/\u09b0\u09be\u09a4|\u09ad\u09cb\u09b0|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be|\u09b0\u09be\u09a4/,meridiemHour:function(d,J){return 12===d&&(d=0),"\u09b0\u09be\u09a4"===J?d<4?d:d+12:"\u09ad\u09cb\u09b0"===J||"\u09b8\u0995\u09be\u09b2"===J?d:"\u09a6\u09c1\u09aa\u09c1\u09b0"===J?d>=3?d:d+12:"\u09ac\u09bf\u0995\u09be\u09b2"===J||"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be"===J?d+12:void 0},meridiem:function(d,J,Q){return d<4?"\u09b0\u09be\u09a4":d<6?"\u09ad\u09cb\u09b0":d<12?"\u09b8\u0995\u09be\u09b2":d<15?"\u09a6\u09c1\u09aa\u09c1\u09b0":d<18?"\u09ac\u09bf\u0995\u09be\u09b2":d<20?"\u09b8\u09a8\u09cd\u09a7\u09cd\u09af\u09be":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(ae(5439))},9620:function(ze,Ye,ae){!function(te){"use strict";var A={1:"\u09e7",2:"\u09e8",3:"\u09e9",4:"\u09ea",5:"\u09eb",6:"\u09ec",7:"\u09ed",8:"\u09ee",9:"\u09ef",0:"\u09e6"},Y={"\u09e7":"1","\u09e8":"2","\u09e9":"3","\u09ea":"4","\u09eb":"5","\u09ec":"6","\u09ed":"7","\u09ee":"8","\u09ef":"9","\u09e6":"0"};te.defineLocale("bn",{months:"\u099c\u09be\u09a8\u09c1\u09df\u09be\u09b0\u09bf_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1\u09df\u09be\u09b0\u09bf_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f\u09c7\u09ae\u09cd\u09ac\u09b0_\u0985\u0995\u09cd\u099f\u09cb\u09ac\u09b0_\u09a8\u09ad\u09c7\u09ae\u09cd\u09ac\u09b0_\u09a1\u09bf\u09b8\u09c7\u09ae\u09cd\u09ac\u09b0".split("_"),monthsShort:"\u099c\u09be\u09a8\u09c1_\u09ab\u09c7\u09ac\u09cd\u09b0\u09c1_\u09ae\u09be\u09b0\u09cd\u099a_\u098f\u09aa\u09cd\u09b0\u09bf\u09b2_\u09ae\u09c7_\u099c\u09c1\u09a8_\u099c\u09c1\u09b2\u09be\u0987_\u0986\u0997\u09b8\u09cd\u099f_\u09b8\u09c7\u09aa\u09cd\u099f_\u0985\u0995\u09cd\u099f\u09cb_\u09a8\u09ad\u09c7_\u09a1\u09bf\u09b8\u09c7".split("_"),weekdays:"\u09b0\u09ac\u09bf\u09ac\u09be\u09b0_\u09b8\u09cb\u09ae\u09ac\u09be\u09b0_\u09ae\u0999\u09cd\u0997\u09b2\u09ac\u09be\u09b0_\u09ac\u09c1\u09a7\u09ac\u09be\u09b0_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf\u09ac\u09be\u09b0_\u09b6\u09c1\u0995\u09cd\u09b0\u09ac\u09be\u09b0_\u09b6\u09a8\u09bf\u09ac\u09be\u09b0".split("_"),weekdaysShort:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9\u09b8\u09cd\u09aa\u09a4\u09bf_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),weekdaysMin:"\u09b0\u09ac\u09bf_\u09b8\u09cb\u09ae_\u09ae\u0999\u09cd\u0997\u09b2_\u09ac\u09c1\u09a7_\u09ac\u09c3\u09b9_\u09b6\u09c1\u0995\u09cd\u09b0_\u09b6\u09a8\u09bf".split("_"),longDateFormat:{LT:"A h:mm \u09b8\u09ae\u09df",LTS:"A h:mm:ss \u09b8\u09ae\u09df",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u09b8\u09ae\u09df",LLLL:"dddd, D MMMM YYYY, A h:mm \u09b8\u09ae\u09df"},calendar:{sameDay:"[\u0986\u099c] LT",nextDay:"[\u0986\u0997\u09be\u09ae\u09c0\u0995\u09be\u09b2] LT",nextWeek:"dddd, LT",lastDay:"[\u0997\u09a4\u0995\u09be\u09b2] LT",lastWeek:"[\u0997\u09a4] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u09aa\u09b0\u09c7",past:"%s \u0986\u0997\u09c7",s:"\u0995\u09df\u09c7\u0995 \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",ss:"%d \u09b8\u09c7\u0995\u09c7\u09a8\u09cd\u09a1",m:"\u098f\u0995 \u09ae\u09bf\u09a8\u09bf\u099f",mm:"%d \u09ae\u09bf\u09a8\u09bf\u099f",h:"\u098f\u0995 \u0998\u09a8\u09cd\u099f\u09be",hh:"%d \u0998\u09a8\u09cd\u099f\u09be",d:"\u098f\u0995 \u09a6\u09bf\u09a8",dd:"%d \u09a6\u09bf\u09a8",M:"\u098f\u0995 \u09ae\u09be\u09b8",MM:"%d \u09ae\u09be\u09b8",y:"\u098f\u0995 \u09ac\u099b\u09b0",yy:"%d \u09ac\u099b\u09b0"},preparse:function(d){return d.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(J){return Y[J]})},postformat:function(d){return d.replace(/\d/g,function(J){return A[J]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(d,J){return 12===d&&(d=0),"\u09b0\u09be\u09a4"===J&&d>=4||"\u09a6\u09c1\u09aa\u09c1\u09b0"===J&&d<5||"\u09ac\u09bf\u0995\u09be\u09b2"===J?d+12:d},meridiem:function(d,J,Q){return d<4?"\u09b0\u09be\u09a4":d<10?"\u09b8\u0995\u09be\u09b2":d<17?"\u09a6\u09c1\u09aa\u09c1\u09b0":d<20?"\u09ac\u09bf\u0995\u09be\u09b2":"\u09b0\u09be\u09a4"},week:{dow:0,doy:6}})}(ae(5439))},9645:function(ze,Ye,ae){!function(te){"use strict";var A={1:"\u0f21",2:"\u0f22",3:"\u0f23",4:"\u0f24",5:"\u0f25",6:"\u0f26",7:"\u0f27",8:"\u0f28",9:"\u0f29",0:"\u0f20"},Y={"\u0f21":"1","\u0f22":"2","\u0f23":"3","\u0f24":"4","\u0f25":"5","\u0f26":"6","\u0f27":"7","\u0f28":"8","\u0f29":"9","\u0f20":"0"};te.defineLocale("bo",{months:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f44\u0f0b\u0f54\u0f7c_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f66\u0f74\u0f58\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f5e\u0f72\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f63\u0f94\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0fb2\u0f74\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f62\u0f92\u0fb1\u0f51\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f51\u0f42\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f45\u0f72\u0f42\u0f0b\u0f54_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f56\u0f45\u0f74\u0f0b\u0f42\u0f49\u0f72\u0f66\u0f0b\u0f54".split("_"),monthsShort:"\u0f5f\u0fb3\u0f0b1_\u0f5f\u0fb3\u0f0b2_\u0f5f\u0fb3\u0f0b3_\u0f5f\u0fb3\u0f0b4_\u0f5f\u0fb3\u0f0b5_\u0f5f\u0fb3\u0f0b6_\u0f5f\u0fb3\u0f0b7_\u0f5f\u0fb3\u0f0b8_\u0f5f\u0fb3\u0f0b9_\u0f5f\u0fb3\u0f0b10_\u0f5f\u0fb3\u0f0b11_\u0f5f\u0fb3\u0f0b12".split("_"),monthsShortRegex:/^(\u0f5f\u0fb3\u0f0b\d{1,2})/,monthsParseExact:!0,weekdays:"\u0f42\u0f5f\u0f60\u0f0b\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f42\u0f5f\u0f60\u0f0b\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f42\u0f5f\u0f60\u0f0b\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysShort:"\u0f49\u0f72\u0f0b\u0f58\u0f0b_\u0f5f\u0fb3\u0f0b\u0f56\u0f0b_\u0f58\u0f72\u0f42\u0f0b\u0f51\u0f58\u0f62\u0f0b_\u0f63\u0fb7\u0f42\u0f0b\u0f54\u0f0b_\u0f55\u0f74\u0f62\u0f0b\u0f56\u0f74_\u0f54\u0f0b\u0f66\u0f44\u0f66\u0f0b_\u0f66\u0fa4\u0f7a\u0f53\u0f0b\u0f54\u0f0b".split("_"),weekdaysMin:"\u0f49\u0f72_\u0f5f\u0fb3_\u0f58\u0f72\u0f42_\u0f63\u0fb7\u0f42_\u0f55\u0f74\u0f62_\u0f66\u0f44\u0f66_\u0f66\u0fa4\u0f7a\u0f53".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0f51\u0f72\u0f0b\u0f62\u0f72\u0f44] LT",nextDay:"[\u0f66\u0f44\u0f0b\u0f49\u0f72\u0f53] LT",nextWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f62\u0f97\u0f7a\u0f66\u0f0b\u0f58], LT",lastDay:"[\u0f41\u0f0b\u0f66\u0f44] LT",lastWeek:"[\u0f56\u0f51\u0f74\u0f53\u0f0b\u0f55\u0fb2\u0f42\u0f0b\u0f58\u0f50\u0f60\u0f0b\u0f58] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0f63\u0f0b",past:"%s \u0f66\u0f94\u0f53\u0f0b\u0f63",s:"\u0f63\u0f58\u0f0b\u0f66\u0f44",ss:"%d \u0f66\u0f90\u0f62\u0f0b\u0f46\u0f0d",m:"\u0f66\u0f90\u0f62\u0f0b\u0f58\u0f0b\u0f42\u0f45\u0f72\u0f42",mm:"%d \u0f66\u0f90\u0f62\u0f0b\u0f58",h:"\u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51\u0f0b\u0f42\u0f45\u0f72\u0f42",hh:"%d \u0f46\u0f74\u0f0b\u0f5a\u0f7c\u0f51",d:"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f45\u0f72\u0f42",dd:"%d \u0f49\u0f72\u0f53\u0f0b",M:"\u0f5f\u0fb3\u0f0b\u0f56\u0f0b\u0f42\u0f45\u0f72\u0f42",MM:"%d \u0f5f\u0fb3\u0f0b\u0f56",y:"\u0f63\u0f7c\u0f0b\u0f42\u0f45\u0f72\u0f42",yy:"%d \u0f63\u0f7c"},preparse:function(d){return d.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(J){return Y[J]})},postformat:function(d){return d.replace(/\d/g,function(J){return A[J]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(d,J){return 12===d&&(d=0),"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"===J&&d>=4||"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44"===J&&d<5||"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42"===J?d+12:d},meridiem:function(d,J,Q){return d<4?"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c":d<10?"\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66":d<17?"\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44":d<20?"\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42":"\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c"},week:{dow:0,doy:6}})}(ae(5439))},5020:function(ze,Ye,ae){!function(te){"use strict";function A(qe,Me,Je){return qe+" "+function d(qe,Me){return 2===Me?function J(qe){var Me={m:"v",b:"v",d:"z"};return void 0===Me[qe.charAt(0)]?qe:Me[qe.charAt(0)]+qe.substring(1)}(qe):qe}({mm:"munutenn",MM:"miz",dd:"devezh"}[Je],qe)}function a(qe){return qe>9?a(qe%10):qe}var Q=[/^gen/i,/^c[\u02bc\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],oe=/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,gt=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];te.defineLocale("br",{months:"Genver_C\u02bchwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C\u02bchwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc\u02bcher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:gt,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\u02bc\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:gt,monthsRegex:oe,monthsShortRegex:oe,monthsStrictRegex:/^(genver|c[\u02bc\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\u02bc\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:Q,longMonthsParse:Q,shortMonthsParse:Q,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc\u02bchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec\u02bch da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s \u02bczo",s:"un nebeud segondenno\xf9",ss:"%d eilenn",m:"ur vunutenn",mm:A,h:"un eur",hh:"%d eur",d:"un devezh",dd:A,M:"ur miz",MM:A,y:"ur bloaz",yy:function Y(qe){switch(a(qe)){case 1:case 3:case 4:case 5:case 9:return qe+" bloaz";default:return qe+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(qe){return qe+(1===qe?"a\xf1":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(qe){return"g.m."===qe},meridiem:function(qe,Me,Je){return qe<12?"a.m.":"g.m."}})}(ae(5439))},4792:function(ze,Ye,ae){!function(te){"use strict";function A(a,d,J){var Q=a+" ";switch(J){case"ss":return Q+(1===a?"sekunda":2===a||3===a||4===a?"sekunde":"sekundi");case"m":return d?"jedna minuta":"jedne minute";case"mm":return Q+(1===a?"minuta":2===a||3===a||4===a?"minute":"minuta");case"h":return d?"jedan sat":"jednog sata";case"hh":return Q+(1===a?"sat":2===a||3===a||4===a?"sata":"sati");case"dd":return Q+(1===a?"dan":"dana");case"MM":return Q+(1===a?"mjesec":2===a||3===a||4===a?"mjeseca":"mjeseci");case"yy":return Q+(1===a?"godina":2===a||3===a||4===a?"godine":"godina")}}te.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[pro\u0161lu] dddd [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:A,m:A,mm:A,h:A,hh:A,d:"dan",dd:A,M:"mjesec",MM:A,y:"godinu",yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(ae(5439))},7980:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("ca",{months:{standalone:"gener_febrer_mar\xe7_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar\xe7_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem\xe0 a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(Y,a){var d=1===Y?"r":2===Y?"n":3===Y?"r":4===Y?"t":"\xe8";return("w"===a||"W"===a)&&(d="a"),Y+d},week:{dow:1,doy:4}})}(ae(5439))},6466:function(ze,Ye,ae){!function(te){"use strict";var A={format:"leden_\xfanor_b\u0159ezen_duben_kv\u011bten_\u010derven_\u010dervenec_srpen_z\xe1\u0159\xed_\u0159\xedjen_listopad_prosinec".split("_"),standalone:"ledna_\xfanora_b\u0159ezna_dubna_kv\u011btna_\u010dervna_\u010dervence_srpna_z\xe1\u0159\xed_\u0159\xedjna_listopadu_prosince".split("_")},Y="led_\xfano_b\u0159e_dub_kv\u011b_\u010dvn_\u010dvc_srp_z\xe1\u0159_\u0159\xedj_lis_pro".split("_"),a=[/^led/i,/^\xfano/i,/^b\u0159e/i,/^dub/i,/^kv\u011b/i,/^(\u010dvn|\u010derven$|\u010dervna)/i,/^(\u010dvc|\u010dervenec|\u010dervence)/i,/^srp/i,/^z\xe1\u0159/i,/^\u0159\xedj/i,/^lis/i,/^pro/i],d=/^(leden|\xfanor|b\u0159ezen|duben|kv\u011bten|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|z\xe1\u0159\xed|\u0159\xedjen|listopad|prosinec|led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i;function J(ye){return ye>1&&ye<5&&1!=~~(ye/10)}function Q(ye,Oe,ht,Te){var gt=ye+" ";switch(ht){case"s":return Oe||Te?"p\xe1r sekund":"p\xe1r sekundami";case"ss":return Oe||Te?gt+(J(ye)?"sekundy":"sekund"):gt+"sekundami";case"m":return Oe?"minuta":Te?"minutu":"minutou";case"mm":return Oe||Te?gt+(J(ye)?"minuty":"minut"):gt+"minutami";case"h":return Oe?"hodina":Te?"hodinu":"hodinou";case"hh":return Oe||Te?gt+(J(ye)?"hodiny":"hodin"):gt+"hodinami";case"d":return Oe||Te?"den":"dnem";case"dd":return Oe||Te?gt+(J(ye)?"dny":"dn\xed"):gt+"dny";case"M":return Oe||Te?"m\u011bs\xedc":"m\u011bs\xedcem";case"MM":return Oe||Te?gt+(J(ye)?"m\u011bs\xedce":"m\u011bs\xedc\u016f"):gt+"m\u011bs\xedci";case"y":return Oe||Te?"rok":"rokem";case"yy":return Oe||Te?gt+(J(ye)?"roky":"let"):gt+"lety"}}te.defineLocale("cs",{months:A,monthsShort:Y,monthsRegex:d,monthsShortRegex:d,monthsStrictRegex:/^(leden|ledna|\xfanora|\xfanor|b\u0159ezen|b\u0159ezna|duben|dubna|kv\u011bten|kv\u011btna|\u010dervenec|\u010dervence|\u010derven|\u010dervna|srpen|srpna|z\xe1\u0159\xed|\u0159\xedjen|\u0159\xedjna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|\xfano|b\u0159e|dub|kv\u011b|\u010dvn|\u010dvc|srp|z\xe1\u0159|\u0159\xedj|lis|pro)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"ned\u011ble_pond\u011bl\xed_\xfater\xfd_st\u0159eda_\u010dtvrtek_p\xe1tek_sobota".split("_"),weekdaysShort:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),weekdaysMin:"ne_po_\xfat_st_\u010dt_p\xe1_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[z\xedtra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v ned\u011bli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve st\u0159edu v] LT";case 4:return"[ve \u010dtvrtek v] LT";case 5:return"[v p\xe1tek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[v\u010dera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou ned\u011bli v] LT";case 1:case 2:return"[minul\xe9] dddd [v] LT";case 3:return"[minulou st\u0159edu v] LT";case 4:case 5:return"[minul\xfd] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"p\u0159ed %s",s:Q,ss:Q,m:Q,mm:Q,h:Q,hh:Q,d:Q,dd:Q,M:Q,MM:Q,y:Q,yy:Q},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},365:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("cv",{months:"\u043a\u04d1\u0440\u043b\u0430\u0447_\u043d\u0430\u0440\u04d1\u0441_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440\u0442\u043c\u0435_\u0443\u0442\u04d1_\u04ab\u0443\u0440\u043b\u0430_\u0430\u0432\u04d1\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448\u0442\u0430\u0432".split("_"),monthsShort:"\u043a\u04d1\u0440_\u043d\u0430\u0440_\u043f\u0443\u0448_\u0430\u043a\u0430_\u043c\u0430\u0439_\u04ab\u04d7\u0440_\u0443\u0442\u04d1_\u04ab\u0443\u0440_\u0430\u0432\u043d_\u044e\u043f\u0430_\u0447\u04f3\u043a_\u0440\u0430\u0448".split("_"),weekdays:"\u0432\u044b\u0440\u0441\u0430\u0440\u043d\u0438\u043a\u0443\u043d_\u0442\u0443\u043d\u0442\u0438\u043a\u0443\u043d_\u044b\u0442\u043b\u0430\u0440\u0438\u043a\u0443\u043d_\u044e\u043d\u043a\u0443\u043d_\u043a\u04d7\u04ab\u043d\u0435\u0440\u043d\u0438\u043a\u0443\u043d_\u044d\u0440\u043d\u0435\u043a\u0443\u043d_\u0448\u04d1\u043c\u0430\u0442\u043a\u0443\u043d".split("_"),weekdaysShort:"\u0432\u044b\u0440_\u0442\u0443\u043d_\u044b\u0442\u043b_\u044e\u043d_\u043a\u04d7\u04ab_\u044d\u0440\u043d_\u0448\u04d1\u043c".split("_"),weekdaysMin:"\u0432\u0440_\u0442\u043d_\u044b\u0442_\u044e\u043d_\u043a\u04ab_\u044d\u0440_\u0448\u043c".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7]",LLL:"YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm",LLLL:"dddd, YYYY [\u04ab\u0443\u043b\u0445\u0438] MMMM [\u0443\u0439\u04d1\u0445\u04d7\u043d] D[-\u043c\u04d7\u0448\u04d7], HH:mm"},calendar:{sameDay:"[\u041f\u0430\u044f\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextDay:"[\u042b\u0440\u0430\u043d] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastDay:"[\u04d6\u043d\u0435\u0440] LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",nextWeek:"[\u04aa\u0438\u0442\u0435\u0441] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",lastWeek:"[\u0418\u0440\u0442\u043d\u04d7] dddd LT [\u0441\u0435\u0445\u0435\u0442\u0440\u0435]",sameElse:"L"},relativeTime:{future:function(Y){return Y+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(Y)?"\u0440\u0435\u043d":/\u04ab\u0443\u043b$/i.exec(Y)?"\u0442\u0430\u043d":"\u0440\u0430\u043d")},past:"%s \u043a\u0430\u044f\u043b\u043b\u0430",s:"\u043f\u04d7\u0440-\u0438\u043a \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",ss:"%d \u04ab\u0435\u043a\u043a\u0443\u043d\u0442",m:"\u043f\u04d7\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u043f\u04d7\u0440 \u0441\u0435\u0445\u0435\u0442",hh:"%d \u0441\u0435\u0445\u0435\u0442",d:"\u043f\u04d7\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u043f\u04d7\u0440 \u0443\u0439\u04d1\u0445",MM:"%d \u0443\u0439\u04d1\u0445",y:"\u043f\u04d7\u0440 \u04ab\u0443\u043b",yy:"%d \u04ab\u0443\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-\u043c\u04d7\u0448",week:{dow:1,doy:7}})}(ae(5439))},2092:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn \xf4l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(Y){var d="";return Y>20?d=40===Y||50===Y||60===Y||80===Y||100===Y?"fed":"ain":Y>0&&(d=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][Y]),Y+d},week:{dow:1,doy:4}})}(ae(5439))},7387:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8n_man_tir_ons_tor_fre_l\xf8r".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p\xe5 dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f\xe5 sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"et \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},9459:function(ze,Ye,ae){!function(te){"use strict";function A(a,d,J,Q){var oe={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return d?oe[J][0]:oe[J][1]}te.defineLocale("de-at",{months:"J\xe4nner_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"J\xe4n._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:A,mm:"%d Minuten",h:A,hh:"%d Stunden",d:A,dd:A,w:A,ww:"%d Wochen",M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},3694:function(ze,Ye,ae){!function(te){"use strict";function A(a,d,J,Q){var oe={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return d?oe[J][0]:oe[J][1]}te.defineLocale("de-ch",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:A,mm:"%d Minuten",h:A,hh:"%d Stunden",d:A,dd:A,w:A,ww:"%d Wochen",M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},4307:function(ze,Ye,ae){!function(te){"use strict";function A(a,d,J,Q){var oe={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return d?oe[J][0]:oe[J][1]}te.defineLocale("de",{months:"Januar_Februar_M\xe4rz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._M\xe4rz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:A,mm:"%d Minuten",h:A,hh:"%d Stunden",d:A,dd:A,w:A,ww:"%d Wochen",M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},9659:function(ze,Ye,ae){!function(te){"use strict";var A=["\u0796\u07ac\u0782\u07aa\u0787\u07a6\u0783\u07a9","\u078a\u07ac\u0784\u07b0\u0783\u07aa\u0787\u07a6\u0783\u07a9","\u0789\u07a7\u0783\u07a8\u0797\u07aa","\u0787\u07ad\u0795\u07b0\u0783\u07a9\u078d\u07aa","\u0789\u07ad","\u0796\u07ab\u0782\u07b0","\u0796\u07aa\u078d\u07a6\u0787\u07a8","\u0787\u07af\u078e\u07a6\u0790\u07b0\u0793\u07aa","\u0790\u07ac\u0795\u07b0\u0793\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0787\u07ae\u0786\u07b0\u0793\u07af\u0784\u07a6\u0783\u07aa","\u0782\u07ae\u0788\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa","\u0791\u07a8\u0790\u07ac\u0789\u07b0\u0784\u07a6\u0783\u07aa"],Y=["\u0787\u07a7\u078b\u07a8\u0787\u07b0\u078c\u07a6","\u0780\u07af\u0789\u07a6","\u0787\u07a6\u0782\u07b0\u078e\u07a7\u0783\u07a6","\u0784\u07aa\u078b\u07a6","\u0784\u07aa\u0783\u07a7\u0790\u07b0\u078a\u07a6\u078c\u07a8","\u0780\u07aa\u0786\u07aa\u0783\u07aa","\u0780\u07ae\u0782\u07a8\u0780\u07a8\u0783\u07aa"];te.defineLocale("dv",{months:A,monthsShort:A,weekdays:Y,weekdaysShort:Y,weekdaysMin:"\u0787\u07a7\u078b\u07a8_\u0780\u07af\u0789\u07a6_\u0787\u07a6\u0782\u07b0_\u0784\u07aa\u078b\u07a6_\u0784\u07aa\u0783\u07a7_\u0780\u07aa\u0786\u07aa_\u0780\u07ae\u0782\u07a8".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(d){return"\u0789\u078a"===d},meridiem:function(d,J,Q){return d<12?"\u0789\u0786":"\u0789\u078a"},calendar:{sameDay:"[\u0789\u07a8\u0787\u07a6\u078b\u07aa] LT",nextDay:"[\u0789\u07a7\u078b\u07a6\u0789\u07a7] LT",nextWeek:"dddd LT",lastDay:"[\u0787\u07a8\u0787\u07b0\u0794\u07ac] LT",lastWeek:"[\u078a\u07a7\u0787\u07a8\u078c\u07aa\u0788\u07a8] dddd LT",sameElse:"L"},relativeTime:{future:"\u078c\u07ac\u0783\u07ad\u078e\u07a6\u0787\u07a8 %s",past:"\u0786\u07aa\u0783\u07a8\u0782\u07b0 %s",s:"\u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa\u0786\u07ae\u0785\u07ac\u0787\u07b0",ss:"d% \u0790\u07a8\u0786\u07aa\u0782\u07b0\u078c\u07aa",m:"\u0789\u07a8\u0782\u07a8\u0793\u07ac\u0787\u07b0",mm:"\u0789\u07a8\u0782\u07a8\u0793\u07aa %d",h:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07ac\u0787\u07b0",hh:"\u078e\u07a6\u0791\u07a8\u0787\u07a8\u0783\u07aa %d",d:"\u078b\u07aa\u0788\u07a6\u0780\u07ac\u0787\u07b0",dd:"\u078b\u07aa\u0788\u07a6\u0790\u07b0 %d",M:"\u0789\u07a6\u0780\u07ac\u0787\u07b0",MM:"\u0789\u07a6\u0790\u07b0 %d",y:"\u0787\u07a6\u0780\u07a6\u0783\u07ac\u0787\u07b0",yy:"\u0787\u07a6\u0780\u07a6\u0783\u07aa %d"},preparse:function(d){return d.replace(/\u060c/g,",")},postformat:function(d){return d.replace(/,/g,"\u060c")},week:{dow:7,doy:12}})}(ae(5439))},3460:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("el",{monthsNominativeEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03ac\u03c1\u03b9\u03bf\u03c2_\u039c\u03ac\u03c1\u03c4\u03b9\u03bf\u03c2_\u0391\u03c0\u03c1\u03af\u03bb\u03b9\u03bf\u03c2_\u039c\u03ac\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bd\u03b9\u03bf\u03c2_\u0399\u03bf\u03cd\u03bb\u03b9\u03bf\u03c2_\u0391\u03cd\u03b3\u03bf\u03c5\u03c3\u03c4\u03bf\u03c2_\u03a3\u03b5\u03c0\u03c4\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u039f\u03ba\u03c4\u03ce\u03b2\u03c1\u03b9\u03bf\u03c2_\u039d\u03bf\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2_\u0394\u03b5\u03ba\u03ad\u03bc\u03b2\u03c1\u03b9\u03bf\u03c2".split("_"),monthsGenitiveEl:"\u0399\u03b1\u03bd\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u03a6\u03b5\u03b2\u03c1\u03bf\u03c5\u03b1\u03c1\u03af\u03bf\u03c5_\u039c\u03b1\u03c1\u03c4\u03af\u03bf\u03c5_\u0391\u03c0\u03c1\u03b9\u03bb\u03af\u03bf\u03c5_\u039c\u03b1\u0390\u03bf\u03c5_\u0399\u03bf\u03c5\u03bd\u03af\u03bf\u03c5_\u0399\u03bf\u03c5\u03bb\u03af\u03bf\u03c5_\u0391\u03c5\u03b3\u03bf\u03cd\u03c3\u03c4\u03bf\u03c5_\u03a3\u03b5\u03c0\u03c4\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u039f\u03ba\u03c4\u03c9\u03b2\u03c1\u03af\u03bf\u03c5_\u039d\u03bf\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5_\u0394\u03b5\u03ba\u03b5\u03bc\u03b2\u03c1\u03af\u03bf\u03c5".split("_"),months:function(a,d){return a?"string"==typeof d&&/D/.test(d.substring(0,d.indexOf("MMMM")))?this._monthsGenitiveEl[a.month()]:this._monthsNominativeEl[a.month()]:this._monthsNominativeEl},monthsShort:"\u0399\u03b1\u03bd_\u03a6\u03b5\u03b2_\u039c\u03b1\u03c1_\u0391\u03c0\u03c1_\u039c\u03b1\u03ca_\u0399\u03bf\u03c5\u03bd_\u0399\u03bf\u03c5\u03bb_\u0391\u03c5\u03b3_\u03a3\u03b5\u03c0_\u039f\u03ba\u03c4_\u039d\u03bf\u03b5_\u0394\u03b5\u03ba".split("_"),weekdays:"\u039a\u03c5\u03c1\u03b9\u03b1\u03ba\u03ae_\u0394\u03b5\u03c5\u03c4\u03ad\u03c1\u03b1_\u03a4\u03c1\u03af\u03c4\u03b7_\u03a4\u03b5\u03c4\u03ac\u03c1\u03c4\u03b7_\u03a0\u03ad\u03bc\u03c0\u03c4\u03b7_\u03a0\u03b1\u03c1\u03b1\u03c3\u03ba\u03b5\u03c5\u03ae_\u03a3\u03ac\u03b2\u03b2\u03b1\u03c4\u03bf".split("_"),weekdaysShort:"\u039a\u03c5\u03c1_\u0394\u03b5\u03c5_\u03a4\u03c1\u03b9_\u03a4\u03b5\u03c4_\u03a0\u03b5\u03bc_\u03a0\u03b1\u03c1_\u03a3\u03b1\u03b2".split("_"),weekdaysMin:"\u039a\u03c5_\u0394\u03b5_\u03a4\u03c1_\u03a4\u03b5_\u03a0\u03b5_\u03a0\u03b1_\u03a3\u03b1".split("_"),meridiem:function(a,d,J){return a>11?J?"\u03bc\u03bc":"\u039c\u039c":J?"\u03c0\u03bc":"\u03a0\u039c"},isPM:function(a){return"\u03bc"===(a+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[\u03a3\u03ae\u03bc\u03b5\u03c1\u03b1 {}] LT",nextDay:"[\u0391\u03cd\u03c1\u03b9\u03bf {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[\u03a7\u03b8\u03b5\u03c2 {}] LT",lastWeek:function(){return 6===this.day()?"[\u03c4\u03bf \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03bf] dddd [{}] LT":"[\u03c4\u03b7\u03bd \u03c0\u03c1\u03bf\u03b7\u03b3\u03bf\u03cd\u03bc\u03b5\u03bd\u03b7] dddd [{}] LT"},sameElse:"L"},calendar:function(a,d){var J=this._calendarEl[a],Q=d&&d.hours();return function A(a){return"undefined"!=typeof Function&&a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}(J)&&(J=J.apply(d)),J.replace("{}",Q%12==1?"\u03c3\u03c4\u03b7":"\u03c3\u03c4\u03b9\u03c2")},relativeTime:{future:"\u03c3\u03b5 %s",past:"%s \u03c0\u03c1\u03b9\u03bd",s:"\u03bb\u03af\u03b3\u03b1 \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",ss:"%d \u03b4\u03b5\u03c5\u03c4\u03b5\u03c1\u03cc\u03bb\u03b5\u03c0\u03c4\u03b1",m:"\u03ad\u03bd\u03b1 \u03bb\u03b5\u03c0\u03c4\u03cc",mm:"%d \u03bb\u03b5\u03c0\u03c4\u03ac",h:"\u03bc\u03af\u03b1 \u03ce\u03c1\u03b1",hh:"%d \u03ce\u03c1\u03b5\u03c2",d:"\u03bc\u03af\u03b1 \u03bc\u03ad\u03c1\u03b1",dd:"%d \u03bc\u03ad\u03c1\u03b5\u03c2",M:"\u03ad\u03bd\u03b1\u03c2 \u03bc\u03ae\u03bd\u03b1\u03c2",MM:"%d \u03bc\u03ae\u03bd\u03b5\u03c2",y:"\u03ad\u03bd\u03b1\u03c2 \u03c7\u03c1\u03cc\u03bd\u03bf\u03c2",yy:"%d \u03c7\u03c1\u03cc\u03bd\u03b9\u03b1"},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d\u03b7",week:{dow:1,doy:4}})}(ae(5439))},4369:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(Y){var a=Y%10;return Y+(1==~~(Y%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")},week:{dow:0,doy:4}})}(ae(5439))},530:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(Y){var a=Y%10;return Y+(1==~~(Y%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")}})}(ae(5439))},9998:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(Y){var a=Y%10;return Y+(1==~~(Y%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")},week:{dow:1,doy:4}})}(ae(5439))},3391:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(Y){var a=Y%10;return Y+(1==~~(Y%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")},week:{dow:1,doy:4}})}(ae(5439))},5414:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(Y){var a=Y%10;return Y+(1==~~(Y%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")}})}(ae(5439))},9615:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(Y){var a=Y%10;return Y+(1==~~(Y%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")},week:{dow:0,doy:6}})}(ae(5439))},1248:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(Y){var a=Y%10;return Y+(1==~~(Y%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")},week:{dow:1,doy:4}})}(ae(5439))},3767:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(Y){var a=Y%10;return Y+(1==~~(Y%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")},week:{dow:1,doy:4}})}(ae(5439))},4530:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_a\u016dgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_a\u016dg_sept_okt_nov_dec".split("_"),weekdays:"diman\u0109o_lundo_mardo_merkredo_\u0135a\u016ddo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_\u0135a\u016d_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_\u0135a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(Y){return"p"===Y.charAt(0).toLowerCase()},meridiem:function(Y,a,d){return Y>11?d?"p.t.m.":"P.T.M.":d?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia\u016d je] LT",nextDay:"[Morga\u016d je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera\u016d je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta\u016d %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(ae(5439))},8944:function(ze,Ye,ae){!function(te){"use strict";var A="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Y="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),a=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],d=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;te.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(Q,oe){return Q?/-MMM-/.test(oe)?Y[Q.month()]:A[Q.month()]:A},monthsRegex:d,monthsShortRegex:d,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(ae(5439))},9116:function(ze,Ye,ae){!function(te){"use strict";var A="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Y="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),a=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],d=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;te.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(Q,oe){return Q?/-MMM-/.test(oe)?Y[Q.month()]:A[Q.month()]:A},monthsRegex:d,monthsShortRegex:d,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:4},invalidDate:"Fecha inv\xe1lida"})}(ae(5439))},3609:function(ze,Ye,ae){!function(te){"use strict";var A="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Y="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),a=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],d=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;te.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(Q,oe){return Q?/-MMM-/.test(oe)?Y[Q.month()]:A[Q.month()]:A},monthsRegex:d,monthsShortRegex:d,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:0,doy:6}})}(ae(5439))},6866:function(ze,Ye,ae){!function(te){"use strict";var A="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Y="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),a=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],d=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;te.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(Q,oe){return Q?/-MMM-/.test(oe)?Y[Q.month()]:A[Q.month()]:A},monthsRegex:d,monthsShortRegex:d,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4},invalidDate:"Fecha inv\xe1lida"})}(ae(5439))},6725:function(ze,Ye,ae){!function(te){"use strict";function A(a,d,J,Q){var oe={s:["m\xf5ne sekundi","m\xf5ni sekund","paar sekundit"],ss:[a+"sekundi",a+"sekundit"],m:["\xfche minuti","\xfcks minut"],mm:[a+" minuti",a+" minutit"],h:["\xfche tunni","tund aega","\xfcks tund"],hh:[a+" tunni",a+" tundi"],d:["\xfche p\xe4eva","\xfcks p\xe4ev"],M:["kuu aja","kuu aega","\xfcks kuu"],MM:[a+" kuu",a+" kuud"],y:["\xfche aasta","aasta","\xfcks aasta"],yy:[a+" aasta",a+" aastat"]};return d?oe[J][2]?oe[J][2]:oe[J][1]:Q?oe[J][0]:oe[J][1]}te.defineLocale("et",{months:"jaanuar_veebruar_m\xe4rts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_m\xe4rts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"p\xfchap\xe4ev_esmasp\xe4ev_teisip\xe4ev_kolmap\xe4ev_neljap\xe4ev_reede_laup\xe4ev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[T\xe4na,] LT",nextDay:"[Homme,] LT",nextWeek:"[J\xe4rgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s p\xe4rast",past:"%s tagasi",s:A,ss:A,m:A,mm:A,h:A,hh:A,d:A,dd:"%d p\xe4eva",M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},7931:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(ae(5439))},6417:function(ze,Ye,ae){!function(te){"use strict";var A={1:"\u06f1",2:"\u06f2",3:"\u06f3",4:"\u06f4",5:"\u06f5",6:"\u06f6",7:"\u06f7",8:"\u06f8",9:"\u06f9",0:"\u06f0"},Y={"\u06f1":"1","\u06f2":"2","\u06f3":"3","\u06f4":"4","\u06f5":"5","\u06f6":"6","\u06f7":"7","\u06f8":"8","\u06f9":"9","\u06f0":"0"};te.defineLocale("fa",{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(d){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(d)},meridiem:function(d,J,Q){return d<12?"\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631":"\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631"},calendar:{sameDay:"[\u0627\u0645\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",nextDay:"[\u0641\u0631\u062f\u0627 \u0633\u0627\u0639\u062a] LT",nextWeek:"dddd [\u0633\u0627\u0639\u062a] LT",lastDay:"[\u062f\u06cc\u0631\u0648\u0632 \u0633\u0627\u0639\u062a] LT",lastWeek:"dddd [\u067e\u06cc\u0634] [\u0633\u0627\u0639\u062a] LT",sameElse:"L"},relativeTime:{future:"\u062f\u0631 %s",past:"%s \u067e\u06cc\u0634",s:"\u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647",ss:"%d \u062b\u0627\u0646\u06cc\u0647",m:"\u06cc\u06a9 \u062f\u0642\u06cc\u0642\u0647",mm:"%d \u062f\u0642\u06cc\u0642\u0647",h:"\u06cc\u06a9 \u0633\u0627\u0639\u062a",hh:"%d \u0633\u0627\u0639\u062a",d:"\u06cc\u06a9 \u0631\u0648\u0632",dd:"%d \u0631\u0648\u0632",M:"\u06cc\u06a9 \u0645\u0627\u0647",MM:"%d \u0645\u0627\u0647",y:"\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(d){return d.replace(/[\u06f0-\u06f9]/g,function(J){return Y[J]}).replace(/\u060c/g,",")},postformat:function(d){return d.replace(/\d/g,function(J){return A[J]}).replace(/,/g,"\u060c")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d\u0645",week:{dow:6,doy:12}})}(ae(5439))},944:function(ze,Ye,ae){!function(te){"use strict";var A="nolla yksi kaksi kolme nelj\xe4 viisi kuusi seitsem\xe4n kahdeksan yhdeks\xe4n".split(" "),Y=["nolla","yhden","kahden","kolmen","nelj\xe4n","viiden","kuuden",A[7],A[8],A[9]];function a(Q,oe,ye,Oe){var ht="";switch(ye){case"s":return Oe?"muutaman sekunnin":"muutama sekunti";case"ss":ht=Oe?"sekunnin":"sekuntia";break;case"m":return Oe?"minuutin":"minuutti";case"mm":ht=Oe?"minuutin":"minuuttia";break;case"h":return Oe?"tunnin":"tunti";case"hh":ht=Oe?"tunnin":"tuntia";break;case"d":return Oe?"p\xe4iv\xe4n":"p\xe4iv\xe4";case"dd":ht=Oe?"p\xe4iv\xe4n":"p\xe4iv\xe4\xe4";break;case"M":return Oe?"kuukauden":"kuukausi";case"MM":ht=Oe?"kuukauden":"kuukautta";break;case"y":return Oe?"vuoden":"vuosi";case"yy":ht=Oe?"vuoden":"vuotta"}return function d(Q,oe){return Q<10?oe?Y[Q]:A[Q]:Q}(Q,Oe)+" "+ht}te.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kes\xe4kuu_hein\xe4kuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes\xe4_hein\xe4_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[t\xe4n\xe4\xe4n] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s p\xe4\xe4st\xe4",past:"%s sitten",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},1766:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(Y){return Y},week:{dow:1,doy:4}})}(ae(5439))},5867:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("fo",{months:"januar_februar_mars_apr\xedl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_m\xe1nadagur_t\xfdsdagur_mikudagur_h\xf3sdagur_fr\xedggjadagur_leygardagur".split("_"),weekdaysShort:"sun_m\xe1n_t\xfds_mik_h\xf3s_fr\xed_ley".split("_"),weekdaysMin:"su_m\xe1_t\xfd_mi_h\xf3_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[\xcd dag kl.] LT",nextDay:"[\xcd morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xcd gj\xe1r kl.] LT",lastWeek:"[s\xed\xf0stu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s s\xed\xf0ani",s:"f\xe1 sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein t\xedmi",hh:"%d t\xedmar",d:"ein dagur",dd:"%d dagar",M:"ein m\xe1na\xf0ur",MM:"%d m\xe1na\xf0ir",y:"eitt \xe1r",yy:"%d \xe1r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},6848:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("fr-ca",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(Y,a){switch(a){default:case"M":case"Q":case"D":case"DDD":case"d":return Y+(1===Y?"er":"e");case"w":case"W":return Y+(1===Y?"re":"e")}}})}(ae(5439))},7773:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("fr-ch",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(Y,a){switch(a){default:case"M":case"Q":case"D":case"DDD":case"d":return Y+(1===Y?"er":"e");case"w":case"W":return Y+(1===Y?"re":"e")}},week:{dow:1,doy:4}})}(ae(5439))},1636:function(ze,Ye,ae){!function(te){"use strict";var a=/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?|janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,d=[/^janv/i,/^f\xe9vr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^ao\xfbt/i,/^sept/i,/^oct/i,/^nov/i,/^d\xe9c/i];te.defineLocale("fr",{months:"janvier_f\xe9vrier_mars_avril_mai_juin_juillet_ao\xfbt_septembre_octobre_novembre_d\xe9cembre".split("_"),monthsShort:"janv._f\xe9vr._mars_avr._mai_juin_juil._ao\xfbt_sept._oct._nov._d\xe9c.".split("_"),monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(janvier|f\xe9vrier|mars|avril|mai|juin|juillet|ao\xfbt|septembre|octobre|novembre|d\xe9cembre)/i,monthsShortStrictRegex:/(janv\.?|f\xe9vr\.?|mars|avr\.?|mai|juin|juil\.?|ao\xfbt|sept\.?|oct\.?|nov\.?|d\xe9c\.?)/i,monthsParse:d,longMonthsParse:d,shortMonthsParse:d,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd\u2019hui \xe0] LT",nextDay:"[Demain \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[Hier \xe0] LT",lastWeek:"dddd [dernier \xe0] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(Q,oe){switch(oe){case"D":return Q+(1===Q?"er":"");default:case"M":case"Q":case"DDD":case"d":return Q+(1===Q?"er":"e");case"w":case"W":return Q+(1===Q?"re":"e")}},week:{dow:1,doy:4}})}(ae(5439))},4940:function(ze,Ye,ae){!function(te){"use strict";var A="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),Y="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");te.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(d,J){return d?/-MMM-/.test(J)?Y[d.month()]:A[d.month()]:A},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[\xf4fr\xfbne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien min\xfat",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(d){return d+(1===d||8===d||d>=20?"ste":"de")},week:{dow:1,doy:4}})}(ae(5439))},1402:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("ga",{months:["Ean\xe1ir","Feabhra","M\xe1rta","Aibre\xe1n","Bealtaine","Meitheamh","I\xfail","L\xfanasa","Me\xe1n F\xf3mhair","Deireadh F\xf3mhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","M\xe1rt","Aib","Beal","Meith","I\xfail","L\xfan","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D\xe9 Domhnaigh","D\xe9 Luain","D\xe9 M\xe1irt","D\xe9 C\xe9adaoin","D\xe9ardaoin","D\xe9 hAoine","D\xe9 Sathairn"],weekdaysShort:["Domh","Luan","M\xe1irt","C\xe9ad","D\xe9ar","Aoine","Sath"],weekdaysMin:["Do","Lu","M\xe1","C\xe9","D\xe9","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Am\xe1rach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn\xe9 ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s \xf3 shin",s:"c\xfapla soicind",ss:"%d soicind",m:"n\xf3im\xe9ad",mm:"%d n\xf3im\xe9ad",h:"uair an chloig",hh:"%d uair an chloig",d:"l\xe1",dd:"%d l\xe1",M:"m\xed",MM:"%d m\xedonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(oe){return oe+(1===oe?"d":oe%10==2?"na":"mh")},week:{dow:1,doy:4}})}(ae(5439))},6924:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am M\xe0rt","An Giblean","An C\xe8itean","An t-\xd2gmhios","An t-Iuchar","An L\xf9nastal","An t-Sultain","An D\xe0mhair","An t-Samhain","An D\xf9bhlachd"],monthsShort:["Faoi","Gear","M\xe0rt","Gibl","C\xe8it","\xd2gmh","Iuch","L\xf9n","Sult","D\xe0mh","Samh","D\xf9bh"],monthsParseExact:!0,weekdays:["Did\xf2mhnaich","Diluain","Dim\xe0irt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D\xf2","Lu","M\xe0","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-m\xe0ireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d\xe8 aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"m\xecos",MM:"%d m\xecosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(oe){return oe+(1===oe?"d":oe%10==2?"na":"mh")},week:{dow:1,doy:4}})}(ae(5439))},6398:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xu\xf1o_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu\xf1._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_m\xe9rcores_xoves_venres_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._m\xe9r._xov._ven._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_m\xe9_xo_ve_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextDay:function(){return"[ma\xf1\xe1 "+(1!==this.hours()?"\xe1s":"\xe1")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"\xe1s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"\xe1":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"\xe1s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(Y){return 0===Y.indexOf("un")?"n"+Y:"en "+Y},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(ae(5439))},2457:function(ze,Ye,ae){!function(te){"use strict";function A(a,d,J,Q){var oe={s:["\u0925\u094b\u0921\u092f\u093e \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940","\u0925\u094b\u0921\u0947 \u0938\u0945\u0915\u0902\u0921"],ss:[a+" \u0938\u0945\u0915\u0902\u0921\u093e\u0902\u0928\u0940",a+" \u0938\u0945\u0915\u0902\u0921"],m:["\u090f\u0915\u093e \u092e\u093f\u0923\u091f\u093e\u0928","\u090f\u0915 \u092e\u093f\u0928\u0942\u091f"],mm:[a+" \u092e\u093f\u0923\u091f\u093e\u0902\u0928\u0940",a+" \u092e\u093f\u0923\u091f\u093e\u0902"],h:["\u090f\u0915\u093e \u0935\u0930\u093e\u0928","\u090f\u0915 \u0935\u0930"],hh:[a+" \u0935\u0930\u093e\u0902\u0928\u0940",a+" \u0935\u0930\u093e\u0902"],d:["\u090f\u0915\u093e \u0926\u093f\u0938\u093e\u0928","\u090f\u0915 \u0926\u0940\u0938"],dd:[a+" \u0926\u093f\u0938\u093e\u0902\u0928\u0940",a+" \u0926\u0940\u0938"],M:["\u090f\u0915\u093e \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928","\u090f\u0915 \u092e\u094d\u0939\u092f\u0928\u094b"],MM:[a+" \u092e\u094d\u0939\u092f\u0928\u094d\u092f\u093e\u0928\u0940",a+" \u092e\u094d\u0939\u092f\u0928\u0947"],y:["\u090f\u0915\u093e \u0935\u0930\u094d\u0938\u093e\u0928","\u090f\u0915 \u0935\u0930\u094d\u0938"],yy:[a+" \u0935\u0930\u094d\u0938\u093e\u0902\u0928\u0940",a+" \u0935\u0930\u094d\u0938\u093e\u0902"]};return Q?oe[J][0]:oe[J][1]}te.defineLocale("gom-deva",{months:{standalone:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u092f_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),format:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940\u091a\u094d\u092f\u093e_\u092e\u093e\u0930\u094d\u091a\u093e\u091a\u094d\u092f\u093e_\u090f\u092a\u094d\u0930\u0940\u0932\u093e\u091a\u094d\u092f\u093e_\u092e\u0947\u092f\u093e\u091a\u094d\u092f\u093e_\u091c\u0942\u0928\u093e\u091a\u094d\u092f\u093e_\u091c\u0941\u0932\u092f\u093e\u091a\u094d\u092f\u093e_\u0911\u0917\u0938\u094d\u091f\u093e\u091a\u094d\u092f\u093e_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0911\u0915\u094d\u091f\u094b\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e_\u0921\u093f\u0938\u0947\u0902\u092c\u0930\u093e\u091a\u094d\u092f\u093e".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u0940._\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u092f\u0924\u093e\u0930_\u0938\u094b\u092e\u093e\u0930_\u092e\u0902\u0917\u0933\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u092c\u093f\u0930\u0947\u0938\u094d\u0924\u093e\u0930_\u0938\u0941\u0915\u094d\u0930\u093e\u0930_\u0936\u0947\u0928\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0906\u092f\u0924._\u0938\u094b\u092e._\u092e\u0902\u0917\u0933._\u092c\u0941\u0927._\u092c\u094d\u0930\u0947\u0938\u094d\u0924._\u0938\u0941\u0915\u094d\u0930._\u0936\u0947\u0928.".split("_"),weekdaysMin:"\u0906_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u092c\u094d\u0930\u0947_\u0938\u0941_\u0936\u0947".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LTS:"A h:mm:ss [\u0935\u093e\u091c\u0924\u093e\u0902]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]",llll:"ddd, D MMM YYYY, A h:mm [\u0935\u093e\u091c\u0924\u093e\u0902]"},calendar:{sameDay:"[\u0906\u092f\u091c] LT",nextDay:"[\u092b\u093e\u0932\u094d\u092f\u093e\u0902] LT",nextWeek:"[\u092b\u0941\u0921\u0932\u094b] dddd[,] LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092b\u093e\u091f\u0932\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s \u0906\u0926\u0940\u0902",s:A,ss:A,m:A,mm:A,h:A,hh:A,d:A,dd:A,M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2}(\u0935\u0947\u0930)/,ordinal:function(a,d){return"D"===d?a+"\u0935\u0947\u0930":a},week:{dow:0,doy:3},meridiemParse:/\u0930\u093e\u0924\u0940|\u0938\u0915\u093e\u0933\u0940\u0902|\u0926\u0928\u092a\u093e\u0930\u093e\u0902|\u0938\u093e\u0902\u091c\u0947/,meridiemHour:function(a,d){return 12===a&&(a=0),"\u0930\u093e\u0924\u0940"===d?a<4?a:a+12:"\u0938\u0915\u093e\u0933\u0940\u0902"===d?a:"\u0926\u0928\u092a\u093e\u0930\u093e\u0902"===d?a>12?a:a+12:"\u0938\u093e\u0902\u091c\u0947"===d?a+12:void 0},meridiem:function(a,d,J){return a<4?"\u0930\u093e\u0924\u0940":a<12?"\u0938\u0915\u093e\u0933\u0940\u0902":a<16?"\u0926\u0928\u092a\u093e\u0930\u093e\u0902":a<20?"\u0938\u093e\u0902\u091c\u0947":"\u0930\u093e\u0924\u0940"}})}(ae(5439))},2545:function(ze,Ye,ae){!function(te){"use strict";function A(a,d,J,Q){var oe={s:["thoddea sekondamni","thodde sekond"],ss:[a+" sekondamni",a+" sekond"],m:["eka mintan","ek minut"],mm:[a+" mintamni",a+" mintam"],h:["eka voran","ek vor"],hh:[a+" voramni",a+" voram"],d:["eka disan","ek dis"],dd:[a+" disamni",a+" dis"],M:["eka mhoinean","ek mhoino"],MM:[a+" mhoineamni",a+" mhoine"],y:["eka vorsan","ek voros"],yy:[a+" vorsamni",a+" vorsam"]};return Q?oe[J][0]:oe[J][1]}te.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:A,ss:A,m:A,mm:A,h:A,hh:A,d:A,dd:A,M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(a,d){return"D"===d?a+"er":a},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(a,d){return 12===a&&(a=0),"rati"===d?a<4?a:a+12:"sokallim"===d?a:"donparam"===d?a>12?a:a+12:"sanje"===d?a+12:void 0},meridiem:function(a,d,J){return a<4?"rati":a<12?"sokallim":a<16?"donparam":a<20?"sanje":"rati"}})}(ae(5439))},2641:function(ze,Ye,ae){!function(te){"use strict";var A={1:"\u0ae7",2:"\u0ae8",3:"\u0ae9",4:"\u0aea",5:"\u0aeb",6:"\u0aec",7:"\u0aed",8:"\u0aee",9:"\u0aef",0:"\u0ae6"},Y={"\u0ae7":"1","\u0ae8":"2","\u0ae9":"3","\u0aea":"4","\u0aeb":"5","\u0aec":"6","\u0aed":"7","\u0aee":"8","\u0aef":"9","\u0ae6":"0"};te.defineLocale("gu",{months:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1\u0a86\u0ab0\u0ac0_\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1\u0a86\u0ab0\u0ac0_\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf\u0ab2_\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe\u0a88_\u0a91\u0a97\u0ab8\u0acd\u0a9f_\u0ab8\u0aaa\u0acd\u0a9f\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0a91\u0a95\u0acd\u0a9f\u0acd\u0aac\u0ab0_\u0aa8\u0ab5\u0ac7\u0aae\u0acd\u0aac\u0ab0_\u0aa1\u0abf\u0ab8\u0ac7\u0aae\u0acd\u0aac\u0ab0".split("_"),monthsShort:"\u0a9c\u0abe\u0aa8\u0acd\u0aaf\u0ac1._\u0aab\u0ac7\u0aac\u0acd\u0ab0\u0ac1._\u0aae\u0abe\u0ab0\u0acd\u0a9a_\u0a8f\u0aaa\u0acd\u0ab0\u0abf._\u0aae\u0ac7_\u0a9c\u0ac2\u0aa8_\u0a9c\u0ac1\u0ab2\u0abe._\u0a91\u0a97._\u0ab8\u0aaa\u0acd\u0a9f\u0ac7._\u0a91\u0a95\u0acd\u0a9f\u0acd._\u0aa8\u0ab5\u0ac7._\u0aa1\u0abf\u0ab8\u0ac7.".split("_"),monthsParseExact:!0,weekdays:"\u0ab0\u0ab5\u0abf\u0ab5\u0abe\u0ab0_\u0ab8\u0acb\u0aae\u0ab5\u0abe\u0ab0_\u0aae\u0a82\u0a97\u0ab3\u0ab5\u0abe\u0ab0_\u0aac\u0ac1\u0aa7\u0acd\u0ab5\u0abe\u0ab0_\u0a97\u0ac1\u0ab0\u0ac1\u0ab5\u0abe\u0ab0_\u0ab6\u0ac1\u0a95\u0acd\u0ab0\u0ab5\u0abe\u0ab0_\u0ab6\u0aa8\u0abf\u0ab5\u0abe\u0ab0".split("_"),weekdaysShort:"\u0ab0\u0ab5\u0abf_\u0ab8\u0acb\u0aae_\u0aae\u0a82\u0a97\u0ab3_\u0aac\u0ac1\u0aa7\u0acd_\u0a97\u0ac1\u0ab0\u0ac1_\u0ab6\u0ac1\u0a95\u0acd\u0ab0_\u0ab6\u0aa8\u0abf".split("_"),weekdaysMin:"\u0ab0_\u0ab8\u0acb_\u0aae\u0a82_\u0aac\u0ac1_\u0a97\u0ac1_\u0ab6\u0ac1_\u0ab6".split("_"),longDateFormat:{LT:"A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LTS:"A h:mm:ss \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7",LLLL:"dddd, D MMMM YYYY, A h:mm \u0ab5\u0abe\u0a97\u0acd\u0aaf\u0ac7"},calendar:{sameDay:"[\u0a86\u0a9c] LT",nextDay:"[\u0a95\u0abe\u0ab2\u0ac7] LT",nextWeek:"dddd, LT",lastDay:"[\u0a97\u0a87\u0a95\u0abe\u0ab2\u0ac7] LT",lastWeek:"[\u0aaa\u0abe\u0a9b\u0ab2\u0abe] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0aae\u0abe",past:"%s \u0aaa\u0ab9\u0ac7\u0ab2\u0abe",s:"\u0a85\u0aae\u0ac1\u0a95 \u0aaa\u0ab3\u0acb",ss:"%d \u0ab8\u0ac7\u0a95\u0a82\u0aa1",m:"\u0a8f\u0a95 \u0aae\u0abf\u0aa8\u0abf\u0a9f",mm:"%d \u0aae\u0abf\u0aa8\u0abf\u0a9f",h:"\u0a8f\u0a95 \u0a95\u0ab2\u0abe\u0a95",hh:"%d \u0a95\u0ab2\u0abe\u0a95",d:"\u0a8f\u0a95 \u0aa6\u0abf\u0ab5\u0ab8",dd:"%d \u0aa6\u0abf\u0ab5\u0ab8",M:"\u0a8f\u0a95 \u0aae\u0ab9\u0abf\u0aa8\u0acb",MM:"%d \u0aae\u0ab9\u0abf\u0aa8\u0acb",y:"\u0a8f\u0a95 \u0ab5\u0ab0\u0acd\u0ab7",yy:"%d \u0ab5\u0ab0\u0acd\u0ab7"},preparse:function(d){return d.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(J){return Y[J]})},postformat:function(d){return d.replace(/\d/g,function(J){return A[J]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(d,J){return 12===d&&(d=0),"\u0ab0\u0abe\u0aa4"===J?d<4?d:d+12:"\u0ab8\u0ab5\u0abe\u0ab0"===J?d:"\u0aac\u0aaa\u0acb\u0ab0"===J?d>=10?d:d+12:"\u0ab8\u0abe\u0a82\u0a9c"===J?d+12:void 0},meridiem:function(d,J,Q){return d<4?"\u0ab0\u0abe\u0aa4":d<10?"\u0ab8\u0ab5\u0abe\u0ab0":d<17?"\u0aac\u0aaa\u0acb\u0ab0":d<20?"\u0ab8\u0abe\u0a82\u0a9c":"\u0ab0\u0abe\u0aa4"},week:{dow:0,doy:6}})}(ae(5439))},7536:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("he",{months:"\u05d9\u05e0\u05d5\u05d0\u05e8_\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05d9\u05dc_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8_\u05e1\u05e4\u05d8\u05de\u05d1\u05e8_\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8_\u05e0\u05d5\u05d1\u05de\u05d1\u05e8_\u05d3\u05e6\u05de\u05d1\u05e8".split("_"),monthsShort:"\u05d9\u05e0\u05d5\u05f3_\u05e4\u05d1\u05e8\u05f3_\u05de\u05e8\u05e5_\u05d0\u05e4\u05e8\u05f3_\u05de\u05d0\u05d9_\u05d9\u05d5\u05e0\u05d9_\u05d9\u05d5\u05dc\u05d9_\u05d0\u05d5\u05d2\u05f3_\u05e1\u05e4\u05d8\u05f3_\u05d0\u05d5\u05e7\u05f3_\u05e0\u05d5\u05d1\u05f3_\u05d3\u05e6\u05de\u05f3".split("_"),weekdays:"\u05e8\u05d0\u05e9\u05d5\u05df_\u05e9\u05e0\u05d9_\u05e9\u05dc\u05d9\u05e9\u05d9_\u05e8\u05d1\u05d9\u05e2\u05d9_\u05d7\u05de\u05d9\u05e9\u05d9_\u05e9\u05d9\u05e9\u05d9_\u05e9\u05d1\u05ea".split("_"),weekdaysShort:"\u05d0\u05f3_\u05d1\u05f3_\u05d2\u05f3_\u05d3\u05f3_\u05d4\u05f3_\u05d5\u05f3_\u05e9\u05f3".split("_"),weekdaysMin:"\u05d0_\u05d1_\u05d2_\u05d3_\u05d4_\u05d5_\u05e9".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [\u05d1]MMMM YYYY",LLL:"D [\u05d1]MMMM YYYY HH:mm",LLLL:"dddd, D [\u05d1]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[\u05d4\u05d9\u05d5\u05dd \u05d1\u05be]LT",nextDay:"[\u05de\u05d7\u05e8 \u05d1\u05be]LT",nextWeek:"dddd [\u05d1\u05e9\u05e2\u05d4] LT",lastDay:"[\u05d0\u05ea\u05de\u05d5\u05dc \u05d1\u05be]LT",lastWeek:"[\u05d1\u05d9\u05d5\u05dd] dddd [\u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05d1\u05e9\u05e2\u05d4] LT",sameElse:"L"},relativeTime:{future:"\u05d1\u05e2\u05d5\u05d3 %s",past:"\u05dc\u05e4\u05e0\u05d9 %s",s:"\u05de\u05e1\u05e4\u05e8 \u05e9\u05e0\u05d9\u05d5\u05ea",ss:"%d \u05e9\u05e0\u05d9\u05d5\u05ea",m:"\u05d3\u05e7\u05d4",mm:"%d \u05d3\u05e7\u05d5\u05ea",h:"\u05e9\u05e2\u05d4",hh:function(Y){return 2===Y?"\u05e9\u05e2\u05ea\u05d9\u05d9\u05dd":Y+" \u05e9\u05e2\u05d5\u05ea"},d:"\u05d9\u05d5\u05dd",dd:function(Y){return 2===Y?"\u05d9\u05d5\u05de\u05d9\u05d9\u05dd":Y+" \u05d9\u05de\u05d9\u05dd"},M:"\u05d7\u05d5\u05d3\u05e9",MM:function(Y){return 2===Y?"\u05d7\u05d5\u05d3\u05e9\u05d9\u05d9\u05dd":Y+" \u05d7\u05d5\u05d3\u05e9\u05d9\u05dd"},y:"\u05e9\u05e0\u05d4",yy:function(Y){return 2===Y?"\u05e9\u05e0\u05ea\u05d9\u05d9\u05dd":Y%10==0&&10!==Y?Y+" \u05e9\u05e0\u05d4":Y+" \u05e9\u05e0\u05d9\u05dd"}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(Y){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(Y)},meridiem:function(Y,a,d){return Y<5?"\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8":Y<10?"\u05d1\u05d1\u05d5\u05e7\u05e8":Y<12?d?'\u05dc\u05e4\u05e0\u05d4"\u05e6':"\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":Y<18?d?'\u05d0\u05d7\u05d4"\u05e6':"\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd":"\u05d1\u05e2\u05e8\u05d1"}})}(ae(5439))},6335:function(ze,Ye,ae){!function(te){"use strict";var A={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},Y={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"},a=[/^\u091c\u0928/i,/^\u092b\u093c\u0930|\u092b\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924\u0902|\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935|\u0928\u0935\u0902/i,/^\u0926\u093f\u0938\u0902|\u0926\u093f\u0938/i];te.defineLocale("hi",{months:{format:"\u091c\u0928\u0935\u0930\u0940_\u092b\u093c\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u092e\u094d\u092c\u0930_\u0926\u093f\u0938\u092e\u094d\u092c\u0930".split("_"),standalone:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0930\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948\u0932_\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0938\u094d\u0924_\u0938\u093f\u0924\u0902\u092c\u0930_\u0905\u0915\u094d\u091f\u0942\u092c\u0930_\u0928\u0935\u0902\u092c\u0930_\u0926\u093f\u0938\u0902\u092c\u0930".split("_")},monthsShort:"\u091c\u0928._\u092b\u093c\u0930._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u0948._\u092e\u0908_\u091c\u0942\u0928_\u091c\u0941\u0932._\u0905\u0917._\u0938\u093f\u0924._\u0905\u0915\u094d\u091f\u0942._\u0928\u0935._\u0926\u093f\u0938.".split("_"),weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0932\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0932_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u092c\u091c\u0947",LTS:"A h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A h:mm \u092c\u091c\u0947"},monthsParse:a,longMonthsParse:a,shortMonthsParse:[/^\u091c\u0928/i,/^\u092b\u093c\u0930/i,/^\u092e\u093e\u0930\u094d\u091a/i,/^\u0905\u092a\u094d\u0930\u0948/i,/^\u092e\u0908/i,/^\u091c\u0942\u0928/i,/^\u091c\u0941\u0932/i,/^\u0905\u0917/i,/^\u0938\u093f\u0924/i,/^\u0905\u0915\u094d\u091f\u0942/i,/^\u0928\u0935/i,/^\u0926\u093f\u0938/i],monthsRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsShortRegex:/^(\u091c\u0928\u0935\u0930\u0940|\u091c\u0928\.?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908|\u091c\u0941\u0932\.?|\u0905\u0917\u0938\u094d\u0924|\u0905\u0917\.?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930|\u0928\u0935\.?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930|\u0926\u093f\u0938\.?)/i,monthsStrictRegex:/^(\u091c\u0928\u0935\u0930\u0940?|\u092b\u093c\u0930\u0935\u0930\u0940|\u092b\u0930\u0935\u0930\u0940?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\u0932?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\u093e\u0908?|\u0905\u0917\u0938\u094d\u0924?|\u0938\u093f\u0924\u092e\u094d\u092c\u0930|\u0938\u093f\u0924\u0902\u092c\u0930|\u0938\u093f\u0924?\.?|\u0905\u0915\u094d\u091f\u0942\u092c\u0930|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\u092e\u094d\u092c\u0930|\u0928\u0935\u0902\u092c\u0930?|\u0926\u093f\u0938\u092e\u094d\u092c\u0930|\u0926\u093f\u0938\u0902\u092c\u0930?)/i,monthsShortStrictRegex:/^(\u091c\u0928\.?|\u092b\u093c\u0930\.?|\u092e\u093e\u0930\u094d\u091a?|\u0905\u092a\u094d\u0930\u0948\.?|\u092e\u0908?|\u091c\u0942\u0928?|\u091c\u0941\u0932\.?|\u0905\u0917\.?|\u0938\u093f\u0924\.?|\u0905\u0915\u094d\u091f\u0942\.?|\u0928\u0935\.?|\u0926\u093f\u0938\.?)/i,calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0915\u0932] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u0932] LT",lastWeek:"[\u092a\u093f\u091b\u0932\u0947] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u092e\u0947\u0902",past:"%s \u092a\u0939\u0932\u0947",s:"\u0915\u0941\u091b \u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0902\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u091f",mm:"%d \u092e\u093f\u0928\u091f",h:"\u090f\u0915 \u0918\u0902\u091f\u093e",hh:"%d \u0918\u0902\u091f\u0947",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u0940\u0928\u0947",MM:"%d \u092e\u0939\u0940\u0928\u0947",y:"\u090f\u0915 \u0935\u0930\u094d\u0937",yy:"%d \u0935\u0930\u094d\u0937"},preparse:function(Q){return Q.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(oe){return Y[oe]})},postformat:function(Q){return Q.replace(/\d/g,function(oe){return A[oe]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(Q,oe){return 12===Q&&(Q=0),"\u0930\u093e\u0924"===oe?Q<4?Q:Q+12:"\u0938\u0941\u092c\u0939"===oe?Q:"\u0926\u094b\u092a\u0939\u0930"===oe?Q>=10?Q:Q+12:"\u0936\u093e\u092e"===oe?Q+12:void 0},meridiem:function(Q,oe,ye){return Q<4?"\u0930\u093e\u0924":Q<10?"\u0938\u0941\u092c\u0939":Q<17?"\u0926\u094b\u092a\u0939\u0930":Q<20?"\u0936\u093e\u092e":"\u0930\u093e\u0924"},week:{dow:0,doy:6}})}(ae(5439))},7458:function(ze,Ye,ae){!function(te){"use strict";function A(a,d,J){var Q=a+" ";switch(J){case"ss":return Q+(1===a?"sekunda":2===a||3===a||4===a?"sekunde":"sekundi");case"m":return d?"jedna minuta":"jedne minute";case"mm":return Q+(1===a?"minuta":2===a||3===a||4===a?"minute":"minuta");case"h":return d?"jedan sat":"jednog sata";case"hh":return Q+(1===a?"sat":2===a||3===a||4===a?"sata":"sati");case"dd":return Q+(1===a?"dan":"dana");case"MM":return Q+(1===a?"mjesec":2===a||3===a||4===a?"mjeseca":"mjeseci");case"yy":return Q+(1===a?"godina":2===a||3===a||4===a?"godine":"godina")}}te.defineLocale("hr",{months:{format:"sije\u010dnja_velja\u010de_o\u017eujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sije\u010danj_velja\u010da_o\u017eujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._o\u017eu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010der u] LT",lastWeek:function(){switch(this.day()){case 0:return"[pro\u0161lu] [nedjelju] [u] LT";case 3:return"[pro\u0161lu] [srijedu] [u] LT";case 6:return"[pro\u0161le] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[pro\u0161li] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:A,m:A,mm:A,h:A,hh:A,d:"dan",dd:A,M:"mjesec",MM:A,y:"godinu",yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(ae(5439))},6540:function(ze,Ye,ae){!function(te){"use strict";var A="vas\xe1rnap h\xe9tf\u0151n kedden szerd\xe1n cs\xfct\xf6rt\xf6k\xf6n p\xe9nteken szombaton".split(" ");function Y(J,Q,oe,ye){var Oe=J;switch(oe){case"s":return ye||Q?"n\xe9h\xe1ny m\xe1sodperc":"n\xe9h\xe1ny m\xe1sodperce";case"ss":return Oe+(ye||Q)?" m\xe1sodperc":" m\xe1sodperce";case"m":return"egy"+(ye||Q?" perc":" perce");case"mm":return Oe+(ye||Q?" perc":" perce");case"h":return"egy"+(ye||Q?" \xf3ra":" \xf3r\xe1ja");case"hh":return Oe+(ye||Q?" \xf3ra":" \xf3r\xe1ja");case"d":return"egy"+(ye||Q?" nap":" napja");case"dd":return Oe+(ye||Q?" nap":" napja");case"M":return"egy"+(ye||Q?" h\xf3nap":" h\xf3napja");case"MM":return Oe+(ye||Q?" h\xf3nap":" h\xf3napja");case"y":return"egy"+(ye||Q?" \xe9v":" \xe9ve");case"yy":return Oe+(ye||Q?" \xe9v":" \xe9ve")}return""}function a(J){return(J?"":"[m\xfalt] ")+"["+A[this.day()]+"] LT[-kor]"}te.defineLocale("hu",{months:"janu\xe1r_febru\xe1r_m\xe1rcius_\xe1prilis_m\xe1jus_j\xfanius_j\xfalius_augusztus_szeptember_okt\xf3ber_november_december".split("_"),monthsShort:"jan._feb._m\xe1rc._\xe1pr._m\xe1j._j\xfan._j\xfal._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vas\xe1rnap_h\xe9tf\u0151_kedd_szerda_cs\xfct\xf6rt\xf6k_p\xe9ntek_szombat".split("_"),weekdaysShort:"vas_h\xe9t_kedd_sze_cs\xfct_p\xe9n_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(J){return"u"===J.charAt(1).toLowerCase()},meridiem:function(J,Q,oe){return J<12?!0===oe?"de":"DE":!0===oe?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return a.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return a.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s m\xfalva",past:"%s",s:Y,ss:Y,m:Y,mm:Y,h:Y,hh:Y,d:Y,dd:Y,M:Y,MM:Y,y:Y,yy:Y},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},5283:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("hy-am",{months:{format:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580\u056b_\u0583\u0565\u057f\u0580\u057e\u0561\u0580\u056b_\u0574\u0561\u0580\u057f\u056b_\u0561\u057a\u0580\u056b\u056c\u056b_\u0574\u0561\u0575\u056b\u057d\u056b_\u0570\u0578\u0582\u0576\u056b\u057d\u056b_\u0570\u0578\u0582\u056c\u056b\u057d\u056b_\u0585\u0563\u0578\u057d\u057f\u0578\u057d\u056b_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580\u056b_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580\u056b".split("_"),standalone:"\u0570\u0578\u0582\u0576\u057e\u0561\u0580_\u0583\u0565\u057f\u0580\u057e\u0561\u0580_\u0574\u0561\u0580\u057f_\u0561\u057a\u0580\u056b\u056c_\u0574\u0561\u0575\u056b\u057d_\u0570\u0578\u0582\u0576\u056b\u057d_\u0570\u0578\u0582\u056c\u056b\u057d_\u0585\u0563\u0578\u057d\u057f\u0578\u057d_\u057d\u0565\u057a\u057f\u0565\u0574\u0562\u0565\u0580_\u0570\u0578\u056f\u057f\u0565\u0574\u0562\u0565\u0580_\u0576\u0578\u0575\u0565\u0574\u0562\u0565\u0580_\u0564\u0565\u056f\u057f\u0565\u0574\u0562\u0565\u0580".split("_")},monthsShort:"\u0570\u0576\u057e_\u0583\u057f\u0580_\u0574\u0580\u057f_\u0561\u057a\u0580_\u0574\u0575\u057d_\u0570\u0576\u057d_\u0570\u056c\u057d_\u0585\u0563\u057d_\u057d\u057a\u057f_\u0570\u056f\u057f_\u0576\u0574\u0562_\u0564\u056f\u057f".split("_"),weekdays:"\u056f\u056b\u0580\u0561\u056f\u056b_\u0565\u0580\u056f\u0578\u0582\u0577\u0561\u0562\u0569\u056b_\u0565\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0579\u0578\u0580\u0565\u0584\u0577\u0561\u0562\u0569\u056b_\u0570\u056b\u0576\u0563\u0577\u0561\u0562\u0569\u056b_\u0578\u0582\u0580\u0562\u0561\u0569_\u0577\u0561\u0562\u0561\u0569".split("_"),weekdaysShort:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),weekdaysMin:"\u056f\u0580\u056f_\u0565\u0580\u056f_\u0565\u0580\u0584_\u0579\u0580\u0584_\u0570\u0576\u0563_\u0578\u0582\u0580\u0562_\u0577\u0562\u0569".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0569.",LLL:"D MMMM YYYY \u0569., HH:mm",LLLL:"dddd, D MMMM YYYY \u0569., HH:mm"},calendar:{sameDay:"[\u0561\u0575\u057d\u0585\u0580] LT",nextDay:"[\u057e\u0561\u0572\u0568] LT",lastDay:"[\u0565\u0580\u0565\u056f] LT",nextWeek:function(){return"dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},lastWeek:function(){return"[\u0561\u0576\u0581\u0561\u056e] dddd [\u0585\u0580\u0568 \u056a\u0561\u0574\u0568] LT"},sameElse:"L"},relativeTime:{future:"%s \u0570\u0565\u057f\u0578",past:"%s \u0561\u057c\u0561\u057b",s:"\u0574\u056b \u0584\u0561\u0576\u056b \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",ss:"%d \u057e\u0561\u0575\u0580\u056f\u0575\u0561\u0576",m:"\u0580\u0578\u057a\u0565",mm:"%d \u0580\u0578\u057a\u0565",h:"\u056a\u0561\u0574",hh:"%d \u056a\u0561\u0574",d:"\u0585\u0580",dd:"%d \u0585\u0580",M:"\u0561\u0574\u056b\u057d",MM:"%d \u0561\u0574\u056b\u057d",y:"\u057f\u0561\u0580\u056b",yy:"%d \u057f\u0561\u0580\u056b"},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(Y){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(Y)},meridiem:function(Y){return Y<4?"\u0563\u056b\u0577\u0565\u0580\u057e\u0561":Y<12?"\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561":Y<17?"\u0581\u0565\u0580\u0565\u056f\u057e\u0561":"\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(Y,a){switch(a){case"DDD":case"w":case"W":case"DDDo":return 1===Y?Y+"-\u056b\u0576":Y+"-\u0580\u0564";default:return Y}},week:{dow:1,doy:7}})}(ae(5439))},8780:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(Y,a){return 12===Y&&(Y=0),"pagi"===a?Y:"siang"===a?Y>=11?Y:Y+12:"sore"===a||"malam"===a?Y+12:void 0},meridiem:function(Y,a,d){return Y<11?"pagi":Y<15?"siang":Y<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(ae(5439))},4205:function(ze,Ye,ae){!function(te){"use strict";function A(d){return d%100==11||d%10!=1}function Y(d,J,Q,oe){var ye=d+" ";switch(Q){case"s":return J||oe?"nokkrar sek\xfandur":"nokkrum sek\xfandum";case"ss":return A(d)?ye+(J||oe?"sek\xfandur":"sek\xfandum"):ye+"sek\xfanda";case"m":return J?"m\xedn\xfata":"m\xedn\xfatu";case"mm":return A(d)?ye+(J||oe?"m\xedn\xfatur":"m\xedn\xfatum"):J?ye+"m\xedn\xfata":ye+"m\xedn\xfatu";case"hh":return A(d)?ye+(J||oe?"klukkustundir":"klukkustundum"):ye+"klukkustund";case"d":return J?"dagur":oe?"dag":"degi";case"dd":return A(d)?J?ye+"dagar":ye+(oe?"daga":"d\xf6gum"):J?ye+"dagur":ye+(oe?"dag":"degi");case"M":return J?"m\xe1nu\xf0ur":oe?"m\xe1nu\xf0":"m\xe1nu\xf0i";case"MM":return A(d)?J?ye+"m\xe1nu\xf0ir":ye+(oe?"m\xe1nu\xf0i":"m\xe1nu\xf0um"):J?ye+"m\xe1nu\xf0ur":ye+(oe?"m\xe1nu\xf0":"m\xe1nu\xf0i");case"y":return J||oe?"\xe1r":"\xe1ri";case"yy":return A(d)?ye+(J||oe?"\xe1r":"\xe1rum"):ye+(J||oe?"\xe1r":"\xe1ri")}}te.defineLocale("is",{months:"jan\xfaar_febr\xfaar_mars_apr\xedl_ma\xed_j\xfan\xed_j\xfal\xed_\xe1g\xfast_september_okt\xf3ber_n\xf3vember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma\xed_j\xfan_j\xfal_\xe1g\xfa_sep_okt_n\xf3v_des".split("_"),weekdays:"sunnudagur_m\xe1nudagur_\xferi\xf0judagur_mi\xf0vikudagur_fimmtudagur_f\xf6studagur_laugardagur".split("_"),weekdaysShort:"sun_m\xe1n_\xferi_mi\xf0_fim_f\xf6s_lau".split("_"),weekdaysMin:"Su_M\xe1_\xder_Mi_Fi_F\xf6_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[\xed dag kl.] LT",nextDay:"[\xe1 morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[\xed g\xe6r kl.] LT",lastWeek:"[s\xed\xf0asta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s s\xed\xf0an",s:Y,ss:Y,m:Y,mm:Y,h:"klukkustund",hh:Y,d:Y,dd:Y,M:Y,MM:Y,y:Y,yy:Y},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},9985:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(Y){return(/^[0-9].+$/.test(Y)?"tra":"in")+" "+Y},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(ae(5439))},4211:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned\xec_marted\xec_mercoled\xec_gioved\xec_venerd\xec_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(ae(5439))},1003:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"\u4ee4\u548c",narrow:"\u32ff",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"\u5e73\u6210",narrow:"\u337b",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"\u662d\u548c",narrow:"\u337c",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"\u5927\u6b63",narrow:"\u337d",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"\u660e\u6cbb",narrow:"\u337e",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"\u897f\u66a6",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"\u7d00\u5143\u524d",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(\u5143|\d+)\u5e74/,eraYearOrdinalParse:function(Y,a){return"\u5143"===a[1]?1:parseInt(a[1]||Y,10)},months:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u65e5\u66dc\u65e5_\u6708\u66dc\u65e5_\u706b\u66dc\u65e5_\u6c34\u66dc\u65e5_\u6728\u66dc\u65e5_\u91d1\u66dc\u65e5_\u571f\u66dc\u65e5".split("_"),weekdaysShort:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),weekdaysMin:"\u65e5_\u6708_\u706b_\u6c34_\u6728_\u91d1_\u571f".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(Y){return"\u5348\u5f8c"===Y},meridiem:function(Y,a,d){return Y<12?"\u5348\u524d":"\u5348\u5f8c"},calendar:{sameDay:"[\u4eca\u65e5] LT",nextDay:"[\u660e\u65e5] LT",nextWeek:function(Y){return Y.week()!==this.week()?"[\u6765\u9031]dddd LT":"dddd LT"},lastDay:"[\u6628\u65e5] LT",lastWeek:function(Y){return this.week()!==Y.week()?"[\u5148\u9031]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(Y,a){switch(a){case"y":return 1===Y?"\u5143\u5e74":Y+"\u5e74";case"d":case"D":case"DDD":return Y+"\u65e5";default:return Y}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u6570\u79d2",ss:"%d\u79d2",m:"1\u5206",mm:"%d\u5206",h:"1\u6642\u9593",hh:"%d\u6642\u9593",d:"1\u65e5",dd:"%d\u65e5",M:"1\u30f6\u6708",MM:"%d\u30f6\u6708",y:"1\u5e74",yy:"%d\u5e74"}})}(ae(5439))},420:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(Y,a){return 12===Y&&(Y=0),"enjing"===a?Y:"siyang"===a?Y>=11?Y:Y+12:"sonten"===a||"ndalu"===a?Y+12:void 0},meridiem:function(Y,a,d){return Y<11?"enjing":Y<15?"siyang":Y<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(ae(5439))},851:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("ka",{months:"\u10d8\u10d0\u10dc\u10d5\u10d0\u10e0\u10d8_\u10d7\u10d4\u10d1\u10d4\u10e0\u10d5\u10d0\u10da\u10d8_\u10db\u10d0\u10e0\u10e2\u10d8_\u10d0\u10de\u10e0\u10d8\u10da\u10d8_\u10db\u10d0\u10d8\u10e1\u10d8_\u10d8\u10d5\u10dc\u10d8\u10e1\u10d8_\u10d8\u10d5\u10da\u10d8\u10e1\u10d8_\u10d0\u10d2\u10d5\u10d8\u10e1\u10e2\u10dd_\u10e1\u10d4\u10e5\u10e2\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10dd\u10e5\u10e2\u10dd\u10db\u10d1\u10d4\u10e0\u10d8_\u10dc\u10dd\u10d4\u10db\u10d1\u10d4\u10e0\u10d8_\u10d3\u10d4\u10d9\u10d4\u10db\u10d1\u10d4\u10e0\u10d8".split("_"),monthsShort:"\u10d8\u10d0\u10dc_\u10d7\u10d4\u10d1_\u10db\u10d0\u10e0_\u10d0\u10de\u10e0_\u10db\u10d0\u10d8_\u10d8\u10d5\u10dc_\u10d8\u10d5\u10da_\u10d0\u10d2\u10d5_\u10e1\u10d4\u10e5_\u10dd\u10e5\u10e2_\u10dc\u10dd\u10d4_\u10d3\u10d4\u10d9".split("_"),weekdays:{standalone:"\u10d9\u10d5\u10d8\u10e0\u10d0_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10d8_\u10e8\u10d0\u10d1\u10d0\u10d7\u10d8".split("_"),format:"\u10d9\u10d5\u10d8\u10e0\u10d0\u10e1_\u10dd\u10e0\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10e1\u10d0\u10db\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10dd\u10d7\u10ee\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10ee\u10e3\u10d7\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1_\u10de\u10d0\u10e0\u10d0\u10e1\u10d9\u10d4\u10d5\u10e1_\u10e8\u10d0\u10d1\u10d0\u10d7\u10e1".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"\u10d9\u10d5\u10d8_\u10dd\u10e0\u10e8_\u10e1\u10d0\u10db_\u10dd\u10d7\u10ee_\u10ee\u10e3\u10d7_\u10de\u10d0\u10e0_\u10e8\u10d0\u10d1".split("_"),weekdaysMin:"\u10d9\u10d5_\u10dd\u10e0_\u10e1\u10d0_\u10dd\u10d7_\u10ee\u10e3_\u10de\u10d0_\u10e8\u10d0".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u10d3\u10e6\u10d4\u10e1] LT[-\u10d6\u10d4]",nextDay:"[\u10ee\u10d5\u10d0\u10da] LT[-\u10d6\u10d4]",lastDay:"[\u10d2\u10e3\u10e8\u10d8\u10dc] LT[-\u10d6\u10d4]",nextWeek:"[\u10e8\u10d4\u10db\u10d3\u10d4\u10d2] dddd LT[-\u10d6\u10d4]",lastWeek:"[\u10ec\u10d8\u10dc\u10d0] dddd LT-\u10d6\u10d4",sameElse:"L"},relativeTime:{future:function(Y){return Y.replace(/(\u10ec\u10d0\u10db|\u10ec\u10e3\u10d7|\u10e1\u10d0\u10d0\u10d7|\u10ec\u10d4\u10da|\u10d3\u10e6|\u10d7\u10d5)(\u10d8|\u10d4)/,function(a,d,J){return"\u10d8"===J?d+"\u10e8\u10d8":d+J+"\u10e8\u10d8"})},past:function(Y){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(Y)?Y.replace(/(\u10d8|\u10d4)$/,"\u10d8\u10e1 \u10ec\u10d8\u10dc"):/\u10ec\u10d4\u10da\u10d8/.test(Y)?Y.replace(/\u10ec\u10d4\u10da\u10d8$/,"\u10ec\u10da\u10d8\u10e1 \u10ec\u10d8\u10dc"):Y},s:"\u10e0\u10d0\u10db\u10d3\u10d4\u10dc\u10d8\u10db\u10d4 \u10ec\u10d0\u10db\u10d8",ss:"%d \u10ec\u10d0\u10db\u10d8",m:"\u10ec\u10e3\u10d7\u10d8",mm:"%d \u10ec\u10e3\u10d7\u10d8",h:"\u10e1\u10d0\u10d0\u10d7\u10d8",hh:"%d \u10e1\u10d0\u10d0\u10d7\u10d8",d:"\u10d3\u10e6\u10d4",dd:"%d \u10d3\u10e6\u10d4",M:"\u10d7\u10d5\u10d4",MM:"%d \u10d7\u10d5\u10d4",y:"\u10ec\u10d4\u10da\u10d8",yy:"%d \u10ec\u10d4\u10da\u10d8"},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(Y){return 0===Y?Y:1===Y?Y+"-\u10da\u10d8":Y<20||Y<=100&&Y%20==0||Y%100==0?"\u10db\u10d4-"+Y:Y+"-\u10d4"},week:{dow:1,doy:7}})}(ae(5439))},6074:function(ze,Ye,ae){!function(te){"use strict";var A={0:"-\u0448\u0456",1:"-\u0448\u0456",2:"-\u0448\u0456",3:"-\u0448\u0456",4:"-\u0448\u0456",5:"-\u0448\u0456",6:"-\u0448\u044b",7:"-\u0448\u0456",8:"-\u0448\u0456",9:"-\u0448\u044b",10:"-\u0448\u044b",20:"-\u0448\u044b",30:"-\u0448\u044b",40:"-\u0448\u044b",50:"-\u0448\u0456",60:"-\u0448\u044b",70:"-\u0448\u0456",80:"-\u0448\u0456",90:"-\u0448\u044b",100:"-\u0448\u0456"};te.defineLocale("kk",{months:"\u049b\u0430\u04a3\u0442\u0430\u0440_\u0430\u049b\u043f\u0430\u043d_\u043d\u0430\u0443\u0440\u044b\u0437_\u0441\u04d9\u0443\u0456\u0440_\u043c\u0430\u043c\u044b\u0440_\u043c\u0430\u0443\u0441\u044b\u043c_\u0448\u0456\u043b\u0434\u0435_\u0442\u0430\u043c\u044b\u0437_\u049b\u044b\u0440\u043a\u04af\u0439\u0435\u043a_\u049b\u0430\u0437\u0430\u043d_\u049b\u0430\u0440\u0430\u0448\u0430_\u0436\u0435\u043b\u0442\u043e\u049b\u0441\u0430\u043d".split("_"),monthsShort:"\u049b\u0430\u04a3_\u0430\u049b\u043f_\u043d\u0430\u0443_\u0441\u04d9\u0443_\u043c\u0430\u043c_\u043c\u0430\u0443_\u0448\u0456\u043b_\u0442\u0430\u043c_\u049b\u044b\u0440_\u049b\u0430\u0437_\u049b\u0430\u0440_\u0436\u0435\u043b".split("_"),weekdays:"\u0436\u0435\u043a\u0441\u0435\u043d\u0431\u0456_\u0434\u04af\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0441\u04d9\u0440\u0441\u0435\u043d\u0431\u0456_\u0431\u0435\u0439\u0441\u0435\u043d\u0431\u0456_\u0436\u04b1\u043c\u0430_\u0441\u0435\u043d\u0431\u0456".split("_"),weekdaysShort:"\u0436\u0435\u043a_\u0434\u04af\u0439_\u0441\u0435\u0439_\u0441\u04d9\u0440_\u0431\u0435\u0439_\u0436\u04b1\u043c_\u0441\u0435\u043d".split("_"),weekdaysMin:"\u0436\u043a_\u0434\u0439_\u0441\u0439_\u0441\u0440_\u0431\u0439_\u0436\u043c_\u0441\u043d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u0456\u043d \u0441\u0430\u0493\u0430\u0442] LT",nextDay:"[\u0415\u0440\u0442\u0435\u04a3 \u0441\u0430\u0493\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0493\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0448\u0435 \u0441\u0430\u0493\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u0435\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u04a3] dddd [\u0441\u0430\u0493\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0456\u0448\u0456\u043d\u0434\u0435",past:"%s \u0431\u04b1\u0440\u044b\u043d",s:"\u0431\u0456\u0440\u043d\u0435\u0448\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0456\u0440 \u043c\u0438\u043d\u0443\u0442",mm:"%d \u043c\u0438\u043d\u0443\u0442",h:"\u0431\u0456\u0440 \u0441\u0430\u0493\u0430\u0442",hh:"%d \u0441\u0430\u0493\u0430\u0442",d:"\u0431\u0456\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0456\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0456\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(a){return a+(A[a]||A[a%10]||A[a>=100?100:null])},week:{dow:1,doy:7}})}(ae(5439))},3343:function(ze,Ye,ae){!function(te){"use strict";var A={1:"\u17e1",2:"\u17e2",3:"\u17e3",4:"\u17e4",5:"\u17e5",6:"\u17e6",7:"\u17e7",8:"\u17e8",9:"\u17e9",0:"\u17e0"},Y={"\u17e1":"1","\u17e2":"2","\u17e3":"3","\u17e4":"4","\u17e5":"5","\u17e6":"6","\u17e7":"7","\u17e8":"8","\u17e9":"9","\u17e0":"0"};te.defineLocale("km",{months:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),monthsShort:"\u1798\u1780\u179a\u17b6_\u1780\u17bb\u1798\u17d2\u1797\u17c8_\u1798\u17b8\u1793\u17b6_\u1798\u17c1\u179f\u17b6_\u17a7\u179f\u1797\u17b6_\u1798\u17b7\u1790\u17bb\u1793\u17b6_\u1780\u1780\u17d2\u1780\u178a\u17b6_\u179f\u17b8\u17a0\u17b6_\u1780\u1789\u17d2\u1789\u17b6_\u178f\u17bb\u179b\u17b6_\u179c\u17b7\u1785\u17d2\u1786\u17b7\u1780\u17b6_\u1792\u17d2\u1793\u17bc".split("_"),weekdays:"\u17a2\u17b6\u1791\u17b7\u178f\u17d2\u1799_\u1785\u17d0\u1793\u17d2\u1791_\u17a2\u1784\u17d2\u1782\u17b6\u179a_\u1796\u17bb\u1792_\u1796\u17d2\u179a\u17a0\u179f\u17d2\u1794\u178f\u17b7\u17cd_\u179f\u17bb\u1780\u17d2\u179a_\u179f\u17c5\u179a\u17cd".split("_"),weekdaysShort:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysMin:"\u17a2\u17b6_\u1785_\u17a2_\u1796_\u1796\u17d2\u179a_\u179f\u17bb_\u179f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(d){return"\u179b\u17d2\u1784\u17b6\u1785"===d},meridiem:function(d,J,Q){return d<12?"\u1796\u17d2\u179a\u17b9\u1780":"\u179b\u17d2\u1784\u17b6\u1785"},calendar:{sameDay:"[\u1790\u17d2\u1784\u17c3\u1793\u17c1\u17c7 \u1798\u17c9\u17c4\u1784] LT",nextDay:"[\u179f\u17d2\u17a2\u17c2\u1780 \u1798\u17c9\u17c4\u1784] LT",nextWeek:"dddd [\u1798\u17c9\u17c4\u1784] LT",lastDay:"[\u1798\u17d2\u179f\u17b7\u179b\u1798\u17b7\u1789 \u1798\u17c9\u17c4\u1784] LT",lastWeek:"dddd [\u179f\u1794\u17d2\u178f\u17b6\u17a0\u17cd\u1798\u17bb\u1793] [\u1798\u17c9\u17c4\u1784] LT",sameElse:"L"},relativeTime:{future:"%s\u1791\u17c0\u178f",past:"%s\u1798\u17bb\u1793",s:"\u1794\u17c9\u17bb\u1793\u17d2\u1798\u17b6\u1793\u179c\u17b7\u1793\u17b6\u1791\u17b8",ss:"%d \u179c\u17b7\u1793\u17b6\u1791\u17b8",m:"\u1798\u17bd\u1799\u1793\u17b6\u1791\u17b8",mm:"%d \u1793\u17b6\u1791\u17b8",h:"\u1798\u17bd\u1799\u1798\u17c9\u17c4\u1784",hh:"%d \u1798\u17c9\u17c4\u1784",d:"\u1798\u17bd\u1799\u1790\u17d2\u1784\u17c3",dd:"%d \u1790\u17d2\u1784\u17c3",M:"\u1798\u17bd\u1799\u1781\u17c2",MM:"%d \u1781\u17c2",y:"\u1798\u17bd\u1799\u1786\u17d2\u1793\u17b6\u17c6",yy:"%d \u1786\u17d2\u1793\u17b6\u17c6"},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"\u1791\u17b8%d",preparse:function(d){return d.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(J){return Y[J]})},postformat:function(d){return d.replace(/\d/g,function(J){return A[J]})},week:{dow:1,doy:4}})}(ae(5439))},4799:function(ze,Ye,ae){!function(te){"use strict";var A={1:"\u0ce7",2:"\u0ce8",3:"\u0ce9",4:"\u0cea",5:"\u0ceb",6:"\u0cec",7:"\u0ced",8:"\u0cee",9:"\u0cef",0:"\u0ce6"},Y={"\u0ce7":"1","\u0ce8":"2","\u0ce9":"3","\u0cea":"4","\u0ceb":"5","\u0cec":"6","\u0ced":"7","\u0cee":"8","\u0cef":"9","\u0ce6":"0"};te.defineLocale("kn",{months:"\u0c9c\u0ca8\u0cb5\u0cb0\u0cbf_\u0cab\u0cc6\u0cac\u0ccd\u0cb0\u0cb5\u0cb0\u0cbf_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5\u0cac\u0cb0\u0ccd_\u0ca8\u0cb5\u0cc6\u0c82\u0cac\u0cb0\u0ccd_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82\u0cac\u0cb0\u0ccd".split("_"),monthsShort:"\u0c9c\u0ca8_\u0cab\u0cc6\u0cac\u0ccd\u0cb0_\u0cae\u0cbe\u0cb0\u0ccd\u0c9a\u0ccd_\u0c8f\u0caa\u0ccd\u0cb0\u0cbf\u0cb2\u0ccd_\u0cae\u0cc6\u0cd5_\u0c9c\u0cc2\u0ca8\u0ccd_\u0c9c\u0cc1\u0cb2\u0cc6\u0cd6_\u0c86\u0c97\u0cb8\u0ccd\u0c9f\u0ccd_\u0cb8\u0cc6\u0caa\u0ccd\u0c9f\u0cc6\u0c82_\u0c85\u0c95\u0ccd\u0c9f\u0cc6\u0cc2\u0cd5_\u0ca8\u0cb5\u0cc6\u0c82_\u0ca1\u0cbf\u0cb8\u0cc6\u0c82".split("_"),monthsParseExact:!0,weekdays:"\u0cad\u0cbe\u0ca8\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae\u0cb5\u0cbe\u0cb0_\u0cae\u0c82\u0c97\u0cb3\u0cb5\u0cbe\u0cb0_\u0cac\u0cc1\u0ca7\u0cb5\u0cbe\u0cb0_\u0c97\u0cc1\u0cb0\u0cc1\u0cb5\u0cbe\u0cb0_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0\u0cb5\u0cbe\u0cb0_\u0cb6\u0ca8\u0cbf\u0cb5\u0cbe\u0cb0".split("_"),weekdaysShort:"\u0cad\u0cbe\u0ca8\u0cc1_\u0cb8\u0cc6\u0cc2\u0cd5\u0cae_\u0cae\u0c82\u0c97\u0cb3_\u0cac\u0cc1\u0ca7_\u0c97\u0cc1\u0cb0\u0cc1_\u0cb6\u0cc1\u0c95\u0ccd\u0cb0_\u0cb6\u0ca8\u0cbf".split("_"),weekdaysMin:"\u0cad\u0cbe_\u0cb8\u0cc6\u0cc2\u0cd5_\u0cae\u0c82_\u0cac\u0cc1_\u0c97\u0cc1_\u0cb6\u0cc1_\u0cb6".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c87\u0c82\u0ca6\u0cc1] LT",nextDay:"[\u0ca8\u0cbe\u0cb3\u0cc6] LT",nextWeek:"dddd, LT",lastDay:"[\u0ca8\u0cbf\u0ca8\u0ccd\u0ca8\u0cc6] LT",lastWeek:"[\u0c95\u0cc6\u0cc2\u0ca8\u0cc6\u0caf] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0ca8\u0c82\u0ca4\u0cb0",past:"%s \u0cb9\u0cbf\u0c82\u0ca6\u0cc6",s:"\u0c95\u0cc6\u0cb2\u0cb5\u0cc1 \u0c95\u0ccd\u0cb7\u0ca3\u0c97\u0cb3\u0cc1",ss:"%d \u0cb8\u0cc6\u0c95\u0cc6\u0c82\u0ca1\u0cc1\u0c97\u0cb3\u0cc1",m:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",mm:"%d \u0ca8\u0cbf\u0cae\u0cbf\u0cb7",h:"\u0c92\u0c82\u0ca6\u0cc1 \u0c97\u0c82\u0c9f\u0cc6",hh:"%d \u0c97\u0c82\u0c9f\u0cc6",d:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca6\u0cbf\u0ca8",dd:"%d \u0ca6\u0cbf\u0ca8",M:"\u0c92\u0c82\u0ca6\u0cc1 \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",MM:"%d \u0ca4\u0cbf\u0c82\u0c97\u0cb3\u0cc1",y:"\u0c92\u0c82\u0ca6\u0cc1 \u0cb5\u0cb0\u0ccd\u0cb7",yy:"%d \u0cb5\u0cb0\u0ccd\u0cb7"},preparse:function(d){return d.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(J){return Y[J]})},postformat:function(d){return d.replace(/\d/g,function(J){return A[J]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(d,J){return 12===d&&(d=0),"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"===J?d<4?d:d+12:"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6"===J?d:"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8"===J?d>=10?d:d+12:"\u0cb8\u0c82\u0c9c\u0cc6"===J?d+12:void 0},meridiem:function(d,J,Q){return d<4?"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf":d<10?"\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6":d<17?"\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8":d<20?"\u0cb8\u0c82\u0c9c\u0cc6":"\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf"},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(d){return d+"\u0ca8\u0cc6\u0cd5"},week:{dow:0,doy:6}})}(ae(5439))},3549:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("ko",{months:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),monthsShort:"1\uc6d4_2\uc6d4_3\uc6d4_4\uc6d4_5\uc6d4_6\uc6d4_7\uc6d4_8\uc6d4_9\uc6d4_10\uc6d4_11\uc6d4_12\uc6d4".split("_"),weekdays:"\uc77c\uc694\uc77c_\uc6d4\uc694\uc77c_\ud654\uc694\uc77c_\uc218\uc694\uc77c_\ubaa9\uc694\uc77c_\uae08\uc694\uc77c_\ud1a0\uc694\uc77c".split("_"),weekdaysShort:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),weekdaysMin:"\uc77c_\uc6d4_\ud654_\uc218_\ubaa9_\uae08_\ud1a0".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY\ub144 MMMM D\uc77c",LLL:"YYYY\ub144 MMMM D\uc77c A h:mm",LLLL:"YYYY\ub144 MMMM D\uc77c dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY\ub144 MMMM D\uc77c",lll:"YYYY\ub144 MMMM D\uc77c A h:mm",llll:"YYYY\ub144 MMMM D\uc77c dddd A h:mm"},calendar:{sameDay:"\uc624\ub298 LT",nextDay:"\ub0b4\uc77c LT",nextWeek:"dddd LT",lastDay:"\uc5b4\uc81c LT",lastWeek:"\uc9c0\ub09c\uc8fc dddd LT",sameElse:"L"},relativeTime:{future:"%s \ud6c4",past:"%s \uc804",s:"\uba87 \ucd08",ss:"%d\ucd08",m:"1\ubd84",mm:"%d\ubd84",h:"\ud55c \uc2dc\uac04",hh:"%d\uc2dc\uac04",d:"\ud558\ub8e8",dd:"%d\uc77c",M:"\ud55c \ub2ec",MM:"%d\ub2ec",y:"\uc77c \ub144",yy:"%d\ub144"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(Y,a){switch(a){case"d":case"D":case"DDD":return Y+"\uc77c";case"M":return Y+"\uc6d4";case"w":case"W":return Y+"\uc8fc";default:return Y}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(Y){return"\uc624\ud6c4"===Y},meridiem:function(Y,a,d){return Y<12?"\uc624\uc804":"\uc624\ud6c4"}})}(ae(5439))},1893:function(ze,Ye,ae){!function(te){"use strict";var A={1:"\u0661",2:"\u0662",3:"\u0663",4:"\u0664",5:"\u0665",6:"\u0666",7:"\u0667",8:"\u0668",9:"\u0669",0:"\u0660"},Y={"\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u0660":"0"},a=["\u06a9\u0627\u0646\u0648\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0634\u0648\u0628\u0627\u062a","\u0626\u0627\u0632\u0627\u0631","\u0646\u06cc\u0633\u0627\u0646","\u0626\u0627\u06cc\u0627\u0631","\u062d\u0648\u0632\u06d5\u06cc\u0631\u0627\u0646","\u062a\u06d5\u0645\u0645\u0648\u0632","\u0626\u0627\u0628","\u0626\u06d5\u06cc\u0644\u0648\u0648\u0644","\u062a\u0634\u0631\u06cc\u0646\u06cc \u06cc\u06d5\u0643\u06d5\u0645","\u062a\u0634\u0631\u06cc\u0646\u06cc \u062f\u0648\u0648\u06d5\u0645","\u0643\u0627\u0646\u0648\u0646\u06cc \u06cc\u06d5\u06a9\u06d5\u0645"];te.defineLocale("ku",{months:a,monthsShort:a,weekdays:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u062f\u0648\u0648\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0633\u06ce\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645\u0645\u0647\u200c_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysShort:"\u06cc\u0647\u200c\u0643\u0634\u0647\u200c\u0645_\u062f\u0648\u0648\u0634\u0647\u200c\u0645_\u0633\u06ce\u0634\u0647\u200c\u0645_\u0686\u0648\u0627\u0631\u0634\u0647\u200c\u0645_\u067e\u06ce\u0646\u062c\u0634\u0647\u200c\u0645_\u0647\u0647\u200c\u06cc\u0646\u06cc_\u0634\u0647\u200c\u0645\u0645\u0647\u200c".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u0647_\u0634".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c|\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc/,isPM:function(J){return/\u0626\u06ce\u0648\u0627\u0631\u0647\u200c/.test(J)},meridiem:function(J,Q,oe){return J<12?"\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc":"\u0626\u06ce\u0648\u0627\u0631\u0647\u200c"},calendar:{sameDay:"[\u0626\u0647\u200c\u0645\u0631\u06c6 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextDay:"[\u0628\u0647\u200c\u06cc\u0627\u0646\u06cc \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",nextWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastDay:"[\u062f\u0648\u06ce\u0646\u06ce \u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",lastWeek:"dddd [\u0643\u0627\u062a\u0698\u0645\u06ce\u0631] LT",sameElse:"L"},relativeTime:{future:"\u0644\u0647\u200c %s",past:"%s",s:"\u0686\u0647\u200c\u0646\u062f \u0686\u0631\u0643\u0647\u200c\u06cc\u0647\u200c\u0643",ss:"\u0686\u0631\u0643\u0647\u200c %d",m:"\u06cc\u0647\u200c\u0643 \u062e\u0648\u0644\u0647\u200c\u0643",mm:"%d \u062e\u0648\u0644\u0647\u200c\u0643",h:"\u06cc\u0647\u200c\u0643 \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",hh:"%d \u0643\u0627\u062a\u0698\u0645\u06ce\u0631",d:"\u06cc\u0647\u200c\u0643 \u0695\u06c6\u0698",dd:"%d \u0695\u06c6\u0698",M:"\u06cc\u0647\u200c\u0643 \u0645\u0627\u0646\u06af",MM:"%d \u0645\u0627\u0646\u06af",y:"\u06cc\u0647\u200c\u0643 \u0633\u0627\u06b5",yy:"%d \u0633\u0627\u06b5"},preparse:function(J){return J.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(Q){return Y[Q]}).replace(/\u060c/g,",")},postformat:function(J){return J.replace(/\d/g,function(Q){return A[Q]}).replace(/,/g,"\u060c")},week:{dow:6,doy:12}})}(ae(5439))},3125:function(ze,Ye,ae){!function(te){"use strict";var A={0:"-\u0447\u04af",1:"-\u0447\u0438",2:"-\u0447\u0438",3:"-\u0447\u04af",4:"-\u0447\u04af",5:"-\u0447\u0438",6:"-\u0447\u044b",7:"-\u0447\u0438",8:"-\u0447\u0438",9:"-\u0447\u0443",10:"-\u0447\u0443",20:"-\u0447\u044b",30:"-\u0447\u0443",40:"-\u0447\u044b",50:"-\u0447\u04af",60:"-\u0447\u044b",70:"-\u0447\u0438",80:"-\u0447\u0438",90:"-\u0447\u0443",100:"-\u0447\u04af"};te.defineLocale("ky",{months:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u0416\u0435\u043a\u0448\u0435\u043c\u0431\u0438_\u0414\u04af\u0439\u0448\u04e9\u043c\u0431\u04af_\u0428\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0428\u0430\u0440\u0448\u0435\u043c\u0431\u0438_\u0411\u0435\u0439\u0448\u0435\u043c\u0431\u0438_\u0416\u0443\u043c\u0430_\u0418\u0448\u0435\u043c\u0431\u0438".split("_"),weekdaysShort:"\u0416\u0435\u043a_\u0414\u04af\u0439_\u0428\u0435\u0439_\u0428\u0430\u0440_\u0411\u0435\u0439_\u0416\u0443\u043c_\u0418\u0448\u0435".split("_"),weekdaysMin:"\u0416\u043a_\u0414\u0439_\u0428\u0439_\u0428\u0440_\u0411\u0439_\u0416\u043c_\u0418\u0448".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0411\u04af\u0433\u04af\u043d \u0441\u0430\u0430\u0442] LT",nextDay:"[\u042d\u0440\u0442\u0435\u04a3 \u0441\u0430\u0430\u0442] LT",nextWeek:"dddd [\u0441\u0430\u0430\u0442] LT",lastDay:"[\u041a\u0435\u0447\u044d\u044d \u0441\u0430\u0430\u0442] LT",lastWeek:"[\u04e8\u0442\u043a\u04e9\u043d \u0430\u043f\u0442\u0430\u043d\u044b\u043d] dddd [\u043a\u04af\u043d\u04af] [\u0441\u0430\u0430\u0442] LT",sameElse:"L"},relativeTime:{future:"%s \u0438\u0447\u0438\u043d\u0434\u0435",past:"%s \u043c\u0443\u0440\u0443\u043d",s:"\u0431\u0438\u0440\u043d\u0435\u0447\u0435 \u0441\u0435\u043a\u0443\u043d\u0434",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434",m:"\u0431\u0438\u0440 \u043c\u04af\u043d\u04e9\u0442",mm:"%d \u043c\u04af\u043d\u04e9\u0442",h:"\u0431\u0438\u0440 \u0441\u0430\u0430\u0442",hh:"%d \u0441\u0430\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u04af\u043d",dd:"%d \u043a\u04af\u043d",M:"\u0431\u0438\u0440 \u0430\u0439",MM:"%d \u0430\u0439",y:"\u0431\u0438\u0440 \u0436\u044b\u043b",yy:"%d \u0436\u044b\u043b"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(a){return a+(A[a]||A[a%10]||A[a>=100?100:null])},week:{dow:1,doy:7}})}(ae(5439))},9586:function(ze,Ye,ae){!function(te){"use strict";function A(Q,oe,ye,Oe){var ht={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return oe?ht[ye][0]:ht[ye][1]}function d(Q){if(Q=parseInt(Q,10),isNaN(Q))return!1;if(Q<0)return!0;if(Q<10)return 4<=Q&&Q<=7;if(Q<100){var oe=Q%10;return d(0===oe?Q/10:oe)}if(Q<1e4){for(;Q>=10;)Q/=10;return d(Q)}return d(Q/=1e3)}te.defineLocale("lb",{months:"Januar_Februar_M\xe4erz_Abr\xebll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_M\xe9indeg_D\xebnschdeg_M\xebttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M\xe9._D\xeb._M\xeb._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M\xe9_D\xeb_M\xeb_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[G\xebschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function Y(Q){return d(Q.substr(0,Q.indexOf(" ")))?"a "+Q:"an "+Q},past:function a(Q){return d(Q.substr(0,Q.indexOf(" ")))?"viru "+Q:"virun "+Q},s:"e puer Sekonnen",ss:"%d Sekonnen",m:A,mm:"%d Minutten",h:A,hh:"%d Stonnen",d:A,dd:"%d Deeg",M:A,MM:"%d M\xe9int",y:A,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},2349:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("lo",{months:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),monthsShort:"\u0ea1\u0eb1\u0e87\u0e81\u0ead\u0e99_\u0e81\u0eb8\u0ea1\u0e9e\u0eb2_\u0ea1\u0eb5\u0e99\u0eb2_\u0ec0\u0ea1\u0eaa\u0eb2_\u0e9e\u0eb6\u0e94\u0eaa\u0eb0\u0e9e\u0eb2_\u0ea1\u0eb4\u0e96\u0eb8\u0e99\u0eb2_\u0e81\u0ecd\u0ea5\u0eb0\u0e81\u0ebb\u0e94_\u0eaa\u0eb4\u0e87\u0eab\u0eb2_\u0e81\u0eb1\u0e99\u0e8d\u0eb2_\u0e95\u0eb8\u0ea5\u0eb2_\u0e9e\u0eb0\u0e88\u0eb4\u0e81_\u0e97\u0eb1\u0e99\u0ea7\u0eb2".split("_"),weekdays:"\u0ead\u0eb2\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysShort:"\u0e97\u0eb4\u0e94_\u0e88\u0eb1\u0e99_\u0ead\u0eb1\u0e87\u0e84\u0eb2\u0e99_\u0e9e\u0eb8\u0e94_\u0e9e\u0eb0\u0eab\u0eb1\u0e94_\u0eaa\u0eb8\u0e81_\u0ec0\u0eaa\u0ebb\u0eb2".split("_"),weekdaysMin:"\u0e97_\u0e88_\u0ead\u0e84_\u0e9e_\u0e9e\u0eab_\u0eaa\u0e81_\u0eaa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"\u0ea7\u0eb1\u0e99dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(Y){return"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"===Y},meridiem:function(Y,a,d){return Y<12?"\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2":"\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87"},calendar:{sameDay:"[\u0ea1\u0eb7\u0ec9\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextDay:"[\u0ea1\u0eb7\u0ec9\u0ead\u0eb7\u0ec8\u0e99\u0ec0\u0ea7\u0ea5\u0eb2] LT",nextWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0edc\u0ec9\u0eb2\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastDay:"[\u0ea1\u0eb7\u0ec9\u0ea7\u0eb2\u0e99\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",lastWeek:"[\u0ea7\u0eb1\u0e99]dddd[\u0ec1\u0ea5\u0ec9\u0ea7\u0e99\u0eb5\u0ec9\u0ec0\u0ea7\u0ea5\u0eb2] LT",sameElse:"L"},relativeTime:{future:"\u0ead\u0eb5\u0e81 %s",past:"%s\u0e9c\u0ec8\u0eb2\u0e99\u0ea1\u0eb2",s:"\u0e9a\u0ecd\u0ec8\u0ec0\u0e97\u0ebb\u0ec8\u0eb2\u0ec3\u0e94\u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",ss:"%d \u0ea7\u0eb4\u0e99\u0eb2\u0e97\u0eb5",m:"1 \u0e99\u0eb2\u0e97\u0eb5",mm:"%d \u0e99\u0eb2\u0e97\u0eb5",h:"1 \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",hh:"%d \u0e8a\u0ebb\u0ec8\u0ea7\u0ec2\u0ea1\u0e87",d:"1 \u0ea1\u0eb7\u0ec9",dd:"%d \u0ea1\u0eb7\u0ec9",M:"1 \u0ec0\u0e94\u0eb7\u0ead\u0e99",MM:"%d \u0ec0\u0e94\u0eb7\u0ead\u0e99",y:"1 \u0e9b\u0eb5",yy:"%d \u0e9b\u0eb5"},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(Y){return"\u0e97\u0eb5\u0ec8"+Y}})}(ae(5439))},2400:function(ze,Ye,ae){!function(te){"use strict";var A={ss:"sekund\u0117_sekund\u017ei\u0173_sekundes",m:"minut\u0117_minut\u0117s_minut\u0119",mm:"minut\u0117s_minu\u010di\u0173_minutes",h:"valanda_valandos_valand\u0105",hh:"valandos_valand\u0173_valandas",d:"diena_dienos_dien\u0105",dd:"dienos_dien\u0173_dienas",M:"m\u0117nuo_m\u0117nesio_m\u0117nes\u012f",MM:"m\u0117nesiai_m\u0117nesi\u0173_m\u0117nesius",y:"metai_met\u0173_metus",yy:"metai_met\u0173_metus"};function a(ye,Oe,ht,Te){return Oe?J(ht)[0]:Te?J(ht)[1]:J(ht)[2]}function d(ye){return ye%10==0||ye>10&&ye<20}function J(ye){return A[ye].split("_")}function Q(ye,Oe,ht,Te){var gt=ye+" ";return 1===ye?gt+a(0,Oe,ht[0],Te):Oe?gt+(d(ye)?J(ht)[1]:J(ht)[0]):Te?gt+J(ht)[1]:gt+(d(ye)?J(ht)[1]:J(ht)[2])}te.defineLocale("lt",{months:{format:"sausio_vasario_kovo_baland\u017eio_gegu\u017e\u0117s_bir\u017eelio_liepos_rugpj\u016b\u010dio_rugs\u0117jo_spalio_lapkri\u010dio_gruod\u017eio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu\u017e\u0117_bir\u017eelis_liepa_rugpj\u016btis_rugs\u0117jis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien\u012f_pirmadien\u012f_antradien\u012f_tre\u010diadien\u012f_ketvirtadien\u012f_penktadien\u012f_\u0161e\u0161tadien\u012f".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_tre\u010diadienis_ketvirtadienis_penktadienis_\u0161e\u0161tadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_\u0160e\u0161".split("_"),weekdaysMin:"S_P_A_T_K_Pn_\u0160".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[\u0160iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Pra\u0117jus\u012f] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie\u0161 %s",s:function Y(ye,Oe,ht,Te){return Oe?"kelios sekund\u0117s":Te?"keli\u0173 sekund\u017ei\u0173":"kelias sekundes"},ss:Q,m:a,mm:Q,h:a,hh:Q,d:a,dd:Q,M:a,MM:Q,y:a,yy:Q},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(ye){return ye+"-oji"},week:{dow:1,doy:4}})}(ae(5439))},9991:function(ze,Ye,ae){!function(te){"use strict";var A={ss:"sekundes_sekund\u0113m_sekunde_sekundes".split("_"),m:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),mm:"min\u016btes_min\u016bt\u0113m_min\u016bte_min\u016btes".split("_"),h:"stundas_stund\u0101m_stunda_stundas".split("_"),hh:"stundas_stund\u0101m_stunda_stundas".split("_"),d:"dienas_dien\u0101m_diena_dienas".split("_"),dd:"dienas_dien\u0101m_diena_dienas".split("_"),M:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),MM:"m\u0113ne\u0161a_m\u0113ne\u0161iem_m\u0113nesis_m\u0113ne\u0161i".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function Y(oe,ye,Oe){return Oe?ye%10==1&&ye%100!=11?oe[2]:oe[3]:ye%10==1&&ye%100!=11?oe[0]:oe[1]}function a(oe,ye,Oe){return oe+" "+Y(A[Oe],oe,ye)}function d(oe,ye,Oe){return Y(A[Oe],oe,ye)}te.defineLocale("lv",{months:"janv\u0101ris_febru\u0101ris_marts_apr\u012blis_maijs_j\u016bnijs_j\u016blijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_j\u016bn_j\u016bl_aug_sep_okt_nov_dec".split("_"),weekdays:"sv\u0113tdiena_pirmdiena_otrdiena_tre\u0161diena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[\u0160odien pulksten] LT",nextDay:"[R\u012bt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pag\u0101ju\u0161\u0101] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"p\u0113c %s",past:"pirms %s",s:function J(oe,ye){return ye?"da\u017eas sekundes":"da\u017e\u0101m sekund\u0113m"},ss:a,m:d,mm:a,h:d,hh:a,d,dd:a,M:d,MM:a,y:d,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},8477:function(ze,Ye,ae){!function(te){"use strict";var A={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(a,d){return 1===a?d[0]:a>=2&&a<=4?d[1]:d[2]},translate:function(a,d,J){var Q=A.words[J];return 1===J.length?d?Q[0]:Q[1]:a+" "+A.correctGrammaticalCase(a,Q)}};te.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedjelje] [u] LT","[pro\u0161log] [ponedjeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srijede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:A.translate,m:A.translate,mm:A.translate,h:A.translate,hh:A.translate,d:"dan",dd:A.translate,M:"mjesec",MM:A.translate,y:"godinu",yy:A.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(ae(5439))},5118:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("mi",{months:"Kohi-t\u0101te_Hui-tanguru_Pout\u016b-te-rangi_Paenga-wh\u0101wh\u0101_Haratua_Pipiri_H\u014dngoingoi_Here-turi-k\u014dk\u0101_Mahuru_Whiringa-\u0101-nuku_Whiringa-\u0101-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_H\u014dngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"R\u0101tapu_Mane_T\u016brei_Wenerei_T\u0101ite_Paraire_H\u0101tarei".split("_"),weekdaysShort:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),weekdaysMin:"Ta_Ma_T\u016b_We_T\u0101i_Pa_H\u0101".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te h\u0113kona ruarua",ss:"%d h\u0113kona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(ae(5439))},5943:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("mk",{months:"\u0458\u0430\u043d\u0443\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d\u0438_\u0458\u0443\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438_\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438_\u043d\u043e\u0435\u043c\u0432\u0440\u0438_\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438".split("_"),monthsShort:"\u0458\u0430\u043d_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433_\u0441\u0435\u043f_\u043e\u043a\u0442_\u043d\u043e\u0435_\u0434\u0435\u043a".split("_"),weekdays:"\u043d\u0435\u0434\u0435\u043b\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u043e\u043a_\u043f\u0435\u0442\u043e\u043a_\u0441\u0430\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434_\u043f\u043e\u043d_\u0432\u0442\u043e_\u0441\u0440\u0435_\u0447\u0435\u0442_\u043f\u0435\u0442_\u0441\u0430\u0431".split("_"),weekdaysMin:"\u043de_\u043fo_\u0432\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[\u0414\u0435\u043d\u0435\u0441 \u0432\u043e] LT",nextDay:"[\u0423\u0442\u0440\u0435 \u0432\u043e] LT",nextWeek:"[\u0412\u043e] dddd [\u0432\u043e] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430 \u0432\u043e] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0430\u0442\u0430] dddd [\u0432\u043e] LT";case 1:case 2:case 4:case 5:return"[\u0418\u0437\u043c\u0438\u043d\u0430\u0442\u0438\u043e\u0442] dddd [\u0432\u043e] LT"}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435\u0434 %s",s:"\u043d\u0435\u043a\u043e\u043b\u043a\u0443 \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:"%d \u0441\u0435\u043a\u0443\u043d\u0434\u0438",m:"\u0435\u0434\u043d\u0430 \u043c\u0438\u043d\u0443\u0442\u0430",mm:"%d \u043c\u0438\u043d\u0443\u0442\u0438",h:"\u0435\u0434\u0435\u043d \u0447\u0430\u0441",hh:"%d \u0447\u0430\u0441\u0430",d:"\u0435\u0434\u0435\u043d \u0434\u0435\u043d",dd:"%d \u0434\u0435\u043d\u0430",M:"\u0435\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",MM:"%d \u043c\u0435\u0441\u0435\u0446\u0438",y:"\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",yy:"%d \u0433\u043e\u0434\u0438\u043d\u0438"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(Y){var a=Y%10,d=Y%100;return 0===Y?Y+"-\u0435\u0432":0===d?Y+"-\u0435\u043d":d>10&&d<20?Y+"-\u0442\u0438":1===a?Y+"-\u0432\u0438":2===a?Y+"-\u0440\u0438":7===a||8===a?Y+"-\u043c\u0438":Y+"-\u0442\u0438"},week:{dow:1,doy:7}})}(ae(5439))},3849:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("ml",{months:"\u0d1c\u0d28\u0d41\u0d35\u0d30\u0d3f_\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41\u0d35\u0d30\u0d3f_\u0d2e\u0d3e\u0d7c\u0d1a\u0d4d\u0d1a\u0d4d_\u0d0f\u0d2a\u0d4d\u0d30\u0d3f\u0d7d_\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48_\u0d13\u0d17\u0d38\u0d4d\u0d31\u0d4d\u0d31\u0d4d_\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31\u0d02\u0d2c\u0d7c_\u0d12\u0d15\u0d4d\u0d1f\u0d4b\u0d2c\u0d7c_\u0d28\u0d35\u0d02\u0d2c\u0d7c_\u0d21\u0d3f\u0d38\u0d02\u0d2c\u0d7c".split("_"),monthsShort:"\u0d1c\u0d28\u0d41._\u0d2b\u0d46\u0d2c\u0d4d\u0d30\u0d41._\u0d2e\u0d3e\u0d7c._\u0d0f\u0d2a\u0d4d\u0d30\u0d3f._\u0d2e\u0d47\u0d2f\u0d4d_\u0d1c\u0d42\u0d7a_\u0d1c\u0d42\u0d32\u0d48._\u0d13\u0d17._\u0d38\u0d46\u0d2a\u0d4d\u0d31\u0d4d\u0d31._\u0d12\u0d15\u0d4d\u0d1f\u0d4b._\u0d28\u0d35\u0d02._\u0d21\u0d3f\u0d38\u0d02.".split("_"),monthsParseExact:!0,weekdays:"\u0d1e\u0d3e\u0d2f\u0d31\u0d3e\u0d34\u0d4d\u0d1a_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d33\u0d3e\u0d34\u0d4d\u0d1a_\u0d1a\u0d4a\u0d35\u0d4d\u0d35\u0d3e\u0d34\u0d4d\u0d1a_\u0d2c\u0d41\u0d27\u0d28\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d3e\u0d34\u0d4d\u0d1a_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a_\u0d36\u0d28\u0d3f\u0d2f\u0d3e\u0d34\u0d4d\u0d1a".split("_"),weekdaysShort:"\u0d1e\u0d3e\u0d2f\u0d7c_\u0d24\u0d3f\u0d19\u0d4d\u0d15\u0d7e_\u0d1a\u0d4a\u0d35\u0d4d\u0d35_\u0d2c\u0d41\u0d27\u0d7b_\u0d35\u0d4d\u0d2f\u0d3e\u0d34\u0d02_\u0d35\u0d46\u0d33\u0d4d\u0d33\u0d3f_\u0d36\u0d28\u0d3f".split("_"),weekdaysMin:"\u0d1e\u0d3e_\u0d24\u0d3f_\u0d1a\u0d4a_\u0d2c\u0d41_\u0d35\u0d4d\u0d2f\u0d3e_\u0d35\u0d46_\u0d36".split("_"),longDateFormat:{LT:"A h:mm -\u0d28\u0d41",LTS:"A h:mm:ss -\u0d28\u0d41",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -\u0d28\u0d41",LLLL:"dddd, D MMMM YYYY, A h:mm -\u0d28\u0d41"},calendar:{sameDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d4d] LT",nextDay:"[\u0d28\u0d3e\u0d33\u0d46] LT",nextWeek:"dddd, LT",lastDay:"[\u0d07\u0d28\u0d4d\u0d28\u0d32\u0d46] LT",lastWeek:"[\u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d",past:"%s \u0d2e\u0d41\u0d7b\u0d2a\u0d4d",s:"\u0d05\u0d7d\u0d2a \u0d28\u0d3f\u0d2e\u0d3f\u0d37\u0d19\u0d4d\u0d19\u0d7e",ss:"%d \u0d38\u0d46\u0d15\u0d4d\u0d15\u0d7b\u0d21\u0d4d",m:"\u0d12\u0d30\u0d41 \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",mm:"%d \u0d2e\u0d3f\u0d28\u0d3f\u0d31\u0d4d\u0d31\u0d4d",h:"\u0d12\u0d30\u0d41 \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",hh:"%d \u0d2e\u0d23\u0d3f\u0d15\u0d4d\u0d15\u0d42\u0d7c",d:"\u0d12\u0d30\u0d41 \u0d26\u0d3f\u0d35\u0d38\u0d02",dd:"%d \u0d26\u0d3f\u0d35\u0d38\u0d02",M:"\u0d12\u0d30\u0d41 \u0d2e\u0d3e\u0d38\u0d02",MM:"%d \u0d2e\u0d3e\u0d38\u0d02",y:"\u0d12\u0d30\u0d41 \u0d35\u0d7c\u0d37\u0d02",yy:"%d \u0d35\u0d7c\u0d37\u0d02"},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(Y,a){return 12===Y&&(Y=0),"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"===a&&Y>=4||"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d"===a||"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02"===a?Y+12:Y},meridiem:function(Y,a,d){return Y<4?"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f":Y<12?"\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46":Y<17?"\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d":Y<20?"\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02":"\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f"}})}(ae(5439))},1977:function(ze,Ye,ae){!function(te){"use strict";function A(a,d,J,Q){switch(J){case"s":return d?"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434":"\u0445\u044d\u0434\u0445\u044d\u043d \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d";case"ss":return a+(d?" \u0441\u0435\u043a\u0443\u043d\u0434":" \u0441\u0435\u043a\u0443\u043d\u0434\u044b\u043d");case"m":case"mm":return a+(d?" \u043c\u0438\u043d\u0443\u0442":" \u043c\u0438\u043d\u0443\u0442\u044b\u043d");case"h":case"hh":return a+(d?" \u0446\u0430\u0433":" \u0446\u0430\u0433\u0438\u0439\u043d");case"d":case"dd":return a+(d?" \u04e9\u0434\u04e9\u0440":" \u04e9\u0434\u0440\u0438\u0439\u043d");case"M":case"MM":return a+(d?" \u0441\u0430\u0440":" \u0441\u0430\u0440\u044b\u043d");case"y":case"yy":return a+(d?" \u0436\u0438\u043b":" \u0436\u0438\u043b\u0438\u0439\u043d");default:return a}}te.defineLocale("mn",{months:"\u041d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0425\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u04e9\u0440\u04e9\u0432\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0414\u043e\u043b\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u041d\u0430\u0439\u043c\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0415\u0441\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u043d\u044d\u0433\u0434\u04af\u0433\u044d\u044d\u0440 \u0441\u0430\u0440_\u0410\u0440\u0432\u0430\u043d \u0445\u043e\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440".split("_"),monthsShort:"1 \u0441\u0430\u0440_2 \u0441\u0430\u0440_3 \u0441\u0430\u0440_4 \u0441\u0430\u0440_5 \u0441\u0430\u0440_6 \u0441\u0430\u0440_7 \u0441\u0430\u0440_8 \u0441\u0430\u0440_9 \u0441\u0430\u0440_10 \u0441\u0430\u0440_11 \u0441\u0430\u0440_12 \u0441\u0430\u0440".split("_"),monthsParseExact:!0,weekdays:"\u041d\u044f\u043c_\u0414\u0430\u0432\u0430\u0430_\u041c\u044f\u0433\u043c\u0430\u0440_\u041b\u0445\u0430\u0433\u0432\u0430_\u041f\u04af\u0440\u044d\u0432_\u0411\u0430\u0430\u0441\u0430\u043d_\u0411\u044f\u043c\u0431\u0430".split("_"),weekdaysShort:"\u041d\u044f\u043c_\u0414\u0430\u0432_\u041c\u044f\u0433_\u041b\u0445\u0430_\u041f\u04af\u0440_\u0411\u0430\u0430_\u0411\u044f\u043c".split("_"),weekdaysMin:"\u041d\u044f_\u0414\u0430_\u041c\u044f_\u041b\u0445_\u041f\u04af_\u0411\u0430_\u0411\u044f".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D",LLL:"YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm",LLLL:"dddd, YYYY \u043e\u043d\u044b MMMM\u044b\u043d D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(a){return"\u04ae\u0425"===a},meridiem:function(a,d,J){return a<12?"\u04ae\u04e8":"\u04ae\u0425"},calendar:{sameDay:"[\u04e8\u043d\u04e9\u04e9\u0434\u04e9\u0440] LT",nextDay:"[\u041c\u0430\u0440\u0433\u0430\u0430\u0448] LT",nextWeek:"[\u0418\u0440\u044d\u0445] dddd LT",lastDay:"[\u04e8\u0447\u0438\u0433\u0434\u04e9\u0440] LT",lastWeek:"[\u04e8\u043d\u0433\u04e9\u0440\u0441\u04e9\u043d] dddd LT",sameElse:"L"},relativeTime:{future:"%s \u0434\u0430\u0440\u0430\u0430",past:"%s \u04e9\u043c\u043d\u04e9",s:A,ss:A,m:A,mm:A,h:A,hh:A,d:A,dd:A,M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(a,d){switch(d){case"d":case"D":case"DDD":return a+" \u04e9\u0434\u04e9\u0440";default:return a}}})}(ae(5439))},6184:function(ze,Ye,ae){!function(te){"use strict";var A={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},Y={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};function a(J,Q,oe,ye){var Oe="";if(Q)switch(oe){case"s":Oe="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926";break;case"ss":Oe="%d \u0938\u0947\u0915\u0902\u0926";break;case"m":Oe="\u090f\u0915 \u092e\u093f\u0928\u093f\u091f";break;case"mm":Oe="%d \u092e\u093f\u0928\u093f\u091f\u0947";break;case"h":Oe="\u090f\u0915 \u0924\u093e\u0938";break;case"hh":Oe="%d \u0924\u093e\u0938";break;case"d":Oe="\u090f\u0915 \u0926\u093f\u0935\u0938";break;case"dd":Oe="%d \u0926\u093f\u0935\u0938";break;case"M":Oe="\u090f\u0915 \u092e\u0939\u093f\u0928\u093e";break;case"MM":Oe="%d \u092e\u0939\u093f\u0928\u0947";break;case"y":Oe="\u090f\u0915 \u0935\u0930\u094d\u0937";break;case"yy":Oe="%d \u0935\u0930\u094d\u0937\u0947"}else switch(oe){case"s":Oe="\u0915\u093e\u0939\u0940 \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"ss":Oe="%d \u0938\u0947\u0915\u0902\u0926\u093e\u0902";break;case"m":Oe="\u090f\u0915\u093e \u092e\u093f\u0928\u093f\u091f\u093e";break;case"mm":Oe="%d \u092e\u093f\u0928\u093f\u091f\u093e\u0902";break;case"h":Oe="\u090f\u0915\u093e \u0924\u093e\u0938\u093e";break;case"hh":Oe="%d \u0924\u093e\u0938\u093e\u0902";break;case"d":Oe="\u090f\u0915\u093e \u0926\u093f\u0935\u0938\u093e";break;case"dd":Oe="%d \u0926\u093f\u0935\u0938\u093e\u0902";break;case"M":Oe="\u090f\u0915\u093e \u092e\u0939\u093f\u0928\u094d\u092f\u093e";break;case"MM":Oe="%d \u092e\u0939\u093f\u0928\u094d\u092f\u093e\u0902";break;case"y":Oe="\u090f\u0915\u093e \u0935\u0930\u094d\u0937\u093e";break;case"yy":Oe="%d \u0935\u0930\u094d\u0937\u093e\u0902"}return Oe.replace(/%d/i,J)}te.defineLocale("mr",{months:"\u091c\u093e\u0928\u0947\u0935\u093e\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u093e\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u090f\u092a\u094d\u0930\u093f\u0932_\u092e\u0947_\u091c\u0942\u0928_\u091c\u0941\u0932\u0948_\u0911\u0917\u0938\u094d\u091f_\u0938\u092a\u094d\u091f\u0947\u0902\u092c\u0930_\u0911\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u0935\u094d\u0939\u0947\u0902\u092c\u0930_\u0921\u093f\u0938\u0947\u0902\u092c\u0930".split("_"),monthsShort:"\u091c\u093e\u0928\u0947._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a._\u090f\u092a\u094d\u0930\u093f._\u092e\u0947._\u091c\u0942\u0928._\u091c\u0941\u0932\u0948._\u0911\u0917._\u0938\u092a\u094d\u091f\u0947\u0902._\u0911\u0915\u094d\u091f\u094b._\u0928\u094b\u0935\u094d\u0939\u0947\u0902._\u0921\u093f\u0938\u0947\u0902.".split("_"),monthsParseExact:!0,weekdays:"\u0930\u0935\u093f\u0935\u093e\u0930_\u0938\u094b\u092e\u0935\u093e\u0930_\u092e\u0902\u0917\u0933\u0935\u093e\u0930_\u092c\u0941\u0927\u0935\u093e\u0930_\u0917\u0941\u0930\u0942\u0935\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u0935\u093e\u0930_\u0936\u0928\u093f\u0935\u093e\u0930".split("_"),weekdaysShort:"\u0930\u0935\u093f_\u0938\u094b\u092e_\u092e\u0902\u0917\u0933_\u092c\u0941\u0927_\u0917\u0941\u0930\u0942_\u0936\u0941\u0915\u094d\u0930_\u0936\u0928\u093f".split("_"),weekdaysMin:"\u0930_\u0938\u094b_\u092e\u0902_\u092c\u0941_\u0917\u0941_\u0936\u0941_\u0936".split("_"),longDateFormat:{LT:"A h:mm \u0935\u093e\u091c\u0924\u093e",LTS:"A h:mm:ss \u0935\u093e\u091c\u0924\u093e",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e",LLLL:"dddd, D MMMM YYYY, A h:mm \u0935\u093e\u091c\u0924\u093e"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u0909\u0926\u094d\u092f\u093e] LT",nextWeek:"dddd, LT",lastDay:"[\u0915\u093e\u0932] LT",lastWeek:"[\u092e\u093e\u0917\u0940\u0932] dddd, LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u0927\u094d\u092f\u0947",past:"%s\u092a\u0942\u0930\u094d\u0935\u0940",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},preparse:function(J){return J.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(Q){return Y[Q]})},postformat:function(J){return J.replace(/\d/g,function(Q){return A[Q]})},meridiemParse:/\u092a\u0939\u093e\u091f\u0947|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940|\u0930\u093e\u0924\u094d\u0930\u0940/,meridiemHour:function(J,Q){return 12===J&&(J=0),"\u092a\u0939\u093e\u091f\u0947"===Q||"\u0938\u0915\u093e\u0933\u0940"===Q?J:"\u0926\u0941\u092a\u093e\u0930\u0940"===Q||"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940"===Q||"\u0930\u093e\u0924\u094d\u0930\u0940"===Q?J>=12?J:J+12:void 0},meridiem:function(J,Q,oe){return J>=0&&J<6?"\u092a\u0939\u093e\u091f\u0947":J<12?"\u0938\u0915\u093e\u0933\u0940":J<17?"\u0926\u0941\u092a\u093e\u0930\u0940":J<20?"\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940":"\u0930\u093e\u0924\u094d\u0930\u0940"},week:{dow:0,doy:6}})}(ae(5439))},4524:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(Y,a){return 12===Y&&(Y=0),"pagi"===a?Y:"tengahari"===a?Y>=11?Y:Y+12:"petang"===a||"malam"===a?Y+12:void 0},meridiem:function(Y,a,d){return Y<11?"pagi":Y<15?"tengahari":Y<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(ae(5439))},485:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(Y,a){return 12===Y&&(Y=0),"pagi"===a?Y:"tengahari"===a?Y>=11?Y:Y+12:"petang"===a||"malam"===a?Y+12:void 0},meridiem:function(Y,a,d){return Y<11?"pagi":Y<15?"tengahari":Y<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(ae(5439))},6681:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_\u0120unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Di\u010bembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_\u0120un_Lul_Aww_Set_Ott_Nov_Di\u010b".split("_"),weekdays:"Il-\u0126add_It-Tnejn_It-Tlieta_L-Erbg\u0127a_Il-\u0126amis_Il-\u0120img\u0127a_Is-Sibt".split("_"),weekdaysShort:"\u0126ad_Tne_Tli_Erb_\u0126am_\u0120im_Sib".split("_"),weekdaysMin:"\u0126a_Tn_Tl_Er_\u0126a_\u0120i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[G\u0127ada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera\u0127 fil-]LT",lastWeek:"dddd [li g\u0127adda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f\u2019 %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"sieg\u0127a",hh:"%d sieg\u0127at",d:"\u0121urnata",dd:"%d \u0121ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(ae(5439))},2024:function(ze,Ye,ae){!function(te){"use strict";var A={1:"\u1041",2:"\u1042",3:"\u1043",4:"\u1044",5:"\u1045",6:"\u1046",7:"\u1047",8:"\u1048",9:"\u1049",0:"\u1040"},Y={"\u1041":"1","\u1042":"2","\u1043":"3","\u1044":"4","\u1045":"5","\u1046":"6","\u1047":"7","\u1048":"8","\u1049":"9","\u1040":"0"};te.defineLocale("my",{months:"\u1007\u1014\u103a\u1014\u101d\u102b\u101b\u102e_\u1016\u1031\u1016\u1031\u102c\u103a\u101d\u102b\u101b\u102e_\u1019\u1010\u103a_\u1027\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u1007\u1030\u101c\u102d\u102f\u1004\u103a_\u101e\u103c\u1002\u102f\u1010\u103a_\u1005\u1000\u103a\u1010\u1004\u103a\u1018\u102c_\u1021\u1031\u102c\u1000\u103a\u1010\u102d\u102f\u1018\u102c_\u1014\u102d\u102f\u101d\u1004\u103a\u1018\u102c_\u1012\u102e\u1007\u1004\u103a\u1018\u102c".split("_"),monthsShort:"\u1007\u1014\u103a_\u1016\u1031_\u1019\u1010\u103a_\u1015\u103c\u102e_\u1019\u1031_\u1007\u103d\u1014\u103a_\u101c\u102d\u102f\u1004\u103a_\u101e\u103c_\u1005\u1000\u103a_\u1021\u1031\u102c\u1000\u103a_\u1014\u102d\u102f_\u1012\u102e".split("_"),weekdays:"\u1010\u1014\u1004\u103a\u1039\u1002\u1014\u103d\u1031_\u1010\u1014\u1004\u103a\u1039\u101c\u102c_\u1021\u1004\u103a\u1039\u1002\u102b_\u1017\u102f\u1012\u1039\u1013\u101f\u1030\u1038_\u1000\u103c\u102c\u101e\u1015\u1010\u1031\u1038_\u101e\u1031\u102c\u1000\u103c\u102c_\u1005\u1014\u1031".split("_"),weekdaysShort:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),weekdaysMin:"\u1014\u103d\u1031_\u101c\u102c_\u1002\u102b_\u101f\u1030\u1038_\u1000\u103c\u102c_\u101e\u1031\u102c_\u1014\u1031".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u101a\u1014\u1031.] LT [\u1019\u103e\u102c]",nextDay:"[\u1019\u1014\u1000\u103a\u1016\u103c\u1014\u103a] LT [\u1019\u103e\u102c]",nextWeek:"dddd LT [\u1019\u103e\u102c]",lastDay:"[\u1019\u1014\u1031.\u1000] LT [\u1019\u103e\u102c]",lastWeek:"[\u1015\u103c\u102e\u1038\u1001\u1032\u1037\u101e\u1031\u102c] dddd LT [\u1019\u103e\u102c]",sameElse:"L"},relativeTime:{future:"\u101c\u102c\u1019\u100a\u103a\u1037 %s \u1019\u103e\u102c",past:"\u101c\u103d\u1014\u103a\u1001\u1032\u1037\u101e\u1031\u102c %s \u1000",s:"\u1005\u1000\u1039\u1000\u1014\u103a.\u1021\u1014\u100a\u103a\u1038\u1004\u101a\u103a",ss:"%d \u1005\u1000\u1039\u1000\u1014\u1037\u103a",m:"\u1010\u1005\u103a\u1019\u102d\u1014\u1005\u103a",mm:"%d \u1019\u102d\u1014\u1005\u103a",h:"\u1010\u1005\u103a\u1014\u102c\u101b\u102e",hh:"%d \u1014\u102c\u101b\u102e",d:"\u1010\u1005\u103a\u101b\u1000\u103a",dd:"%d \u101b\u1000\u103a",M:"\u1010\u1005\u103a\u101c",MM:"%d \u101c",y:"\u1010\u1005\u103a\u1014\u103e\u1005\u103a",yy:"%d \u1014\u103e\u1005\u103a"},preparse:function(d){return d.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(J){return Y[J]})},postformat:function(d){return d.replace(/\d/g,function(J){return A[J]})},week:{dow:1,doy:4}})}(ae(5439))},2688:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"s\xf8ndag_mandag_tirsdag_onsdag_torsdag_fredag_l\xf8rdag".split("_"),weekdaysShort:"s\xf8._ma._ti._on._to._fr._l\xf8.".split("_"),weekdaysMin:"s\xf8_ma_ti_on_to_fr_l\xf8".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i g\xe5r kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en m\xe5ned",MM:"%d m\xe5neder",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},8914:function(ze,Ye,ae){!function(te){"use strict";var A={1:"\u0967",2:"\u0968",3:"\u0969",4:"\u096a",5:"\u096b",6:"\u096c",7:"\u096d",8:"\u096e",9:"\u096f",0:"\u0966"},Y={"\u0967":"1","\u0968":"2","\u0969":"3","\u096a":"4","\u096b":"5","\u096c":"6","\u096d":"7","\u096e":"8","\u096f":"9","\u0966":"0"};te.defineLocale("ne",{months:"\u091c\u0928\u0935\u0930\u0940_\u092b\u0947\u092c\u094d\u0930\u0941\u0935\u0930\u0940_\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f\u0932_\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908_\u0905\u0917\u0937\u094d\u091f_\u0938\u0947\u092a\u094d\u091f\u0947\u092e\u094d\u092c\u0930_\u0905\u0915\u094d\u091f\u094b\u092c\u0930_\u0928\u094b\u092d\u0947\u092e\u094d\u092c\u0930_\u0921\u093f\u0938\u0947\u092e\u094d\u092c\u0930".split("_"),monthsShort:"\u091c\u0928._\u092b\u0947\u092c\u094d\u0930\u0941._\u092e\u093e\u0930\u094d\u091a_\u0905\u092a\u094d\u0930\u093f._\u092e\u0908_\u091c\u0941\u0928_\u091c\u0941\u0932\u093e\u0908._\u0905\u0917._\u0938\u0947\u092a\u094d\u091f._\u0905\u0915\u094d\u091f\u094b._\u0928\u094b\u092d\u0947._\u0921\u093f\u0938\u0947.".split("_"),monthsParseExact:!0,weekdays:"\u0906\u0907\u0924\u092c\u093e\u0930_\u0938\u094b\u092e\u092c\u093e\u0930_\u092e\u0919\u094d\u0917\u0932\u092c\u093e\u0930_\u092c\u0941\u0927\u092c\u093e\u0930_\u092c\u093f\u0939\u093f\u092c\u093e\u0930_\u0936\u0941\u0915\u094d\u0930\u092c\u093e\u0930_\u0936\u0928\u093f\u092c\u093e\u0930".split("_"),weekdaysShort:"\u0906\u0907\u0924._\u0938\u094b\u092e._\u092e\u0919\u094d\u0917\u0932._\u092c\u0941\u0927._\u092c\u093f\u0939\u093f._\u0936\u0941\u0915\u094d\u0930._\u0936\u0928\u093f.".split("_"),weekdaysMin:"\u0906._\u0938\u094b._\u092e\u0902._\u092c\u0941._\u092c\u093f._\u0936\u0941._\u0936.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A\u0915\u094b h:mm \u092c\u091c\u0947",LTS:"A\u0915\u094b h:mm:ss \u092c\u091c\u0947",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947",LLLL:"dddd, D MMMM YYYY, A\u0915\u094b h:mm \u092c\u091c\u0947"},preparse:function(d){return d.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(J){return Y[J]})},postformat:function(d){return d.replace(/\d/g,function(J){return A[J]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(d,J){return 12===d&&(d=0),"\u0930\u093e\u0924\u093f"===J?d<4?d:d+12:"\u092c\u093f\u0939\u093e\u0928"===J?d:"\u0926\u093f\u0909\u0901\u0938\u094b"===J?d>=10?d:d+12:"\u0938\u093e\u0901\u091d"===J?d+12:void 0},meridiem:function(d,J,Q){return d<3?"\u0930\u093e\u0924\u093f":d<12?"\u092c\u093f\u0939\u093e\u0928":d<16?"\u0926\u093f\u0909\u0901\u0938\u094b":d<20?"\u0938\u093e\u0901\u091d":"\u0930\u093e\u0924\u093f"},calendar:{sameDay:"[\u0906\u091c] LT",nextDay:"[\u092d\u094b\u0932\u093f] LT",nextWeek:"[\u0906\u0909\u0901\u0926\u094b] dddd[,] LT",lastDay:"[\u0939\u093f\u091c\u094b] LT",lastWeek:"[\u0917\u090f\u0915\u094b] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s\u092e\u093e",past:"%s \u0905\u0917\u093e\u0921\u093f",s:"\u0915\u0947\u0939\u0940 \u0915\u094d\u0937\u0923",ss:"%d \u0938\u0947\u0915\u0947\u0923\u094d\u0921",m:"\u090f\u0915 \u092e\u093f\u0928\u0947\u091f",mm:"%d \u092e\u093f\u0928\u0947\u091f",h:"\u090f\u0915 \u0918\u0923\u094d\u091f\u093e",hh:"%d \u0918\u0923\u094d\u091f\u093e",d:"\u090f\u0915 \u0926\u093f\u0928",dd:"%d \u0926\u093f\u0928",M:"\u090f\u0915 \u092e\u0939\u093f\u0928\u093e",MM:"%d \u092e\u0939\u093f\u0928\u093e",y:"\u090f\u0915 \u092c\u0930\u094d\u0937",yy:"%d \u092c\u0930\u094d\u0937"},week:{dow:0,doy:6}})}(ae(5439))},2272:function(ze,Ye,ae){!function(te){"use strict";var A="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),Y="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),a=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],d=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;te.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(Q,oe){return Q?/-MMM-/.test(oe)?Y[Q.month()]:A[Q.month()]:A},monthsRegex:d,monthsShortRegex:d,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(Q){return Q+(1===Q||8===Q||Q>=20?"ste":"de")},week:{dow:1,doy:4}})}(ae(5439))},1758:function(ze,Ye,ae){!function(te){"use strict";var A="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),Y="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),a=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],d=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;te.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(Q,oe){return Q?/-MMM-/.test(oe)?Y[Q.month()]:A[Q.month()]:A},monthsRegex:d,monthsShortRegex:d,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"\xe9\xe9n minuut",mm:"%d minuten",h:"\xe9\xe9n uur",hh:"%d uur",d:"\xe9\xe9n dag",dd:"%d dagen",w:"\xe9\xe9n week",ww:"%d weken",M:"\xe9\xe9n maand",MM:"%d maanden",y:"\xe9\xe9n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(Q){return Q+(1===Q||8===Q||Q>=20?"ste":"de")},week:{dow:1,doy:4}})}(ae(5439))},1510:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_m\xe5ndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m\xe5._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m\xe5_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I g\xe5r klokka] LT",lastWeek:"[F\xf8reg\xe5ande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein m\xe5nad",MM:"%d m\xe5nader",y:"eit \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},2797:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("oc-lnc",{months:{standalone:"geni\xe8r_febri\xe8r_mar\xe7_abril_mai_junh_julhet_agost_setembre_oct\xf2bre_novembre_decembre".split("_"),format:"de geni\xe8r_de febri\xe8r_de mar\xe7_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'oct\xf2bre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar\xe7_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dim\xe8cres_dij\xf2us_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[u\xe8i a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[i\xe8r a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu\xed %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(Y,a){var d=1===Y?"r":2===Y?"n":3===Y?"r":4===Y?"t":"\xe8";return("w"===a||"W"===a)&&(d="a"),Y+d},week:{dow:1,doy:4}})}(ae(5439))},7944:function(ze,Ye,ae){!function(te){"use strict";var A={1:"\u0a67",2:"\u0a68",3:"\u0a69",4:"\u0a6a",5:"\u0a6b",6:"\u0a6c",7:"\u0a6d",8:"\u0a6e",9:"\u0a6f",0:"\u0a66"},Y={"\u0a67":"1","\u0a68":"2","\u0a69":"3","\u0a6a":"4","\u0a6b":"5","\u0a6c":"6","\u0a6d":"7","\u0a6e":"8","\u0a6f":"9","\u0a66":"0"};te.defineLocale("pa-in",{months:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),monthsShort:"\u0a1c\u0a28\u0a35\u0a30\u0a40_\u0a2b\u0a3c\u0a30\u0a35\u0a30\u0a40_\u0a2e\u0a3e\u0a30\u0a1a_\u0a05\u0a2a\u0a4d\u0a30\u0a48\u0a32_\u0a2e\u0a08_\u0a1c\u0a42\u0a28_\u0a1c\u0a41\u0a32\u0a3e\u0a08_\u0a05\u0a17\u0a38\u0a24_\u0a38\u0a24\u0a70\u0a2c\u0a30_\u0a05\u0a15\u0a24\u0a42\u0a2c\u0a30_\u0a28\u0a35\u0a70\u0a2c\u0a30_\u0a26\u0a38\u0a70\u0a2c\u0a30".split("_"),weekdays:"\u0a10\u0a24\u0a35\u0a3e\u0a30_\u0a38\u0a4b\u0a2e\u0a35\u0a3e\u0a30_\u0a2e\u0a70\u0a17\u0a32\u0a35\u0a3e\u0a30_\u0a2c\u0a41\u0a27\u0a35\u0a3e\u0a30_\u0a35\u0a40\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a41\u0a71\u0a15\u0a30\u0a35\u0a3e\u0a30_\u0a38\u0a3c\u0a28\u0a40\u0a1a\u0a30\u0a35\u0a3e\u0a30".split("_"),weekdaysShort:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),weekdaysMin:"\u0a10\u0a24_\u0a38\u0a4b\u0a2e_\u0a2e\u0a70\u0a17\u0a32_\u0a2c\u0a41\u0a27_\u0a35\u0a40\u0a30_\u0a38\u0a3c\u0a41\u0a15\u0a30_\u0a38\u0a3c\u0a28\u0a40".split("_"),longDateFormat:{LT:"A h:mm \u0a35\u0a1c\u0a47",LTS:"A h:mm:ss \u0a35\u0a1c\u0a47",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47",LLLL:"dddd, D MMMM YYYY, A h:mm \u0a35\u0a1c\u0a47"},calendar:{sameDay:"[\u0a05\u0a1c] LT",nextDay:"[\u0a15\u0a32] LT",nextWeek:"[\u0a05\u0a17\u0a32\u0a3e] dddd, LT",lastDay:"[\u0a15\u0a32] LT",lastWeek:"[\u0a2a\u0a3f\u0a1b\u0a32\u0a47] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0a35\u0a3f\u0a71\u0a1a",past:"%s \u0a2a\u0a3f\u0a1b\u0a32\u0a47",s:"\u0a15\u0a41\u0a1d \u0a38\u0a15\u0a3f\u0a70\u0a1f",ss:"%d \u0a38\u0a15\u0a3f\u0a70\u0a1f",m:"\u0a07\u0a15 \u0a2e\u0a3f\u0a70\u0a1f",mm:"%d \u0a2e\u0a3f\u0a70\u0a1f",h:"\u0a07\u0a71\u0a15 \u0a18\u0a70\u0a1f\u0a3e",hh:"%d \u0a18\u0a70\u0a1f\u0a47",d:"\u0a07\u0a71\u0a15 \u0a26\u0a3f\u0a28",dd:"%d \u0a26\u0a3f\u0a28",M:"\u0a07\u0a71\u0a15 \u0a2e\u0a39\u0a40\u0a28\u0a3e",MM:"%d \u0a2e\u0a39\u0a40\u0a28\u0a47",y:"\u0a07\u0a71\u0a15 \u0a38\u0a3e\u0a32",yy:"%d \u0a38\u0a3e\u0a32"},preparse:function(d){return d.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(J){return Y[J]})},postformat:function(d){return d.replace(/\d/g,function(J){return A[J]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(d,J){return 12===d&&(d=0),"\u0a30\u0a3e\u0a24"===J?d<4?d:d+12:"\u0a38\u0a35\u0a47\u0a30"===J?d:"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30"===J?d>=10?d:d+12:"\u0a38\u0a3c\u0a3e\u0a2e"===J?d+12:void 0},meridiem:function(d,J,Q){return d<4?"\u0a30\u0a3e\u0a24":d<10?"\u0a38\u0a35\u0a47\u0a30":d<17?"\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30":d<20?"\u0a38\u0a3c\u0a3e\u0a2e":"\u0a30\u0a3e\u0a24"},week:{dow:0,doy:6}})}(ae(5439))},1605:function(ze,Ye,ae){!function(te){"use strict";var A="stycze\u0144_luty_marzec_kwiecie\u0144_maj_czerwiec_lipiec_sierpie\u0144_wrzesie\u0144_pa\u017adziernik_listopad_grudzie\u0144".split("_"),Y="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrze\u015bnia_pa\u017adziernika_listopada_grudnia".split("_"),a=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa\u017a/i,/^lis/i,/^gru/i];function d(oe){return oe%10<5&&oe%10>1&&~~(oe/10)%10!=1}function J(oe,ye,Oe){var ht=oe+" ";switch(Oe){case"ss":return ht+(d(oe)?"sekundy":"sekund");case"m":return ye?"minuta":"minut\u0119";case"mm":return ht+(d(oe)?"minuty":"minut");case"h":return ye?"godzina":"godzin\u0119";case"hh":return ht+(d(oe)?"godziny":"godzin");case"ww":return ht+(d(oe)?"tygodnie":"tygodni");case"MM":return ht+(d(oe)?"miesi\u0105ce":"miesi\u0119cy");case"yy":return ht+(d(oe)?"lata":"lat")}}te.defineLocale("pl",{months:function(oe,ye){return oe?/D MMMM/.test(ye)?Y[oe.month()]:A[oe.month()]:A},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa\u017a_lis_gru".split("_"),monthsParse:a,longMonthsParse:a,shortMonthsParse:a,weekdays:"niedziela_poniedzia\u0142ek_wtorek_\u015broda_czwartek_pi\u0105tek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_\u015br_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_\u015ar_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi\u015b o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel\u0119 o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W \u015brod\u0119 o] LT";case 6:return"[W sobot\u0119 o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz\u0142\u0105 niedziel\u0119 o] LT";case 3:return"[W zesz\u0142\u0105 \u015brod\u0119 o] LT";case 6:return"[W zesz\u0142\u0105 sobot\u0119 o] LT";default:return"[W zesz\u0142y] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:J,m:J,mm:J,h:J,hh:J,d:"1 dzie\u0144",dd:"%d dni",w:"tydzie\u0144",ww:J,M:"miesi\u0105c",MM:J,y:"rok",yy:J},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},3840:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("pt-br",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_ter\xe7a-feira_quarta-feira_quinta-feira_sexta-feira_s\xe1bado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_s\xe1b".split("_"),weekdaysMin:"do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [\xe0s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [\xe0s] HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",invalidDate:"Data inv\xe1lida"})}(ae(5439))},4225:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("pt",{months:"janeiro_fevereiro_mar\xe7o_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Ter\xe7a-feira_Quarta-feira_Quinta-feira_Sexta-feira_S\xe1bado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_S\xe1b".split("_"),weekdaysMin:"Do_2\xaa_3\xaa_4\xaa_5\xaa_6\xaa_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje \xe0s] LT",nextDay:"[Amanh\xe3 \xe0s] LT",nextWeek:"dddd [\xe0s] LT",lastDay:"[Ontem \xe0s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[\xdaltimo] dddd [\xe0s] LT":"[\xdaltima] dddd [\xe0s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h\xe1 %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um m\xeas",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(ae(5439))},5128:function(ze,Ye,ae){!function(te){"use strict";function A(a,d,J){var oe=" ";return(a%100>=20||a>=100&&a%100==0)&&(oe=" de "),a+oe+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"s\u0103pt\u0103m\xe2ni",MM:"luni",yy:"ani"}[J]}te.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic\u0103_luni_mar\u021bi_miercuri_joi_vineri_s\xe2mb\u0103t\u0103".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_S\xe2m".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S\xe2".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[m\xe2ine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s \xeen urm\u0103",s:"c\xe2teva secunde",ss:A,m:"un minut",mm:A,h:"o or\u0103",hh:A,d:"o zi",dd:A,w:"o s\u0103pt\u0103m\xe2n\u0103",ww:A,M:"o lun\u0103",MM:A,y:"un an",yy:A},week:{dow:1,doy:7}})}(ae(5439))},5127:function(ze,Ye,ae){!function(te){"use strict";function Y(J,Q,oe){return"m"===oe?Q?"\u043c\u0438\u043d\u0443\u0442\u0430":"\u043c\u0438\u043d\u0443\u0442\u0443":J+" "+function A(J,Q){var oe=J.split("_");return Q%10==1&&Q%100!=11?oe[0]:Q%10>=2&&Q%10<=4&&(Q%100<10||Q%100>=20)?oe[1]:oe[2]}({ss:Q?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u044b_\u0441\u0435\u043a\u0443\u043d\u0434",mm:Q?"\u043c\u0438\u043d\u0443\u0442\u0430_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442":"\u043c\u0438\u043d\u0443\u0442\u0443_\u043c\u0438\u043d\u0443\u0442\u044b_\u043c\u0438\u043d\u0443\u0442",hh:"\u0447\u0430\u0441_\u0447\u0430\u0441\u0430_\u0447\u0430\u0441\u043e\u0432",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u044f_\u0434\u043d\u0435\u0439",ww:"\u043d\u0435\u0434\u0435\u043b\u044f_\u043d\u0435\u0434\u0435\u043b\u0438_\u043d\u0435\u0434\u0435\u043b\u044c",MM:"\u043c\u0435\u0441\u044f\u0446_\u043c\u0435\u0441\u044f\u0446\u0430_\u043c\u0435\u0441\u044f\u0446\u0435\u0432",yy:"\u0433\u043e\u0434_\u0433\u043e\u0434\u0430_\u043b\u0435\u0442"}[oe],+J)}var a=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];te.defineLocale("ru",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u044f_\u0444\u0435\u0432\u0440\u0430\u043b\u044f_\u043c\u0430\u0440\u0442\u0430_\u0430\u043f\u0440\u0435\u043b\u044f_\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433\u0443\u0441\u0442\u0430_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044f_\u043e\u043a\u0442\u044f\u0431\u0440\u044f_\u043d\u043e\u044f\u0431\u0440\u044f_\u0434\u0435\u043a\u0430\u0431\u0440\u044f".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440\u044c_\u0444\u0435\u0432\u0440\u0430\u043b\u044c_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b\u044c_\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u044c_\u043e\u043a\u0442\u044f\u0431\u0440\u044c_\u043d\u043e\u044f\u0431\u0440\u044c_\u0434\u0435\u043a\u0430\u0431\u0440\u044c".split("_")},monthsShort:{format:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u044f_\u0438\u044e\u043d\u044f_\u0438\u044e\u043b\u044f_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_"),standalone:"\u044f\u043d\u0432._\u0444\u0435\u0432\u0440._\u043c\u0430\u0440\u0442_\u0430\u043f\u0440._\u043c\u0430\u0439_\u0438\u044e\u043d\u044c_\u0438\u044e\u043b\u044c_\u0430\u0432\u0433._\u0441\u0435\u043d\u0442._\u043e\u043a\u0442._\u043d\u043e\u044f\u0431._\u0434\u0435\u043a.".split("_")},weekdays:{standalone:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0430_\u0441\u0443\u0431\u0431\u043e\u0442\u0430".split("_"),format:"\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435_\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a_\u0432\u0442\u043e\u0440\u043d\u0438\u043a_\u0441\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440\u0433_\u043f\u044f\u0442\u043d\u0438\u0446\u0443_\u0441\u0443\u0431\u0431\u043e\u0442\u0443".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?] ?dddd/},weekdaysShort:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u0432\u0441_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),monthsParse:a,longMonthsParse:a,shortMonthsParse:a,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0433.",LLL:"D MMMM YYYY \u0433., H:mm",LLLL:"dddd, D MMMM YYYY \u0433., H:mm"},calendar:{sameDay:"[\u0421\u0435\u0433\u043e\u0434\u043d\u044f, \u0432] LT",nextDay:"[\u0417\u0430\u0432\u0442\u0440\u0430, \u0432] LT",lastDay:"[\u0412\u0447\u0435\u0440\u0430, \u0432] LT",nextWeek:function(J){if(J.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e] dddd, [\u0432] LT"}},lastWeek:function(J){if(J.week()===this.week())return 2===this.day()?"[\u0412\u043e] dddd, [\u0432] LT":"[\u0412] dddd, [\u0432] LT";switch(this.day()){case 0:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u043e\u0435] dddd, [\u0432] LT";case 1:case 2:case 4:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u044b\u0439] dddd, [\u0432] LT";case 3:case 5:case 6:return"[\u0412 \u043f\u0440\u043e\u0448\u043b\u0443\u044e] dddd, [\u0432] LT"}},sameElse:"L"},relativeTime:{future:"\u0447\u0435\u0440\u0435\u0437 %s",past:"%s \u043d\u0430\u0437\u0430\u0434",s:"\u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434",ss:Y,m:Y,mm:Y,h:"\u0447\u0430\u0441",hh:Y,d:"\u0434\u0435\u043d\u044c",dd:Y,w:"\u043d\u0435\u0434\u0435\u043b\u044f",ww:Y,M:"\u043c\u0435\u0441\u044f\u0446",MM:Y,y:"\u0433\u043e\u0434",yy:Y},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(J){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(J)},meridiem:function(J,Q,oe){return J<4?"\u043d\u043e\u0447\u0438":J<12?"\u0443\u0442\u0440\u0430":J<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u0435\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(J,Q){switch(Q){case"M":case"d":case"DDD":return J+"-\u0439";case"D":return J+"-\u0433\u043e";case"w":case"W":return J+"-\u044f";default:return J}},week:{dow:1,doy:4}})}(ae(5439))},2525:function(ze,Ye,ae){!function(te){"use strict";var A=["\u062c\u0646\u0648\u0631\u064a","\u0641\u064a\u0628\u0631\u0648\u0631\u064a","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u064a\u0644","\u0645\u0626\u064a","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0621\u0650","\u0622\u06af\u0633\u067d","\u0633\u064a\u067e\u067d\u0645\u0628\u0631","\u0622\u06aa\u067d\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u068a\u0633\u0645\u0628\u0631"],Y=["\u0622\u0686\u0631","\u0633\u0648\u0645\u0631","\u0627\u06b1\u0627\u0631\u0648","\u0627\u0631\u0628\u0639","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639","\u0687\u0646\u0687\u0631"];te.defineLocale("sd",{months:A,monthsShort:A,weekdays:Y,weekdaysShort:Y,weekdaysMin:Y,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(d){return"\u0634\u0627\u0645"===d},meridiem:function(d,J,Q){return d<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0627\u0684] LT",nextDay:"[\u0633\u0680\u0627\u06bb\u064a] LT",nextWeek:"dddd [\u0627\u06b3\u064a\u0646 \u0647\u0641\u062a\u064a \u062a\u064a] LT",lastDay:"[\u06aa\u0627\u0644\u0647\u0647] LT",lastWeek:"[\u06af\u0632\u0631\u064a\u0644 \u0647\u0641\u062a\u064a] dddd [\u062a\u064a] LT",sameElse:"L"},relativeTime:{future:"%s \u067e\u0648\u0621",past:"%s \u0627\u06b3",s:"\u0686\u0646\u062f \u0633\u064a\u06aa\u0646\u068a",ss:"%d \u0633\u064a\u06aa\u0646\u068a",m:"\u0647\u06aa \u0645\u0646\u067d",mm:"%d \u0645\u0646\u067d",h:"\u0647\u06aa \u06aa\u0644\u0627\u06aa",hh:"%d \u06aa\u0644\u0627\u06aa",d:"\u0647\u06aa \u068f\u064a\u0646\u0647\u0646",dd:"%d \u068f\u064a\u0646\u0647\u0646",M:"\u0647\u06aa \u0645\u0647\u064a\u0646\u0648",MM:"%d \u0645\u0647\u064a\u0646\u0627",y:"\u0647\u06aa \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(d){return d.replace(/\u060c/g,",")},postformat:function(d){return d.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(ae(5439))},9893:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("se",{months:"o\u0111\u0111ajagem\xe1nnu_guovvam\xe1nnu_njuk\u010dam\xe1nnu_cuo\u014bom\xe1nnu_miessem\xe1nnu_geassem\xe1nnu_suoidnem\xe1nnu_borgem\xe1nnu_\u010dak\u010dam\xe1nnu_golggotm\xe1nnu_sk\xe1bmam\xe1nnu_juovlam\xe1nnu".split("_"),monthsShort:"o\u0111\u0111j_guov_njuk_cuo_mies_geas_suoi_borg_\u010dak\u010d_golg_sk\xe1b_juov".split("_"),weekdays:"sotnabeaivi_vuoss\xe1rga_ma\u014b\u014beb\xe1rga_gaskavahkku_duorastat_bearjadat_l\xe1vvardat".split("_"),weekdaysShort:"sotn_vuos_ma\u014b_gask_duor_bear_l\xe1v".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s gea\u017ees",past:"ma\u014bit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta m\xe1nnu",MM:"%d m\xe1nut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},3123:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("si",{months:"\u0da2\u0db1\u0dc0\u0dcf\u0dbb\u0dd2_\u0db4\u0dd9\u0db6\u0dbb\u0dc0\u0dcf\u0dbb\u0dd2_\u0db8\u0dcf\u0dbb\u0dca\u0dad\u0dd4_\u0d85\u0db4\u0dca\u200d\u0dbb\u0dda\u0dbd\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd\u0dc3\u0dca\u0dad\u0dd4_\u0dc3\u0dd0\u0db4\u0dca\u0dad\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0d94\u0d9a\u0dca\u0dad\u0ddd\u0db6\u0dbb\u0dca_\u0db1\u0ddc\u0dc0\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca_\u0daf\u0dd9\u0dc3\u0dd0\u0db8\u0dca\u0db6\u0dbb\u0dca".split("_"),monthsShort:"\u0da2\u0db1_\u0db4\u0dd9\u0db6_\u0db8\u0dcf\u0dbb\u0dca_\u0d85\u0db4\u0dca_\u0db8\u0dd0\u0dba\u0dd2_\u0da2\u0dd6\u0db1\u0dd2_\u0da2\u0dd6\u0dbd\u0dd2_\u0d85\u0d9c\u0ddd_\u0dc3\u0dd0\u0db4\u0dca_\u0d94\u0d9a\u0dca_\u0db1\u0ddc\u0dc0\u0dd0_\u0daf\u0dd9\u0dc3\u0dd0".split("_"),weekdays:"\u0d89\u0dbb\u0dd2\u0daf\u0dcf_\u0dc3\u0db3\u0dd4\u0daf\u0dcf_\u0d85\u0d9f\u0dc4\u0dbb\u0dd4\u0dc0\u0dcf\u0daf\u0dcf_\u0db6\u0daf\u0dcf\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4\u0dc3\u0dca\u0db4\u0dad\u0dd2\u0db1\u0dca\u0daf\u0dcf_\u0dc3\u0dd2\u0d9a\u0dd4\u0dbb\u0dcf\u0daf\u0dcf_\u0dc3\u0dd9\u0db1\u0dc3\u0dd4\u0dbb\u0dcf\u0daf\u0dcf".split("_"),weekdaysShort:"\u0d89\u0dbb\u0dd2_\u0dc3\u0db3\u0dd4_\u0d85\u0d9f_\u0db6\u0daf\u0dcf_\u0db6\u0dca\u200d\u0dbb\u0dc4_\u0dc3\u0dd2\u0d9a\u0dd4_\u0dc3\u0dd9\u0db1".split("_"),weekdaysMin:"\u0d89_\u0dc3_\u0d85_\u0db6_\u0db6\u0dca\u200d\u0dbb_\u0dc3\u0dd2_\u0dc3\u0dd9".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [\u0dc0\u0dd0\u0db1\u0dd2] dddd, a h:mm:ss"},calendar:{sameDay:"[\u0d85\u0daf] LT[\u0da7]",nextDay:"[\u0dc4\u0dd9\u0da7] LT[\u0da7]",nextWeek:"dddd LT[\u0da7]",lastDay:"[\u0d8a\u0dba\u0dda] LT[\u0da7]",lastWeek:"[\u0db4\u0dc3\u0dd4\u0d9c\u0dd2\u0dba] dddd LT[\u0da7]",sameElse:"L"},relativeTime:{future:"%s\u0d9a\u0dd2\u0db1\u0dca",past:"%s\u0d9a\u0da7 \u0db4\u0dd9\u0dbb",s:"\u0dad\u0dad\u0dca\u0db4\u0dbb \u0d9a\u0dd2\u0dc4\u0dd2\u0db4\u0dba",ss:"\u0dad\u0dad\u0dca\u0db4\u0dbb %d",m:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4\u0dc0",mm:"\u0db8\u0dd2\u0db1\u0dd2\u0dad\u0dca\u0dad\u0dd4 %d",h:"\u0db4\u0dd0\u0dba",hh:"\u0db4\u0dd0\u0dba %d",d:"\u0daf\u0dd2\u0db1\u0dba",dd:"\u0daf\u0dd2\u0db1 %d",M:"\u0db8\u0dcf\u0dc3\u0dba",MM:"\u0db8\u0dcf\u0dc3 %d",y:"\u0dc0\u0dc3\u0dbb",yy:"\u0dc0\u0dc3\u0dbb %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(Y){return Y+" \u0dc0\u0dd0\u0db1\u0dd2"},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(Y){return"\u0db4.\u0dc0."===Y||"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4"===Y},meridiem:function(Y,a,d){return Y>11?d?"\u0db4.\u0dc0.":"\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4":d?"\u0db4\u0dd9.\u0dc0.":"\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4"}})}(ae(5439))},9635:function(ze,Ye,ae){!function(te){"use strict";var A="janu\xe1r_febru\xe1r_marec_apr\xedl_m\xe1j_j\xfan_j\xfal_august_september_okt\xf3ber_november_december".split("_"),Y="jan_feb_mar_apr_m\xe1j_j\xfan_j\xfal_aug_sep_okt_nov_dec".split("_");function a(Q){return Q>1&&Q<5}function d(Q,oe,ye,Oe){var ht=Q+" ";switch(ye){case"s":return oe||Oe?"p\xe1r sek\xfand":"p\xe1r sekundami";case"ss":return oe||Oe?ht+(a(Q)?"sekundy":"sek\xfand"):ht+"sekundami";case"m":return oe?"min\xfata":Oe?"min\xfatu":"min\xfatou";case"mm":return oe||Oe?ht+(a(Q)?"min\xfaty":"min\xfat"):ht+"min\xfatami";case"h":return oe?"hodina":Oe?"hodinu":"hodinou";case"hh":return oe||Oe?ht+(a(Q)?"hodiny":"hod\xedn"):ht+"hodinami";case"d":return oe||Oe?"de\u0148":"d\u0148om";case"dd":return oe||Oe?ht+(a(Q)?"dni":"dn\xed"):ht+"d\u0148ami";case"M":return oe||Oe?"mesiac":"mesiacom";case"MM":return oe||Oe?ht+(a(Q)?"mesiace":"mesiacov"):ht+"mesiacmi";case"y":return oe||Oe?"rok":"rokom";case"yy":return oe||Oe?ht+(a(Q)?"roky":"rokov"):ht+"rokmi"}}te.defineLocale("sk",{months:A,monthsShort:Y,weekdays:"nede\u013ea_pondelok_utorok_streda_\u0161tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_\u0161t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_\u0161t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nede\u013eu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo \u0161tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[v\u010dera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul\xfa nede\u013eu o] LT";case 1:case 2:case 4:case 5:return"[minul\xfd] dddd [o] LT";case 3:return"[minul\xfa stredu o] LT";case 6:return"[minul\xfa sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:d,ss:d,m:d,mm:d,h:d,hh:d,d,dd:d,M:d,MM:d,y:d,yy:d},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},8106:function(ze,Ye,ae){!function(te){"use strict";function A(a,d,J,Q){var oe=a+" ";switch(J){case"s":return d||Q?"nekaj sekund":"nekaj sekundami";case"ss":return oe+(1===a?d?"sekundo":"sekundi":2===a?d||Q?"sekundi":"sekundah":a<5?d||Q?"sekunde":"sekundah":"sekund");case"m":return d?"ena minuta":"eno minuto";case"mm":return oe+(1===a?d?"minuta":"minuto":2===a?d||Q?"minuti":"minutama":a<5?d||Q?"minute":"minutami":d||Q?"minut":"minutami");case"h":return d?"ena ura":"eno uro";case"hh":return oe+(1===a?d?"ura":"uro":2===a?d||Q?"uri":"urama":a<5?d||Q?"ure":"urami":d||Q?"ur":"urami");case"d":return d||Q?"en dan":"enim dnem";case"dd":return oe+(1===a?d||Q?"dan":"dnem":2===a?d||Q?"dni":"dnevoma":d||Q?"dni":"dnevi");case"M":return d||Q?"en mesec":"enim mesecem";case"MM":return oe+(1===a?d||Q?"mesec":"mesecem":2===a?d||Q?"meseca":"mesecema":a<5?d||Q?"mesece":"meseci":d||Q?"mesecev":"meseci");case"y":return d||Q?"eno leto":"enim letom";case"yy":return oe+(1===a?d||Q?"leto":"letom":2===a?d||Q?"leti":"letoma":a<5?d||Q?"leta":"leti":d||Q?"let":"leti")}}te.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_\u010detrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._\u010det._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_\u010de_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[v\u010deraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prej\u0161njo] [nedeljo] [ob] LT";case 3:return"[prej\u0161njo] [sredo] [ob] LT";case 6:return"[prej\u0161njo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prej\u0161nji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"\u010dez %s",past:"pred %s",s:A,ss:A,m:A,mm:A,h:A,hh:A,d:A,dd:A,M:A,MM:A,y:A,yy:A},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(ae(5439))},8799:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_N\xebntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_N\xebn_Dhj".split("_"),weekdays:"E Diel_E H\xebn\xeb_E Mart\xeb_E M\xebrkur\xeb_E Enjte_E Premte_E Shtun\xeb".split("_"),weekdaysShort:"Die_H\xebn_Mar_M\xebr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M\xeb_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(Y){return"M"===Y.charAt(0)},meridiem:function(Y,a,d){return Y<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n\xeb] LT",nextDay:"[Nes\xebr n\xeb] LT",nextWeek:"dddd [n\xeb] LT",lastDay:"[Dje n\xeb] LT",lastWeek:"dddd [e kaluar n\xeb] LT",sameElse:"L"},relativeTime:{future:"n\xeb %s",past:"%s m\xeb par\xeb",s:"disa sekonda",ss:"%d sekonda",m:"nj\xeb minut\xeb",mm:"%d minuta",h:"nj\xeb or\xeb",hh:"%d or\xeb",d:"nj\xeb dit\xeb",dd:"%d dit\xeb",M:"nj\xeb muaj",MM:"%d muaj",y:"nj\xeb vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},2872:function(ze,Ye,ae){!function(te){"use strict";var A={words:{ss:["\u0441\u0435\u043a\u0443\u043d\u0434\u0430","\u0441\u0435\u043a\u0443\u043d\u0434\u0435","\u0441\u0435\u043a\u0443\u043d\u0434\u0438"],m:["\u0458\u0435\u0434\u0430\u043d \u043c\u0438\u043d\u0443\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0438\u043d\u0443\u0442\u0430"],mm:["\u043c\u0438\u043d\u0443\u0442","\u043c\u0438\u043d\u0443\u0442\u0430","\u043c\u0438\u043d\u0443\u0442\u0430"],h:["\u0458\u0435\u0434\u0430\u043d \u0441\u0430\u0442","\u0458\u0435\u0434\u043d\u043e\u0433 \u0441\u0430\u0442\u0430"],hh:["\u0441\u0430\u0442","\u0441\u0430\u0442\u0430","\u0441\u0430\u0442\u0438"],d:["\u0458\u0435\u0434\u0430\u043d \u0434\u0430\u043d","\u0458\u0435\u0434\u043d\u043e\u0433 \u0434\u0430\u043d\u0430"],dd:["\u0434\u0430\u043d","\u0434\u0430\u043d\u0430","\u0434\u0430\u043d\u0430"],M:["\u0458\u0435\u0434\u0430\u043d \u043c\u0435\u0441\u0435\u0446","\u0458\u0435\u0434\u043d\u043e\u0433 \u043c\u0435\u0441\u0435\u0446\u0430"],MM:["\u043c\u0435\u0441\u0435\u0446","\u043c\u0435\u0441\u0435\u0446\u0430","\u043c\u0435\u0441\u0435\u0446\u0438"],y:["\u0458\u0435\u0434\u043d\u0443 \u0433\u043e\u0434\u0438\u043d\u0443","\u0458\u0435\u0434\u043d\u0435 \u0433\u043e\u0434\u0438\u043d\u0435"],yy:["\u0433\u043e\u0434\u0438\u043d\u0443","\u0433\u043e\u0434\u0438\u043d\u0435","\u0433\u043e\u0434\u0438\u043d\u0430"]},correctGrammaticalCase:function(a,d){return a%10>=1&&a%10<=4&&(a%100<10||a%100>=20)?a%10==1?d[0]:d[1]:d[2]},translate:function(a,d,J,Q){var ye,oe=A.words[J];return 1===J.length?"y"===J&&d?"\u0458\u0435\u0434\u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430":Q||d?oe[0]:oe[1]:(ye=A.correctGrammaticalCase(a,oe),"yy"===J&&d&&"\u0433\u043e\u0434\u0438\u043d\u0443"===ye?a+" \u0433\u043e\u0434\u0438\u043d\u0430":a+" "+ye)}};te.defineLocale("sr-cyrl",{months:"\u0458\u0430\u043d\u0443\u0430\u0440_\u0444\u0435\u0431\u0440\u0443\u0430\u0440_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0438\u043b_\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043f\u0442\u0435\u043c\u0431\u0430\u0440_\u043e\u043a\u0442\u043e\u0431\u0430\u0440_\u043d\u043e\u0432\u0435\u043c\u0431\u0430\u0440_\u0434\u0435\u0446\u0435\u043c\u0431\u0430\u0440".split("_"),monthsShort:"\u0458\u0430\u043d._\u0444\u0435\u0431._\u043c\u0430\u0440._\u0430\u043f\u0440._\u043c\u0430\u0458_\u0458\u0443\u043d_\u0458\u0443\u043b_\u0430\u0432\u0433._\u0441\u0435\u043f._\u043e\u043a\u0442._\u043d\u043e\u0432._\u0434\u0435\u0446.".split("_"),monthsParseExact:!0,weekdays:"\u043d\u0435\u0434\u0435\u0459\u0430_\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u0430\u043a_\u0443\u0442\u043e\u0440\u0430\u043a_\u0441\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0440\u0442\u0430\u043a_\u043f\u0435\u0442\u0430\u043a_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),weekdaysShort:"\u043d\u0435\u0434._\u043f\u043e\u043d._\u0443\u0442\u043e._\u0441\u0440\u0435._\u0447\u0435\u0442._\u043f\u0435\u0442._\u0441\u0443\u0431.".split("_"),weekdaysMin:"\u043d\u0435_\u043f\u043e_\u0443\u0442_\u0441\u0440_\u0447\u0435_\u043f\u0435_\u0441\u0443".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[\u0434\u0430\u043d\u0430\u0441 \u0443] LT",nextDay:"[\u0441\u0443\u0442\u0440\u0430 \u0443] LT",nextWeek:function(){switch(this.day()){case 0:return"[\u0443] [\u043d\u0435\u0434\u0435\u0459\u0443] [\u0443] LT";case 3:return"[\u0443] [\u0441\u0440\u0435\u0434\u0443] [\u0443] LT";case 6:return"[\u0443] [\u0441\u0443\u0431\u043e\u0442\u0443] [\u0443] LT";case 1:case 2:case 4:case 5:return"[\u0443] dddd [\u0443] LT"}},lastDay:"[\u0458\u0443\u0447\u0435 \u0443] LT",lastWeek:function(){return["[\u043f\u0440\u043e\u0448\u043b\u0435] [\u043d\u0435\u0434\u0435\u0459\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u043e\u043d\u0435\u0434\u0435\u0459\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0443\u0442\u043e\u0440\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0440\u0435\u0434\u0435] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u0447\u0435\u0442\u0432\u0440\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u043e\u0433] [\u043f\u0435\u0442\u043a\u0430] [\u0443] LT","[\u043f\u0440\u043e\u0448\u043b\u0435] [\u0441\u0443\u0431\u043e\u0442\u0435] [\u0443] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"\u043f\u0440\u0435 %s",s:"\u043d\u0435\u043a\u043e\u043b\u0438\u043a\u043e \u0441\u0435\u043a\u0443\u043d\u0434\u0438",ss:A.translate,m:A.translate,mm:A.translate,h:A.translate,hh:A.translate,d:A.translate,dd:A.translate,M:A.translate,MM:A.translate,y:A.translate,yy:A.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(ae(5439))},7949:function(ze,Ye,ae){!function(te){"use strict";var A={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(a,d){return a%10>=1&&a%10<=4&&(a%100<10||a%100>=20)?a%10==1?d[0]:d[1]:d[2]},translate:function(a,d,J,Q){var ye,oe=A.words[J];return 1===J.length?"y"===J&&d?"jedna godina":Q||d?oe[0]:oe[1]:(ye=A.correctGrammaticalCase(a,oe),"yy"===J&&d&&"godinu"===ye?a+" godina":a+" "+ye)}};te.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_\u010detvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._\u010det._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_\u010de_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[ju\u010de u] LT",lastWeek:function(){return["[pro\u0161le] [nedelje] [u] LT","[pro\u0161log] [ponedeljka] [u] LT","[pro\u0161log] [utorka] [u] LT","[pro\u0161le] [srede] [u] LT","[pro\u0161log] [\u010detvrtka] [u] LT","[pro\u0161log] [petka] [u] LT","[pro\u0161le] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:A.translate,m:A.translate,mm:A.translate,h:A.translate,hh:A.translate,d:A.translate,dd:A.translate,M:A.translate,MM:A.translate,y:A.translate,yy:A.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(ae(5439))},6167:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(Y,a,d){return Y<11?"ekuseni":Y<15?"emini":Y<19?"entsambama":"ebusuku"},meridiemHour:function(Y,a){return 12===Y&&(Y=0),"ekuseni"===a?Y:"emini"===a?Y>=11?Y:Y+12:"entsambama"===a||"ebusuku"===a?0===Y?0:Y+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(ae(5439))},9713:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"s\xf6ndag_m\xe5ndag_tisdag_onsdag_torsdag_fredag_l\xf6rdag".split("_"),weekdaysShort:"s\xf6n_m\xe5n_tis_ons_tor_fre_l\xf6r".split("_"),weekdaysMin:"s\xf6_m\xe5_ti_on_to_fr_l\xf6".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Ig\xe5r] LT",nextWeek:"[P\xe5] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"f\xf6r %s sedan",s:"n\xe5gra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en m\xe5nad",MM:"%d m\xe5nader",y:"ett \xe5r",yy:"%d \xe5r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(Y){var a=Y%10;return Y+(1==~~(Y%100/10)?":e":1===a||2===a?":a":":e")},week:{dow:1,doy:4}})}(ae(5439))},1982:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(ae(5439))},2732:function(ze,Ye,ae){!function(te){"use strict";var A={1:"\u0be7",2:"\u0be8",3:"\u0be9",4:"\u0bea",5:"\u0beb",6:"\u0bec",7:"\u0bed",8:"\u0bee",9:"\u0bef",0:"\u0be6"},Y={"\u0be7":"1","\u0be8":"2","\u0be9":"3","\u0bea":"4","\u0beb":"5","\u0bec":"6","\u0bed":"7","\u0bee":"8","\u0bef":"9","\u0be6":"0"};te.defineLocale("ta",{months:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),monthsShort:"\u0b9c\u0ba9\u0bb5\u0bb0\u0bbf_\u0baa\u0bbf\u0baa\u0bcd\u0bb0\u0bb5\u0bb0\u0bbf_\u0bae\u0bbe\u0bb0\u0bcd\u0b9a\u0bcd_\u0b8f\u0baa\u0bcd\u0bb0\u0bb2\u0bcd_\u0bae\u0bc7_\u0b9c\u0bc2\u0ba9\u0bcd_\u0b9c\u0bc2\u0bb2\u0bc8_\u0b86\u0b95\u0bb8\u0bcd\u0b9f\u0bcd_\u0b9a\u0bc6\u0baa\u0bcd\u0b9f\u0bc6\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b85\u0b95\u0bcd\u0b9f\u0bc7\u0bbe\u0baa\u0bb0\u0bcd_\u0ba8\u0bb5\u0bae\u0bcd\u0baa\u0bb0\u0bcd_\u0b9f\u0bbf\u0b9a\u0bae\u0bcd\u0baa\u0bb0\u0bcd".split("_"),weekdays:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bcd\u0bb1\u0bc1\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0b9f\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8_\u0b9a\u0ba9\u0bbf\u0b95\u0bcd\u0b95\u0bbf\u0bb4\u0bae\u0bc8".split("_"),weekdaysShort:"\u0b9e\u0bbe\u0baf\u0bbf\u0bb1\u0bc1_\u0ba4\u0bbf\u0b99\u0bcd\u0b95\u0bb3\u0bcd_\u0b9a\u0bc6\u0bb5\u0bcd\u0bb5\u0bbe\u0baf\u0bcd_\u0baa\u0bc1\u0ba4\u0ba9\u0bcd_\u0bb5\u0bbf\u0baf\u0bbe\u0bb4\u0ba9\u0bcd_\u0bb5\u0bc6\u0bb3\u0bcd\u0bb3\u0bbf_\u0b9a\u0ba9\u0bbf".split("_"),weekdaysMin:"\u0b9e\u0bbe_\u0ba4\u0bbf_\u0b9a\u0bc6_\u0baa\u0bc1_\u0bb5\u0bbf_\u0bb5\u0bc6_\u0b9a".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[\u0b87\u0ba9\u0bcd\u0bb1\u0bc1] LT",nextDay:"[\u0ba8\u0bbe\u0bb3\u0bc8] LT",nextWeek:"dddd, LT",lastDay:"[\u0ba8\u0bc7\u0bb1\u0bcd\u0bb1\u0bc1] LT",lastWeek:"[\u0b95\u0b9f\u0ba8\u0bcd\u0ba4 \u0bb5\u0bbe\u0bb0\u0bae\u0bcd] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0b87\u0bb2\u0bcd",past:"%s \u0bae\u0bc1\u0ba9\u0bcd",s:"\u0b92\u0bb0\u0bc1 \u0b9a\u0bbf\u0bb2 \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",ss:"%d \u0bb5\u0bbf\u0ba8\u0bbe\u0b9f\u0bbf\u0b95\u0bb3\u0bcd",m:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0bae\u0bcd",mm:"%d \u0ba8\u0bbf\u0bae\u0bbf\u0b9f\u0b99\u0bcd\u0b95\u0bb3\u0bcd",h:"\u0b92\u0bb0\u0bc1 \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",hh:"%d \u0bae\u0ba3\u0bbf \u0ba8\u0bc7\u0bb0\u0bae\u0bcd",d:"\u0b92\u0bb0\u0bc1 \u0ba8\u0bbe\u0bb3\u0bcd",dd:"%d \u0ba8\u0bbe\u0b9f\u0bcd\u0b95\u0bb3\u0bcd",M:"\u0b92\u0bb0\u0bc1 \u0bae\u0bbe\u0ba4\u0bae\u0bcd",MM:"%d \u0bae\u0bbe\u0ba4\u0b99\u0bcd\u0b95\u0bb3\u0bcd",y:"\u0b92\u0bb0\u0bc1 \u0bb5\u0bb0\u0bc1\u0b9f\u0bae\u0bcd",yy:"%d \u0b86\u0ba3\u0bcd\u0b9f\u0bc1\u0b95\u0bb3\u0bcd"},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(d){return d+"\u0bb5\u0ba4\u0bc1"},preparse:function(d){return d.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(J){return Y[J]})},postformat:function(d){return d.replace(/\d/g,function(J){return A[J]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(d,J,Q){return d<2?" \u0baf\u0bbe\u0bae\u0bae\u0bcd":d<6?" \u0bb5\u0bc8\u0b95\u0bb1\u0bc8":d<10?" \u0b95\u0bbe\u0bb2\u0bc8":d<14?" \u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd":d<18?" \u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1":d<22?" \u0bae\u0bbe\u0bb2\u0bc8":" \u0baf\u0bbe\u0bae\u0bae\u0bcd"},meridiemHour:function(d,J){return 12===d&&(d=0),"\u0baf\u0bbe\u0bae\u0bae\u0bcd"===J?d<2?d:d+12:"\u0bb5\u0bc8\u0b95\u0bb1\u0bc8"===J||"\u0b95\u0bbe\u0bb2\u0bc8"===J||"\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd"===J&&d>=10?d:d+12},week:{dow:0,doy:6}})}(ae(5439))},3636:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("te",{months:"\u0c1c\u0c28\u0c35\u0c30\u0c3f_\u0c2b\u0c3f\u0c2c\u0c4d\u0c30\u0c35\u0c30\u0c3f_\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f\u0c32\u0c4d_\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17\u0c38\u0c4d\u0c1f\u0c41_\u0c38\u0c46\u0c2a\u0c4d\u0c1f\u0c46\u0c02\u0c2c\u0c30\u0c4d_\u0c05\u0c15\u0c4d\u0c1f\u0c4b\u0c2c\u0c30\u0c4d_\u0c28\u0c35\u0c02\u0c2c\u0c30\u0c4d_\u0c21\u0c3f\u0c38\u0c46\u0c02\u0c2c\u0c30\u0c4d".split("_"),monthsShort:"\u0c1c\u0c28._\u0c2b\u0c3f\u0c2c\u0c4d\u0c30._\u0c2e\u0c3e\u0c30\u0c4d\u0c1a\u0c3f_\u0c0f\u0c2a\u0c4d\u0c30\u0c3f._\u0c2e\u0c47_\u0c1c\u0c42\u0c28\u0c4d_\u0c1c\u0c41\u0c32\u0c48_\u0c06\u0c17._\u0c38\u0c46\u0c2a\u0c4d._\u0c05\u0c15\u0c4d\u0c1f\u0c4b._\u0c28\u0c35._\u0c21\u0c3f\u0c38\u0c46.".split("_"),monthsParseExact:!0,weekdays:"\u0c06\u0c26\u0c3f\u0c35\u0c3e\u0c30\u0c02_\u0c38\u0c4b\u0c2e\u0c35\u0c3e\u0c30\u0c02_\u0c2e\u0c02\u0c17\u0c33\u0c35\u0c3e\u0c30\u0c02_\u0c2c\u0c41\u0c27\u0c35\u0c3e\u0c30\u0c02_\u0c17\u0c41\u0c30\u0c41\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c41\u0c15\u0c4d\u0c30\u0c35\u0c3e\u0c30\u0c02_\u0c36\u0c28\u0c3f\u0c35\u0c3e\u0c30\u0c02".split("_"),weekdaysShort:"\u0c06\u0c26\u0c3f_\u0c38\u0c4b\u0c2e_\u0c2e\u0c02\u0c17\u0c33_\u0c2c\u0c41\u0c27_\u0c17\u0c41\u0c30\u0c41_\u0c36\u0c41\u0c15\u0c4d\u0c30_\u0c36\u0c28\u0c3f".split("_"),weekdaysMin:"\u0c06_\u0c38\u0c4b_\u0c2e\u0c02_\u0c2c\u0c41_\u0c17\u0c41_\u0c36\u0c41_\u0c36".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[\u0c28\u0c47\u0c21\u0c41] LT",nextDay:"[\u0c30\u0c47\u0c2a\u0c41] LT",nextWeek:"dddd, LT",lastDay:"[\u0c28\u0c3f\u0c28\u0c4d\u0c28] LT",lastWeek:"[\u0c17\u0c24] dddd, LT",sameElse:"L"},relativeTime:{future:"%s \u0c32\u0c4b",past:"%s \u0c15\u0c4d\u0c30\u0c3f\u0c24\u0c02",s:"\u0c15\u0c4a\u0c28\u0c4d\u0c28\u0c3f \u0c15\u0c4d\u0c37\u0c23\u0c3e\u0c32\u0c41",ss:"%d \u0c38\u0c46\u0c15\u0c28\u0c4d\u0c32\u0c41",m:"\u0c12\u0c15 \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c02",mm:"%d \u0c28\u0c3f\u0c2e\u0c3f\u0c37\u0c3e\u0c32\u0c41",h:"\u0c12\u0c15 \u0c17\u0c02\u0c1f",hh:"%d \u0c17\u0c02\u0c1f\u0c32\u0c41",d:"\u0c12\u0c15 \u0c30\u0c4b\u0c1c\u0c41",dd:"%d \u0c30\u0c4b\u0c1c\u0c41\u0c32\u0c41",M:"\u0c12\u0c15 \u0c28\u0c46\u0c32",MM:"%d \u0c28\u0c46\u0c32\u0c32\u0c41",y:"\u0c12\u0c15 \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c02",yy:"%d \u0c38\u0c02\u0c35\u0c24\u0c4d\u0c38\u0c30\u0c3e\u0c32\u0c41"},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d\u0c35",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(Y,a){return 12===Y&&(Y=0),"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"===a?Y<4?Y:Y+12:"\u0c09\u0c26\u0c2f\u0c02"===a?Y:"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02"===a?Y>=10?Y:Y+12:"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02"===a?Y+12:void 0},meridiem:function(Y,a,d){return Y<4?"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f":Y<10?"\u0c09\u0c26\u0c2f\u0c02":Y<17?"\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02":Y<20?"\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02":"\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f"},week:{dow:0,doy:6}})}(ae(5439))},2115:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Ju\xf1u_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(Y){var a=Y%10;return Y+(1==~~(Y%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")},week:{dow:1,doy:4}})}(ae(5439))},9801:function(ze,Ye,ae){!function(te){"use strict";var A={0:"-\u0443\u043c",1:"-\u0443\u043c",2:"-\u044e\u043c",3:"-\u044e\u043c",4:"-\u0443\u043c",5:"-\u0443\u043c",6:"-\u0443\u043c",7:"-\u0443\u043c",8:"-\u0443\u043c",9:"-\u0443\u043c",10:"-\u0443\u043c",12:"-\u0443\u043c",13:"-\u0443\u043c",20:"-\u0443\u043c",30:"-\u044e\u043c",40:"-\u0443\u043c",50:"-\u0443\u043c",60:"-\u0443\u043c",70:"-\u0443\u043c",80:"-\u0443\u043c",90:"-\u0443\u043c",100:"-\u0443\u043c"};te.defineLocale("tg",{months:{format:"\u044f\u043d\u0432\u0430\u0440\u0438_\u0444\u0435\u0432\u0440\u0430\u043b\u0438_\u043c\u0430\u0440\u0442\u0438_\u0430\u043f\u0440\u0435\u043b\u0438_\u043c\u0430\u0439\u0438_\u0438\u044e\u043d\u0438_\u0438\u044e\u043b\u0438_\u0430\u0432\u0433\u0443\u0441\u0442\u0438_\u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0438_\u043e\u043a\u0442\u044f\u0431\u0440\u0438_\u043d\u043e\u044f\u0431\u0440\u0438_\u0434\u0435\u043a\u0430\u0431\u0440\u0438".split("_"),standalone:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_")},monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u044f\u043a\u0448\u0430\u043d\u0431\u0435_\u0434\u0443\u0448\u0430\u043d\u0431\u0435_\u0441\u0435\u0448\u0430\u043d\u0431\u0435_\u0447\u043e\u0440\u0448\u0430\u043d\u0431\u0435_\u043f\u0430\u043d\u04b7\u0448\u0430\u043d\u0431\u0435_\u04b7\u0443\u043c\u044a\u0430_\u0448\u0430\u043d\u0431\u0435".split("_"),weekdaysShort:"\u044f\u0448\u0431_\u0434\u0448\u0431_\u0441\u0448\u0431_\u0447\u0448\u0431_\u043f\u0448\u0431_\u04b7\u0443\u043c_\u0448\u043d\u0431".split("_"),weekdaysMin:"\u044f\u0448_\u0434\u0448_\u0441\u0448_\u0447\u0448_\u043f\u0448_\u04b7\u043c_\u0448\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u0418\u043c\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextDay:"[\u0424\u0430\u0440\u0434\u043e \u0441\u043e\u0430\u0442\u0438] LT",lastDay:"[\u0414\u0438\u0440\u04ef\u0437 \u0441\u043e\u0430\u0442\u0438] LT",nextWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u043e\u044f\u043d\u0434\u0430 \u0441\u043e\u0430\u0442\u0438] LT",lastWeek:"dddd[\u0438] [\u04b3\u0430\u0444\u0442\u0430\u0438 \u0433\u0443\u0437\u0430\u0448\u0442\u0430 \u0441\u043e\u0430\u0442\u0438] LT",sameElse:"L"},relativeTime:{future:"\u0431\u0430\u044a\u0434\u0438 %s",past:"%s \u043f\u0435\u0448",s:"\u044f\u043a\u0447\u0430\u043d\u0434 \u0441\u043e\u043d\u0438\u044f",m:"\u044f\u043a \u0434\u0430\u049b\u0438\u049b\u0430",mm:"%d \u0434\u0430\u049b\u0438\u049b\u0430",h:"\u044f\u043a \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u044f\u043a \u0440\u04ef\u0437",dd:"%d \u0440\u04ef\u0437",M:"\u044f\u043a \u043c\u043e\u04b3",MM:"%d \u043c\u043e\u04b3",y:"\u044f\u043a \u0441\u043e\u043b",yy:"%d \u0441\u043e\u043b"},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(a,d){return 12===a&&(a=0),"\u0448\u0430\u0431"===d?a<4?a:a+12:"\u0441\u0443\u0431\u04b3"===d?a:"\u0440\u04ef\u0437"===d?a>=11?a:a+12:"\u0431\u0435\u0433\u043e\u04b3"===d?a+12:void 0},meridiem:function(a,d,J){return a<4?"\u0448\u0430\u0431":a<11?"\u0441\u0443\u0431\u04b3":a<16?"\u0440\u04ef\u0437":a<19?"\u0431\u0435\u0433\u043e\u04b3":"\u0448\u0430\u0431"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(a){return a+(A[a]||A[a%10]||A[a>=100?100:null])},week:{dow:1,doy:7}})}(ae(5439))},2868:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("th",{months:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21_\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c_\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21_\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19_\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21_\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19_\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21_\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21_\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19_\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21_\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19_\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21".split("_"),monthsShort:"\u0e21.\u0e04._\u0e01.\u0e1e._\u0e21\u0e35.\u0e04._\u0e40\u0e21.\u0e22._\u0e1e.\u0e04._\u0e21\u0e34.\u0e22._\u0e01.\u0e04._\u0e2a.\u0e04._\u0e01.\u0e22._\u0e15.\u0e04._\u0e1e.\u0e22._\u0e18.\u0e04.".split("_"),monthsParseExact:!0,weekdays:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a\u0e1a\u0e14\u0e35_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysShort:"\u0e2d\u0e32\u0e17\u0e34\u0e15\u0e22\u0e4c_\u0e08\u0e31\u0e19\u0e17\u0e23\u0e4c_\u0e2d\u0e31\u0e07\u0e04\u0e32\u0e23_\u0e1e\u0e38\u0e18_\u0e1e\u0e24\u0e2b\u0e31\u0e2a_\u0e28\u0e38\u0e01\u0e23\u0e4c_\u0e40\u0e2a\u0e32\u0e23\u0e4c".split("_"),weekdaysMin:"\u0e2d\u0e32._\u0e08._\u0e2d._\u0e1e._\u0e1e\u0e24._\u0e28._\u0e2a.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm",LLLL:"\u0e27\u0e31\u0e19dddd\u0e17\u0e35\u0e48 D MMMM YYYY \u0e40\u0e27\u0e25\u0e32 H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(Y){return"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"===Y},meridiem:function(Y,a,d){return Y<12?"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07":"\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07"},calendar:{sameDay:"[\u0e27\u0e31\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextDay:"[\u0e1e\u0e23\u0e38\u0e48\u0e07\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",nextWeek:"dddd[\u0e2b\u0e19\u0e49\u0e32 \u0e40\u0e27\u0e25\u0e32] LT",lastDay:"[\u0e40\u0e21\u0e37\u0e48\u0e2d\u0e27\u0e32\u0e19\u0e19\u0e35\u0e49 \u0e40\u0e27\u0e25\u0e32] LT",lastWeek:"[\u0e27\u0e31\u0e19]dddd[\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27 \u0e40\u0e27\u0e25\u0e32] LT",sameElse:"L"},relativeTime:{future:"\u0e2d\u0e35\u0e01 %s",past:"%s\u0e17\u0e35\u0e48\u0e41\u0e25\u0e49\u0e27",s:"\u0e44\u0e21\u0e48\u0e01\u0e35\u0e48\u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",ss:"%d \u0e27\u0e34\u0e19\u0e32\u0e17\u0e35",m:"1 \u0e19\u0e32\u0e17\u0e35",mm:"%d \u0e19\u0e32\u0e17\u0e35",h:"1 \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",hh:"%d \u0e0a\u0e31\u0e48\u0e27\u0e42\u0e21\u0e07",d:"1 \u0e27\u0e31\u0e19",dd:"%d \u0e27\u0e31\u0e19",w:"1 \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",ww:"%d \u0e2a\u0e31\u0e1b\u0e14\u0e32\u0e2b\u0e4c",M:"1 \u0e40\u0e14\u0e37\u0e2d\u0e19",MM:"%d \u0e40\u0e14\u0e37\u0e2d\u0e19",y:"1 \u0e1b\u0e35",yy:"%d \u0e1b\u0e35"}})}(ae(5439))},1310:function(ze,Ye,ae){!function(te){"use strict";var A={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'\xfcnji",4:"'\xfcnji",100:"'\xfcnji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};te.defineLocale("tk",{months:"\xddanwar_Fewral_Mart_Aprel_Ma\xfd_I\xfdun_I\xfdul_Awgust_Sent\xfdabr_Okt\xfdabr_No\xfdabr_Dekabr".split("_"),monthsShort:"\xddan_Few_Mar_Apr_Ma\xfd_I\xfdn_I\xfdl_Awg_Sen_Okt_No\xfd_Dek".split("_"),weekdays:"\xddek\u015fenbe_Du\u015fenbe_Si\u015fenbe_\xc7ar\u015fenbe_Pen\u015fenbe_Anna_\u015eenbe".split("_"),weekdaysShort:"\xddek_Du\u015f_Si\u015f_\xc7ar_Pen_Ann_\u015een".split("_"),weekdaysMin:"\xddk_D\u015f_S\u015f_\xc7r_Pn_An_\u015en".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[d\xfc\xfdn] LT",lastWeek:"[ge\xe7en] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so\u0148",past:"%s \xf6\u0148",s:"birn\xe4\xe7e sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir g\xfcn",dd:"%d g\xfcn",M:"bir a\xfd",MM:"%d a\xfd",y:"bir \xfdyl",yy:"%d \xfdyl"},ordinal:function(a,d){switch(d){case"d":case"D":case"Do":case"DD":return a;default:if(0===a)return a+"'unjy";var J=a%10;return a+(A[J]||A[a%100-J]||A[a>=100?100:null])}},week:{dow:1,doy:7}})}(ae(5439))},2360:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(Y){return Y},week:{dow:1,doy:4}})}(ae(5439))},6645:function(ze,Ye,ae){!function(te){"use strict";var A="pagh_wa\u2019_cha\u2019_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function d(oe,ye,Oe,ht){var Te=function J(oe){var ye=Math.floor(oe%1e3/100),Oe=Math.floor(oe%100/10),ht=oe%10,Te="";return ye>0&&(Te+=A[ye]+"vatlh"),Oe>0&&(Te+=(""!==Te?" ":"")+A[Oe]+"maH"),ht>0&&(Te+=(""!==Te?" ":"")+A[ht]),""===Te?"pagh":Te}(oe);switch(Oe){case"ss":return Te+" lup";case"mm":return Te+" tup";case"hh":return Te+" rep";case"dd":return Te+" jaj";case"MM":return Te+" jar";case"yy":return Te+" DIS"}}te.defineLocale("tlh",{months:"tera\u2019 jar wa\u2019_tera\u2019 jar cha\u2019_tera\u2019 jar wej_tera\u2019 jar loS_tera\u2019 jar vagh_tera\u2019 jar jav_tera\u2019 jar Soch_tera\u2019 jar chorgh_tera\u2019 jar Hut_tera\u2019 jar wa\u2019maH_tera\u2019 jar wa\u2019maH wa\u2019_tera\u2019 jar wa\u2019maH cha\u2019".split("_"),monthsShort:"jar wa\u2019_jar cha\u2019_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa\u2019maH_jar wa\u2019maH wa\u2019_jar wa\u2019maH cha\u2019".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa\u2019leS] LT",nextWeek:"LLL",lastDay:"[wa\u2019Hu\u2019] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function Y(oe){var ye=oe;return-1!==oe.indexOf("jaj")?ye.slice(0,-3)+"leS":-1!==oe.indexOf("jar")?ye.slice(0,-3)+"waQ":-1!==oe.indexOf("DIS")?ye.slice(0,-3)+"nem":ye+" pIq"},past:function a(oe){var ye=oe;return-1!==oe.indexOf("jaj")?ye.slice(0,-3)+"Hu\u2019":-1!==oe.indexOf("jar")?ye.slice(0,-3)+"wen":-1!==oe.indexOf("DIS")?ye.slice(0,-3)+"ben":ye+" ret"},s:"puS lup",ss:d,m:"wa\u2019 tup",mm:d,h:"wa\u2019 rep",hh:d,d:"wa\u2019 jaj",dd:d,M:"wa\u2019 jar",MM:d,y:"wa\u2019 DIS",yy:d},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},8374:function(ze,Ye,ae){!function(te){"use strict";var A={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};te.defineLocale("tr",{months:"Ocak_\u015eubat_Mart_Nisan_May\u0131s_Haziran_Temmuz_A\u011fustos_Eyl\xfcl_Ekim_Kas\u0131m_Aral\u0131k".split("_"),monthsShort:"Oca_\u015eub_Mar_Nis_May_Haz_Tem_A\u011fu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal\u0131_\xc7ar\u015famba_Per\u015fembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_\xc7ar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_\xc7a_Pe_Cu_Ct".split("_"),meridiem:function(a,d,J){return a<12?J?"\xf6\xf6":"\xd6\xd6":J?"\xf6s":"\xd6S"},meridiemParse:/\xf6\xf6|\xd6\xd6|\xf6s|\xd6S/,isPM:function(a){return"\xf6s"===a||"\xd6S"===a},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bug\xfcn saat] LT",nextDay:"[yar\u0131n saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[d\xfcn] LT",lastWeek:"[ge\xe7en] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s \xf6nce",s:"birka\xe7 saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir g\xfcn",dd:"%d g\xfcn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir y\u0131l",yy:"%d y\u0131l"},ordinal:function(a,d){switch(d){case"d":case"D":case"Do":case"DD":return a;default:if(0===a)return a+"'\u0131nc\u0131";var J=a%10;return a+(A[J]||A[a%100-J]||A[a>=100?100:null])}},week:{dow:1,doy:7}})}(ae(5439))},256:function(ze,Ye,ae){!function(te){"use strict";function Y(a,d,J,Q){var oe={s:["viensas secunds","'iensas secunds"],ss:[a+" secunds",a+" secunds"],m:["'n m\xedut","'iens m\xedut"],mm:[a+" m\xeduts",a+" m\xeduts"],h:["'n \xfeora","'iensa \xfeora"],hh:[a+" \xfeoras",a+" \xfeoras"],d:["'n ziua","'iensa ziua"],dd:[a+" ziuas",a+" ziuas"],M:["'n mes","'iens mes"],MM:[a+" mesen",a+" mesen"],y:["'n ar","'iens ar"],yy:[a+" ars",a+" ars"]};return Q||d?oe[J][0]:oe[J][1]}te.defineLocale("tzl",{months:"Januar_Fevraglh_Mar\xe7_Avr\xefu_Mai_G\xfcn_Julia_Guscht_Setemvar_Listop\xe4ts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_G\xfcn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"S\xfaladi_L\xfane\xe7i_Maitzi_M\xe1rcuri_Xh\xfaadi_Vi\xe9ner\xe7i_S\xe1turi".split("_"),weekdaysShort:"S\xfal_L\xfan_Mai_M\xe1r_Xh\xfa_Vi\xe9_S\xe1t".split("_"),weekdaysMin:"S\xfa_L\xfa_Ma_M\xe1_Xh_Vi_S\xe1".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(a){return"d'o"===a.toLowerCase()},meridiem:function(a,d,J){return a>11?J?"d'o":"D'O":J?"d'a":"D'A"},calendar:{sameDay:"[oxhi \xe0] LT",nextDay:"[dem\xe0 \xe0] LT",nextWeek:"dddd [\xe0] LT",lastDay:"[ieiri \xe0] LT",lastWeek:"[s\xfcr el] dddd [lasteu \xe0] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:Y,ss:Y,m:Y,mm:Y,h:Y,hh:Y,d:Y,dd:Y,M:Y,MM:Y,y:Y,yy:Y},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(ae(5439))},1631:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("tzm-latn",{months:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_br\u02e4ayr\u02e4_mar\u02e4s\u02e4_ibrir_mayyw_ywnyw_ywlywz_\u0263w\u0161t_\u0161wtanbir_kt\u02e4wbr\u02e4_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asi\u1e0dyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu\u1e0d",mm:"%d minu\u1e0d",h:"sa\u025ba",hh:"%d tassa\u025bin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(ae(5439))},1595:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("tzm",{months:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),monthsShort:"\u2d49\u2d4f\u2d4f\u2d30\u2d62\u2d54_\u2d31\u2d55\u2d30\u2d62\u2d55_\u2d4e\u2d30\u2d55\u2d5a_\u2d49\u2d31\u2d54\u2d49\u2d54_\u2d4e\u2d30\u2d62\u2d62\u2d53_\u2d62\u2d53\u2d4f\u2d62\u2d53_\u2d62\u2d53\u2d4d\u2d62\u2d53\u2d63_\u2d56\u2d53\u2d5b\u2d5c_\u2d5b\u2d53\u2d5c\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d3d\u2d5f\u2d53\u2d31\u2d55_\u2d4f\u2d53\u2d61\u2d30\u2d4f\u2d31\u2d49\u2d54_\u2d37\u2d53\u2d4a\u2d4f\u2d31\u2d49\u2d54".split("_"),weekdays:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysShort:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),weekdaysMin:"\u2d30\u2d59\u2d30\u2d4e\u2d30\u2d59_\u2d30\u2d62\u2d4f\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4f\u2d30\u2d59_\u2d30\u2d3d\u2d54\u2d30\u2d59_\u2d30\u2d3d\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d4e\u2d61\u2d30\u2d59_\u2d30\u2d59\u2d49\u2d39\u2d62\u2d30\u2d59".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[\u2d30\u2d59\u2d37\u2d45 \u2d34] LT",nextDay:"[\u2d30\u2d59\u2d3d\u2d30 \u2d34] LT",nextWeek:"dddd [\u2d34] LT",lastDay:"[\u2d30\u2d5a\u2d30\u2d4f\u2d5c \u2d34] LT",lastWeek:"dddd [\u2d34] LT",sameElse:"L"},relativeTime:{future:"\u2d37\u2d30\u2d37\u2d45 \u2d59 \u2d62\u2d30\u2d4f %s",past:"\u2d62\u2d30\u2d4f %s",s:"\u2d49\u2d4e\u2d49\u2d3d",ss:"%d \u2d49\u2d4e\u2d49\u2d3d",m:"\u2d4e\u2d49\u2d4f\u2d53\u2d3a",mm:"%d \u2d4e\u2d49\u2d4f\u2d53\u2d3a",h:"\u2d59\u2d30\u2d44\u2d30",hh:"%d \u2d5c\u2d30\u2d59\u2d59\u2d30\u2d44\u2d49\u2d4f",d:"\u2d30\u2d59\u2d59",dd:"%d o\u2d59\u2d59\u2d30\u2d4f",M:"\u2d30\u2d62o\u2d53\u2d54",MM:"%d \u2d49\u2d62\u2d62\u2d49\u2d54\u2d4f",y:"\u2d30\u2d59\u2d33\u2d30\u2d59",yy:"%d \u2d49\u2d59\u2d33\u2d30\u2d59\u2d4f"},week:{dow:6,doy:12}})}(ae(5439))},6050:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("ug-cn",{months:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),monthsShort:"\u064a\u0627\u0646\u06cb\u0627\u0631_\u0641\u06d0\u06cb\u0631\u0627\u0644_\u0645\u0627\u0631\u062a_\u0626\u0627\u067e\u0631\u06d0\u0644_\u0645\u0627\u064a_\u0626\u0649\u064a\u06c7\u0646_\u0626\u0649\u064a\u06c7\u0644_\u0626\u0627\u06cb\u063a\u06c7\u0633\u062a_\u0633\u06d0\u0646\u062a\u06d5\u0628\u0649\u0631_\u0626\u06c6\u0643\u062a\u06d5\u0628\u0649\u0631_\u0646\u0648\u064a\u0627\u0628\u0649\u0631_\u062f\u06d0\u0643\u0627\u0628\u0649\u0631".split("_"),weekdays:"\u064a\u06d5\u0643\u0634\u06d5\u0646\u0628\u06d5_\u062f\u06c8\u0634\u06d5\u0646\u0628\u06d5_\u0633\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u0686\u0627\u0631\u0634\u06d5\u0646\u0628\u06d5_\u067e\u06d5\u064a\u0634\u06d5\u0646\u0628\u06d5_\u062c\u06c8\u0645\u06d5_\u0634\u06d5\u0646\u0628\u06d5".split("_"),weekdaysShort:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),weekdaysMin:"\u064a\u06d5_\u062f\u06c8_\u0633\u06d5_\u0686\u0627_\u067e\u06d5_\u062c\u06c8_\u0634\u06d5".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649",LLL:"YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm",LLLL:"dddd\u060c YYYY-\u064a\u0649\u0644\u0649M-\u0626\u0627\u064a\u0646\u0649\u06adD-\u0643\u06c8\u0646\u0649\u060c HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(Y,a){return 12===Y&&(Y=0),"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5"===a||"\u0633\u06d5\u06be\u06d5\u0631"===a||"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646"===a?Y:"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646"===a||"\u0643\u06d5\u0686"===a?Y+12:Y>=11?Y:Y+12},meridiem:function(Y,a,d){var J=100*Y+a;return J<600?"\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5":J<900?"\u0633\u06d5\u06be\u06d5\u0631":J<1130?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646":J<1230?"\u0686\u06c8\u0634":J<1800?"\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646":"\u0643\u06d5\u0686"},calendar:{sameDay:"[\u0628\u06c8\u06af\u06c8\u0646 \u0633\u0627\u0626\u06d5\u062a] LT",nextDay:"[\u0626\u06d5\u062a\u06d5 \u0633\u0627\u0626\u06d5\u062a] LT",nextWeek:"[\u0643\u06d0\u0644\u06d5\u0631\u0643\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",lastDay:"[\u062a\u06c6\u0646\u06c8\u06af\u06c8\u0646] LT",lastWeek:"[\u0626\u0627\u0644\u062f\u0649\u0646\u0642\u0649] dddd [\u0633\u0627\u0626\u06d5\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0643\u06d0\u064a\u0649\u0646",past:"%s \u0628\u06c7\u0631\u06c7\u0646",s:"\u0646\u06d5\u0686\u0686\u06d5 \u0633\u06d0\u0643\u0648\u0646\u062a",ss:"%d \u0633\u06d0\u0643\u0648\u0646\u062a",m:"\u0628\u0649\u0631 \u0645\u0649\u0646\u06c7\u062a",mm:"%d \u0645\u0649\u0646\u06c7\u062a",h:"\u0628\u0649\u0631 \u0633\u0627\u0626\u06d5\u062a",hh:"%d \u0633\u0627\u0626\u06d5\u062a",d:"\u0628\u0649\u0631 \u0643\u06c8\u0646",dd:"%d \u0643\u06c8\u0646",M:"\u0628\u0649\u0631 \u0626\u0627\u064a",MM:"%d \u0626\u0627\u064a",y:"\u0628\u0649\u0631 \u064a\u0649\u0644",yy:"%d \u064a\u0649\u0644"},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(Y,a){switch(a){case"d":case"D":case"DDD":return Y+"-\u0643\u06c8\u0646\u0649";case"w":case"W":return Y+"-\u06be\u06d5\u067e\u062a\u06d5";default:return Y}},preparse:function(Y){return Y.replace(/\u060c/g,",")},postformat:function(Y){return Y.replace(/,/g,"\u060c")},week:{dow:1,doy:7}})}(ae(5439))},5610:function(ze,Ye,ae){!function(te){"use strict";function Y(Q,oe,ye){return"m"===ye?oe?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443":"h"===ye?oe?"\u0433\u043e\u0434\u0438\u043d\u0430":"\u0433\u043e\u0434\u0438\u043d\u0443":Q+" "+function A(Q,oe){var ye=Q.split("_");return oe%10==1&&oe%100!=11?ye[0]:oe%10>=2&&oe%10<=4&&(oe%100<10||oe%100>=20)?ye[1]:ye[2]}({ss:oe?"\u0441\u0435\u043a\u0443\u043d\u0434\u0430_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434":"\u0441\u0435\u043a\u0443\u043d\u0434\u0443_\u0441\u0435\u043a\u0443\u043d\u0434\u0438_\u0441\u0435\u043a\u0443\u043d\u0434",mm:oe?"\u0445\u0432\u0438\u043b\u0438\u043d\u0430_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d":"\u0445\u0432\u0438\u043b\u0438\u043d\u0443_\u0445\u0432\u0438\u043b\u0438\u043d\u0438_\u0445\u0432\u0438\u043b\u0438\u043d",hh:oe?"\u0433\u043e\u0434\u0438\u043d\u0430_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d":"\u0433\u043e\u0434\u0438\u043d\u0443_\u0433\u043e\u0434\u0438\u043d\u0438_\u0433\u043e\u0434\u0438\u043d",dd:"\u0434\u0435\u043d\u044c_\u0434\u043d\u0456_\u0434\u043d\u0456\u0432",MM:"\u043c\u0456\u0441\u044f\u0446\u044c_\u043c\u0456\u0441\u044f\u0446\u0456_\u043c\u0456\u0441\u044f\u0446\u0456\u0432",yy:"\u0440\u0456\u043a_\u0440\u043e\u043a\u0438_\u0440\u043e\u043a\u0456\u0432"}[ye],+Q)}function d(Q){return function(){return Q+"\u043e"+(11===this.hours()?"\u0431":"")+"] LT"}}te.defineLocale("uk",{months:{format:"\u0441\u0456\u0447\u043d\u044f_\u043b\u044e\u0442\u043e\u0433\u043e_\u0431\u0435\u0440\u0435\u0437\u043d\u044f_\u043a\u0432\u0456\u0442\u043d\u044f_\u0442\u0440\u0430\u0432\u043d\u044f_\u0447\u0435\u0440\u0432\u043d\u044f_\u043b\u0438\u043f\u043d\u044f_\u0441\u0435\u0440\u043f\u043d\u044f_\u0432\u0435\u0440\u0435\u0441\u043d\u044f_\u0436\u043e\u0432\u0442\u043d\u044f_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434\u0430_\u0433\u0440\u0443\u0434\u043d\u044f".split("_"),standalone:"\u0441\u0456\u0447\u0435\u043d\u044c_\u043b\u044e\u0442\u0438\u0439_\u0431\u0435\u0440\u0435\u0437\u0435\u043d\u044c_\u043a\u0432\u0456\u0442\u0435\u043d\u044c_\u0442\u0440\u0430\u0432\u0435\u043d\u044c_\u0447\u0435\u0440\u0432\u0435\u043d\u044c_\u043b\u0438\u043f\u0435\u043d\u044c_\u0441\u0435\u0440\u043f\u0435\u043d\u044c_\u0432\u0435\u0440\u0435\u0441\u0435\u043d\u044c_\u0436\u043e\u0432\u0442\u0435\u043d\u044c_\u043b\u0438\u0441\u0442\u043e\u043f\u0430\u0434_\u0433\u0440\u0443\u0434\u0435\u043d\u044c".split("_")},monthsShort:"\u0441\u0456\u0447_\u043b\u044e\u0442_\u0431\u0435\u0440_\u043a\u0432\u0456\u0442_\u0442\u0440\u0430\u0432_\u0447\u0435\u0440\u0432_\u043b\u0438\u043f_\u0441\u0435\u0440\u043f_\u0432\u0435\u0440_\u0436\u043e\u0432\u0442_\u043b\u0438\u0441\u0442_\u0433\u0440\u0443\u0434".split("_"),weekdays:function a(Q,oe){var ye={nominative:"\u043d\u0435\u0434\u0456\u043b\u044f_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0430_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044f_\u0441\u0443\u0431\u043e\u0442\u0430".split("_"),accusative:"\u043d\u0435\u0434\u0456\u043b\u044e_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043e\u043a_\u0432\u0456\u0432\u0442\u043e\u0440\u043e\u043a_\u0441\u0435\u0440\u0435\u0434\u0443_\u0447\u0435\u0442\u0432\u0435\u0440_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u044e_\u0441\u0443\u0431\u043e\u0442\u0443".split("_"),genitive:"\u043d\u0435\u0434\u0456\u043b\u0456_\u043f\u043e\u043d\u0435\u0434\u0456\u043b\u043a\u0430_\u0432\u0456\u0432\u0442\u043e\u0440\u043a\u0430_\u0441\u0435\u0440\u0435\u0434\u0438_\u0447\u0435\u0442\u0432\u0435\u0440\u0433\u0430_\u043f\u2019\u044f\u0442\u043d\u0438\u0446\u0456_\u0441\u0443\u0431\u043e\u0442\u0438".split("_")};return!0===Q?ye.nominative.slice(1,7).concat(ye.nominative.slice(0,1)):Q?ye[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(oe)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(oe)?"genitive":"nominative"][Q.day()]:ye.nominative},weekdaysShort:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),weekdaysMin:"\u043d\u0434_\u043f\u043d_\u0432\u0442_\u0441\u0440_\u0447\u0442_\u043f\u0442_\u0441\u0431".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY \u0440.",LLL:"D MMMM YYYY \u0440., HH:mm",LLLL:"dddd, D MMMM YYYY \u0440., HH:mm"},calendar:{sameDay:d("[\u0421\u044c\u043e\u0433\u043e\u0434\u043d\u0456 "),nextDay:d("[\u0417\u0430\u0432\u0442\u0440\u0430 "),lastDay:d("[\u0412\u0447\u043e\u0440\u0430 "),nextWeek:d("[\u0423] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return d("[\u041c\u0438\u043d\u0443\u043b\u043e\u0457] dddd [").call(this);case 1:case 2:case 4:return d("[\u041c\u0438\u043d\u0443\u043b\u043e\u0433\u043e] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"\u0437\u0430 %s",past:"%s \u0442\u043e\u043c\u0443",s:"\u0434\u0435\u043a\u0456\u043b\u044c\u043a\u0430 \u0441\u0435\u043a\u0443\u043d\u0434",ss:Y,m:Y,mm:Y,h:"\u0433\u043e\u0434\u0438\u043d\u0443",hh:Y,d:"\u0434\u0435\u043d\u044c",dd:Y,M:"\u043c\u0456\u0441\u044f\u0446\u044c",MM:Y,y:"\u0440\u0456\u043a",yy:Y},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(Q){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(Q)},meridiem:function(Q,oe,ye){return Q<4?"\u043d\u043e\u0447\u0456":Q<12?"\u0440\u0430\u043d\u043a\u0443":Q<17?"\u0434\u043d\u044f":"\u0432\u0435\u0447\u043e\u0440\u0430"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(Q,oe){switch(oe){case"M":case"d":case"DDD":case"w":case"W":return Q+"-\u0439";case"D":return Q+"-\u0433\u043e";default:return Q}},week:{dow:1,doy:7}})}(ae(5439))},8405:function(ze,Ye,ae){!function(te){"use strict";var A=["\u062c\u0646\u0648\u0631\u06cc","\u0641\u0631\u0648\u0631\u06cc","\u0645\u0627\u0631\u0686","\u0627\u067e\u0631\u06cc\u0644","\u0645\u0626\u06cc","\u062c\u0648\u0646","\u062c\u0648\u0644\u0627\u0626\u06cc","\u0627\u06af\u0633\u062a","\u0633\u062a\u0645\u0628\u0631","\u0627\u06a9\u062a\u0648\u0628\u0631","\u0646\u0648\u0645\u0628\u0631","\u062f\u0633\u0645\u0628\u0631"],Y=["\u0627\u062a\u0648\u0627\u0631","\u067e\u06cc\u0631","\u0645\u0646\u06af\u0644","\u0628\u062f\u06be","\u062c\u0645\u0639\u0631\u0627\u062a","\u062c\u0645\u0639\u06c1","\u06c1\u0641\u062a\u06c1"];te.defineLocale("ur",{months:A,monthsShort:A,weekdays:Y,weekdaysShort:Y,weekdaysMin:Y,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd\u060c D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(d){return"\u0634\u0627\u0645"===d},meridiem:function(d,J,Q){return d<12?"\u0635\u0628\u062d":"\u0634\u0627\u0645"},calendar:{sameDay:"[\u0622\u062c \u0628\u0648\u0642\u062a] LT",nextDay:"[\u06a9\u0644 \u0628\u0648\u0642\u062a] LT",nextWeek:"dddd [\u0628\u0648\u0642\u062a] LT",lastDay:"[\u06af\u0630\u0634\u062a\u06c1 \u0631\u0648\u0632 \u0628\u0648\u0642\u062a] LT",lastWeek:"[\u06af\u0630\u0634\u062a\u06c1] dddd [\u0628\u0648\u0642\u062a] LT",sameElse:"L"},relativeTime:{future:"%s \u0628\u0639\u062f",past:"%s \u0642\u0628\u0644",s:"\u0686\u0646\u062f \u0633\u06cc\u06a9\u0646\u0688",ss:"%d \u0633\u06cc\u06a9\u0646\u0688",m:"\u0627\u06cc\u06a9 \u0645\u0646\u0679",mm:"%d \u0645\u0646\u0679",h:"\u0627\u06cc\u06a9 \u06af\u06be\u0646\u0679\u06c1",hh:"%d \u06af\u06be\u0646\u0679\u06d2",d:"\u0627\u06cc\u06a9 \u062f\u0646",dd:"%d \u062f\u0646",M:"\u0627\u06cc\u06a9 \u0645\u0627\u06c1",MM:"%d \u0645\u0627\u06c1",y:"\u0627\u06cc\u06a9 \u0633\u0627\u0644",yy:"%d \u0633\u0627\u0644"},preparse:function(d){return d.replace(/\u060c/g,",")},postformat:function(d){return d.replace(/,/g,"\u060c")},week:{dow:1,doy:4}})}(ae(5439))},2207:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(ae(5439))},2862:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("uz",{months:"\u044f\u043d\u0432\u0430\u0440_\u0444\u0435\u0432\u0440\u0430\u043b_\u043c\u0430\u0440\u0442_\u0430\u043f\u0440\u0435\u043b_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433\u0443\u0441\u0442_\u0441\u0435\u043d\u0442\u044f\u0431\u0440_\u043e\u043a\u0442\u044f\u0431\u0440_\u043d\u043e\u044f\u0431\u0440_\u0434\u0435\u043a\u0430\u0431\u0440".split("_"),monthsShort:"\u044f\u043d\u0432_\u0444\u0435\u0432_\u043c\u0430\u0440_\u0430\u043f\u0440_\u043c\u0430\u0439_\u0438\u044e\u043d_\u0438\u044e\u043b_\u0430\u0432\u0433_\u0441\u0435\u043d_\u043e\u043a\u0442_\u043d\u043e\u044f_\u0434\u0435\u043a".split("_"),weekdays:"\u042f\u043a\u0448\u0430\u043d\u0431\u0430_\u0414\u0443\u0448\u0430\u043d\u0431\u0430_\u0421\u0435\u0448\u0430\u043d\u0431\u0430_\u0427\u043e\u0440\u0448\u0430\u043d\u0431\u0430_\u041f\u0430\u0439\u0448\u0430\u043d\u0431\u0430_\u0416\u0443\u043c\u0430_\u0428\u0430\u043d\u0431\u0430".split("_"),weekdaysShort:"\u042f\u043a\u0448_\u0414\u0443\u0448_\u0421\u0435\u0448_\u0427\u043e\u0440_\u041f\u0430\u0439_\u0416\u0443\u043c_\u0428\u0430\u043d".split("_"),weekdaysMin:"\u042f\u043a_\u0414\u0443_\u0421\u0435_\u0427\u043e_\u041f\u0430_\u0416\u0443_\u0428\u0430".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[\u0411\u0443\u0433\u0443\u043d \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",nextDay:"[\u042d\u0440\u0442\u0430\u0433\u0430] LT [\u0434\u0430]",nextWeek:"dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastDay:"[\u041a\u0435\u0447\u0430 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",lastWeek:"[\u0423\u0442\u0433\u0430\u043d] dddd [\u043a\u0443\u043d\u0438 \u0441\u043e\u0430\u0442] LT [\u0434\u0430]",sameElse:"L"},relativeTime:{future:"\u042f\u043a\u0438\u043d %s \u0438\u0447\u0438\u0434\u0430",past:"\u0411\u0438\u0440 \u043d\u0435\u0447\u0430 %s \u043e\u043b\u0434\u0438\u043d",s:"\u0444\u0443\u0440\u0441\u0430\u0442",ss:"%d \u0444\u0443\u0440\u0441\u0430\u0442",m:"\u0431\u0438\u0440 \u0434\u0430\u043a\u0438\u043a\u0430",mm:"%d \u0434\u0430\u043a\u0438\u043a\u0430",h:"\u0431\u0438\u0440 \u0441\u043e\u0430\u0442",hh:"%d \u0441\u043e\u0430\u0442",d:"\u0431\u0438\u0440 \u043a\u0443\u043d",dd:"%d \u043a\u0443\u043d",M:"\u0431\u0438\u0440 \u043e\u0439",MM:"%d \u043e\u0439",y:"\u0431\u0438\u0440 \u0439\u0438\u043b",yy:"%d \u0439\u0438\u043b"},week:{dow:1,doy:7}})}(ae(5439))},8093:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("vi",{months:"th\xe1ng 1_th\xe1ng 2_th\xe1ng 3_th\xe1ng 4_th\xe1ng 5_th\xe1ng 6_th\xe1ng 7_th\xe1ng 8_th\xe1ng 9_th\xe1ng 10_th\xe1ng 11_th\xe1ng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch\u1ee7 nh\u1eadt_th\u1ee9 hai_th\u1ee9 ba_th\u1ee9 t\u01b0_th\u1ee9 n\u0103m_th\u1ee9 s\xe1u_th\u1ee9 b\u1ea3y".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(Y){return/^ch$/i.test(Y)},meridiem:function(Y,a,d){return Y<12?d?"sa":"SA":d?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [n\u0103m] YYYY",LLL:"D MMMM [n\u0103m] YYYY HH:mm",LLLL:"dddd, D MMMM [n\u0103m] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[H\xf4m nay l\xfac] LT",nextDay:"[Ng\xe0y mai l\xfac] LT",nextWeek:"dddd [tu\u1ea7n t\u1edbi l\xfac] LT",lastDay:"[H\xf4m qua l\xfac] LT",lastWeek:"dddd [tu\u1ea7n tr\u01b0\u1edbc l\xfac] LT",sameElse:"L"},relativeTime:{future:"%s t\u1edbi",past:"%s tr\u01b0\u1edbc",s:"v\xe0i gi\xe2y",ss:"%d gi\xe2y",m:"m\u1ed9t ph\xfat",mm:"%d ph\xfat",h:"m\u1ed9t gi\u1edd",hh:"%d gi\u1edd",d:"m\u1ed9t ng\xe0y",dd:"%d ng\xe0y",w:"m\u1ed9t tu\u1ea7n",ww:"%d tu\u1ea7n",M:"m\u1ed9t th\xe1ng",MM:"%d th\xe1ng",y:"m\u1ed9t n\u0103m",yy:"%d n\u0103m"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(Y){return Y},week:{dow:1,doy:4}})}(ae(5439))},5590:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("x-pseudo",{months:"J~\xe1\xf1\xfa\xe1~r\xfd_F~\xe9br\xfa~\xe1r\xfd_~M\xe1rc~h_\xc1p~r\xedl_~M\xe1\xfd_~J\xfa\xf1\xe9~_J\xfal~\xfd_\xc1\xfa~g\xfast~_S\xe9p~t\xe9mb~\xe9r_\xd3~ct\xf3b~\xe9r_\xd1~\xf3v\xe9m~b\xe9r_~D\xe9c\xe9~mb\xe9r".split("_"),monthsShort:"J~\xe1\xf1_~F\xe9b_~M\xe1r_~\xc1pr_~M\xe1\xfd_~J\xfa\xf1_~J\xfal_~\xc1\xfag_~S\xe9p_~\xd3ct_~\xd1\xf3v_~D\xe9c".split("_"),monthsParseExact:!0,weekdays:"S~\xfa\xf1d\xe1~\xfd_M\xf3~\xf1d\xe1\xfd~_T\xfa\xe9~sd\xe1\xfd~_W\xe9d~\xf1\xe9sd~\xe1\xfd_T~h\xfars~d\xe1\xfd_~Fr\xedd~\xe1\xfd_S~\xe1t\xfar~d\xe1\xfd".split("_"),weekdaysShort:"S~\xfa\xf1_~M\xf3\xf1_~T\xfa\xe9_~W\xe9d_~Th\xfa_~Fr\xed_~S\xe1t".split("_"),weekdaysMin:"S~\xfa_M\xf3~_T\xfa_~W\xe9_T~h_Fr~_S\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~\xf3d\xe1~\xfd \xe1t] LT",nextDay:"[T~\xf3m\xf3~rr\xf3~w \xe1t] LT",nextWeek:"dddd [\xe1t] LT",lastDay:"[\xdd~\xe9st~\xe9rd\xe1~\xfd \xe1t] LT",lastWeek:"[L~\xe1st] dddd [\xe1t] LT",sameElse:"L"},relativeTime:{future:"\xed~\xf1 %s",past:"%s \xe1~g\xf3",s:"\xe1 ~f\xe9w ~s\xe9c\xf3~\xf1ds",ss:"%d s~\xe9c\xf3\xf1~ds",m:"\xe1 ~m\xed\xf1~\xfat\xe9",mm:"%d m~\xed\xf1\xfa~t\xe9s",h:"\xe1~\xf1 h\xf3~\xfar",hh:"%d h~\xf3\xfars",d:"\xe1 ~d\xe1\xfd",dd:"%d d~\xe1\xfds",M:"\xe1 ~m\xf3\xf1~th",MM:"%d m~\xf3\xf1t~hs",y:"\xe1 ~\xfd\xe9\xe1r",yy:"%d \xfd~\xe9\xe1rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(Y){var a=Y%10;return Y+(1==~~(Y%100/10)?"th":1===a?"st":2===a?"nd":3===a?"rd":"th")},week:{dow:1,doy:4}})}(ae(5439))},9058:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("yo",{months:"S\u1eb9\u0301r\u1eb9\u0301_E\u0300re\u0300le\u0300_\u1eb8r\u1eb9\u0300na\u0300_I\u0300gbe\u0301_E\u0300bibi_O\u0300ku\u0300du_Ag\u1eb9mo_O\u0300gu\u0301n_Owewe_\u1ecc\u0300wa\u0300ra\u0300_Be\u0301lu\u0301_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),monthsShort:"S\u1eb9\u0301r_E\u0300rl_\u1eb8rn_I\u0300gb_E\u0300bi_O\u0300ku\u0300_Ag\u1eb9_O\u0300gu\u0301_Owe_\u1ecc\u0300wa\u0300_Be\u0301l_\u1ecc\u0300p\u1eb9\u0300\u0300".split("_"),weekdays:"A\u0300i\u0300ku\u0301_Aje\u0301_I\u0300s\u1eb9\u0301gun_\u1eccj\u1ecd\u0301ru\u0301_\u1eccj\u1ecd\u0301b\u1ecd_\u1eb8ti\u0300_A\u0300ba\u0301m\u1eb9\u0301ta".split("_"),weekdaysShort:"A\u0300i\u0300k_Aje\u0301_I\u0300s\u1eb9\u0301_\u1eccjr_\u1eccjb_\u1eb8ti\u0300_A\u0300ba\u0301".split("_"),weekdaysMin:"A\u0300i\u0300_Aj_I\u0300s_\u1eccr_\u1eccb_\u1eb8t_A\u0300b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[O\u0300ni\u0300 ni] LT",nextDay:"[\u1ecc\u0300la ni] LT",nextWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301n'b\u1ecd] [ni] LT",lastDay:"[A\u0300na ni] LT",lastWeek:"dddd [\u1eccs\u1eb9\u0300 to\u0301l\u1ecd\u0301] [ni] LT",sameElse:"L"},relativeTime:{future:"ni\u0301 %s",past:"%s k\u1ecdja\u0301",s:"i\u0300s\u1eb9ju\u0301 aaya\u0301 die",ss:"aaya\u0301 %d",m:"i\u0300s\u1eb9ju\u0301 kan",mm:"i\u0300s\u1eb9ju\u0301 %d",h:"wa\u0301kati kan",hh:"wa\u0301kati %d",d:"\u1ecdj\u1ecd\u0301 kan",dd:"\u1ecdj\u1ecd\u0301 %d",M:"osu\u0300 kan",MM:"osu\u0300 %d",y:"\u1ecddu\u0301n kan",yy:"\u1ecddu\u0301n %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"\u1ecdj\u1ecd\u0301 %d",week:{dow:1,doy:4}})}(ae(5439))},832:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("zh-cn",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(Y,a){return 12===Y&&(Y=0),"\u51cc\u6668"===a||"\u65e9\u4e0a"===a||"\u4e0a\u5348"===a?Y:"\u4e0b\u5348"===a||"\u665a\u4e0a"===a?Y+12:Y>=11?Y:Y+12},meridiem:function(Y,a,d){var J=100*Y+a;return J<600?"\u51cc\u6668":J<900?"\u65e9\u4e0a":J<1130?"\u4e0a\u5348":J<1230?"\u4e2d\u5348":J<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:function(Y){return Y.week()!==this.week()?"[\u4e0b]dddLT":"[\u672c]dddLT"},lastDay:"[\u6628\u5929]LT",lastWeek:function(Y){return this.week()!==Y.week()?"[\u4e0a]dddLT":"[\u672c]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(Y,a){switch(a){case"d":case"D":case"DDD":return Y+"\u65e5";case"M":return Y+"\u6708";case"w":case"W":return Y+"\u5468";default:return Y}},relativeTime:{future:"%s\u540e",past:"%s\u524d",s:"\u51e0\u79d2",ss:"%d \u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",w:"1 \u5468",ww:"%d \u5468",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},week:{dow:1,doy:4}})}(ae(5439))},8867:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("zh-hk",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(Y,a){return 12===Y&&(Y=0),"\u51cc\u6668"===a||"\u65e9\u4e0a"===a||"\u4e0a\u5348"===a?Y:"\u4e2d\u5348"===a?Y>=11?Y:Y+12:"\u4e0b\u5348"===a||"\u665a\u4e0a"===a?Y+12:void 0},meridiem:function(Y,a,d){var J=100*Y+a;return J<600?"\u51cc\u6668":J<900?"\u65e9\u4e0a":J<1200?"\u4e0a\u5348":1200===J?"\u4e2d\u5348":J<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929]LT",nextDay:"[\u660e\u5929]LT",nextWeek:"[\u4e0b]ddddLT",lastDay:"[\u6628\u5929]LT",lastWeek:"[\u4e0a]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(Y,a){switch(a){case"d":case"D":case"DDD":return Y+"\u65e5";case"M":return Y+"\u6708";case"w":case"W":return Y+"\u9031";default:return Y}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(ae(5439))},1133:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("zh-mo",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"D/M/YYYY",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(Y,a){return 12===Y&&(Y=0),"\u51cc\u6668"===a||"\u65e9\u4e0a"===a||"\u4e0a\u5348"===a?Y:"\u4e2d\u5348"===a?Y>=11?Y:Y+12:"\u4e0b\u5348"===a||"\u665a\u4e0a"===a?Y+12:void 0},meridiem:function(Y,a,d){var J=100*Y+a;return J<600?"\u51cc\u6668":J<900?"\u65e9\u4e0a":J<1130?"\u4e0a\u5348":J<1230?"\u4e2d\u5348":J<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(Y,a){switch(a){case"d":case"D":case"DDD":return Y+"\u65e5";case"M":return Y+"\u6708";case"w":case"W":return Y+"\u9031";default:return Y}},relativeTime:{future:"%s\u5167",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(ae(5439))},3291:function(ze,Ye,ae){!function(te){"use strict";te.defineLocale("zh-tw",{months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u9031\u65e5_\u9031\u4e00_\u9031\u4e8c_\u9031\u4e09_\u9031\u56db_\u9031\u4e94_\u9031\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5 HH:mm",LLLL:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(Y,a){return 12===Y&&(Y=0),"\u51cc\u6668"===a||"\u65e9\u4e0a"===a||"\u4e0a\u5348"===a?Y:"\u4e2d\u5348"===a?Y>=11?Y:Y+12:"\u4e0b\u5348"===a||"\u665a\u4e0a"===a?Y+12:void 0},meridiem:function(Y,a,d){var J=100*Y+a;return J<600?"\u51cc\u6668":J<900?"\u65e9\u4e0a":J<1130?"\u4e0a\u5348":J<1230?"\u4e2d\u5348":J<1800?"\u4e0b\u5348":"\u665a\u4e0a"},calendar:{sameDay:"[\u4eca\u5929] LT",nextDay:"[\u660e\u5929] LT",nextWeek:"[\u4e0b]dddd LT",lastDay:"[\u6628\u5929] LT",lastWeek:"[\u4e0a]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(Y,a){switch(a){case"d":case"D":case"DDD":return Y+"\u65e5";case"M":return Y+"\u6708";case"w":case"W":return Y+"\u9031";default:return Y}},relativeTime:{future:"%s\u5f8c",past:"%s\u524d",s:"\u5e7e\u79d2",ss:"%d \u79d2",m:"1 \u5206\u9418",mm:"%d \u5206\u9418",h:"1 \u5c0f\u6642",hh:"%d \u5c0f\u6642",d:"1 \u5929",dd:"%d \u5929",M:"1 \u500b\u6708",MM:"%d \u500b\u6708",y:"1 \u5e74",yy:"%d \u5e74"}})}(ae(5439))},5439:function(ze,Ye,ae){(ze=ae.nmd(ze)).exports=function(){"use strict";var te,Me;function A(){return te.apply(null,arguments)}function a(T){return T instanceof Array||"[object Array]"===Object.prototype.toString.call(T)}function d(T){return null!=T&&"[object Object]"===Object.prototype.toString.call(T)}function J(T,R){return Object.prototype.hasOwnProperty.call(T,R)}function Q(T){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(T).length;var R;for(R in T)if(J(T,R))return!1;return!0}function oe(T){return void 0===T}function ye(T){return"number"==typeof T||"[object Number]"===Object.prototype.toString.call(T)}function Oe(T){return T instanceof Date||"[object Date]"===Object.prototype.toString.call(T)}function ht(T,R){var se,K=[],_e=T.length;for(se=0;se<_e;++se)K.push(R(T[se],se));return K}function Te(T,R){for(var K in R)J(R,K)&&(T[K]=R[K]);return J(R,"toString")&&(T.toString=R.toString),J(R,"valueOf")&&(T.valueOf=R.valueOf),T}function gt(T,R,K,se){return Or(T,R,K,se,!0).utc()}function qe(T){return null==T._pf&&(T._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),T._pf}function Je(T){if(null==T._isValid){var R=qe(T),K=Me.call(R.parsedDateParts,function(_e){return null!=_e}),se=!isNaN(T._d.getTime())&&R.overflow<0&&!R.empty&&!R.invalidEra&&!R.invalidMonth&&!R.invalidWeekday&&!R.weekdayMismatch&&!R.nullInput&&!R.invalidFormat&&!R.userInvalidated&&(!R.meridiem||R.meridiem&&K);if(T._strict&&(se=se&&0===R.charsLeftOver&&0===R.unusedTokens.length&&void 0===R.bigHour),null!=Object.isFrozen&&Object.isFrozen(T))return se;T._isValid=se}return T._isValid}function yt(T){var R=gt(NaN);return null!=T?Te(qe(R),T):qe(R).userInvalidated=!0,R}Me=Array.prototype.some?Array.prototype.some:function(T){var se,R=Object(this),K=R.length>>>0;for(se=0;se<K;se++)if(se in R&&T.call(this,R[se],se,R))return!0;return!1};var Ke=A.momentProperties=[],Ve=!1;function ut(T,R){var K,se,_e,Pe=Ke.length;if(oe(R._isAMomentObject)||(T._isAMomentObject=R._isAMomentObject),oe(R._i)||(T._i=R._i),oe(R._f)||(T._f=R._f),oe(R._l)||(T._l=R._l),oe(R._strict)||(T._strict=R._strict),oe(R._tzm)||(T._tzm=R._tzm),oe(R._isUTC)||(T._isUTC=R._isUTC),oe(R._offset)||(T._offset=R._offset),oe(R._pf)||(T._pf=qe(R)),oe(R._locale)||(T._locale=R._locale),Pe>0)for(K=0;K<Pe;K++)oe(_e=R[se=Ke[K]])||(T[se]=_e);return T}function He(T){ut(this,T),this._d=new Date(null!=T._d?T._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Ve&&(Ve=!0,A.updateOffset(this),Ve=!1)}function vt(T){return T instanceof He||null!=T&&null!=T._isAMomentObject}function Rt(T){!1===A.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+T)}function Tt(T,R){var K=!0;return Te(function(){if(null!=A.deprecationHandler&&A.deprecationHandler(null,T),K){var _e,Pe,et,se=[],Ot=arguments.length;for(Pe=0;Pe<Ot;Pe++){if(_e="","object"==typeof arguments[Pe]){for(et in _e+="\n["+Pe+"] ",arguments[0])J(arguments[0],et)&&(_e+=et+": "+arguments[0][et]+", ");_e=_e.slice(0,-2)}else _e=arguments[Pe];se.push(_e)}Rt(T+"\nArguments: "+Array.prototype.slice.call(se).join("")+"\n"+(new Error).stack),K=!1}return R.apply(this,arguments)},R)}var Dn,Gt={};function sn(T,R){null!=A.deprecationHandler&&A.deprecationHandler(T,R),Gt[T]||(Rt(R),Gt[T]=!0)}function ki(T){return"undefined"!=typeof Function&&T instanceof Function||"[object Function]"===Object.prototype.toString.call(T)}function vr(T,R){var se,K=Te({},T);for(se in R)J(R,se)&&(d(T[se])&&d(R[se])?(K[se]={},Te(K[se],T[se]),Te(K[se],R[se])):null!=R[se]?K[se]=R[se]:delete K[se]);for(se in T)J(T,se)&&!J(R,se)&&d(T[se])&&(K[se]=Te({},K[se]));return K}function ti(T){null!=T&&this.set(T)}A.suppressDeprecationWarnings=!1,A.deprecationHandler=null,Dn=Object.keys?Object.keys:function(T){var R,K=[];for(R in T)J(T,R)&&K.push(R);return K};function En(T,R,K){var se=""+Math.abs(T);return(T>=0?K?"+":"":"-")+Math.pow(10,Math.max(0,R-se.length)).toString().substr(1)+se}var cn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ni=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,dr={},yn={};function Ut(T,R,K,se){var _e=se;"string"==typeof se&&(_e=function(){return this[se]()}),T&&(yn[T]=_e),R&&(yn[R[0]]=function(){return En(_e.apply(this,arguments),R[1],R[2])}),K&&(yn[K]=function(){return this.localeData().ordinal(_e.apply(this,arguments),T)})}function Sr(T){return T.match(/\[[\s\S]/)?T.replace(/^\[|\]$/g,""):T.replace(/\\/g,"")}function Mn(T,R){return T.isValid()?(R=ri(R,T.localeData()),dr[R]=dr[R]||function en(T){var K,se,R=T.match(cn);for(K=0,se=R.length;K<se;K++)R[K]=yn[R[K]]?yn[R[K]]:Sr(R[K]);return function(_e){var et,Pe="";for(et=0;et<se;et++)Pe+=ki(R[et])?R[et].call(_e,T):R[et];return Pe}}(R),dr[R](T)):T.localeData().invalidDate()}function ri(T,R){var K=5;function se(_e){return R.longDateFormat(_e)||_e}for(Ni.lastIndex=0;K>=0&&Ni.test(T);)T=T.replace(Ni,se),Ni.lastIndex=0,K-=1;return T}var hi={};function Di(T,R){var K=T.toLowerCase();hi[K]=hi[K+"s"]=hi[R]=T}function In(T){return"string"==typeof T?hi[T]||hi[T.toLowerCase()]:void 0}function Ci(T){var K,se,R={};for(se in T)J(T,se)&&(K=In(se))&&(R[K]=T[se]);return R}var fn={};function Wi(T,R){fn[T]=R}function Yi(T){return T%4==0&&T%100!=0||T%400==0}function Ii(T){return T<0?Math.ceil(T)||0:Math.floor(T)}function ci(T){var R=+T,K=0;return 0!==R&&isFinite(R)&&(K=Ii(R)),K}function rr(T,R){return function(K){return null!=K?(va(this,T,K),A.updateOffset(this,R),this):On(this,T)}}function On(T,R){return T.isValid()?T._d["get"+(T._isUTC?"UTC":"")+R]():NaN}function va(T,R,K){T.isValid()&&!isNaN(K)&&("FullYear"===R&&Yi(T.year())&&1===T.month()&&29===T.date()?(K=ci(K),T._d["set"+(T._isUTC?"UTC":"")+R](K,T.month(),Es(K,T.month()))):T._d["set"+(T._isUTC?"UTC":"")+R](K))}var Qt,Fa=/\d/,Rn=/\d\d/,ke=/\d{3}/,de=/\d{4}/,pe=/[+-]?\d{6}/,be=/\d\d?/,Ee=/\d\d\d\d?/,Fe=/\d\d\d\d\d\d?/,We=/\d{1,3}/,Ue=/\d{1,4}/,X=/[+-]?\d{1,6}/,$e=/\d+/,wt=/[+-]?\d+/,St=/Z|[+-]\d\d:?\d\d/gi,ft=/Z|[+-]\d\d(?::?\d\d)?/gi,ii=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function pt(T,R,K){Qt[T]=ki(R)?R:function(se,_e){return se&&K?K:R}}function _i(T,R){return J(Qt,T)?Qt[T](R._strict,R._locale):new RegExp(function _n(T){return Vi(T.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(R,K,se,_e,Pe){return K||se||_e||Pe}))}(T))}function Vi(T){return T.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Qt={};var Ln={};function oi(T,R){var K,_e,se=R;for("string"==typeof T&&(T=[T]),ye(R)&&(se=function(Pe,et){et[R]=ci(Pe)}),_e=T.length,K=0;K<_e;K++)Ln[T[K]]=se}function Li(T,R){oi(T,function(K,se,_e,Pe){_e._w=_e._w||{},R(K,_e._w,_e,Pe)})}function Zn(T,R,K){null!=R&&J(Ln,T)&&Ln[T](R,K._a,K,T)}var on;function Es(T,R){if(isNaN(T)||isNaN(R))return NaN;var K=function dn(T,R){return(T%R+R)%R}(R,12);return T+=(R-K)/12,1===K?Yi(T)?29:28:31-K%7%2}on=Array.prototype.indexOf?Array.prototype.indexOf:function(T){var R;for(R=0;R<this.length;++R)if(this[R]===T)return R;return-1},Ut("M",["MM",2],"Mo",function(){return this.month()+1}),Ut("MMM",0,0,function(T){return this.localeData().monthsShort(this,T)}),Ut("MMMM",0,0,function(T){return this.localeData().months(this,T)}),Di("month","M"),Wi("month",8),pt("M",be),pt("MM",be,Rn),pt("MMM",function(T,R){return R.monthsShortRegex(T)}),pt("MMMM",function(T,R){return R.monthsRegex(T)}),oi(["M","MM"],function(T,R){R[1]=ci(T)-1}),oi(["MMM","MMMM"],function(T,R,K,se){var _e=K._locale.monthsParse(T,se,K._strict);null!=_e?R[1]=_e:qe(K).invalidMonth=T});var zo="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ba="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ba=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ws=ii,nt=ii;function $n(T,R,K){var se,_e,Pe,et=T.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],se=0;se<12;++se)Pe=gt([2e3,se]),this._shortMonthsParse[se]=this.monthsShort(Pe,"").toLocaleLowerCase(),this._longMonthsParse[se]=this.months(Pe,"").toLocaleLowerCase();return K?"MMM"===R?-1!==(_e=on.call(this._shortMonthsParse,et))?_e:null:-1!==(_e=on.call(this._longMonthsParse,et))?_e:null:"MMM"===R?-1!==(_e=on.call(this._shortMonthsParse,et))||-1!==(_e=on.call(this._longMonthsParse,et))?_e:null:-1!==(_e=on.call(this._longMonthsParse,et))||-1!==(_e=on.call(this._shortMonthsParse,et))?_e:null}function ca(T,R){var K;if(!T.isValid())return T;if("string"==typeof R)if(/^\d+$/.test(R))R=ci(R);else if(!ye(R=T.localeData().monthsParse(R)))return T;return K=Math.min(T.date(),Es(T.year(),R)),T._d["set"+(T._isUTC?"UTC":"")+"Month"](R,K),T}function us(T){return null!=T?(ca(this,T),A.updateOffset(this,!0),this):On(this,"Month")}function mi(){function T(et,Ot){return Ot.length-et.length}var _e,Pe,R=[],K=[],se=[];for(_e=0;_e<12;_e++)Pe=gt([2e3,_e]),R.push(this.monthsShort(Pe,"")),K.push(this.months(Pe,"")),se.push(this.months(Pe,"")),se.push(this.monthsShort(Pe,""));for(R.sort(T),K.sort(T),se.sort(T),_e=0;_e<12;_e++)R[_e]=Vi(R[_e]),K[_e]=Vi(K[_e]);for(_e=0;_e<24;_e++)se[_e]=Vi(se[_e]);this._monthsRegex=new RegExp("^("+se.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+K.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+R.join("|")+")","i")}function li(T){return Yi(T)?366:365}Ut("Y",0,0,function(){var T=this.year();return T<=9999?En(T,4):"+"+T}),Ut(0,["YY",2],0,function(){return this.year()%100}),Ut(0,["YYYY",4],0,"year"),Ut(0,["YYYYY",5],0,"year"),Ut(0,["YYYYYY",6,!0],0,"year"),Di("year","y"),Wi("year",1),pt("Y",wt),pt("YY",be,Rn),pt("YYYY",Ue,de),pt("YYYYY",X,pe),pt("YYYYYY",X,pe),oi(["YYYYY","YYYYYY"],0),oi("YYYY",function(T,R){R[0]=2===T.length?A.parseTwoDigitYear(T):ci(T)}),oi("YY",function(T,R){R[0]=A.parseTwoDigitYear(T)}),oi("Y",function(T,R){R[0]=parseInt(T,10)}),A.parseTwoDigitYear=function(T){return ci(T)+(ci(T)>68?1900:2e3)};var Er=rr("FullYear",!0);function ei(T,R,K,se,_e,Pe,et){var Ot;return T<100&&T>=0?(Ot=new Date(T+400,R,K,se,_e,Pe,et),isFinite(Ot.getFullYear())&&Ot.setFullYear(T)):Ot=new Date(T,R,K,se,_e,Pe,et),Ot}function ar(T){var R,K;return T<100&&T>=0?((K=Array.prototype.slice.call(arguments))[0]=T+400,R=new Date(Date.UTC.apply(null,K)),isFinite(R.getUTCFullYear())&&R.setUTCFullYear(T)):R=new Date(Date.UTC.apply(null,arguments)),R}function Br(T,R,K){var se=7+R-K;return-(7+ar(T,0,se).getUTCDay()-R)%7+se-1}function ja(T,R,K,se,_e){var Xt,Ai,Ot=1+7*(R-1)+(7+K-se)%7+Br(T,se,_e);return Ot<=0?Ai=li(Xt=T-1)+Ot:Ot>li(T)?(Xt=T+1,Ai=Ot-li(T)):(Xt=T,Ai=Ot),{year:Xt,dayOfYear:Ai}}function sr(T,R,K){var Pe,et,se=Br(T.year(),R,K),_e=Math.floor((T.dayOfYear()-se-1)/7)+1;return _e<1?Pe=_e+Si(et=T.year()-1,R,K):_e>Si(T.year(),R,K)?(Pe=_e-Si(T.year(),R,K),et=T.year()+1):(et=T.year(),Pe=_e),{week:Pe,year:et}}function Si(T,R,K){var se=Br(T,R,K),_e=Br(T+1,R,K);return(li(T)-se+_e)/7}Ut("w",["ww",2],"wo","week"),Ut("W",["WW",2],"Wo","isoWeek"),Di("week","w"),Di("isoWeek","W"),Wi("week",5),Wi("isoWeek",5),pt("w",be),pt("ww",be,Rn),pt("W",be),pt("WW",be,Rn),Li(["w","ww","W","WW"],function(T,R,K,se){R[se.substr(0,1)]=ci(T)});function Ar(T,R){return T.slice(R,7).concat(T.slice(0,R))}Ut("d",0,"do","day"),Ut("dd",0,0,function(T){return this.localeData().weekdaysMin(this,T)}),Ut("ddd",0,0,function(T){return this.localeData().weekdaysShort(this,T)}),Ut("dddd",0,0,function(T){return this.localeData().weekdays(this,T)}),Ut("e",0,0,"weekday"),Ut("E",0,0,"isoWeekday"),Di("day","d"),Di("weekday","e"),Di("isoWeekday","E"),Wi("day",11),Wi("weekday",11),Wi("isoWeekday",11),pt("d",be),pt("e",be),pt("E",be),pt("dd",function(T,R){return R.weekdaysMinRegex(T)}),pt("ddd",function(T,R){return R.weekdaysShortRegex(T)}),pt("dddd",function(T,R){return R.weekdaysRegex(T)}),Li(["dd","ddd","dddd"],function(T,R,K,se){var _e=K._locale.weekdaysParse(T,se,K._strict);null!=_e?R.d=_e:qe(K).invalidWeekday=T}),Li(["d","e","E"],function(T,R,K,se){R[se]=ci(T)});var As="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),tr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),mn="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),cl=ii,ul=ii,pr=ii;function Gi(T,R,K){var se,_e,Pe,et=T.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],se=0;se<7;++se)Pe=gt([2e3,1]).day(se),this._minWeekdaysParse[se]=this.weekdaysMin(Pe,"").toLocaleLowerCase(),this._shortWeekdaysParse[se]=this.weekdaysShort(Pe,"").toLocaleLowerCase(),this._weekdaysParse[se]=this.weekdays(Pe,"").toLocaleLowerCase();return K?"dddd"===R?-1!==(_e=on.call(this._weekdaysParse,et))?_e:null:"ddd"===R?-1!==(_e=on.call(this._shortWeekdaysParse,et))?_e:null:-1!==(_e=on.call(this._minWeekdaysParse,et))?_e:null:"dddd"===R?-1!==(_e=on.call(this._weekdaysParse,et))||-1!==(_e=on.call(this._shortWeekdaysParse,et))||-1!==(_e=on.call(this._minWeekdaysParse,et))?_e:null:"ddd"===R?-1!==(_e=on.call(this._shortWeekdaysParse,et))||-1!==(_e=on.call(this._weekdaysParse,et))||-1!==(_e=on.call(this._minWeekdaysParse,et))?_e:null:-1!==(_e=on.call(this._minWeekdaysParse,et))||-1!==(_e=on.call(this._weekdaysParse,et))||-1!==(_e=on.call(this._shortWeekdaysParse,et))?_e:null}function fr(){function T(Pi,Kn){return Kn.length-Pi.length}var Pe,et,Ot,Xt,Ai,R=[],K=[],se=[],_e=[];for(Pe=0;Pe<7;Pe++)et=gt([2e3,1]).day(Pe),Ot=Vi(this.weekdaysMin(et,"")),Xt=Vi(this.weekdaysShort(et,"")),Ai=Vi(this.weekdays(et,"")),R.push(Ot),K.push(Xt),se.push(Ai),_e.push(Ot),_e.push(Xt),_e.push(Ai);R.sort(T),K.sort(T),se.sort(T),_e.sort(T),this._weekdaysRegex=new RegExp("^("+_e.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+se.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+K.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+R.join("|")+")","i")}function Ha(){return this.hours()%12||12}function $s(T,R){Ut(T,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),R)})}function Hr(T,R){return R._meridiemParse}Ut("H",["HH",2],0,"hour"),Ut("h",["hh",2],0,Ha),Ut("k",["kk",2],0,function qs(){return this.hours()||24}),Ut("hmm",0,0,function(){return""+Ha.apply(this)+En(this.minutes(),2)}),Ut("hmmss",0,0,function(){return""+Ha.apply(this)+En(this.minutes(),2)+En(this.seconds(),2)}),Ut("Hmm",0,0,function(){return""+this.hours()+En(this.minutes(),2)}),Ut("Hmmss",0,0,function(){return""+this.hours()+En(this.minutes(),2)+En(this.seconds(),2)}),$s("a",!0),$s("A",!1),Di("hour","h"),Wi("hour",13),pt("a",Hr),pt("A",Hr),pt("H",be),pt("h",be),pt("k",be),pt("HH",be,Rn),pt("hh",be,Rn),pt("kk",be,Rn),pt("hmm",Ee),pt("hmmss",Fe),pt("Hmm",Ee),pt("Hmmss",Fe),oi(["H","HH"],3),oi(["k","kk"],function(T,R,K){var se=ci(T);R[3]=24===se?0:se}),oi(["a","A"],function(T,R,K){K._isPm=K._locale.isPM(T),K._meridiem=T}),oi(["h","hh"],function(T,R,K){R[3]=ci(T),qe(K).bigHour=!0}),oi("hmm",function(T,R,K){var se=T.length-2;R[3]=ci(T.substr(0,se)),R[4]=ci(T.substr(se)),qe(K).bigHour=!0}),oi("hmmss",function(T,R,K){var se=T.length-4,_e=T.length-2;R[3]=ci(T.substr(0,se)),R[4]=ci(T.substr(se,2)),R[5]=ci(T.substr(_e)),qe(K).bigHour=!0}),oi("Hmm",function(T,R,K){var se=T.length-2;R[3]=ci(T.substr(0,se)),R[4]=ci(T.substr(se))}),oi("Hmmss",function(T,R,K){var se=T.length-4,_e=T.length-2;R[3]=ci(T.substr(0,se)),R[4]=ci(T.substr(se,2)),R[5]=ci(T.substr(_e))});var Ps=rr("Hours",!0);var wa,Is={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:zo,monthsShort:Ba,week:{dow:0,doy:6},weekdays:As,weekdaysMin:mn,weekdaysShort:tr,meridiemParse:/[ap]\.?m?\.?/i},Xi={},Ua={};function hs(T,R){var K,se=Math.min(T.length,R.length);for(K=0;K<se;K+=1)if(T[K]!==R[K])return K;return se}function Fo(T){return T&&T.toLowerCase().replace("_","-")}function Os(T){var R=null;if(void 0===Xi[T]&&ze&&ze.exports&&function Xs(T){return null!=T.match("^[^/\\\\]*$")}(T))try{R=wa._abbr,ae(6700)("./"+T),Nr(R)}catch(se){Xi[T]=null}return Xi[T]}function Nr(T,R){var K;return T&&((K=oe(R)?Ir(T):zi(T,R))?wa=K:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+T+" not found. Did you forget to load it?")),wa._abbr}function zi(T,R){if(null!==R){var K,se=Is;if(R.abbr=T,null!=Xi[T])sn("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),se=Xi[T]._config;else if(null!=R.parentLocale)if(null!=Xi[R.parentLocale])se=Xi[R.parentLocale]._config;else{if(null==(K=Os(R.parentLocale)))return Ua[R.parentLocale]||(Ua[R.parentLocale]=[]),Ua[R.parentLocale].push({name:T,config:R}),null;se=K._config}return Xi[T]=new ti(vr(se,R)),Ua[T]&&Ua[T].forEach(function(_e){zi(_e.name,_e.config)}),Nr(T),Xi[T]}return delete Xi[T],null}function Ir(T){var R;if(T&&T._locale&&T._locale._abbr&&(T=T._locale._abbr),!T)return wa;if(!a(T)){if(R=Os(T))return R;T=[T]}return function xr(T){for(var K,se,_e,Pe,R=0;R<T.length;){for(K=(Pe=Fo(T[R]).split("-")).length,se=(se=Fo(T[R+1]))?se.split("-"):null;K>0;){if(_e=Os(Pe.slice(0,K).join("-")))return _e;if(se&&se.length>=K&&hs(Pe,se)>=K-1)break;K--}R++}return wa}(T)}function ps(T){var R,K=T._a;return K&&-2===qe(T).overflow&&(R=K[1]<0||K[1]>11?1:K[2]<1||K[2]>Es(K[0],K[1])?2:K[3]<0||K[3]>24||24===K[3]&&(0!==K[4]||0!==K[5]||0!==K[6])?3:K[4]<0||K[4]>59?4:K[5]<0||K[5]>59?5:K[6]<0||K[6]>999?6:-1,qe(T)._overflowDayOfYear&&(R<0||R>2)&&(R=2),qe(T)._overflowWeeks&&-1===R&&(R=7),qe(T)._overflowWeekday&&-1===R&&(R=8),qe(T).overflow=R),T}var pl=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fs=/Z|[+-]\d\d(?::?\d\d)?/,pa=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],_s=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ma=/^\/?Date\((-?\d+)/i,Wa=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ga={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Js(T){var R,K,Pe,et,Ot,Xt,se=T._i,_e=pl.exec(se)||xo.exec(se),Ai=pa.length,Pi=_s.length;if(_e){for(qe(T).iso=!0,R=0,K=Ai;R<K;R++)if(pa[R][1].exec(_e[1])){et=pa[R][0],Pe=!1!==pa[R][2];break}if(null==et)return void(T._isValid=!1);if(_e[3]){for(R=0,K=Pi;R<K;R++)if(_s[R][1].exec(_e[3])){Ot=(_e[2]||" ")+_s[R][0];break}if(null==Ot)return void(T._isValid=!1)}if(!Pe&&null!=Ot)return void(T._isValid=!1);if(_e[4]){if(!fs.exec(_e[4]))return void(T._isValid=!1);Xt="Z"}T._f=et+(Ot||"")+(Xt||""),ea(T)}else T._isValid=!1}function jo(T){var R=parseInt(T,10);return R<=49?2e3+R:R<=999?1900+R:R}function Za(T){var K,R=Wa.exec(function Vo(T){return T.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(T._i));if(R){if(K=function ms(T,R,K,se,_e,Pe){var et=[jo(T),Ba.indexOf(R),parseInt(K,10),parseInt(se,10),parseInt(_e,10)];return Pe&&et.push(parseInt(Pe,10)),et}(R[4],R[3],R[2],R[5],R[6],R[7]),!function Zi(T,R,K){return!T||tr.indexOf(T)===new Date(R[0],R[1],R[2]).getDay()||(qe(K).weekdayMismatch=!0,K._isValid=!1,!1)}(R[1],K,T))return;T._a=K,T._tzm=function wo(T,R,K){if(T)return Ga[T];if(R)return 0;var se=parseInt(K,10),_e=se%100;return(se-_e)/100*60+_e}(R[8],R[9],R[10]),T._d=ar.apply(null,T._a),T._d.setUTCMinutes(T._d.getUTCMinutes()-T._tzm),qe(T).rfc2822=!0}else T._isValid=!1}function Qr(T,R,K){return null!=T?T:null!=R?R:K}function Ta(T){var R,K,_e,Pe,et,se=[];if(!T._d){for(_e=function fl(T){var R=new Date(A.now());return T._useUTC?[R.getUTCFullYear(),R.getUTCMonth(),R.getUTCDate()]:[R.getFullYear(),R.getMonth(),R.getDate()]}(T),T._w&&null==T._a[2]&&null==T._a[1]&&function Ho(T){var R,K,se,_e,Pe,et,Ot,Xt,Ai;null!=(R=T._w).GG||null!=R.W||null!=R.E?(Pe=1,et=4,K=Qr(R.GG,T._a[0],sr(Fi(),1,4).year),se=Qr(R.W,1),((_e=Qr(R.E,1))<1||_e>7)&&(Xt=!0)):(Pe=T._locale._week.dow,et=T._locale._week.doy,Ai=sr(Fi(),Pe,et),K=Qr(R.gg,T._a[0],Ai.year),se=Qr(R.w,Ai.week),null!=R.d?((_e=R.d)<0||_e>6)&&(Xt=!0):null!=R.e?(_e=R.e+Pe,(R.e<0||R.e>6)&&(Xt=!0)):_e=Pe),se<1||se>Si(K,Pe,et)?qe(T)._overflowWeeks=!0:null!=Xt?qe(T)._overflowWeekday=!0:(Ot=ja(K,se,_e,Pe,et),T._a[0]=Ot.year,T._dayOfYear=Ot.dayOfYear)}(T),null!=T._dayOfYear&&(et=Qr(T._a[0],_e[0]),(T._dayOfYear>li(et)||0===T._dayOfYear)&&(qe(T)._overflowDayOfYear=!0),K=ar(et,0,T._dayOfYear),T._a[1]=K.getUTCMonth(),T._a[2]=K.getUTCDate()),R=0;R<3&&null==T._a[R];++R)T._a[R]=se[R]=_e[R];for(;R<7;R++)T._a[R]=se[R]=null==T._a[R]?2===R?1:0:T._a[R];24===T._a[3]&&0===T._a[4]&&0===T._a[5]&&0===T._a[6]&&(T._nextDay=!0,T._a[3]=0),T._d=(T._useUTC?ar:ei).apply(null,se),Pe=T._useUTC?T._d.getUTCDay():T._d.getDay(),null!=T._tzm&&T._d.setUTCMinutes(T._d.getUTCMinutes()-T._tzm),T._nextDay&&(T._a[3]=24),T._w&&void 0!==T._w.d&&T._w.d!==Pe&&(qe(T).weekdayMismatch=!0)}}function ea(T){if(T._f!==A.ISO_8601)if(T._f!==A.RFC_2822){T._a=[],qe(T).empty=!0;var K,se,_e,Pe,et,Ai,Pi,R=""+T._i,Ot=R.length,Xt=0;for(Pi=(_e=ri(T._f,T._locale).match(cn)||[]).length,K=0;K<Pi;K++)(se=(R.match(_i(Pe=_e[K],T))||[])[0])&&((et=R.substr(0,R.indexOf(se))).length>0&&qe(T).unusedInput.push(et),R=R.slice(R.indexOf(se)+se.length),Xt+=se.length),yn[Pe]?(se?qe(T).empty=!1:qe(T).unusedTokens.push(Pe),Zn(Pe,se,T)):T._strict&&!se&&qe(T).unusedTokens.push(Pe);qe(T).charsLeftOver=Ot-Xt,R.length>0&&qe(T).unusedInput.push(R),T._a[3]<=12&&!0===qe(T).bigHour&&T._a[3]>0&&(qe(T).bigHour=void 0),qe(T).parsedDateParts=T._a.slice(0),qe(T).meridiem=T._meridiem,T._a[3]=function gs(T,R,K){var se;return null==K?R:null!=T.meridiemHour?T.meridiemHour(R,K):(null!=T.isPM&&((se=T.isPM(K))&&R<12&&(R+=12),!se&&12===R&&(R=0)),R)}(T._locale,T._a[3],T._meridiem),null!==(Ai=qe(T).era)&&(T._a[0]=T._locale.erasConvertYear(Ai,T._a[0])),Ta(T),ps(T)}else Za(T);else Js(T)}function Rs(T){var R=T._i,K=T._f;return T._locale=T._locale||Ir(T._l),null===R||void 0===K&&""===R?yt({nullInput:!0}):("string"==typeof R&&(T._i=R=T._locale.preparse(R)),vt(R)?new He(ps(R)):(Oe(R)?T._d=R:a(K)?function Ji(T){var R,K,se,_e,Pe,et,Ot=!1,Xt=T._f.length;if(0===Xt)return qe(T).invalidFormat=!0,void(T._d=new Date(NaN));for(_e=0;_e<Xt;_e++)Pe=0,et=!1,R=ut({},T),null!=T._useUTC&&(R._useUTC=T._useUTC),R._f=T._f[_e],ea(R),Je(R)&&(et=!0),Pe+=qe(R).charsLeftOver,Pe+=10*qe(R).unusedTokens.length,qe(R).score=Pe,Ot?Pe<se&&(se=Pe,K=R):(null==se||Pe<se||et)&&(se=Pe,K=R,et&&(Ot=!0));Te(T,K||R)}(T):K?ea(T):function No(T){var R=T._i;oe(R)?T._d=new Date(A.now()):Oe(R)?T._d=new Date(R.valueOf()):"string"==typeof R?function Oi(T){var R=Ma.exec(T._i);null===R?(Js(T),!1===T._isValid&&(delete T._isValid,Za(T),!1===T._isValid&&(delete T._isValid,T._strict?T._isValid=!1:A.createFromInputFallback(T)))):T._d=new Date(+R[1])}(T):a(R)?(T._a=ht(R.slice(0),function(K){return parseInt(K,10)}),Ta(T)):d(R)?function Ks(T){if(!T._d){var R=Ci(T._i);T._a=ht([R.year,R.month,void 0===R.day?R.date:R.day,R.hour,R.minute,R.second,R.millisecond],function(se){return se&&parseInt(se,10)}),Ta(T)}}(T):ye(R)?T._d=new Date(R):A.createFromInputFallback(T)}(T),Je(T)||(T._d=null),T))}function Or(T,R,K,se,_e){var Pe={};return(!0===R||!1===R)&&(se=R,R=void 0),(!0===K||!1===K)&&(se=K,K=void 0),(d(T)&&Q(T)||a(T)&&0===T.length)&&(T=void 0),Pe._isAMomentObject=!0,Pe._useUTC=Pe._isUTC=_e,Pe._l=K,Pe._i=T,Pe._f=R,Pe._strict=se,function qa(T){var R=new He(ps(Rs(T)));return R._nextDay&&(R.add(1,"d"),R._nextDay=void 0),R}(Pe)}function Fi(T,R,K,se){return Or(T,R,K,se,!1)}A.createFromInputFallback=Tt("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(T){T._d=new Date(T._i+(T._useUTC?" UTC":""))}),A.ISO_8601=function(){},A.RFC_2822=function(){};var Uo=Tt("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var T=Fi.apply(null,arguments);return this.isValid()&&T.isValid()?T<this?this:T:yt()}),Mo=Tt("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var T=Fi.apply(null,arguments);return this.isValid()&&T.isValid()?T>this?this:T:yt()});function Ll(T,R){var K,se;if(1===R.length&&a(R[0])&&(R=R[0]),!R.length)return Fi();for(K=R[0],se=1;se<R.length;++se)(!R[se].isValid()||R[se][T](K))&&(K=R[se]);return K}var Ur=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ys(T){var R=Ci(T),K=R.year||0,se=R.quarter||0,_e=R.month||0,Pe=R.week||R.isoWeek||0,et=R.day||0,Ot=R.hour||0,Xt=R.minute||0,Ai=R.second||0,Pi=R.millisecond||0;this._isValid=function _l(T){var R,se,K=!1,_e=Ur.length;for(R in T)if(J(T,R)&&(-1===on.call(Ur,R)||null!=T[R]&&isNaN(T[R])))return!1;for(se=0;se<_e;++se)if(T[Ur[se]]){if(K)return!1;parseFloat(T[Ur[se]])!==ci(T[Ur[se]])&&(K=!0)}return!0}(R),this._milliseconds=+Pi+1e3*Ai+6e4*Xt+1e3*Ot*60*60,this._days=+et+7*Pe,this._months=+_e+3*se+12*K,this._data={},this._locale=Ir(),this._bubble()}function $a(T){return T instanceof ys}function to(T){return T<0?-1*Math.round(-1*T):Math.round(T)}function Sl(T,R){Ut(T,0,0,function(){var K=this.utcOffset(),se="+";return K<0&&(K=-K,se="-"),se+En(~~(K/60),2)+R+En(~~K%60,2)})}Sl("Z",":"),Sl("ZZ",""),pt("Z",ft),pt("ZZ",ft),oi(["Z","ZZ"],function(T,R,K){K._useUTC=!0,K._tzm=vs(ft,T)});var io=/([\+\-]|\d\d)/gi;function vs(T,R){var _e,Pe,K=(R||"").match(T);return null===K?null:0===(Pe=60*(_e=((K[K.length-1]||[])+"").match(io)||["-",0,0])[1]+ci(_e[2]))?0:"+"===_e[0]?Pe:-Pe}function Xa(T,R){var K,se;return R._isUTC?(K=R.clone(),se=(vt(T)||Oe(T)?T.valueOf():Fi(T).valueOf())-K.valueOf(),K._d.setTime(K._d.valueOf()+se),A.updateOffset(K,!1),K):Fi(T).local()}function fa(T){return-Math.round(T._d.getTimezoneOffset())}function ws(){return!!this.isValid()&&this._isUTC&&0===this._offset}A.updateOffset=function(){};var $l=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Cl=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ta(T,R){var _e,Pe,et,K=T,se=null;return $a(T)?K={ms:T._milliseconds,d:T._days,M:T._months}:ye(T)||!isNaN(+T)?(K={},R?K[R]=+T:K.milliseconds=+T):(se=$l.exec(T))?(_e="-"===se[1]?-1:1,K={y:0,d:ci(se[2])*_e,h:ci(se[3])*_e,m:ci(se[4])*_e,s:ci(se[5])*_e,ms:ci(to(1e3*se[6]))*_e}):(se=Cl.exec(T))?K={y:Ms(se[2],_e="-"===se[1]?-1:1),M:Ms(se[3],_e),w:Ms(se[4],_e),d:Ms(se[5],_e),h:Ms(se[6],_e),m:Ms(se[7],_e),s:Ms(se[8],_e)}:null==K?K={}:"object"==typeof K&&("from"in K||"to"in K)&&(et=function Ts(T,R){var K;return T.isValid()&&R.isValid()?(R=Xa(R,T),T.isBefore(R)?K=Ja(T,R):((K=Ja(R,T)).milliseconds=-K.milliseconds,K.months=-K.months),K):{milliseconds:0,months:0}}(Fi(K.from),Fi(K.to)),(K={}).ms=et.milliseconds,K.M=et.months),Pe=new ys(K),$a(T)&&J(T,"_locale")&&(Pe._locale=T._locale),$a(T)&&J(T,"_isValid")&&(Pe._isValid=T._isValid),Pe}function Ms(T,R){var K=T&&parseFloat(T.replace(",","."));return(isNaN(K)?0:K)*R}function Ja(T,R){var K={};return K.months=R.month()-T.month()+12*(R.year()-T.year()),T.clone().add(K.months,"M").isAfter(R)&&--K.months,K.milliseconds=+R-+T.clone().add(K.months,"M"),K}function Zo(T,R){return function(K,se){var Pe;return null!==se&&!isNaN(+se)&&(sn(R,"moment()."+R+"(period, number) is deprecated. Please use moment()."+R+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Pe=K,K=se,se=Pe),ma(this,ta(K,se),T),this}}function ma(T,R,K,se){var _e=R._milliseconds,Pe=to(R._days),et=to(R._months);!T.isValid()||(se=null==se||se,et&&ca(T,On(T,"Month")+et*K),Pe&&va(T,"Date",On(T,"Date")+Pe*K),_e&&T._d.setTime(T._d.valueOf()+_e*K),se&&A.updateOffset(T,Pe||et))}ta.fn=ys.prototype,ta.invalid=function eo(){return ta(NaN)};var ia=Zo(1,"add"),qo=Zo(-1,"subtract");function Mr(T){return"string"==typeof T||T instanceof String}function ko(T){return vt(T)||Oe(T)||Mr(T)||ye(T)||function ga(T){var R=a(T),K=!1;return R&&(K=0===T.filter(function(se){return!ye(se)&&Mr(T)}).length),R&&K}(T)||function El(T){var _e,R=d(T)&&!Q(T),K=!1,se=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],et=se.length;for(_e=0;_e<et;_e+=1)K=K||J(T,se[_e]);return R&&K}(T)||null==T}function Ka(T){var _e,R=d(T)&&!Q(T),K=!1,se=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(_e=0;_e<se.length;_e+=1)K=K||J(T,se[_e]);return R&&K}function Do(T,R){if(T.date()<R.date())return-Do(R,T);var K=12*(R.year()-T.year())+(R.month()-T.month()),se=T.clone().add(K,"months");return-(K+(R-se<0?(R-se)/(se-T.clone().add(K-1,"months")):(R-se)/(T.clone().add(K+1,"months")-se)))||0}function at(T){var R;return void 0===T?this._locale._abbr:(null!=(R=Ir(T))&&(this._locale=R),this)}A.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",A.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var yi=Tt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(T){return void 0===T?this.localeData():this.locale(T)});function Ki(){return this._locale}var or=6e4,vn=60*or,ks=3506328*vn;function Qa(T,R){return(T%R+R)%R}function Pl(T,R,K){return T<100&&T>=0?new Date(T+400,R,K)-ks:new Date(T,R,K).valueOf()}function so(T,R,K){return T<100&&T>=0?Date.UTC(T+400,R,K)-ks:Date.UTC(T,R,K)}function gl(T,R){return R.erasAbbrRegex(T)}function js(){var _e,Pe,T=[],R=[],K=[],se=[],et=this.eras();for(_e=0,Pe=et.length;_e<Pe;++_e)R.push(Vi(et[_e].name)),T.push(Vi(et[_e].abbr)),K.push(Vi(et[_e].narrow)),se.push(Vi(et[_e].name)),se.push(Vi(et[_e].abbr)),se.push(Vi(et[_e].narrow));this._erasRegex=new RegExp("^("+se.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+R.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+T.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+K.join("|")+")","i")}function tl(T,R){Ut(0,[T,T.length],0,R)}function es(T,R,K,se,_e){var Pe;return null==T?sr(this,se,_e).year:(R>(Pe=Si(T,se,_e))&&(R=Pe),lo.call(this,T,R,K,se,_e))}function lo(T,R,K,se,_e){var Pe=ja(T,R,K,se,_e),et=ar(Pe.year,0,Pe.dayOfYear);return this.year(et.getUTCFullYear()),this.month(et.getUTCMonth()),this.date(et.getUTCDate()),this}Ut("N",0,0,"eraAbbr"),Ut("NN",0,0,"eraAbbr"),Ut("NNN",0,0,"eraAbbr"),Ut("NNNN",0,0,"eraName"),Ut("NNNNN",0,0,"eraNarrow"),Ut("y",["y",1],"yo","eraYear"),Ut("y",["yy",2],0,"eraYear"),Ut("y",["yyy",3],0,"eraYear"),Ut("y",["yyyy",4],0,"eraYear"),pt("N",gl),pt("NN",gl),pt("NNN",gl),pt("NNNN",function nc(T,R){return R.erasNameRegex(T)}),pt("NNNNN",function oo(T,R){return R.erasNarrowRegex(T)}),oi(["N","NN","NNN","NNNN","NNNNN"],function(T,R,K,se){var _e=K._locale.erasParse(T,se,K._strict);_e?qe(K).era=_e:qe(K).invalidEra=T}),pt("y",$e),pt("yy",$e),pt("yyy",$e),pt("yyyy",$e),pt("yo",function _r(T,R){return R._eraYearOrdinalRegex||$e}),oi(["y","yy","yyy","yyyy"],0),oi(["yo"],function(T,R,K,se){var _e;K._locale._eraYearOrdinalRegex&&(_e=T.match(K._locale._eraYearOrdinalRegex)),R[0]=K._locale.eraYearOrdinalParse?K._locale.eraYearOrdinalParse(T,_e):parseInt(T,10)}),Ut(0,["gg",2],0,function(){return this.weekYear()%100}),Ut(0,["GG",2],0,function(){return this.isoWeekYear()%100}),tl("gggg","weekYear"),tl("ggggg","weekYear"),tl("GGGG","isoWeekYear"),tl("GGGGG","isoWeekYear"),Di("weekYear","gg"),Di("isoWeekYear","GG"),Wi("weekYear",1),Wi("isoWeekYear",1),pt("G",wt),pt("g",wt),pt("GG",be,Rn),pt("gg",be,Rn),pt("GGGG",Ue,de),pt("gggg",Ue,de),pt("GGGGG",X,pe),pt("ggggg",X,pe),Li(["gggg","ggggg","GGGG","GGGGG"],function(T,R,K,se){R[se.substr(0,2)]=ci(T)}),Li(["gg","GG"],function(T,R,K,se){R[se]=A.parseTwoDigitYear(T)}),Ut("Q",0,"Qo","quarter"),Di("quarter","Q"),Wi("quarter",7),pt("Q",Fa),oi("Q",function(T,R){R[1]=3*(ci(T)-1)}),Ut("D",["DD",2],"Do","date"),Di("date","D"),Wi("date",9),pt("D",be),pt("DD",be,Rn),pt("Do",function(T,R){return T?R._dayOfMonthOrdinalParse||R._ordinalParse:R._dayOfMonthOrdinalParseLenient}),oi(["D","DD"],2),oi("Do",function(T,R){R[2]=ci(T.match(be)[0])});var Bt=rr("Date",!0);Ut("DDD",["DDDD",3],"DDDo","dayOfYear"),Di("dayOfYear","DDD"),Wi("dayOfYear",4),pt("DDD",We),pt("DDDD",ke),oi(["DDD","DDDD"],function(T,R,K){K._dayOfYear=ci(T)}),Ut("m",["mm",2],0,"minute"),Di("minute","m"),Wi("minute",14),pt("m",be),pt("mm",be,Rn),oi(["m","mm"],4);var ac=rr("Minutes",!1);Ut("s",["ss",2],0,"second"),Di("second","s"),Wi("second",15),pt("s",be),pt("ss",be,Rn),oi(["s","ss"],5);var na,It,il=rr("Seconds",!1);for(Ut("S",0,0,function(){return~~(this.millisecond()/100)}),Ut(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Ut(0,["SSS",3],0,"millisecond"),Ut(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Ut(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Ut(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Ut(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Ut(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Ut(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Di("millisecond","ms"),Wi("millisecond",16),pt("S",We,Fa),pt("SS",We,Rn),pt("SSS",We,ke),na="SSSS";na.length<=9;na+="S")pt(na,$e);function sc(T,R){R[6]=ci(1e3*("0."+T))}for(na="S";na.length<=9;na+="S")oi(na,sc);It=rr("Milliseconds",!1),Ut("z",0,0,"zoneAbbr"),Ut("zz",0,0,"zoneName");var Et=He.prototype;function kc(T){return T}Et.add=ia,Et.calendar=function no(T,R){1===arguments.length&&(arguments[0]?ko(arguments[0])?(T=arguments[0],R=void 0):Ka(arguments[0])&&(R=arguments[0],T=void 0):(T=void 0,R=void 0));var K=T||Fi(),se=Xa(K,this).startOf("day"),_e=A.calendarFormat(this,se)||"sameElse",Pe=R&&(ki(R[_e])?R[_e].call(this,K):R[_e]);return this.format(Pe||this.localeData().calendar(_e,this,Fi(K)))},Et.clone=function Bi(){return new He(this)},Et.diff=function Sa(T,R,K){var se,_e,Pe;if(!this.isValid())return NaN;if(!(se=Xa(T,this)).isValid())return NaN;switch(_e=6e4*(se.utcOffset()-this.utcOffset()),R=In(R)){case"year":Pe=Do(this,se)/12;break;case"month":Pe=Do(this,se);break;case"quarter":Pe=Do(this,se)/3;break;case"second":Pe=(this-se)/1e3;break;case"minute":Pe=(this-se)/6e4;break;case"hour":Pe=(this-se)/36e5;break;case"day":Pe=(this-se-_e)/864e5;break;case"week":Pe=(this-se-_e)/6048e5;break;default:Pe=this-se}return K?Pe:Ii(Pe)},Et.endOf=function Xo(T){var R,K;if(void 0===(T=In(T))||"millisecond"===T||!this.isValid())return this;switch(K=this._isUTC?so:Pl,T){case"year":R=K(this.year()+1,0,1)-1;break;case"quarter":R=K(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":R=K(this.year(),this.month()+1,1)-1;break;case"week":R=K(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":R=K(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":R=K(this.year(),this.month(),this.date()+1)-1;break;case"hour":R=this._d.valueOf(),R+=vn-Qa(R+(this._isUTC?0:this.utcOffset()*or),vn)-1;break;case"minute":R=this._d.valueOf(),R+=or-Qa(R,or)-1;break;case"second":R=this._d.valueOf(),R+=1e3-Qa(R,1e3)-1}return this._d.setTime(R),A.updateOffset(this,!0),this},Et.format=function j(T){T||(T=this.isUtc()?A.defaultFormatUtc:A.defaultFormat);var R=Mn(this,T);return this.localeData().postformat(R)},Et.from=function W(T,R){return this.isValid()&&(vt(T)&&T.isValid()||Fi(T).isValid())?ta({to:this,from:T}).locale(this.locale()).humanize(!R):this.localeData().invalidDate()},Et.fromNow=function ue(T){return this.from(Fi(),T)},Et.to=function De(T,R){return this.isValid()&&(vt(T)&&T.isValid()||Fi(T).isValid())?ta({from:this,to:T}).locale(this.locale()).humanize(!R):this.localeData().invalidDate()},Et.toNow=function rt(T){return this.to(Fi(),T)},Et.get=function Zt(T){return ki(this[T=In(T)])?this[T]():this},Et.invalidAt=function Il(){return qe(this).overflow},Et.isAfter=function Tr(T,R){var K=vt(T)?T:Fi(T);return!(!this.isValid()||!K.isValid())&&("millisecond"===(R=In(R)||"millisecond")?this.valueOf()>K.valueOf():K.valueOf()<this.clone().startOf(R).valueOf())},Et.isBefore=function ro(T,R){var K=vt(T)?T:Fi(T);return!(!this.isValid()||!K.isValid())&&("millisecond"===(R=In(R)||"millisecond")?this.valueOf()<K.valueOf():this.clone().endOf(R).valueOf()<K.valueOf())},Et.isBetween=function Tn(T,R,K,se){var _e=vt(T)?T:Fi(T),Pe=vt(R)?R:Fi(R);return!!(this.isValid()&&_e.isValid()&&Pe.isValid())&&("("===(se=se||"()")[0]?this.isAfter(_e,K):!this.isBefore(_e,K))&&(")"===se[1]?this.isBefore(Pe,K):!this.isAfter(Pe,K))},Et.isSame=function Wr(T,R){var se,K=vt(T)?T:Fi(T);return!(!this.isValid()||!K.isValid())&&("millisecond"===(R=In(R)||"millisecond")?this.valueOf()===K.valueOf():(se=K.valueOf(),this.clone().startOf(R).valueOf()<=se&&se<=this.clone().endOf(R).valueOf()))},Et.isSameOrAfter=function Al(T,R){return this.isSame(T,R)||this.isAfter(T,R)},Et.isSameOrBefore=function Bs(T,R){return this.isSame(T,R)||this.isBefore(T,R)},Et.isValid=function Ea(){return Je(this)},Et.lang=yi,Et.locale=at,Et.localeData=Ki,Et.max=Mo,Et.min=Uo,Et.parsingFlags=function Ko(){return Te({},qe(this))},Et.set=function oa(T,R){if("object"==typeof T){var se,K=function Cr(T){var K,R=[];for(K in T)J(T,K)&&R.push({unit:K,priority:fn[K]});return R.sort(function(se,_e){return se.priority-_e.priority}),R}(T=Ci(T)),_e=K.length;for(se=0;se<_e;se++)this[K[se].unit](T[K[se].unit])}else if(ki(this[T=In(T)]))return this[T](R);return this},Et.startOf=function Xl(T){var R,K;if(void 0===(T=In(T))||"millisecond"===T||!this.isValid())return this;switch(K=this._isUTC?so:Pl,T){case"year":R=K(this.year(),0,1);break;case"quarter":R=K(this.year(),this.month()-this.month()%3,1);break;case"month":R=K(this.year(),this.month(),1);break;case"week":R=K(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":R=K(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":R=K(this.year(),this.month(),this.date());break;case"hour":R=this._d.valueOf(),R-=Qa(R+(this._isUTC?0:this.utcOffset()*or),vn);break;case"minute":R=this._d.valueOf(),R-=Qa(R,or);break;case"second":R=this._d.valueOf(),R-=Qa(R,1e3)}return this._d.setTime(R),A.updateOffset(this,!0),this},Et.subtract=qo,Et.toArray=function vc(){var T=this;return[T.year(),T.month(),T.date(),T.hour(),T.minute(),T.second(),T.millisecond()]},Et.toObject=function Jo(){var T=this;return{years:T.year(),months:T.month(),date:T.date(),hours:T.hours(),minutes:T.minutes(),seconds:T.seconds(),milliseconds:T.milliseconds()}},Et.toDate=function Vc(){return new Date(this.valueOf())},Et.toISOString=function ao(T){if(!this.isValid())return null;var R=!0!==T,K=R?this.clone().utc():this;return K.year()<0||K.year()>9999?Mn(K,R?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ki(Date.prototype.toISOString)?R?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Mn(K,"Z")):Mn(K,R?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Et.inspect=function Ca(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var K,se,T="moment",R="";return this.isLocal()||(T=0===this.utcOffset()?"moment.utc":"moment.parseZone",R="Z"),K="["+T+'("]',se=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(K+se+"-MM-DD[T]HH:mm:ss.SSS"+R+'[")]')},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Et[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Et.toJSON=function Kl(){return this.isValid()?this.toISOString():null},Et.toString=function $o(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Et.unix=function Jl(){return Math.floor(this.valueOf()/1e3)},Et.valueOf=function Lo(){return this._d.valueOf()-6e4*(this._offset||0)},Et.creationData=function So(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Et.eraName=function el(){var T,R,K,se=this.localeData().eras();for(T=0,R=se.length;T<R;++T)if(K=this.clone().startOf("day").valueOf(),se[T].since<=K&&K<=se[T].until||se[T].until<=K&&K<=se[T].since)return se[T].name;return""},Et.eraNarrow=function ml(){var T,R,K,se=this.localeData().eras();for(T=0,R=se.length;T<R;++T)if(K=this.clone().startOf("day").valueOf(),se[T].since<=K&&K<=se[T].until||se[T].until<=K&&K<=se[T].since)return se[T].narrow;return""},Et.eraAbbr=function Vn(){var T,R,K,se=this.localeData().eras();for(T=0,R=se.length;T<R;++T)if(K=this.clone().startOf("day").valueOf(),se[T].since<=K&&K<=se[T].until||se[T].until<=K&&K<=se[T].since)return se[T].abbr;return""},Et.eraYear=function tc(){var T,R,K,se,_e=this.localeData().eras();for(T=0,R=_e.length;T<R;++T)if(K=_e[T].since<=_e[T].until?1:-1,se=this.clone().startOf("day").valueOf(),_e[T].since<=se&&se<=_e[T].until||_e[T].until<=se&&se<=_e[T].since)return(this.year()-A(_e[T].since).year())*K+_e[T].offset;return this.year()},Et.year=Er,Et.isLeapYear=function hr(){return Yi(this.year())},Et.weekYear=function Hc(T){return es.call(this,T,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Et.isoWeekYear=function Nc(T){return es.call(this,T,this.isoWeek(),this.isoWeekday(),1,4)},Et.quarter=Et.quarters=function Ol(T){return null==T?Math.ceil((this.month()+1)/3):this.month(3*(T-1)+this.month()%3)},Et.month=us,Et.daysInMonth=function kl(){return Es(this.year(),this.month())},Et.week=Et.weeks=function da(T){var R=this.localeData().week(this);return null==T?R:this.add(7*(T-R),"d")},Et.isoWeek=Et.isoWeeks=function Va(T){var R=sr(this,1,4).week;return null==T?R:this.add(7*(T-R),"d")},Et.weeksInYear=function Uc(){var T=this.localeData()._week;return Si(this.year(),T.dow,T.doy)},Et.weeksInWeekYear=function Pa(){var T=this.localeData()._week;return Si(this.weekYear(),T.dow,T.doy)},Et.isoWeeksInYear=function Aa(){return Si(this.year(),1,4)},Et.isoWeeksInISOWeekYear=function wc(){return Si(this.isoWeekYear(),1,4)},Et.date=Bt,Et.day=Et.days=function dl(T){if(!this.isValid())return null!=T?this:NaN;var R=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=T?(T=function Gs(T,R){return"string"!=typeof T?T:isNaN(T)?"number"==typeof(T=R.weekdaysParse(T))?T:null:parseInt(T,10)}(T,this.localeData()),this.add(T-R,"d")):R},Et.weekday=function ha(T){if(!this.isValid())return null!=T?this:NaN;var R=(this.day()+7-this.localeData()._week.dow)%7;return null==T?R:this.add(T-R,"d")},Et.isoWeekday=function Sn(T){if(!this.isValid())return null!=T?this:NaN;if(null!=T){var R=function Kr(T,R){return"string"==typeof T?R.weekdaysParse(T)%7||7:isNaN(T)?null:T}(T,this.localeData());return this.day(this.day()%7?R:R-7)}return this.day()||7},Et.dayOfYear=function rc(T){var R=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==T?R:this.add(T-R,"d")},Et.hour=Et.hours=Ps,Et.minute=Et.minutes=ac,Et.second=Et.seconds=il,Et.millisecond=Et.milliseconds=It,Et.utcOffset=function gi(T,R,K){var _e,se=this._offset||0;if(!this.isValid())return null!=T?this:NaN;if(null!=T){if("string"==typeof T){if(null===(T=vs(ft,T)))return this}else Math.abs(T)<16&&!K&&(T*=60);return!this._isUTC&&R&&(_e=fa(this)),this._offset=T,this._isUTC=!0,null!=_e&&this.add(_e,"m"),se!==T&&(!R||this._changeInProgress?ma(this,ta(T-se,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,A.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?se:fa(this)},Et.utc=function Da(T){return this.utcOffset(0,T)},Et.local=function Fs(T){return this._isUTC&&(this.utcOffset(0,T),this._isUTC=!1,T&&this.subtract(fa(this),"m")),this},Et.parseZone=function To(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var T=vs(St,this._i);null!=T?this.utcOffset(T):this.utcOffset(0,!0)}return this},Et.hasAlignedHourOffset=function Go(T){return!!this.isValid()&&(T=T?Fi(T).utcOffset():0,(this.utcOffset()-T)%60==0)},Et.isDST=function La(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Et.isLocal=function _a(){return!!this.isValid()&&!this._isUTC},Et.isUtcOffset=function xs(){return!!this.isValid()&&this._isUTC},Et.isUtc=ws,Et.isUTC=ws,Et.zoneAbbr=function Wc(){return this._isUTC?"UTC":""},Et.zoneName=function Mc(){return this._isUTC?"Coordinated Universal Time":""},Et.dates=Tt("dates accessor is deprecated. Use date instead.",Bt),Et.months=Tt("months accessor is deprecated. Use month instead",us),Et.years=Tt("years accessor is deprecated. Use year instead",Er),Et.zone=Tt("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function ql(T,R){return null!=T?("string"!=typeof T&&(T=-T),this.utcOffset(T,R),this):-this.utcOffset()}),Et.isDSTShifted=Tt("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function bs(){if(!oe(this._isDSTShifted))return this._isDSTShifted;var R,T={};return ut(T,this),(T=Rs(T))._a?(R=T._isUTC?gt(T._a):Fi(T._a),this._isDSTShifted=this.isValid()&&function Wo(T,R,K){var et,se=Math.min(T.length,R.length),_e=Math.abs(T.length-R.length),Pe=0;for(et=0;et<se;et++)(K&&T[et]!==R[et]||!K&&ci(T[et])!==ci(R[et]))&&Pe++;return Pe+_e}(T._a,R.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var nn=ti.prototype;function ya(T,R,K,se){var _e=Ir(),Pe=gt().set(se,R);return _e[K](Pe,T)}function ts(T,R,K){if(ye(T)&&(R=T,T=void 0),T=T||"",null!=R)return ya(T,R,K,"month");var se,_e=[];for(se=0;se<12;se++)_e[se]=ya(T,se,K,"month");return _e}function Co(T,R,K,se){"boolean"==typeof T?(ye(R)&&(K=R,R=void 0),R=R||""):(K=R=T,T=!1,ye(R)&&(K=R,R=void 0),R=R||"");var et,_e=Ir(),Pe=T?_e._week.dow:0,Ot=[];if(null!=K)return ya(R,(K+Pe)%7,se,"day");for(et=0;et<7;et++)Ot[et]=ya(R,(et+Pe)%7,se,"day");return Ot}nn.calendar=function wn(T,R,K){var se=this._calendar[T]||this._calendar.sameElse;return ki(se)?se.call(R,K):se},nn.longDateFormat=function zr(T){var R=this._longDateFormat[T],K=this._longDateFormat[T.toUpperCase()];return R||!K?R:(this._longDateFormat[T]=K.match(cn).map(function(se){return"MMMM"===se||"MM"===se||"DD"===se||"dddd"===se?se.slice(1):se}).join(""),this._longDateFormat[T])},nn.invalidDate=function Ri(){return this._invalidDate},nn.ordinal=function An(T){return this._ordinal.replace("%d",T)},nn.preparse=kc,nn.postformat=kc,nn.relativeTime=function ls(T,R,K,se){var _e=this._relativeTime[K];return ki(_e)?_e(T,R,K,se):_e.replace(/%d/i,T)},nn.pastFuture=function Pn(T,R){var K=this._relativeTime[T>0?"future":"past"];return ki(K)?K(R):K.replace(/%s/i,R)},nn.set=function fi(T){var R,K;for(K in T)J(T,K)&&(ki(R=T[K])?this[K]=R:this["_"+K]=R);this._config=T,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},nn.eras=function Qo(T,R){var K,se,_e,Pe=this._eras||Ir("en")._eras;for(K=0,se=Pe.length;K<se;++K)switch("string"==typeof Pe[K].since&&(_e=A(Pe[K].since).startOf("day"),Pe[K].since=_e.valueOf()),typeof Pe[K].until){case"undefined":Pe[K].until=1/0;break;case"string":_e=A(Pe[K].until).startOf("day").valueOf(),Pe[K].until=_e.valueOf()}return Pe},nn.erasParse=function Ql(T,R,K){var se,_e,et,Ot,Xt,Pe=this.eras();for(T=T.toUpperCase(),se=0,_e=Pe.length;se<_e;++se)if(et=Pe[se].name.toUpperCase(),Ot=Pe[se].abbr.toUpperCase(),Xt=Pe[se].narrow.toUpperCase(),K)switch(R){case"N":case"NN":case"NNN":if(Ot===T)return Pe[se];break;case"NNNN":if(et===T)return Pe[se];break;case"NNNNN":if(Xt===T)return Pe[se]}else if([et,Ot,Xt].indexOf(T)>=0)return Pe[se]},nn.erasConvertYear=function ec(T,R){var K=T.since<=T.until?1:-1;return void 0===R?A(T.since).year():A(T.since).year()+(R-T.offset)*K},nn.erasAbbrRegex=function xc(T){return J(this,"_erasAbbrRegex")||js.call(this),T?this._erasAbbrRegex:this._erasRegex},nn.erasNameRegex=function bc(T){return J(this,"_erasNameRegex")||js.call(this),T?this._erasNameRegex:this._erasRegex},nn.erasNarrowRegex=function ic(T){return J(this,"_erasNarrowRegex")||js.call(this),T?this._erasNarrowRegex:this._erasRegex},nn.months=function la(T,R){return T?a(this._months)?this._months[T.month()]:this._months[(this._months.isFormat||ba).test(R)?"format":"standalone"][T.month()]:a(this._months)?this._months:this._months.standalone},nn.monthsShort=function Yn(T,R){return T?a(this._monthsShort)?this._monthsShort[T.month()]:this._monthsShort[ba.test(R)?"format":"standalone"][T.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},nn.monthsParse=function Tl(T,R,K){var se,_e,Pe;if(this._monthsParseExact)return $n.call(this,T,R,K);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),se=0;se<12;se++){if(_e=gt([2e3,se]),K&&!this._longMonthsParse[se]&&(this._longMonthsParse[se]=new RegExp("^"+this.months(_e,"").replace(".","")+"$","i"),this._shortMonthsParse[se]=new RegExp("^"+this.monthsShort(_e,"").replace(".","")+"$","i")),!K&&!this._monthsParse[se]&&(Pe="^"+this.months(_e,"")+"|^"+this.monthsShort(_e,""),this._monthsParse[se]=new RegExp(Pe.replace(".",""),"i")),K&&"MMMM"===R&&this._longMonthsParse[se].test(T))return se;if(K&&"MMM"===R&&this._shortMonthsParse[se].test(T))return se;if(!K&&this._monthsParse[se].test(T))return se}},nn.monthsRegex=function Pt(T){return this._monthsParseExact?(J(this,"_monthsRegex")||mi.call(this),T?this._monthsStrictRegex:this._monthsRegex):(J(this,"_monthsRegex")||(this._monthsRegex=nt),this._monthsStrictRegex&&T?this._monthsStrictRegex:this._monthsRegex)},nn.monthsShortRegex=function Xn(T){return this._monthsParseExact?(J(this,"_monthsRegex")||mi.call(this),T?this._monthsShortStrictRegex:this._monthsShortRegex):(J(this,"_monthsShortRegex")||(this._monthsShortRegex=Ws),this._monthsShortStrictRegex&&T?this._monthsShortStrictRegex:this._monthsShortRegex)},nn.week=function ll(T){return sr(T,this._week.dow,this._week.doy).week},nn.firstDayOfYear=function ua(){return this._week.doy},nn.firstDayOfWeek=function ds(){return this._week.dow},nn.weekdays=function jr(T,R){var K=a(this._weekdays)?this._weekdays:this._weekdays[T&&!0!==T&&this._weekdays.isFormat.test(R)?"format":"standalone"];return!0===T?Ar(K,this._week.dow):T?K[T.day()]:K},nn.weekdaysMin=function vo(T){return!0===T?Ar(this._weekdaysMin,this._week.dow):T?this._weekdaysMin[T.day()]:this._weekdaysMin},nn.weekdaysShort=function Dl(T){return!0===T?Ar(this._weekdaysShort,this._week.dow):T?this._weekdaysShort[T.day()]:this._weekdaysShort},nn.weekdaysParse=function bo(T,R,K){var se,_e,Pe;if(this._weekdaysParseExact)return Gi.call(this,T,R,K);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),se=0;se<7;se++){if(_e=gt([2e3,1]).day(se),K&&!this._fullWeekdaysParse[se]&&(this._fullWeekdaysParse[se]=new RegExp("^"+this.weekdays(_e,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[se]=new RegExp("^"+this.weekdaysShort(_e,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[se]=new RegExp("^"+this.weekdaysMin(_e,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[se]||(Pe="^"+this.weekdays(_e,"")+"|^"+this.weekdaysShort(_e,"")+"|^"+this.weekdaysMin(_e,""),this._weekdaysParse[se]=new RegExp(Pe.replace(".",""),"i")),K&&"dddd"===R&&this._fullWeekdaysParse[se].test(T))return se;if(K&&"ddd"===R&&this._shortWeekdaysParse[se].test(T))return se;if(K&&"dd"===R&&this._minWeekdaysParse[se].test(T))return se;if(!K&&this._weekdaysParse[se].test(T))return se}},nn.weekdaysRegex=function Pr(T){return this._weekdaysParseExact?(J(this,"_weekdaysRegex")||fr.call(this),T?this._weekdaysStrictRegex:this._weekdaysRegex):(J(this,"_weekdaysRegex")||(this._weekdaysRegex=cl),this._weekdaysStrictRegex&&T?this._weekdaysStrictRegex:this._weekdaysRegex)},nn.weekdaysShortRegex=function Zs(T){return this._weekdaysParseExact?(J(this,"_weekdaysRegex")||fr.call(this),T?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(J(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ul),this._weekdaysShortStrictRegex&&T?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},nn.weekdaysMinRegex=function Vr(T){return this._weekdaysParseExact?(J(this,"_weekdaysRegex")||fr.call(this),T?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(J(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=pr),this._weekdaysMinStrictRegex&&T?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},nn.isPM=function ir(T){return"p"===(T+"").toLowerCase().charAt(0)},nn.meridiem=function Na(T,R,K){return T>11?K?"pm":"PM":K?"am":"AM"},Nr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(T){var R=T%10;return T+(1===ci(T%100/10)?"th":1===R?"st":2===R?"nd":3===R?"rd":"th")}}),A.lang=Tt("moment.lang is deprecated. Use moment.locale instead.",Nr),A.langData=Tt("moment.langData is deprecated. Use moment.localeData instead.",Ir);var v=Math.abs;function P(T,R,K,se){var _e=ta(R,K);return T._milliseconds+=se*_e._milliseconds,T._days+=se*_e._days,T._months+=se*_e._months,T._bubble()}function $(T){return T<0?Math.floor(T):Math.ceil(T)}function re(T){return 4800*T/146097}function r(T){return 146097*T/4800}function f(T){return function(){return this.as(T)}}var y=f("ms"),b=f("s"),k=f("m"),I=f("h"),C=f("d"),F=f("w"),N=f("M"),U=f("Q"),ie=f("y");function ve(T){return function(){return this.isValid()?this._data[T]:NaN}}var ge=ve("milliseconds"),Ce=ve("seconds"),Re=ve("minutes"),Ze=ve("hours"),Be=ve("days"),Ge=ve("months"),lt=ve("years");var ot=Math.round,Ct={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Nt(T,R,K,se,_e){return _e.relativeTime(R||1,!!K,T,se)}var Vt=Math.abs;function Ei(T){return(T>0)-(T<0)||+T}function rn(){if(!this.isValid())return this.localeData().invalidDate();var se,_e,Pe,et,Xt,Ai,Pi,Kn,T=Vt(this._milliseconds)/1e3,R=Vt(this._days),K=Vt(this._months),Ot=this.asSeconds();return Ot?(se=Ii(T/60),_e=Ii(se/60),T%=60,se%=60,Pe=Ii(K/12),K%=12,et=T?T.toFixed(3).replace(/\.?0+$/,""):"",Xt=Ot<0?"-":"",Ai=Ei(this._months)!==Ei(Ot)?"-":"",Pi=Ei(this._days)!==Ei(Ot)?"-":"",Kn=Ei(this._milliseconds)!==Ei(Ot)?"-":"",Xt+"P"+(Pe?Ai+Pe+"Y":"")+(K?Ai+K+"M":"")+(R?Pi+R+"D":"")+(_e||se||T?"T":"")+(_e?Kn+_e+"H":"")+(se?Kn+se+"M":"")+(T?Kn+et+"S":"")):"P0D"}var qt=ys.prototype;return qt.isValid=function ka(){return this._isValid},qt.abs=function M(){var T=this._data;return this._milliseconds=v(this._milliseconds),this._days=v(this._days),this._months=v(this._months),T.milliseconds=v(T.milliseconds),T.seconds=v(T.seconds),T.minutes=v(T.minutes),T.hours=v(T.hours),T.months=v(T.months),T.years=v(T.years),this},qt.add=function O(T,R){return P(this,T,R,1)},qt.subtract=function V(T,R){return P(this,T,R,-1)},qt.as=function o(T){if(!this.isValid())return NaN;var R,K,se=this._milliseconds;if("month"===(T=In(T))||"quarter"===T||"year"===T)switch(R=this._days+se/864e5,K=this._months+re(R),T){case"month":return K;case"quarter":return K/3;case"year":return K/12}else switch(R=this._days+Math.round(r(this._months)),T){case"week":return R/7+se/6048e5;case"day":return R+se/864e5;case"hour":return 24*R+se/36e5;case"minute":return 1440*R+se/6e4;case"second":return 86400*R+se/1e3;case"millisecond":return Math.floor(864e5*R)+se;default:throw new Error("Unknown unit "+T)}},qt.asMilliseconds=y,qt.asSeconds=b,qt.asMinutes=k,qt.asHours=I,qt.asDays=C,qt.asWeeks=F,qt.asMonths=N,qt.asQuarters=U,qt.asYears=ie,qt.valueOf=function h(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ci(this._months/12):NaN},qt._bubble=function q(){var _e,Pe,et,Ot,Xt,T=this._milliseconds,R=this._days,K=this._months,se=this._data;return T>=0&&R>=0&&K>=0||T<=0&&R<=0&&K<=0||(T+=864e5*$(r(K)+R),R=0,K=0),se.milliseconds=T%1e3,_e=Ii(T/1e3),se.seconds=_e%60,Pe=Ii(_e/60),se.minutes=Pe%60,et=Ii(Pe/60),se.hours=et%24,R+=Ii(et/24),K+=Xt=Ii(re(R)),R-=$(r(Xt)),Ot=Ii(K/12),K%=12,se.days=R,se.months=K,se.years=Ot,this},qt.clone=function ce(){return ta(this)},qt.get=function he(T){return T=In(T),this.isValid()?this[T+"s"]():NaN},qt.milliseconds=ge,qt.seconds=Ce,qt.minutes=Re,qt.hours=Ze,qt.days=Be,qt.weeks=function tt(){return Ii(this.days()/7)},qt.months=Ge,qt.years=lt,qt.humanize=function ai(T,R){if(!this.isValid())return this.localeData().invalidDate();var _e,Pe,K=!1,se=Ct;return"object"==typeof T&&(R=T,T=!1),"boolean"==typeof T&&(K=T),"object"==typeof R&&(se=Object.assign({},Ct,R),null!=R.s&&null==R.ss&&(se.ss=R.s-1)),Pe=function At(T,R,K,se){var _e=ta(T).abs(),Pe=ot(_e.as("s")),et=ot(_e.as("m")),Ot=ot(_e.as("h")),Xt=ot(_e.as("d")),Ai=ot(_e.as("M")),Pi=ot(_e.as("w")),Kn=ot(_e.as("y")),Ia=Pe<=K.ss&&["s",Pe]||Pe<K.s&&["ss",Pe]||et<=1&&["m"]||et<K.m&&["mm",et]||Ot<=1&&["h"]||Ot<K.h&&["hh",Ot]||Xt<=1&&["d"]||Xt<K.d&&["dd",Xt];return null!=K.w&&(Ia=Ia||Pi<=1&&["w"]||Pi<K.w&&["ww",Pi]),(Ia=Ia||Ai<=1&&["M"]||Ai<K.M&&["MM",Ai]||Kn<=1&&["y"]||["yy",Kn])[2]=R,Ia[3]=+T>0,Ia[4]=se,Nt.apply(null,Ia)}(this,!K,se,_e=this.localeData()),K&&(Pe=_e.pastFuture(+this,Pe)),_e.postformat(Pe)},qt.toISOString=rn,qt.toString=rn,qt.toJSON=rn,qt.locale=at,qt.localeData=Ki,qt.toIsoString=Tt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",rn),qt.lang=yi,Ut("X",0,0,"unix"),Ut("x",0,0,"valueOf"),pt("x",wt),pt("X",/[+-]?\d+(\.\d{1,3})?/),oi("X",function(T,R,K){K._d=new Date(1e3*parseFloat(T))}),oi("x",function(T,R,K){K._d=new Date(ci(T))}),A.version="2.29.4",function Y(T){te=T}(Fi),A.fn=Et,A.min=function Ys(){return Ll("isBefore",[].slice.call(arguments,0))},A.max=function Qs(){return Ll("isAfter",[].slice.call(arguments,0))},A.now=function(){return Date.now?Date.now():+new Date},A.utc=gt,A.unix=function oc(T){return Fi(1e3*T)},A.months=function Eo(T,R){return ts(T,R,"months")},A.isDate=Oe,A.locale=Nr,A.invalid=yt,A.duration=ta,A.isMoment=vt,A.weekdays=function n(T,R,K){return Co(T,R,K,"weekdays")},A.parseZone=function Tc(){return Fi.apply(null,arguments).parseZone()},A.localeData=Ir,A.isDuration=$a,A.monthsShort=function p(T,R){return ts(T,R,"monthsShort")},A.weekdaysMin=function m(T,R,K){return Co(T,R,K,"weekdaysMin")},A.defineLocale=zi,A.updateLocale=function wr(T,R){if(null!=R){var K,se,_e=Is;null!=Xi[T]&&null!=Xi[T].parentLocale?Xi[T].set(vr(Xi[T]._config,R)):(null!=(se=Os(T))&&(_e=se._config),R=vr(_e,R),null==se&&(R.abbr=T),(K=new ti(R)).parentLocale=Xi[T],Xi[T]=K),Nr(T)}else null!=Xi[T]&&(null!=Xi[T].parentLocale?(Xi[T]=Xi[T].parentLocale,T===Nr()&&Nr(T)):null!=Xi[T]&&delete Xi[T]);return Xi[T]},A.locales=function Bo(){return Dn(Xi)},A.weekdaysShort=function l(T,R,K){return Co(T,R,K,"weekdaysShort")},A.normalizeUnits=In,A.relativeTimeRounding=function jt(T){return void 0===T?ot:"function"==typeof T&&(ot=T,!0)},A.relativeTimeThreshold=function Yt(T,R){return void 0!==Ct[T]&&(void 0===R?Ct[T]:(Ct[T]=R,"s"===T&&(Ct.ss=R-1),!0))},A.calendarFormat=function Jn(T,R){var K=T.diff(R,"days",!0);return K<-6?"sameElse":K<-1?"lastWeek":K<0?"lastDay":K<1?"sameDay":K<2?"nextDay":K<7?"nextWeek":"sameElse"},A.prototype=Et,A.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},A}()},6775:function(ze){var te;te=function(){var ae=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function te(J){return J.match(ae)||[]}function Y(J){return{language:(J=te(J))[1]||"",extlang:J[2]||"",script:J[3]||"",region:J[4]||""}}function a(J,Q,oe){Object.defineProperty(J,Q,{value:oe,enumerable:!0})}function d(J,Q,oe){function ye(Oe){return te(Oe)[J]||""}a(ye,"pattern",Q),a(Y,oe,ye)}return d(1,/^[a-zA-Z]{2,3}$/,"language"),d(2,/^[a-zA-Z]{3}$/,"extlang"),d(3,/^[a-zA-Z]{4}$/,"script"),d(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),a(Y,"split",function A(J){return te(J).filter(function(Q,oe){return Q&&oe})}),Y},ze.exports?ze.exports=te():this.subtag=te()},5562:(ze,Ye,ae)=>{"use strict";var te=ae(8576);ze.exports=te,"undefined"!=typeof window&&(window.Suggestions=te)},7554:ze=>{"use strict";var Ye=function(ae){return this.component=ae,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,ae.el.parentNode.insertBefore(this.wrapper,ae.el.nextSibling),this};Ye.prototype.show=function(){this.element.style.display="block"},Ye.prototype.hide=function(){this.element.style.display="none"},Ye.prototype.add=function(ae){this.items.push(ae)},Ye.prototype.clear=function(){this.items=[],this.active=0},Ye.prototype.isEmpty=function(){return!this.items.length},Ye.prototype.isVisible=function(){return"block"===this.element.style.display},Ye.prototype.draw=function(){if(this.element.innerHTML="",0!==this.items.length){for(var ae=0;ae<this.items.length;ae++)this.drawItem(this.items[ae],this.active===ae);this.show()}else this.hide()},Ye.prototype.drawItem=function(ae,te){var A=document.createElement("li"),Y=document.createElement("a");te&&(A.className+=" active"),Y.innerHTML=ae.string,A.appendChild(Y),this.element.appendChild(A),A.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),A.addEventListener("mouseup",function(){this.handleMouseUp.call(this,ae)}.bind(this))},Ye.prototype.handleMouseUp=function(ae){this.selectingListItem=!1,this.component.value(ae.original),this.clear(),this.draw()},Ye.prototype.move=function(ae){this.active=ae,this.draw()},Ye.prototype.previous=function(){this.move(0===this.active?this.items.length-1:this.active-1)},Ye.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)},Ye.prototype.drawError=function(ae){var te=document.createElement("li");te.innerHTML=ae,this.element.appendChild(te),this.show()},ze.exports=Ye},8576:(ze,Ye,ae)=>{"use strict";var te=ae(4703),A=ae(5780),Y=ae(7554),a=function(d,J,Q){return this.options=te({minLength:2,limit:5,filter:!0,hideOnBlur:!0},Q=Q||{}),this.el=d,this.data=J||[],this.list=new Y(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(oe){this.handleKeyUp(oe.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(oe){this.handleKeyDown(oe)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(oe){this.handlePaste(oe)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};a.prototype.handleKeyUp=function(d){40===d||38===d||27===d||13===d||9===d||this.handleInputChange(this.el.value)},a.prototype.handleKeyDown=function(d){switch(d.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&d.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next()}},a.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},a.prototype.handlePaste=function(d){if(d.clipboardData)this.handleInputChange(d.clipboardData.getData("Text"));else{var J=this;setTimeout(function(){J.handleInputChange(d.target.value)},100)}},a.prototype.handleInputChange=function(d){this.query=this.normalize(d),this.list.clear(),this.query.length<this.options.minLength?this.list.draw():this.getCandidates(function(J){for(var Q=0;Q<J.length&&(this.list.add(J[Q]),Q!==this.options.limit-1);Q++);this.list.draw()}.bind(this))},a.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},a.prototype.update=function(d){this.data=d,this.handleKeyUp()},a.prototype.clear=function(){this.data=[],this.list.clear()},a.prototype.normalize=function(d){return d.toLowerCase()},a.prototype.match=function(d,J){return d.indexOf(J)>-1},a.prototype.value=function(d){if(this.selected=d,this.el.value=this.getItemValue(d),document.createEvent){var J=document.createEvent("HTMLEvents");J.initEvent("change",!0,!1),this.el.dispatchEvent(J)}else this.el.fireEvent("onchange")},a.prototype.getCandidates=function(d){var J={pre:"<strong>",post:"</strong>",extract:function(oe){return this.getItemValue(oe)}.bind(this)};d(this.options.filter?A.filter(this.query,this.data,J).map(function(oe){return{original:oe.original,string:this.render(oe.original,oe.string)}}.bind(this)):this.data.map(function(oe){return{original:oe,string:this.render(oe)}}.bind(this)))},a.prototype.getItemValue=function(d){return d},a.prototype.render=function(d,J){if(J)return J;for(var Q=this.getItemValue(d.original?d.original:d),oe=this.normalize(Q),ye=oe.lastIndexOf(this.query);ye>-1;){var Oe=ye+this.query.length;Q=Q.slice(0,ye)+"<strong>"+Q.slice(ye,Oe)+"</strong>"+Q.slice(Oe),ye=oe.slice(0,ye).lastIndexOf(this.query)}return Q},a.prototype.renderError=function(d){this.list.drawError(d)},ze.exports=a},5226:function(ze){ze.exports=function(){"use strict";function Ye(j,W){return function A(j,W){return W.get?W.get.call(j):W.value}(j,te(j,W,"get"))}function ae(j,W,ue){return function Y(j,W,ue){if(W.set)W.set.call(j,ue);else{if(!W.writable)throw new TypeError("attempted to set read only private field");W.value=ue}}(j,te(j,W,"set"),ue),ue}function te(j,W,ue){if(!W.has(j))throw new TypeError("attempted to "+ue+" private field on non-instance");return W.get(j)}function d(j,W,ue){(function a(j,W){if(W.has(j))throw new TypeError("Cannot initialize the same private elements twice on an object")})(j,W),W.set(j,ue)}const Q={},ye=j=>new Promise(W=>{if(!j)return W();const ue=window.scrollX,De=window.scrollY;Q.restoreFocusTimeout=setTimeout(()=>{Q.previousActiveElement instanceof HTMLElement?(Q.previousActiveElement.focus(),Q.previousActiveElement=null):document.body&&document.body.focus(),W()},100),window.scrollTo(ue,De)}),Te=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((j,W)=>(j[W]="swal2-"+W,j),{}),Mt=["success","warning","info","question","error"].reduce((j,W)=>(j[W]="swal2-"+W,j),{}),qe="SweetAlert2:",Me=j=>j.charAt(0).toUpperCase()+j.slice(1),Je=j=>{console.warn("".concat(qe," ").concat("object"==typeof j?j.join(" "):j))},yt=j=>{console.error("".concat(qe," ").concat(j))},Ke=[],ut=(j,W)=>{(j=>{Ke.includes(j)||(Ke.push(j),Je(j))})('"'.concat(j,'" is deprecated and will be removed in the next major release. Please use "').concat(W,'" instead.'))},He=j=>"function"==typeof j?j():j,vt=j=>j&&"function"==typeof j.toPromise,Rt=j=>vt(j)?j.toPromise():Promise.resolve(j),Tt=j=>j&&Promise.resolve(j)===j,Gt=()=>document.body.querySelector(".".concat(Te.container)),sn=j=>{const W=Gt();return W?W.querySelector(j):null},ki=j=>sn(".".concat(j)),fi=()=>ki(Te.popup),vr=()=>ki(Te.icon),Dn=()=>ki(Te.title),pn=()=>ki(Te["html-container"]),wn=()=>ki(Te.image),En=()=>ki(Te["progress-steps"]),cn=()=>ki(Te["validation-message"]),Ni=()=>sn(".".concat(Te.actions," .").concat(Te.confirm)),dr=()=>sn(".".concat(Te.actions," .").concat(Te.cancel)),yn=()=>sn(".".concat(Te.actions," .").concat(Te.deny)),Sr=()=>sn(".".concat(Te.loader)),en=()=>ki(Te.actions),Mn=()=>ki(Te.footer),ri=()=>ki(Te["timer-progress-bar"]),Jr=()=>ki(Te.close),Cs=()=>{const j=fi();if(!j)return[];const W=j.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),ue=Array.from(W).sort((at,yi)=>{const Ki=parseInt(at.getAttribute("tabindex")||"0"),tn=parseInt(yi.getAttribute("tabindex")||"0");return Ki>tn?1:Ki<tn?-1:0}),De=j.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),rt=Array.from(De).filter(at=>"-1"!==at.getAttribute("tabindex"));return[...new Set(ue.concat(rt))].filter(at=>On(at))},Ri=()=>Ui(document.body,Te.shown)&&!Ui(document.body,Te["toast-shown"])&&!Ui(document.body,Te["no-backdrop"]),er=()=>{const j=fi();return!!j&&Ui(j,Te.toast)},An=(j,W)=>{if(j.textContent="",W){const De=(new DOMParser).parseFromString(W,"text/html"),rt=De.querySelector("head");rt&&Array.from(rt.childNodes).forEach(yi=>{j.appendChild(yi)});const at=De.querySelector("body");at&&Array.from(at.childNodes).forEach(yi=>{yi instanceof HTMLVideoElement||yi instanceof HTMLAudioElement?j.appendChild(yi.cloneNode(!0)):j.appendChild(yi)})}},Ui=(j,W)=>{if(!W)return!1;const ue=W.split(/\s+/);for(let De=0;De<ue.length;De++)if(!j.classList.contains(ue[De]))return!1;return!0},Pn=(j,W,ue)=>{if(((j,W)=>{Array.from(j.classList).forEach(ue=>{!Object.values(Te).includes(ue)&&!Object.values(Mt).includes(ue)&&!Object.values(W.showClass||{}).includes(ue)&&j.classList.remove(ue)})})(j,W),W.customClass&&W.customClass[ue]){if("string"!=typeof W.customClass[ue]&&!W.customClass[ue].forEach)return void Je("Invalid type of customClass.".concat(ue,'! Expected string or iterable object, got "').concat(typeof W.customClass[ue],'"'));Ci(j,W.customClass[ue])}},hi=(j,W)=>{if(!W)return null;switch(W){case"select":case"textarea":case"file":return j.querySelector(".".concat(Te.popup," > .").concat(Te[W]));case"checkbox":return j.querySelector(".".concat(Te.popup," > .").concat(Te.checkbox," input"));case"radio":return j.querySelector(".".concat(Te.popup," > .").concat(Te.radio," input:checked"))||j.querySelector(".".concat(Te.popup," > .").concat(Te.radio," input:first-child"));case"range":return j.querySelector(".".concat(Te.popup," > .").concat(Te.range," input"));default:return j.querySelector(".".concat(Te.popup," > .").concat(Te.input))}},Di=j=>{if(j.focus(),"file"!==j.type){const W=j.value;j.value="",j.value=W}},In=(j,W,ue)=>{!j||!W||("string"==typeof W&&(W=W.split(/\s+/).filter(Boolean)),W.forEach(De=>{Array.isArray(j)?j.forEach(rt=>{ue?rt.classList.add(De):rt.classList.remove(De)}):ue?j.classList.add(De):j.classList.remove(De)}))},Ci=(j,W)=>{In(j,W,!0)},fn=(j,W)=>{In(j,W,!1)},Wi=(j,W)=>{const ue=Array.from(j.children);for(let De=0;De<ue.length;De++){const rt=ue[De];if(rt instanceof HTMLElement&&Ui(rt,W))return rt}},Cr=(j,W,ue)=>{ue==="".concat(parseInt(ue))&&(ue=parseInt(ue)),ue||0===parseInt(ue)?j.style[W]="number"==typeof ue?"".concat(ue,"px"):ue:j.style.removeProperty(W)},Yi=function(j){j&&(j.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},Ii=j=>{j&&(j.style.display="none")},ci=(j,W,ue,De)=>{const rt=j.querySelector(W);rt&&(rt.style[ue]=De)},rr=function(j,W){W?Yi(j,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):Ii(j)},On=j=>!(!j||!(j.offsetWidth||j.offsetHeight||j.getClientRects().length)),Zt=j=>j.scrollHeight>j.clientHeight,oa=j=>{const W=window.getComputedStyle(j),ue=parseFloat(W.getPropertyValue("animation-duration")||"0"),De=parseFloat(W.getPropertyValue("transition-duration")||"0");return ue>0||De>0},Fa=function(j){let W=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const ue=ri();!ue||On(ue)&&(W&&(ue.style.transition="none",ue.style.width="100%"),setTimeout(()=>{ue.style.transition="width ".concat(j/1e3,"s linear"),ue.style.width="0%"},10))},ke=()=>"undefined"==typeof window||"undefined"==typeof document,de='\n <div aria-labelledby="'.concat(Te.title,'" aria-describedby="').concat(Te["html-container"],'" class="').concat(Te.popup,'" tabindex="-1">\n   <button type="button" class="').concat(Te.close,'"></button>\n   <ul class="').concat(Te["progress-steps"],'"></ul>\n   <div class="').concat(Te.icon,'"></div>\n   <img class="').concat(Te.image,'" />\n   <h2 class="').concat(Te.title,'" id="').concat(Te.title,'"></h2>\n   <div class="').concat(Te["html-container"],'" id="').concat(Te["html-container"],'"></div>\n   <input class="').concat(Te.input,'" id="').concat(Te.input,'" />\n   <input type="file" class="').concat(Te.file,'" />\n   <div class="').concat(Te.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(Te.select,'" id="').concat(Te.select,'"></select>\n   <div class="').concat(Te.radio,'"></div>\n   <label class="').concat(Te.checkbox,'">\n     <input type="checkbox" id="').concat(Te.checkbox,'" />\n     <span class="').concat(Te.label,'"></span>\n   </label>\n   <textarea class="').concat(Te.textarea,'" id="').concat(Te.textarea,'"></textarea>\n   <div class="').concat(Te["validation-message"],'" id="').concat(Te["validation-message"],'"></div>\n   <div class="').concat(Te.actions,'">\n     <div class="').concat(Te.loader,'"></div>\n     <button type="button" class="').concat(Te.confirm,'"></button>\n     <button type="button" class="').concat(Te.deny,'"></button>\n     <button type="button" class="').concat(Te.cancel,'"></button>\n   </div>\n   <div class="').concat(Te.footer,'"></div>\n   <div class="').concat(Te["timer-progress-bar-container"],'">\n     <div class="').concat(Te["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),be=()=>{Q.currentInstance.resetValidationMessage()},X=j=>{const W=(()=>{const j=Gt();return!!j&&(j.remove(),fn([document.documentElement,document.body],[Te["no-backdrop"],Te["toast-shown"],Te["has-column"]]),!0)})();if(ke())return void yt("SweetAlert2 requires document to initialize");const ue=document.createElement("div");ue.className=Te.container,W&&Ci(ue,Te["no-transition"]),An(ue,de);const De=(j=>"string"==typeof j?document.querySelector(j):j)(j.target);De.appendChild(ue),(j=>{const W=fi();W.setAttribute("role",j.toast?"alert":"dialog"),W.setAttribute("aria-live",j.toast?"polite":"assertive"),j.toast||W.setAttribute("aria-modal","true")})(j),(j=>{"rtl"===window.getComputedStyle(j).direction&&Ci(Gt(),Te.rtl)})(De),(()=>{const j=fi(),W=Wi(j,Te.input),ue=Wi(j,Te.file),De=j.querySelector(".".concat(Te.range," input")),rt=j.querySelector(".".concat(Te.range," output")),at=Wi(j,Te.select),yi=j.querySelector(".".concat(Te.checkbox," input")),Ki=Wi(j,Te.textarea);W.oninput=be,ue.onchange=be,at.onchange=be,yi.onchange=be,Ki.oninput=be,De.oninput=()=>{be(),rt.value=De.value},De.onchange=()=>{be(),rt.value=De.value}})()},$e=(j,W)=>{j instanceof HTMLElement?W.appendChild(j):"object"==typeof j?wt(j,W):j&&An(W,j)},wt=(j,W)=>{j.jquery?St(W,j):An(W,j.toString())},St=(j,W)=>{if(j.textContent="",0 in W)for(let ue=0;ue in W;ue++)j.appendChild(W[ue].cloneNode(!0));else j.appendChild(W.cloneNode(!0))},ft=(()=>{if(ke())return!1;const j=document.createElement("div");return void 0!==j.style.webkitAnimation?"webkitAnimationEnd":void 0!==j.style.animation&&"animationend"})(),si=(j,W)=>{const ue=en(),De=Sr();!ue||!De||(W.showConfirmButton||W.showDenyButton||W.showCancelButton?Yi(ue):Ii(ue),Pn(ue,W,"actions"),function ii(j,W,ue){const De=Ni(),rt=yn(),at=dr();!De||!rt||!at||(pt(De,"confirm",ue),pt(rt,"deny",ue),pt(at,"cancel",ue),function Qt(j,W,ue,De){De.buttonsStyling?(Ci([j,W,ue],Te.styled),De.confirmButtonColor&&(j.style.backgroundColor=De.confirmButtonColor,Ci(j,Te["default-outline"])),De.denyButtonColor&&(W.style.backgroundColor=De.denyButtonColor,Ci(W,Te["default-outline"])),De.cancelButtonColor&&(ue.style.backgroundColor=De.cancelButtonColor,Ci(ue,Te["default-outline"]))):fn([j,W,ue],Te.styled)}(De,rt,at,ue),ue.reverseButtons&&(ue.toast?(j.insertBefore(at,De),j.insertBefore(rt,De)):(j.insertBefore(at,W),j.insertBefore(rt,W),j.insertBefore(De,W))))}(ue,De,W),An(De,W.loaderHtml||""),Pn(De,W,"loader"))};function pt(j,W,ue){const De=Me(W);rr(j,ue["show".concat(De,"Button")],"inline-block"),An(j,ue["".concat(W,"ButtonText")]||""),j.setAttribute("aria-label",ue["".concat(W,"ButtonAriaLabel")]||""),j.className=Te[W],Pn(j,ue,"".concat(W,"Button"))}const _n=(j,W)=>{const ue=Gt();!ue||(function Vi(j,W){"string"==typeof W?j.style.background=W:W||Ci([document.documentElement,document.body],Te["no-backdrop"])}(ue,W.backdrop),function Ln(j,W){!W||(W in Te?Ci(j,Te[W]):(Je('The "position" parameter is not valid, defaulting to "center"'),Ci(j,Te.center)))}(ue,W.position),function oi(j,W){!W||Ci(j,Te["grow-".concat(W)])}(ue,W.grow),Pn(ue,W,"container"))};var Li={innerParams:new WeakMap,domCache:new WeakMap};const Zn=["input","file","range","select","radio","checkbox","textarea"],bn=j=>{if(!j.input)return;if(!dn[j.input])return void yt('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(j.input,'"'));const W=yo(j.input),ue=dn[j.input](W,j);Yi(W),j.inputAutoFocus&&setTimeout(()=>{Di(ue)})},jn=(j,W)=>{const ue=hi(fi(),j);if(ue){(j=>{for(let W=0;W<j.attributes.length;W++){const ue=j.attributes[W].name;["id","type","value","style"].includes(ue)||j.removeAttribute(ue)}})(ue);for(const De in W)ue.setAttribute(De,W[De])}},pi=j=>{const W=yo(j.input);"object"==typeof j.customClass&&Ci(W,j.customClass.input)},Fr=(j,W)=>{(!j.placeholder||W.inputPlaceholder)&&(j.placeholder=W.inputPlaceholder)},br=(j,W,ue)=>{if(ue.inputLabel){const De=document.createElement("label"),rt=Te["input-label"];De.setAttribute("for",j.id),De.className=rt,"object"==typeof ue.customClass&&Ci(De,ue.customClass.inputLabel),De.innerText=ue.inputLabel,W.insertAdjacentElement("beforebegin",De)}},yo=j=>Wi(fi(),Te[j]||Te.input),cs=(j,W)=>{["string","number"].includes(typeof W)?j.value="".concat(W):Tt(W)||Je('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof W,'"'))},dn={};dn.text=dn.email=dn.password=dn.number=dn.tel=dn.url=(j,W)=>(cs(j,W.inputValue),br(j,j,W),Fr(j,W),j.type=W.input,j),dn.file=(j,W)=>(br(j,j,W),Fr(j,W),j),dn.range=(j,W)=>{const ue=j.querySelector("input"),De=j.querySelector("output");return cs(ue,W.inputValue),ue.type=W.input,cs(De,W.inputValue),br(ue,j,W),j},dn.select=(j,W)=>{if(j.textContent="",W.inputPlaceholder){const ue=document.createElement("option");An(ue,W.inputPlaceholder),ue.value="",ue.disabled=!0,ue.selected=!0,j.appendChild(ue)}return br(j,j,W),j},dn.radio=j=>(j.textContent="",j),dn.checkbox=(j,W)=>{const ue=hi(fi(),"checkbox");ue.value="1",ue.checked=Boolean(W.inputValue);const De=j.querySelector("span");return An(De,W.inputPlaceholder),ue},dn.textarea=(j,W)=>{cs(j,W.inputValue),Fr(j,W),br(j,j,W);return setTimeout(()=>{if("MutationObserver"in window){const De=parseInt(window.getComputedStyle(fi()).width);new MutationObserver(()=>{if(!document.body.contains(j))return;const at=j.offsetWidth+(De=>parseInt(window.getComputedStyle(De).marginLeft)+parseInt(window.getComputedStyle(De).marginRight))(j);at>De?fi().style.width="".concat(at,"px"):Cr(fi(),"width",W.width)}).observe(j,{attributes:!0,attributeFilter:["style"]})}}),j};const on=(j,W)=>{const ue=pn();!ue||(Pn(ue,W,"htmlContainer"),W.html?($e(W.html,ue),Yi(ue,"block")):W.text?(ue.textContent=W.text,Yi(ue,"block")):Ii(ue),((j,W)=>{const ue=fi();if(!ue)return;const De=Li.innerParams.get(j),rt=!De||W.input!==De.input;Zn.forEach(at=>{const yi=Wi(ue,Te[at]);!yi||(jn(at,W.inputAttributes),yi.className=Te[at],rt&&Ii(yi))}),W.input&&(rt&&bn(W),pi(W))})(j,W))},Ba=(j,W)=>{for(const[ue,De]of Object.entries(Mt))W.icon!==ue&&fn(j,De);Ci(j,W.icon&&Mt[W.icon]),Yn(j,W),ba(),Pn(j,W,"icon")},ba=()=>{const j=fi();if(!j)return;const W=window.getComputedStyle(j).getPropertyValue("background-color"),ue=j.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let De=0;De<ue.length;De++)ue[De].style.backgroundColor=W},la=(j,W)=>{if(!W.icon&&!W.iconHtml)return;let ue=j.innerHTML,De="";W.iconHtml?De=$n(W.iconHtml):"success"===W.icon?(De='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',ue=ue.replace(/ style=".*?"/g,"")):"error"===W.icon?De='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':W.icon&&(De=$n({question:"?",warning:"!",info:"i"}[W.icon])),ue.trim()!==De.trim()&&An(j,De)},Yn=(j,W)=>{if(W.iconColor){j.style.color=W.iconColor,j.style.borderColor=W.iconColor;for(const ue of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ci(j,ue,"backgroundColor",W.iconColor);ci(j,".swal2-success-ring","borderColor",W.iconColor)}},$n=j=>'<div class="'.concat(Te["icon-content"],'">').concat(j,"</div>"),us=(j,W)=>{const ue=W.showClass||{};j.className="".concat(Te.popup," ").concat(On(j)?ue.popup:""),W.toast?(Ci([document.documentElement,document.body],Te["toast-shown"]),Ci(j,Te.toast)):Ci(j,Te.modal),Pn(j,W,"popup"),"string"==typeof W.customClass&&Ci(j,W.customClass),W.icon&&Ci(j,Te["icon-".concat(W.icon)])},Xn=j=>{const W=document.createElement("li");return Ci(W,Te["progress-step"]),An(W,j),W},Pt=j=>{const W=document.createElement("li");return Ci(W,Te["progress-step-line"]),j.progressStepsDistance&&Cr(W,"width",j.progressStepsDistance),W},li=(j,W)=>{((j,W)=>{const ue=Gt(),De=fi();if(ue&&De){if(W.toast){Cr(ue,"width",W.width),De.style.width="100%";const rt=Sr();rt&&De.insertBefore(rt,vr())}else Cr(De,"width",W.width);Cr(De,"padding",W.padding),W.color&&(De.style.color=W.color),W.background&&(De.style.background=W.background),Ii(cn()),us(De,W)}})(0,W),_n(0,W),((j,W)=>{const ue=En();if(!ue)return;const{progressSteps:De,currentProgressStep:rt}=W;De&&0!==De.length&&void 0!==rt?(Yi(ue),ue.textContent="",rt>=De.length&&Je("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),De.forEach((at,yi)=>{const Ki=Xn(at);if(ue.appendChild(Ki),yi===rt&&Ci(Ki,Te["active-progress-step"]),yi!==De.length-1){const tn=Pt(W);ue.appendChild(tn)}})):Ii(ue)})(0,W),((j,W)=>{const ue=Li.innerParams.get(j),De=vr();if(De){if(ue&&W.icon===ue.icon)return la(De,W),void Ba(De,W);if(!W.icon&&!W.iconHtml)return void Ii(De);if(W.icon&&-1===Object.keys(Mt).indexOf(W.icon))return yt('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(W.icon,'"')),void Ii(De);Yi(De),la(De,W),Ba(De,W),Ci(De,W.showClass&&W.showClass.icon)}})(j,W),((j,W)=>{const ue=wn();if(ue){if(!W.imageUrl)return void Ii(ue);Yi(ue,""),ue.setAttribute("src",W.imageUrl),ue.setAttribute("alt",W.imageAlt||""),Cr(ue,"width",W.imageWidth),Cr(ue,"height",W.imageHeight),ue.className=Te.image,Pn(ue,W,"image")}})(0,W),((j,W)=>{const ue=Dn();!ue||(rr(ue,W.title||W.titleText,"block"),W.title&&$e(W.title,ue),W.titleText&&(ue.innerText=W.titleText),Pn(ue,W,"title"))})(0,W),((j,W)=>{const ue=Jr();!ue||(An(ue,W.closeButtonHtml||""),Pn(ue,W,"closeButton"),rr(ue,W.showCloseButton),ue.setAttribute("aria-label",W.closeButtonAriaLabel||""))})(0,W),on(j,W),si(0,W),((j,W)=>{const ue=Mn();!ue||(rr(ue,W.footer,"block"),W.footer&&$e(W.footer,ue),Pn(ue,W,"footer"))})(0,W);const ue=fi();"function"==typeof W.didRender&&ue&&W.didRender(ue)},hr=()=>{var j;return null===(j=Ni())||void 0===j?void 0:j.click()},Br=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ja=j=>{j.keydownTarget&&j.keydownHandlerAdded&&(j.keydownTarget.removeEventListener("keydown",j.keydownHandler,{capture:j.keydownListenerCapture}),j.keydownHandlerAdded=!1)},Si=(j,W)=>{var ue;const De=Cs();if(De.length)return(j+=W)===De.length?j=0:-1===j&&(j=De.length-1),void De[j].focus();null===(ue=fi())||void 0===ue||ue.focus()},ll=["ArrowRight","ArrowDown"],xa=["ArrowLeft","ArrowUp"],ds=(j,W,ue)=>{!j||W.isComposing||229===W.keyCode||(j.stopKeydownPropagation&&W.stopPropagation(),"Enter"===W.key?ua(W,j):"Tab"===W.key?da(W):[...ll,...xa].includes(W.key)?Va(W.key):"Escape"===W.key&&Gs(W,j,ue))},ua=(j,W)=>{if(!He(W.allowEnterKey))return;const ue=hi(fi(),W.input);if(j.target&&ue&&j.target instanceof HTMLElement&&j.target.outerHTML===ue.outerHTML){if(["textarea","file"].includes(W.input))return;hr(),j.preventDefault()}},da=j=>{const W=j.target,ue=Cs();let De=-1;for(let rt=0;rt<ue.length;rt++)if(W===ue[rt]){De=rt;break}Si(De,j.shiftKey?-1:1),j.stopPropagation(),j.preventDefault()},Va=j=>{const W=en(),ue=Ni(),De=yn(),rt=dr();if(!(W&&ue&&De&&rt))return;if(document.activeElement instanceof HTMLElement&&![ue,De,rt].includes(document.activeElement))return;const yi=ll.includes(j)?"nextElementSibling":"previousElementSibling";let Ki=document.activeElement;if(Ki){for(let tn=0;tn<W.children.length;tn++){if(Ki=Ki[yi],!Ki)return;if(Ki instanceof HTMLButtonElement&&On(Ki))break}Ki instanceof HTMLButtonElement&&Ki.focus()}},Gs=(j,W,ue)=>{He(W.allowEscapeKey)&&(j.preventDefault(),ue(Br.esc))};var Kr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const As=()=>{Array.from(document.body.children).forEach(W=>{W.hasAttribute("data-previous-aria-hidden")?(W.setAttribute("aria-hidden",W.getAttribute("data-previous-aria-hidden")||""),W.removeAttribute("data-previous-aria-hidden")):W.removeAttribute("aria-hidden")})},tr="undefined"!=typeof window&&!!window.GestureEvent,cl=()=>{const j=Gt();if(!j)return;let W;j.ontouchstart=ue=>{W=ul(ue)},j.ontouchmove=ue=>{W&&(ue.preventDefault(),ue.stopPropagation())}},ul=j=>{const W=j.target,ue=Gt(),De=pn();return!(!ue||!De||pr(j)||jr(j)||W!==ue&&(Zt(ue)||!(W instanceof HTMLElement)||"INPUT"===W.tagName||"TEXTAREA"===W.tagName||Zt(De)&&De.contains(W)))},pr=j=>j.touches&&j.touches.length&&"stylus"===j.touches[0].touchType,jr=j=>j.touches&&j.touches.length>1;let Gi=null;const bo=j=>{null===Gi&&(document.body.scrollHeight>window.innerHeight||"scroll"===j)&&(Gi=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Gi+(()=>{const j=document.createElement("div");j.className=Te["scrollbar-measure"],document.body.appendChild(j);const W=j.getBoundingClientRect().width-j.clientWidth;return document.body.removeChild(j),W})(),"px"))};function ha(j,W,ue,De){er()?Hr(j,De):(ye(ue).then(()=>Hr(j,De)),ja(Q)),tr?(W.setAttribute("style","display:none !important"),W.removeAttribute("class"),W.innerHTML=""):W.remove(),Ri()&&(null!==Gi&&(document.body.style.paddingRight="".concat(Gi,"px"),Gi=null),(()=>{if(Ui(document.body,Te.iosfix)){const j=parseInt(document.body.style.top,10);fn(document.body,Te.iosfix),document.body.style.top="",document.body.scrollTop=-1*j}})(),As()),function Sn(){fn([document.documentElement,document.body],[Te.shown,Te["height-auto"],Te["no-backdrop"],Te["toast-shown"]])}()}function Pr(j){j=Ha(j);const W=Kr.swalPromiseResolve.get(this),ue=Zs(this);this.isAwaitingPromise?j.isDismissed||(fr(this),W(j)):ue&&W(j)}const Zs=j=>{const W=fi();if(!W)return!1;const ue=Li.innerParams.get(j);if(!ue||Ui(W,ue.hideClass.popup))return!1;fn(W,ue.showClass.popup),Ci(W,ue.hideClass.popup);const De=Gt();return fn(De,ue.showClass.backdrop),Ci(De,ue.hideClass.backdrop),qs(j,W,ue),!0};function Vr(j){const W=Kr.swalPromiseReject.get(this);fr(this),W&&W(j)}const fr=j=>{j.isAwaitingPromise&&(delete j.isAwaitingPromise,Li.innerParams.get(j)||j._destroy())},Ha=j=>void 0===j?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},j),qs=(j,W,ue)=>{const De=Gt(),rt=ft&&oa(W);"function"==typeof ue.willClose&&ue.willClose(W),rt?$s(j,W,De,ue.returnFocus,ue.didClose):ha(j,De,ue.returnFocus,ue.didClose)},$s=(j,W,ue,De,rt)=>{!ft||(Q.swalCloseEventFinishedCallback=ha.bind(null,j,ue,De,rt),W.addEventListener(ft,function(at){at.target===W&&(Q.swalCloseEventFinishedCallback(),delete Q.swalCloseEventFinishedCallback)}))},Hr=(j,W)=>{setTimeout(()=>{"function"==typeof W&&W.bind(j.params)(),j._destroy&&j._destroy()})},ir=j=>{let W=fi();if(W||new Ca,W=fi(),!W)return;const ue=Sr();er()?Ii(vr()):hl(W,j),Yi(ue),W.setAttribute("data-loading","true"),W.setAttribute("aria-busy","true"),W.focus()},hl=(j,W)=>{const ue=en(),De=Sr();!ue||!De||(!W&&On(Ni())&&(W=Ni()),Yi(ue),W&&(Ii(W),De.setAttribute("data-button-to-replace",W.className),ue.insertBefore(De,W)),Ci([j,ue],Te.loading))},Is=j=>j.checked?1:0,Xi=j=>j.checked?j.value:null,Ua=j=>j.files&&j.files.length?null!==j.getAttribute("multiple")?j.files:j.files[0]:null,wa=(j,W)=>{const ue=fi();if(!ue)return;const De=rt=>{"select"===W.input?function Fo(j,W,ue){const De=Wi(j,Te.select);if(!De)return;const rt=(at,yi,Ki)=>{const tn=document.createElement("option");tn.value=Ki,An(tn,yi),tn.selected=Os(Ki,ue.inputValue),at.appendChild(tn)};W.forEach(at=>{const yi=at[0],Ki=at[1];if(Array.isArray(Ki)){const tn=document.createElement("optgroup");tn.label=yi,tn.disabled=!1,De.appendChild(tn),Ki.forEach(or=>rt(tn,or[1],or[0]))}else rt(De,Ki,yi)}),De.focus()}(ue,Xs(rt),W):"radio"===W.input&&function xr(j,W,ue){const De=Wi(j,Te.radio);if(!De)return;W.forEach(at=>{const yi=at[0],Ki=at[1],tn=document.createElement("input"),or=document.createElement("label");tn.type="radio",tn.name=Te.radio,tn.value=yi,Os(yi,ue.inputValue)&&(tn.checked=!0);const vn=document.createElement("span");An(vn,Ki),vn.className=Te.label,or.appendChild(tn),or.appendChild(vn),De.appendChild(or)});const rt=De.querySelectorAll("input");rt.length&&rt[0].focus()}(ue,Xs(rt),W)};vt(W.inputOptions)||Tt(W.inputOptions)?(ir(Ni()),Rt(W.inputOptions).then(rt=>{j.hideLoading(),De(rt)})):"object"==typeof W.inputOptions?De(W.inputOptions):yt("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof W.inputOptions))},hs=(j,W)=>{const ue=j.getInput();!ue||(Ii(ue),Rt(W.inputValue).then(De=>{ue.value="".concat("number"===W.input?parseFloat(De)||0:De),Yi(ue),ue.focus(),j.hideLoading()}).catch(De=>{yt("Error in inputValue promise: ".concat(De)),ue.value="",Yi(ue),ue.focus(),j.hideLoading()}))};const Xs=j=>{const W=[];return j instanceof Map?j.forEach((ue,De)=>{let rt=ue;"object"==typeof rt&&(rt=Xs(rt)),W.push([De,rt])}):Object.keys(j).forEach(ue=>{let De=j[ue];"object"==typeof De&&(De=Xs(De)),W.push([ue,De])}),W},Os=(j,W)=>!!W&&W.toString()===j.toString(),Ir=(j,W)=>{const ue=Li.innerParams.get(j);if(!ue.input)return void yt('The "input" parameter is needed to be set when using returnInputValueOn'.concat(Me(W)));const De=j.getInput(),rt=((j,W)=>{const ue=j.getInput();if(!ue)return null;switch(W.input){case"checkbox":return Is(ue);case"radio":return Xi(ue);case"file":return Ua(ue);default:return W.inputAutoTrim?ue.value.trim():ue.value}})(j,ue);ue.inputValidator?Bo(j,rt,W):De&&!De.checkValidity()?(j.enableButtons(),j.showValidationMessage(ue.validationMessage)):"deny"===W?ps(j,rt):fs(j,rt)},Bo=(j,W,ue)=>{const De=Li.innerParams.get(j);j.disableInput(),Promise.resolve().then(()=>Rt(De.inputValidator(W,De.validationMessage))).then(at=>{j.enableButtons(),j.enableInput(),at?j.showValidationMessage(at):"deny"===ue?ps(j,W):fs(j,W)})},ps=(j,W)=>{const ue=Li.innerParams.get(j||void 0);ue.showLoaderOnDeny&&ir(yn()),ue.preDeny?(j.isAwaitingPromise=!0,Promise.resolve().then(()=>Rt(ue.preDeny(W,ue.validationMessage))).then(rt=>{!1===rt?(j.hideLoading(),fr(j)):j.close({isDenied:!0,value:void 0===rt?W:rt})}).catch(rt=>xo(j||void 0,rt))):j.close({isDenied:!0,value:W})},pl=(j,W)=>{j.close({isConfirmed:!0,value:W})},xo=(j,W)=>{j.rejectPromise(W)},fs=(j,W)=>{const ue=Li.innerParams.get(j||void 0);ue.showLoaderOnConfirm&&ir(),ue.preConfirm?(j.resetValidationMessage(),j.isAwaitingPromise=!0,Promise.resolve().then(()=>Rt(ue.preConfirm(W,ue.validationMessage))).then(rt=>{On(cn())||!1===rt?(j.hideLoading(),fr(j)):pl(j,void 0===rt?W:rt)}).catch(rt=>xo(j||void 0,rt))):pl(j,W)};function pa(){const j=Li.innerParams.get(this);if(!j)return;const W=Li.domCache.get(this);Ii(W.loader),er()?j.icon&&Yi(vr()):_s(W),fn([W.popup,W.actions],Te.loading),W.popup.removeAttribute("aria-busy"),W.popup.removeAttribute("data-loading"),W.confirmButton.disabled=!1,W.denyButton.disabled=!1,W.cancelButton.disabled=!1}const _s=j=>{const W=j.popup.getElementsByClassName(j.loader.getAttribute("data-button-to-replace"));W.length?Yi(W[0],"inline-block"):!On(Ni())&&!On(yn())&&!On(dr())&&Ii(j.actions)};function Ma(){const j=Li.innerParams.get(this),W=Li.domCache.get(this);return W?hi(W.popup,j.input):null}function Wa(j,W,ue){const De=Li.domCache.get(j);W.forEach(rt=>{De[rt].disabled=ue})}function Ga(j,W){const ue=fi();if(ue&&j)if("radio"===j.type){const De=ue.querySelectorAll('[name="'.concat(Te.radio,'"]'));for(let rt=0;rt<De.length;rt++)De[rt].disabled=W}else j.disabled=W}function Js(){Wa(this,["confirmButton","denyButton","cancelButton"],!1)}function ms(){Wa(this,["confirmButton","denyButton","cancelButton"],!0)}function jo(){Ga(this.getInput(),!1)}function Vo(){Ga(this.getInput(),!0)}function Zi(j){const W=Li.domCache.get(this),ue=Li.innerParams.get(this);An(W.validationMessage,j),W.validationMessage.className=Te["validation-message"],ue.customClass&&ue.customClass.validationMessage&&Ci(W.validationMessage,ue.customClass.validationMessage),Yi(W.validationMessage);const De=this.getInput();De&&(De.setAttribute("aria-invalid","true"),De.setAttribute("aria-describedby",Te["validation-message"]),Di(De),Ci(De,Te.inputerror))}function wo(){const j=Li.domCache.get(this);j.validationMessage&&Ii(j.validationMessage);const W=this.getInput();W&&(W.removeAttribute("aria-invalid"),W.removeAttribute("aria-describedby"),fn(W,Te.inputerror))}const Za={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Oi=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Qr={},fl=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ta=j=>Object.prototype.hasOwnProperty.call(Za,j),Ho=j=>-1!==Oi.indexOf(j),ea=j=>Qr[j],gs=j=>{Ta(j)||Je('Unknown parameter "'.concat(j,'"'))},Ji=j=>{fl.includes(j)&&Je('The parameter "'.concat(j,'" is incompatible with toasts'))},Ks=j=>{const W=ea(j);W&&ut(j,W)};function Rs(j){const W=fi(),ue=Li.innerParams.get(this);if(!W||Ui(W,ue.hideClass.popup))return void Je("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const De=No(j),rt=Object.assign({},ue,De);li(this,rt),Li.innerParams.set(this,rt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,j),writable:!1,enumerable:!0}})}const No=j=>{const W={};return Object.keys(j).forEach(ue=>{Ho(ue)?W[ue]=j[ue]:Je("Invalid parameter to update: ".concat(ue))}),W};function Or(){const j=Li.domCache.get(this),W=Li.innerParams.get(this);W?(j.popup&&Q.swalCloseEventFinishedCallback&&(Q.swalCloseEventFinishedCallback(),delete Q.swalCloseEventFinishedCallback),"function"==typeof W.didDestroy&&W.didDestroy(),Fi(this)):Uo(this)}const Fi=j=>{Uo(j),delete j.params,delete Q.keydownHandler,delete Q.keydownTarget,delete Q.currentInstance},Uo=j=>{j.isAwaitingPromise?(Mo(Li,j),j.isAwaitingPromise=!0):(Mo(Kr,j),Mo(Li,j),delete j.isAwaitingPromise,delete j.disableButtons,delete j.enableButtons,delete j.getInput,delete j.disableInput,delete j.enableInput,delete j.hideLoading,delete j.disableLoading,delete j.showValidationMessage,delete j.resetValidationMessage,delete j.close,delete j.closePopup,delete j.closeModal,delete j.closeToast,delete j.rejectPromise,delete j.update,delete j._destroy)},Mo=(j,W)=>{for(const ue in j)j[ue].delete(W)};var Ll=Object.freeze({__proto__:null,_destroy:Or,close:Pr,closeModal:Pr,closePopup:Pr,closeToast:Pr,disableButtons:ms,disableInput:Vo,disableLoading:pa,enableButtons:Js,enableInput:jo,getInput:Ma,handleAwaitingPromise:fr,hideLoading:pa,rejectPromise:Vr,resetValidationMessage:wo,showValidationMessage:Zi,update:Rs});const Qs=(j,W,ue)=>{W.popup.onclick=()=>{j&&(zs(j)||j.timer||j.input)||ue(Br.close)}},zs=j=>j.showConfirmButton||j.showDenyButton||j.showCancelButton||j.showCloseButton;let Ur=!1;const _l=j=>{j.popup.onmousedown=()=>{j.container.onmouseup=function(W){j.container.onmouseup=void 0,W.target===j.container&&(Ur=!0)}}},ka=j=>{j.container.onmousedown=()=>{j.popup.onmouseup=function(W){j.popup.onmouseup=void 0,(W.target===j.popup||W.target instanceof HTMLElement&&j.popup.contains(W.target))&&(Ur=!0)}}},eo=(j,W,ue)=>{W.container.onclick=De=>{Ur?Ur=!1:De.target===W.container&&He(j.allowOutsideClick)&&ue(Br.backdrop)}},$a=j=>j instanceof Element||(j=>"object"==typeof j&&j.jquery)(j);const vs=()=>{if(Q.timeout)return(()=>{const j=ri();if(!j)return;const W=parseInt(window.getComputedStyle(j).width);j.style.removeProperty("transition"),j.style.width="100%";const ue=parseInt(window.getComputedStyle(j).width);j.style.width="".concat(W/ue*100,"%")})(),Q.timeout.stop()},Xa=()=>{if(Q.timeout){const j=Q.timeout.start();return Fa(j),j}};let Da=!1;const Fs={};const Go=j=>{for(let W=j.target;W&&W!==document;W=W.parentNode)for(const ue in Fs){const De=W.getAttribute(ue);if(De)return void Fs[ue].fire({template:De})}};var La=Object.freeze({__proto__:null,argsToParams:j=>{const W={};return"object"!=typeof j[0]||$a(j[0])?["title","html","icon"].forEach((ue,De)=>{const rt=j[De];"string"==typeof rt||$a(rt)?W[ue]=rt:void 0!==rt&&yt("Unexpected type of ".concat(ue,'! Expected "string" or "Element", got ').concat(typeof rt))}):Object.assign(W,j[0]),W},bindClickHandler:function To(){Fs[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Da||(document.body.addEventListener("click",Go),Da=!0)},clickCancel:()=>{var j;return null===(j=dr())||void 0===j?void 0:j.click()},clickConfirm:hr,clickDeny:()=>{var j;return null===(j=yn())||void 0===j?void 0:j.click()},enableLoading:ir,fire:function Wo(){const j=this;for(var W=arguments.length,ue=new Array(W),De=0;De<W;De++)ue[De]=arguments[De];return new j(...ue)},getActions:en,getCancelButton:dr,getCloseButton:Jr,getConfirmButton:Ni,getContainer:Gt,getDenyButton:yn,getFocusableElements:Cs,getFooter:Mn,getHtmlContainer:pn,getIcon:vr,getIconContent:()=>ki(Te["icon-content"]),getImage:wn,getInputLabel:()=>ki(Te["input-label"]),getLoader:Sr,getPopup:fi,getProgressSteps:En,getTimerLeft:()=>Q.timeout&&Q.timeout.getTimerLeft(),getTimerProgressBar:ri,getTitle:Dn,getValidationMessage:cn,increaseTimer:j=>{if(Q.timeout){const W=Q.timeout.increase(j);return Fa(W,!0),W}},isDeprecatedParameter:ea,isLoading:()=>{const j=fi();return!!j&&j.hasAttribute("data-loading")},isTimerRunning:()=>!(!Q.timeout||!Q.timeout.isRunning()),isUpdatableParameter:Ho,isValidParameter:Ta,isVisible:()=>On(fi()),mixin:function Sl(j){return class W extends(this){_main(De,rt){return super._main(De,Object.assign({},j,rt))}}},resumeTimer:Xa,showLoading:ir,stopTimer:vs,toggleTimer:()=>{const j=Q.timeout;return j&&(j.running?vs():Xa())}});class bs{constructor(W,ue){this.callback=W,this.remaining=ue,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(W){const ue=this.running;return ue&&this.stop(),this.remaining+=W,ue&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const _a=["swal-title","swal-html","swal-footer"],ws=j=>{const W={};return Array.from(j.querySelectorAll("swal-param")).forEach(De=>{ma(De,["name","value"]);const rt=De.getAttribute("name"),at=De.getAttribute("value");W[rt]="boolean"==typeof Za[rt]?"false"!==at:"object"==typeof Za[rt]?JSON.parse(at):at}),W},$l=j=>{const W={};return Array.from(j.querySelectorAll("swal-function-param")).forEach(De=>{const rt=De.getAttribute("name"),at=De.getAttribute("value");W[rt]=new Function("return ".concat(at))()}),W},Cl=j=>{const W={};return Array.from(j.querySelectorAll("swal-button")).forEach(De=>{ma(De,["type","color","aria-label"]);const rt=De.getAttribute("type");W["".concat(rt,"ButtonText")]=De.innerHTML,W["show".concat(Me(rt),"Button")]=!0,De.hasAttribute("color")&&(W["".concat(rt,"ButtonColor")]=De.getAttribute("color")),De.hasAttribute("aria-label")&&(W["".concat(rt,"ButtonAriaLabel")]=De.getAttribute("aria-label"))}),W},ta=j=>{const W={},ue=j.querySelector("swal-image");return ue&&(ma(ue,["src","width","height","alt"]),ue.hasAttribute("src")&&(W.imageUrl=ue.getAttribute("src")),ue.hasAttribute("width")&&(W.imageWidth=ue.getAttribute("width")),ue.hasAttribute("height")&&(W.imageHeight=ue.getAttribute("height")),ue.hasAttribute("alt")&&(W.imageAlt=ue.getAttribute("alt"))),W},Ms=j=>{const W={},ue=j.querySelector("swal-icon");return ue&&(ma(ue,["type","color"]),ue.hasAttribute("type")&&(W.icon=ue.getAttribute("type")),ue.hasAttribute("color")&&(W.iconColor=ue.getAttribute("color")),W.iconHtml=ue.innerHTML),W},Ja=j=>{const W={},ue=j.querySelector("swal-input");ue&&(ma(ue,["type","label","placeholder","value"]),W.input=ue.getAttribute("type")||"text",ue.hasAttribute("label")&&(W.inputLabel=ue.getAttribute("label")),ue.hasAttribute("placeholder")&&(W.inputPlaceholder=ue.getAttribute("placeholder")),ue.hasAttribute("value")&&(W.inputValue=ue.getAttribute("value")));const De=Array.from(j.querySelectorAll("swal-input-option"));return De.length&&(W.inputOptions={},De.forEach(rt=>{ma(rt,["value"]);const at=rt.getAttribute("value");W.inputOptions[at]=rt.innerHTML})),W},Ts=(j,W)=>{const ue={};for(const De in W){const rt=W[De],at=j.querySelector(rt);at&&(ma(at,[]),ue[rt.replace(/^swal-/,"")]=at.innerHTML.trim())}return ue},Zo=j=>{const W=_a.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(j.children).forEach(ue=>{const De=ue.tagName.toLowerCase();W.includes(De)||Je("Unrecognized element <".concat(De,">"))})},ma=(j,W)=>{Array.from(j.attributes).forEach(ue=>{-1===W.indexOf(ue.name)&&Je(['Unrecognized attribute "'.concat(ue.name,'" on <').concat(j.tagName.toLowerCase(),">."),"".concat(W.length?"Allowed attributes are: ".concat(W.join(", ")):"To set the value, use HTML within the element.")])})},qo=j=>{const W=Gt(),ue=fi();"function"==typeof j.willOpen&&j.willOpen(ue);const rt=window.getComputedStyle(document.body).overflowY;ga(W,ue,j),setTimeout(()=>{ko(W,ue)},10),Ri()&&(El(W,j.scrollbarPadding,rt),Array.from(document.body.children).forEach(W=>{W===Gt()||W.contains(Gt())||(W.hasAttribute("aria-hidden")&&W.setAttribute("data-previous-aria-hidden",W.getAttribute("aria-hidden")||""),W.setAttribute("aria-hidden","true"))})),!er()&&!Q.previousActiveElement&&(Q.previousActiveElement=document.activeElement),"function"==typeof j.didOpen&&setTimeout(()=>j.didOpen(ue)),fn(W,Te["no-transition"])},Mr=j=>{const W=fi();if(j.target!==W||!ft)return;const ue=Gt();W.removeEventListener(ft,Mr),ue.style.overflowY="auto"},ko=(j,W)=>{ft&&oa(W)?(j.style.overflowY="hidden",W.addEventListener(ft,Mr)):j.style.overflowY="auto"},El=(j,W,ue)=>{(()=>{if(tr&&!Ui(document.body,Te.iosfix)){const j=document.body.scrollTop;document.body.style.top="".concat(-1*j,"px"),Ci(document.body,Te.iosfix),cl()}})(),W&&"hidden"!==ue&&bo(ue),setTimeout(()=>{j.scrollTop=0})},ga=(j,W,ue)=>{Ci(j,ue.showClass.backdrop),W.style.setProperty("opacity","0","important"),Yi(W,"grid"),setTimeout(()=>{Ci(W,ue.showClass.popup),W.style.removeProperty("opacity")},10),Ci([document.documentElement,document.body],Te.shown),ue.heightAuto&&ue.backdrop&&!ue.toast&&Ci([document.documentElement,document.body],Te["height-auto"])};var Ka_email=(j,W)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(j)?Promise.resolve():Promise.resolve(W||"Invalid email address"),Ka_url=(j,W)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(j)?Promise.resolve():Promise.resolve(W||"Invalid URL");function Bi(j){(function Jn(j){j.inputValidator||("email"===j.input&&(j.inputValidator=Ka_email),"url"===j.input&&(j.inputValidator=Ka_url))})(j),j.showLoaderOnConfirm&&!j.preConfirm&&Je("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function no(j){(!j.target||"string"==typeof j.target&&!document.querySelector(j.target)||"string"!=typeof j.target&&!j.target.appendChild)&&(Je('Target parameter is not valid, defaulting to "body"'),j.target="body")}(j),"string"==typeof j.title&&(j.title=j.title.split("\n").join("<br />")),X(j)}let Tr;var ro=new WeakMap;class Tn{constructor(){if(d(this,ro,{writable:!0,value:void 0}),"undefined"==typeof window)return;Tr=this;for(var W=arguments.length,ue=new Array(W),De=0;De<W;De++)ue[De]=arguments[De];const rt=Object.freeze(this.constructor.argsToParams(ue));this.params=rt,this.isAwaitingPromise=!1,ae(this,ro,this._main(Tr.params))}_main(W){let ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(j=>{!1===j.backdrop&&j.allowOutsideClick&&Je('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const W in j)gs(W),j.toast&&Ji(W),Ks(W)})(Object.assign({},ue,W)),Q.currentInstance&&(Q.currentInstance._destroy(),Ri()&&As()),Q.currentInstance=Tr;const De=Al(W,ue);Bi(De),Object.freeze(De),Q.timeout&&(Q.timeout.stop(),delete Q.timeout),clearTimeout(Q.restoreFocusTimeout);const rt=Bs(Tr);return li(Tr,De),Li.innerParams.set(Tr,De),Wr(Tr,rt,De)}then(W){return Ye(this,ro).then(W)}finally(W){return Ye(this,ro).finally(W)}}const Wr=(j,W,ue)=>new Promise((De,rt)=>{const at=yi=>{j.close({isDismissed:!0,dismiss:yi})};Kr.swalPromiseResolve.set(j,De),Kr.swalPromiseReject.set(j,rt),W.confirmButton.onclick=()=>{(j=>{const W=Li.innerParams.get(j);j.disableButtons(),W.input?Ir(j,"confirm"):fs(j,!0)})(j)},W.denyButton.onclick=()=>{(j=>{const W=Li.innerParams.get(j);j.disableButtons(),W.returnInputValueOnDeny?Ir(j,"deny"):ps(j,!1)})(j)},W.cancelButton.onclick=()=>{((j,W)=>{j.disableButtons(),W(Br.cancel)})(j,at)},W.closeButton.onclick=()=>{at(Br.close)},((j,W,ue)=>{j.toast?Qs(j,W,ue):(_l(W),ka(W),eo(j,W,ue))})(ue,W,at),((j,W,ue)=>{ja(j),W.toast||(j.keydownHandler=De=>ds(W,De,ue),j.keydownTarget=W.keydownListenerCapture?window:fi(),j.keydownListenerCapture=W.keydownListenerCapture,j.keydownTarget.addEventListener("keydown",j.keydownHandler,{capture:j.keydownListenerCapture}),j.keydownHandlerAdded=!0)})(Q,ue,at),((j,W)=>{"select"===W.input||"radio"===W.input?wa(j,W):["text","email","number","tel","textarea"].some(ue=>ue===W.input)&&(vt(W.inputValue)||Tt(W.inputValue))&&(ir(Ni()),hs(j,W))})(j,ue),qo(ue),Sa(Q,ue,at),Do(W,ue),setTimeout(()=>{W.container.scrollTop=0})}),Al=(j,W)=>{const ue=(j=>{const W="string"==typeof j.template?document.querySelector(j.template):j.template;if(!W)return{};const ue=W.content;return Zo(ue),Object.assign(ws(ue),$l(ue),Cl(ue),ta(ue),Ms(ue),Ja(ue),Ts(ue,_a))})(j),De=Object.assign({},Za,W,ue,j);return De.showClass=Object.assign({},Za.showClass,De.showClass),De.hideClass=Object.assign({},Za.hideClass,De.hideClass),De},Bs=j=>{const W={popup:fi(),container:Gt(),actions:en(),confirmButton:Ni(),denyButton:yn(),cancelButton:dr(),loader:Sr(),closeButton:Jr(),validationMessage:cn(),progressSteps:En()};return Li.domCache.set(j,W),W},Sa=(j,W,ue)=>{const De=ri();Ii(De),W.timer&&(j.timeout=new bs(()=>{ue("timer"),delete j.timeout},W.timer),W.timerProgressBar&&(Yi(De),Pn(De,W,"timerProgressBar"),setTimeout(()=>{j.timeout&&j.timeout.running&&Fa(W.timer)})))},Do=(j,W)=>{if(!W.toast){if(!He(W.allowEnterKey))return void ao();$o(j,W)||Si(-1,1)}},$o=(j,W)=>W.focusDeny&&On(j.denyButton)?(j.denyButton.focus(),!0):W.focusCancel&&On(j.cancelButton)?(j.cancelButton.focus(),!0):!(!W.focusConfirm||!On(j.confirmButton)||(j.confirmButton.focus(),0)),ao=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if("undefined"!=typeof window&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const j=new Date,W=localStorage.getItem("swal-initiation");W?(j.getTime()-Date.parse(W))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const ue=document.createElement("audio");ue.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",ue.loop=!0,document.body.appendChild(ue),setTimeout(()=>{ue.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation","".concat(j))}Tn.prototype.disableButtons=ms,Tn.prototype.enableButtons=Js,Tn.prototype.getInput=Ma,Tn.prototype.disableInput=Vo,Tn.prototype.enableInput=jo,Tn.prototype.hideLoading=pa,Tn.prototype.disableLoading=pa,Tn.prototype.showValidationMessage=Zi,Tn.prototype.resetValidationMessage=wo,Tn.prototype.close=Pr,Tn.prototype.closePopup=Pr,Tn.prototype.closeModal=Pr,Tn.prototype.closeToast=Pr,Tn.prototype.rejectPromise=Vr,Tn.prototype.update=Rs,Tn.prototype._destroy=Or,Object.assign(Tn,La),Object.keys(Ll).forEach(j=>{Tn[j]=function(){return Tr&&Tr[j]?Tr[j](...arguments):null}}),Tn.DismissReason=Br,Tn.version="11.7.31";const Ca=Tn;return Ca.default=Ca,Ca}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(Ye,ae){var te=Ye.createElement("style");if(Ye.getElementsByTagName("head")[0].appendChild(te),te.styleSheet)te.styleSheet.disabled||(te.styleSheet.cssText=ae);else try{te.innerHTML=ae}catch(A){te.innerText=ae}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},4703:ze=>{ze.exports=function ae(){for(var te={},A=0;A<arguments.length;A++){var Y=arguments[A];for(var a in Y)Ye.call(Y,a)&&(te[a]=Y[a])}return te};var Ye=Object.prototype.hasOwnProperty},6700:(ze,Ye,ae)=>{var te={"./af":7088,"./af.js":7088,"./ar":7038,"./ar-dz":2502,"./ar-dz.js":2502,"./ar-kw":128,"./ar-kw.js":128,"./ar-ly":4519,"./ar-ly.js":4519,"./ar-ma":5443,"./ar-ma.js":5443,"./ar-sa":7642,"./ar-sa.js":7642,"./ar-tn":8592,"./ar-tn.js":8592,"./ar.js":7038,"./az":1213,"./az.js":1213,"./be":9191,"./be.js":9191,"./bg":322,"./bg.js":322,"./bm":8042,"./bm.js":8042,"./bn":9620,"./bn-bd":5903,"./bn-bd.js":5903,"./bn.js":9620,"./bo":9645,"./bo.js":9645,"./br":5020,"./br.js":5020,"./bs":4792,"./bs.js":4792,"./ca":7980,"./ca.js":7980,"./cs":6466,"./cs.js":6466,"./cv":365,"./cv.js":365,"./cy":2092,"./cy.js":2092,"./da":7387,"./da.js":7387,"./de":4307,"./de-at":9459,"./de-at.js":9459,"./de-ch":3694,"./de-ch.js":3694,"./de.js":4307,"./dv":9659,"./dv.js":9659,"./el":3460,"./el.js":3460,"./en-au":4369,"./en-au.js":4369,"./en-ca":530,"./en-ca.js":530,"./en-gb":9998,"./en-gb.js":9998,"./en-ie":3391,"./en-ie.js":3391,"./en-il":5414,"./en-il.js":5414,"./en-in":9615,"./en-in.js":9615,"./en-nz":1248,"./en-nz.js":1248,"./en-sg":3767,"./en-sg.js":3767,"./eo":4530,"./eo.js":4530,"./es":6866,"./es-do":8944,"./es-do.js":8944,"./es-mx":9116,"./es-mx.js":9116,"./es-us":3609,"./es-us.js":3609,"./es.js":6866,"./et":6725,"./et.js":6725,"./eu":7931,"./eu.js":7931,"./fa":6417,"./fa.js":6417,"./fi":944,"./fi.js":944,"./fil":1766,"./fil.js":1766,"./fo":5867,"./fo.js":5867,"./fr":1636,"./fr-ca":6848,"./fr-ca.js":6848,"./fr-ch":7773,"./fr-ch.js":7773,"./fr.js":1636,"./fy":4940,"./fy.js":4940,"./ga":1402,"./ga.js":1402,"./gd":6924,"./gd.js":6924,"./gl":6398,"./gl.js":6398,"./gom-deva":2457,"./gom-deva.js":2457,"./gom-latn":2545,"./gom-latn.js":2545,"./gu":2641,"./gu.js":2641,"./he":7536,"./he.js":7536,"./hi":6335,"./hi.js":6335,"./hr":7458,"./hr.js":7458,"./hu":6540,"./hu.js":6540,"./hy-am":5283,"./hy-am.js":5283,"./id":8780,"./id.js":8780,"./is":4205,"./is.js":4205,"./it":4211,"./it-ch":9985,"./it-ch.js":9985,"./it.js":4211,"./ja":1003,"./ja.js":1003,"./jv":420,"./jv.js":420,"./ka":851,"./ka.js":851,"./kk":6074,"./kk.js":6074,"./km":3343,"./km.js":3343,"./kn":4799,"./kn.js":4799,"./ko":3549,"./ko.js":3549,"./ku":1893,"./ku.js":1893,"./ky":3125,"./ky.js":3125,"./lb":9586,"./lb.js":9586,"./lo":2349,"./lo.js":2349,"./lt":2400,"./lt.js":2400,"./lv":9991,"./lv.js":9991,"./me":8477,"./me.js":8477,"./mi":5118,"./mi.js":5118,"./mk":5943,"./mk.js":5943,"./ml":3849,"./ml.js":3849,"./mn":1977,"./mn.js":1977,"./mr":6184,"./mr.js":6184,"./ms":485,"./ms-my":4524,"./ms-my.js":4524,"./ms.js":485,"./mt":6681,"./mt.js":6681,"./my":2024,"./my.js":2024,"./nb":2688,"./nb.js":2688,"./ne":8914,"./ne.js":8914,"./nl":1758,"./nl-be":2272,"./nl-be.js":2272,"./nl.js":1758,"./nn":1510,"./nn.js":1510,"./oc-lnc":2797,"./oc-lnc.js":2797,"./pa-in":7944,"./pa-in.js":7944,"./pl":1605,"./pl.js":1605,"./pt":4225,"./pt-br":3840,"./pt-br.js":3840,"./pt.js":4225,"./ro":5128,"./ro.js":5128,"./ru":5127,"./ru.js":5127,"./sd":2525,"./sd.js":2525,"./se":9893,"./se.js":9893,"./si":3123,"./si.js":3123,"./sk":9635,"./sk.js":9635,"./sl":8106,"./sl.js":8106,"./sq":8799,"./sq.js":8799,"./sr":7949,"./sr-cyrl":2872,"./sr-cyrl.js":2872,"./sr.js":7949,"./ss":6167,"./ss.js":6167,"./sv":9713,"./sv.js":9713,"./sw":1982,"./sw.js":1982,"./ta":2732,"./ta.js":2732,"./te":3636,"./te.js":3636,"./tet":2115,"./tet.js":2115,"./tg":9801,"./tg.js":9801,"./th":2868,"./th.js":2868,"./tk":1310,"./tk.js":1310,"./tl-ph":2360,"./tl-ph.js":2360,"./tlh":6645,"./tlh.js":6645,"./tr":8374,"./tr.js":8374,"./tzl":256,"./tzl.js":256,"./tzm":1595,"./tzm-latn":1631,"./tzm-latn.js":1631,"./tzm.js":1595,"./ug-cn":6050,"./ug-cn.js":6050,"./uk":5610,"./uk.js":5610,"./ur":8405,"./ur.js":8405,"./uz":2862,"./uz-latn":2207,"./uz-latn.js":2207,"./uz.js":2862,"./vi":8093,"./vi.js":8093,"./x-pseudo":5590,"./x-pseudo.js":5590,"./yo":9058,"./yo.js":9058,"./zh-cn":832,"./zh-cn.js":832,"./zh-hk":8867,"./zh-hk.js":8867,"./zh-mo":1133,"./zh-mo.js":1133,"./zh-tw":3291,"./zh-tw.js":3291};function A(a){var d=Y(a);return ae(d)}function Y(a){if(!ae.o(te,a)){var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}return te[a]}A.keys=function(){return Object.keys(te)},A.resolve=Y,ze.exports=A,A.id=6700},9652:(ze,Ye,ae)=>{"use strict";ae.d(Ye,{x0:()=>a});let a=(d=21)=>crypto.getRandomValues(new Uint8Array(d)).reduce((J,Q)=>J+((Q&=63)<36?Q.toString(36):Q<62?(Q-26).toString(36).toUpperCase():Q>62?"-":"_"),"")}}]);